(function(){function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toArray(t){return _arrayWithHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableRest()}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,r,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(i=n.next()).done)&&(a.push(i.value),!e||a.length!==e);o=!0);}catch(l){s=!0,r=l}finally{try{o||null==n.return||n.return()}finally{if(s)throw r}}return a}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=_superPropBase(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function _superPropBase(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_getPrototypeOf(t)););return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _createSuper(t){var e=_isNativeReflectConstruct();return function(){var n,i=_getPrototypeOf(t);if(e){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var e="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(t){if(null===t||!_isNativeFunction(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(n,t)})(t)}function _construct(t,e,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&_setPrototypeOf(r,n.prototype),r}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var i$=Object.defineProperty,b4=Object.getOwnPropertySymbols,r$=Object.prototype.hasOwnProperty,s$=Object.prototype.propertyIsEnumerable,v4=function(t,e,n){return e in t?i$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},y4=function(t,e){for(var n in e||(e={}))r$.call(e,n)&&v4(t,n,e[n]);if(b4){var i,r=_createForOfIteratorHelper(b4(e));try{for(r.s();!(i=r.n()).done;){n=i.value;s$.call(e,n)&&v4(t,n,e[n])}}catch(a){r.e(a)}finally{r.f()}}return t};(self.webpackChunkweb_steel_for_js=self.webpackChunkweb_steel_for_js||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},7716:function(t,e,n){"use strict";n.d(e,{deG:function(){return on},tb:function(){return $u},AFp:function(){return ju},ip1:function(){return Vu},CZH:function(){return Wu},hGG:function(){return Gc},z2F:function(){return Lc},sBO:function(){return Wl},Sil:function(){return uc},_Vd:function(){return vl},EJc:function(){return ec},SBq:function(){return bl},qLn:function(){return Si},vpe:function(){return Mu},gxx:function(){return Aa},tBr:function(){return On},XFs:function(){return I},OlP:function(){return an},zs3:function(){return Ha},ZZ4:function(){return Ul},aQg:function(){return zl},soG:function(){return tc},YKP:function(){return eu},v3s:function(){return Nc},h0i:function(){return tu},PXZ:function(){return Ec},R0b:function(){return dc},FiY:function(){return Rn},Lbi:function(){return Xu},g9A:function(){return Ju},Qsj:function(){return kl},FYo:function(){return wl},JOm:function(){return Li},Tiy:function(){return Ml},q3G:function(){return bi},tp0:function(){return Ln},EAV:function(){return Uc},Rgc:function(){return Xl},dDg:function(){return yc},DyG:function(){return sn},q4F:function(){return Sl},GfV:function(){return Tl},s_b:function(){return iu},ifc:function(){return N},eFA:function(){return Pc},G48:function(){return Sc},Gpc:function(){return f},f3M:function(){return Tn},X6Q:function(){return Tc},_c5:function(){return qc},VLi:function(){return xc},c2e:function(){return Ku},zSh:function(){return Pa},wAp:function(){return us},vHH:function(){return v},EiD:function(){return _i},mCW:function(){return ei},qzn:function(){return Hn},JVY:function(){return Vn},pB0:function(){return Qn},eBb:function(){return jn},L6k:function(){return Wn},LAX:function(){return Yn},cg1:function(){return os},Tjo:function(){return zc},kL8:function(){return ss},yhl:function(){return Gn},dqk:function(){return B},sIi:function(){return Ka},CqO:function(){return bo},QGY:function(){return _o},F4k:function(){return yo},RDi:function(){return Mt},AaK:function(){return c},z3N:function(){return qn},qOj:function(){return Va},TTD:function(){return _t},_Bn:function(){return fl},xp6:function(){return Er},uIk:function(){return ro},Tol:function(){return Fo},Gre:function(){return ts},DjV:function(){return es},ekj:function(){return Zo},Suo:function(){return Uu},Xpm:function(){return X},lG2:function(){return at},Yz7:function(){return x},cJS:function(){return w},oAB:function(){return nt},Yjl:function(){return ot},Y36:function(){return lo},_UZ:function(){return po},BQk:function(){return vo},ynx:function(){return go},qZA:function(){return fo},TgZ:function(){return ho},EpF:function(){return mo},n5z:function(){return Ke},Ikx:function(){return ns},SDv:function(){return il},QtT:function(){return al},pQV:function(){return rl},LFG:function(){return Mn},$8M:function(){return en},NdJ:function(){return xo},CRH:function(){return Bu},oxw:function(){return Co},ALo:function(){return wu},lcZ:function(){return ku},Hsn:function(){return So},F$t:function(){return To},Q6J:function(){return uo},s9C:function(){return Ao},MGl:function(){return Eo},VKq:function(){return mu},WLB:function(){return _u},kEZ:function(){return yu},iGM:function(){return Zu},MAs:function(){return so},Jf7:function(){return Ii},CHM:function(){return Gt},LSH:function(){return xi},B6R:function(){return $},kYT:function(){return it},Udp:function(){return No},YNc:function(){return oo},W1O:function(){return Gu},_uU:function(){return Jo},Oqu:function(){return Xo},hij:function(){return $o},AsE:function(){return Ko},Gf:function(){return Fu}});var i=n(9765),r=n(5319),a=n(7574),o=n(6682),s=n(8819);function l(t){for(var e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function u(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function c(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(c).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var d=l({__forward_ref__:l});function f(t){return t.__forward_ref__=f,t.toString=function(){return c(this())},t}function p(t){return g(t)?t():t}function g(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}var v=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,i))).code=t,r}return _createClass(n)}(_wrapNativeSuper(Error));function m(t){return"string"==typeof t?t:null==t?"":String(t)}function _(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():m(t)}function y(t,e){var n=e?" in ".concat(e):"";throw new v("201","No provider for ".concat(_(t)," found").concat(n))}function b(t,e,n,i){throw new Error("ASSERTION ERROR: ".concat(t)+(null==i?"":" [Expected=> ".concat(n," ").concat(i," ").concat(e," <=Actual]")))}function x(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function k(t){return C(t,S)||C(t,E)}function C(t,e){return t.hasOwnProperty(e)?t[e]:null}function M(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(P))?t[A]:null}var T,S=l({"\u0275prov":l}),A=l({"\u0275inj":l}),E=l({ngInjectableDef:l}),P=l({ngInjectorDef:l}),I=((I=I||{})[I.Default=0]="Default",I[I.Host=1]="Host",I[I.Self=2]="Self",I[I.SkipSelf=4]="SkipSelf",I[I.Optional=8]="Optional",I);function O(t){var e=T;return T=t,e}function R(t,e,n){var i=k(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&I.Optional?null:void 0!==e?e:void y(c(t),"Injector")}function L(t){return{toString:t}.toString()}var D=((D=D||{})[D.OnPush=0]="OnPush",D[D.Default=1]="Default",D),N=((N=N||{})[N.Emulated=0]="Emulated",N[N.None=2]="None",N[N.ShadowDom=3]="ShadowDom",N),Z="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,U="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B=Z||"undefined"!=typeof global&&global||F||U,z={},q=[],H=l({"\u0275cmp":l}),G=l({"\u0275dir":l}),V=l({"\u0275pipe":l}),W=l({"\u0275mod":l}),j=l({"\u0275loc":l}),Y=l({"\u0275fac":l}),Q=l({__NG_ELEMENT_ID__:l}),J=0;function X(t){return L(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===D.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||q,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,a=t.pipes;return n.id+=J++,n.inputs=rt(t.inputs,e),n.outputs=rt(t.outputs),r&&r.forEach(function(t){return t(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(K)}:null,n.pipeDefs=a?function(){return("function"==typeof a?a():a).map(tt)}:null,n})}function $(t,e,n){var i=t.\u0275cmp;i.directiveDefs=function(){return e.map(K)},i.pipeDefs=function(){return n.map(tt)}}function K(t){return st(t)||function(t){return t[G]||null}(t)}function tt(t){return function(t){return t[V]||null}(t)}var et={};function nt(t){return L(function(){var e={type:t.type,bootstrap:t.bootstrap||q,declarations:t.declarations||q,imports:t.imports||q,exports:t.exports||q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(et[t.id]=t.type),e})}function it(t,e){return L(function(){var n=lt(t,!0);n.declarations=e.declarations||q,n.imports=e.imports||q,n.exports=e.exports||q})}function rt(t,e){if(null==t)return z;var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],a=r;Array.isArray(r)&&(a=r[1],r=r[0]),n[r]=i,e&&(e[r]=a)}return n}var at=X;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function st(t){return t[H]||null}function lt(t,e){var n=t[W]||null;if(!n&&!0===e)throw new Error("Type ".concat(c(t)," does not have '\u0275mod' property."));return n}function ut(t){return Array.isArray(t)&&"object"==typeof t[1]}function ct(t){return Array.isArray(t)&&!0===t[1]}function ht(t){return 0!=(8&t.flags)}function dt(t){return 2==(2&t.flags)}function ft(t){return 1==(1&t.flags)}function pt(t){return null!==t.template}function gt(t){return 0!=(512&t[2])}function vt(t,e){return t.hasOwnProperty(Y)?t[Y]:null}var mt=function(){function t(e,n,i){_classCallCheck(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return _createClass(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function _t(){return yt}function yt(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),bt}function bt(){var t=Ct(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===z)t.previous=e;else for(var i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,i){var r=Ct(t)||function(t,e){return t[kt]=e}(t,{previous:z,current:null}),a=r.current||(r.current={}),o=r.previous,s=this.declaredInputs[n],l=o[s];a[s]=new mt(l&&l.currentValue,e,o===z),t[i]=e}_t.ngInherit=!0;var wt,kt="__ngSimpleChanges__";function Ct(t){return t[kt]||null}function Mt(t){wt=t}function Tt(){return void 0!==wt?wt:"undefined"!=typeof document?document:void 0}function St(t){return!!t.listen}var At={createRenderer:function(t,e){return Tt()}};function Et(t){for(;Array.isArray(t);)t=t[0];return t}function Pt(t,e){return Et(e[t])}function It(t,e){return Et(e[t.index])}function Ot(t,e){return t.data[e]}function Rt(t,e){return t[e]}function Lt(t,e){var n=e[t];return ut(n)?n:n[0]}function Dt(t){return 4==(4&t[2])}function Nt(t){return 128==(128&t[2])}function Zt(t,e){return null==e?null:t[e]}function Ft(t){t[18]=0}function Ut(t,e){t[5]+=e;for(var n=t,i=t[3];null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}var Bt={lFrame:de(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Bt.bindingsEnabled}function qt(){return Bt.lFrame.lView}function Ht(){return Bt.lFrame.tView}function Gt(t){return Bt.lFrame.contextLView=t,t[8]}function Vt(){for(var t=Wt();null!==t&&64===t.type;)t=t.parent;return t}function Wt(){return Bt.lFrame.currentTNode}function jt(){var t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Yt(t,e){var n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Qt(){return Bt.lFrame.isParent}function Jt(){Bt.lFrame.isParent=!1}function Xt(){return Bt.isInCheckNoChangesMode}function $t(t){Bt.isInCheckNoChangesMode=t}function Kt(){var t=Bt.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return Bt.lFrame.bindingIndex}function ee(){return Bt.lFrame.bindingIndex++}function ne(t){var e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ie(t){Bt.lFrame.inI18n=t}function re(t,e){var n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ae(e)}function ae(t){Bt.lFrame.currentDirectiveIndex=t}function oe(){return Bt.lFrame.currentQueryIndex}function se(t){Bt.lFrame.currentQueryIndex=t}function le(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ue(t,e,n){if(n&I.SkipSelf){for(var i=e,r=t;!(null!==(i=i.parent)||n&I.Host||(i=le(r),null===i||(r=r[15],10&i.type))););if(null===i)return!1;e=i,t=r}var a=Bt.lFrame=he();return a.currentTNode=e,a.lView=t,!0}function ce(t){var e=he(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function he(){var t=Bt.lFrame,e=null===t?null:t.child;return null===e?de(t):e}function de(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){var t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var pe=fe;function ge(){var t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ve(){return Bt.lFrame.selectedIndex}function me(t){Bt.lFrame.selectedIndex=t}function _e(){var t=Bt.lFrame;return Ot(t.tView,t.selectedIndex)}function ye(t,e){for(var n=e.directiveStart,i=e.directiveEnd;n<i;n++){var r=t.data[n].type.prototype,a=r.ngAfterContentInit,o=r.ngAfterContentChecked,s=r.ngAfterViewInit,l=r.ngAfterViewChecked,u=r.ngOnDestroy;a&&(t.contentHooks||(t.contentHooks=[])).push(-n,a),o&&((t.contentHooks||(t.contentHooks=[])).push(n,o),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,o)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),l&&((t.viewHooks||(t.viewHooks=[])).push(n,l),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,l)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function be(t,e,n){ke(t,e,3,n)}function xe(t,e,n,i){(3&t[2])===n&&ke(t,e,n,i)}function we(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ke(t,e,n,i){for(var r=null!=i?i:-1,a=e.length-1,o=0,s=void 0!==i?65535&t[18]:0;s<a;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=i&&o>=i)break}else e[s]<0&&(t[18]+=65536),(o<r||-1==r)&&(Ce(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Ce(t,e,n,i){var r=n[i]<0,a=n[i+1],o=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{a.call(o)}finally{}}}else try{a.call(o)}finally{}}var Me=_createClass(function t(e,n,i){_classCallCheck(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i});function Te(t,e,n){for(var i=St(t),r=0;r<n.length;){var a=n[r];if("number"==typeof a){if(0!==a)break;r++;var o=n[r++],s=n[r++],l=n[r++];i?t.setAttribute(e,s,l,o):e.setAttributeNS(o,s,l)}else{var u=a,c=n[++r];Ae(u)?i&&t.setProperty(e,u,c):i?t.setAttribute(e,u,c):e.setAttribute(u,c),r++}}return r}function Se(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function Ee(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else for(var n=-1,i=0;i<e.length;i++){var r=e[i];"number"==typeof r?n=r:0===n||Pe(t,n,r,null,-1===n||2===n?e[++i]:null)}return t}function Pe(t,e,n,i,r){var a=0,o=t.length;if(-1===e)o=-1;else for(;a<t.length;){var s=t[a++];if("number"==typeof s){if(s===e){o=-1;break}if(s>e){o=a-1;break}}}for(;a<t.length;){var l=t[a];if("number"==typeof l)break;if(l===n){if(null===i)return void(null!==r&&(t[a+1]=r));if(i===t[a+1])return void(t[a+2]=r)}a++,null!==i&&a++,null!==r&&a++}-1!==o&&(t.splice(o,0,e),a=o+1),t.splice(a++,0,n),null!==i&&t.splice(a++,0,i),null!==r&&t.splice(a++,0,r)}function Ie(t){return-1!==t}function Oe(t){return 32767&t}function Re(t,e){for(var n=function(t){return t>>16}(t),i=e;n>0;)i=i[15],n--;return i}var Le=!0;function De(t){var e=Le;return Le=t,e}var Ne=0;function Ze(t,e){var n=Ue(t,e);if(-1!==n)return n;var i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Fe(i.data,t),Fe(e,null),Fe(i.blueprint,null));var r=Be(t,e),a=t.injectorIndex;if(Ie(r))for(var o=Oe(r),s=Re(r,e),l=s[1].data,u=0;u<8;u++)e[a+u]=s[o+u]|l[o+u];return e[a+8]=r,a}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Be(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,i=null,r=e;null!==r;){var a=r[1],o=a.type;if(null===(i=2===o?a.declTNode:1===o?r[6]:null))return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function ze(t,e,n){!function(t,e,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(i=n[Q]),null==i&&(i=n[Q]=Ne++);var r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function qe(t,e,n){if(n&I.Optional)return t;y(e,"NodeInjector")}function He(t,e,n,i){if(n&I.Optional&&void 0===i&&(i=null),0==(n&(I.Self|I.Host))){var r=t[9],a=O(void 0);try{return r?r.get(e,i,n&I.Optional):R(e,i,n&I.Optional)}finally{O(a)}}return qe(i,e,n)}function Ge(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:I.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==t){var a=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:We:e}(n);if("function"==typeof a){if(!ue(e,t,i))return i&I.Host?qe(r,n,i):He(e,n,i,r);try{var o=a(i);if(null!=o||i&I.Optional)return o;y(n)}finally{pe()}}else if("number"==typeof a){var s=null,l=Ue(t,e),u=-1,c=i&I.Host?e[16][6]:null;for((-1===l||i&I.SkipSelf)&&(-1!==(u=-1===l?Be(t,e):e[l+8])&&Xe(i,!1)?(s=e[1],l=Oe(u),e=Re(u,e)):l=-1);-1!==l;){var h=e[1];if(Je(a,l,h.data)){var d=je(l,e,n,s,i,c);if(d!==Ve)return d}-1!==(u=e[l+8])&&Xe(i,e[1].data[l+8]===c)&&Je(a,l,e)?(s=h,l=Oe(u),e=Re(u,e)):l=-1}}}return He(e,n,i,r)}var Ve={};function We(){return new $e(Vt(),qt())}function je(t,e,n,i,r,a){var o=e[1],s=o.data[t+8],l=Ye(s,o,n,null==i?dt(s)&&Le:i!=o&&0!=(3&s.type),r&I.Host&&a===s);return null!==l?Qe(e,o,l,s):Ve}function Ye(t,e,n,i,r){for(var a=t.providerIndexes,o=e.data,s=1048575&a,l=t.directiveStart,u=a>>20,c=r?s+u:t.directiveEnd,h=i?s:s+u;h<c;h++){var d=o[h];if(h<l&&n===d||h>=l&&d.type===n)return h}if(r){var f=o[l];if(f&&pt(f)&&f.type===n)return l}return null}function Qe(t,e,n,i){var r=t[n],a=e.data;if(function(t){return t instanceof Me}(r)){var o=r;o.resolving&&function(t,e){throw new v("200","Circular dependency in DI detected for ".concat(t))}(_(a[n]));var s=De(o.canSeeViewProviders);o.resolving=!0;var l=o.injectImpl?O(o.injectImpl):null;ue(t,i,I.Default);try{r=t[n]=o.factory(void 0,a,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){var i=e.type.prototype,r=i.ngOnChanges,a=i.ngOnInit,o=i.ngDoCheck;if(r){var s=yt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s)}a&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,a),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,a[n],e)}finally{null!==l&&O(l),De(s),o.resolving=!1,pe()}}return r}function Je(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Xe(t,e){return!(t&I.Self||t&I.Host&&e)}var $e=function(){function t(e,n){_classCallCheck(this,t),this._tNode=e,this._lView=n}return _createClass(t,[{key:"get",value:function(t,e,n){return Ge(this._tNode,this._lView,t,n,e)}}]),t}();function Ke(t){return L(function(){for(var e=t.prototype.constructor,n=e[Y]||tn(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;r&&r!==i;){var a=r[Y]||tn(r);if(a&&a!==n)return a;r=Object.getPrototypeOf(r)}return function(t){return new t}})}function tn(t){return g(t)?function(){var e=tn(p(t));return e&&e()}:vt(t)}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var i=n.length,r=0;r<i;){var a=n[r];if(Se(a))break;if(0===a)r+=2;else if("number"==typeof a)for(r++;r<i&&"string"==typeof n[r];)r++;else{if(a===e)return n[r+1];r+=2}}return null}(Vt(),t)}var nn="__parameters__";function rn(t,e,n){return L(function(){var i=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var a=_construct(r,e);return o.annotation=a,o;function o(t,e,n){for(var i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(a),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var an=function(){function t(e,n){_classCallCheck(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=x({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}(),on=new an("AnalyzeForEntryComponents"),sn=Function;function ln(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),ln(i,e)):e!==t&&e.push(i)}return e}function un(t,e){t.forEach(function(t){return Array.isArray(t)?un(t,e):e(t)})}function cn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function dn(t,e){for(var n=[],i=0;i<t;i++)n.push(e);return n}function fn(t,e,n){var i=gn(t,e);return i>=0?t[1|i]=n:function(t,e,n,i){var r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i=~i,e,n),i}function pn(t,e){var n=gn(t,e);if(n>=0)return t[1|n]}function gn(t,e){return function(t,e,n){for(var i=0,r=t.length>>1;r!==i;){var a=i+(r-i>>1),o=t[a<<1];if(e===o)return a<<1;o>e?r=a:i=a+1}return~(r<<1)}(t,e)}var vn,mn={},_n="__NG_DI_FLAG__",yn="ngTempTokenPath",bn=/\n/gm,xn="__source",wn=l({provide:String,useValue:l});function kn(t){var e=vn;return vn=t,e}function Cn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.Default;if(void 0===vn)throw new Error("inject() must be called from an injection context");return null===vn?R(t,void 0,e):vn.get(t,e&I.Optional?null:void 0,e)}function Mn(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.Default;return(T||Cn)(p(t),e)}var Tn=Mn;function Sn(t){for(var e=[],n=0;n<t.length;n++){var i=p(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,a=I.Default,o=0;o<i.length;o++){var s=i[o],l=En(s);"number"==typeof l?-1===l?r=s.token:a|=l:r=s}e.push(Mn(r,a))}else e.push(Mn(i))}return e}function An(t,e){return t[_n]=e,t.prototype[_n]=e,t}function En(t){return t[_n]}function Pn(t,e,n,i){var r=t[yn];throw e[xn]&&r.unshift(e[xn]),t.message=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=c(e);if(Array.isArray(e))r=e.map(c).join(" -> ");else if("object"==typeof e){var a=[];for(var o in e)if(e.hasOwnProperty(o)){var s=e[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):c(s)))}r="{".concat(a.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(bn,"\n  "))}("\n"+t.message,r,n,i),t.ngTokenPath=r,t[yn]=null,t}var In,On=An(rn("Inject",function(t){return{token:t}}),-1),Rn=An(rn("Optional"),8),Ln=An(rn("SkipSelf"),4);function Dn(t){var e;return(null===(e=function(){if(void 0===In&&(In=null,B.trustedTypes))try{In=B.trustedTypes.createPolicy("angular",{createHTML:function(t){return t},createScript:function(t){return t},createScriptURL:function(t){return t}})}catch(t){}return In}())||void 0===e?void 0:e.createHTML(t))||t}var Nn=function(){function t(e){_classCallCheck(this,t),this.changingThisBreaksApplicationSecurity=e}return _createClass(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}(),Zn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(Nn),Fn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(Nn),Un=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(Nn),Bn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(Nn),zn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(Nn);function qn(t){return t instanceof Nn?t.changingThisBreaksApplicationSecurity:t}function Hn(t,e){var n=Gn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe ".concat(e,", got a ").concat(n," (see https://g.co/ng/security#xss)"))}return n===e}function Gn(t){return t instanceof Nn&&t.getTypeName()||null}function Vn(t){return new Zn(t)}function Wn(t){return new Fn(t)}function jn(t){return new Un(t)}function Yn(t){return new Bn(t)}function Qn(t){return new zn(t)}function Jn(t){var e=new $n(t);return function(){try{return!!(new window.DOMParser).parseFromString(Dn(""),"text/html")}catch(t){return!1}}()?new Xn(e):e}var Xn=function(){function t(e){_classCallCheck(this,t),this.inertDocumentHelper=e}return _createClass(t,[{key:"getInertBodyElement",value:function(t){t="<body><remove></remove>"+t;try{var e=(new window.DOMParser).parseFromString(Dn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}]),t}(),$n=function(){function t(e){if(_classCallCheck(this,t),this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n);var i=this.inertDocument.createElement("body");n.appendChild(i)}}return _createClass(t,[{key:"getInertBodyElement",value:function(t){var e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Dn(t),e;var n=this.inertDocument.createElement("body");return n.innerHTML=Dn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}},{key:"stripCustomNsAttrs",value:function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var i=e.item(n).name;("xmlns:ns1"===i||0===i.indexOf("ns1:"))&&t.removeAttribute(i)}for(var r=t.firstChild;r;)r.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(r),r=r.nextSibling}}]),t}(),Kn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,ti=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ei(t){return(t=String(t)).match(Kn)||t.match(ti)?t:"unsafe:"+t}function ni(t){return(t=String(t)).split(",").map(function(t){return ei(t.trim())}).join(", ")}function ii(t){var e,n={},i=_createForOfIteratorHelper(t.split(","));try{for(i.s();!(e=i.n()).done;){n[e.value]=!0}}catch(r){i.e(r)}finally{i.f()}return n}function ri(){for(var t={},e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];for(var r=0,a=n;r<a.length;r++){var o=a[r];for(var s in o)o.hasOwnProperty(s)&&(t[s]=!0)}return t}var ai,oi=ii("area,br,col,hr,img,wbr"),si=ii("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),li=ii("rp,rt"),ui=ri(oi,ri(si,ii("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ri(li,ii("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ri(li,si)),ci=ii("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hi=ii("srcset"),di=ri(ci,hi,ii("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ii("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),fi=ii("script,style,template"),pi=function(){function t(){_classCallCheck(this,t),this.sanitizedSomething=!1,this.buf=[]}return _createClass(t,[{key:"sanitizeChildren",value:function(t){for(var e=t.firstChild,n=!0;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var i=this.checkClobberedElement(e,e.nextSibling);if(i){e=i;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(t){var e=t.nodeName.toLowerCase();if(!ui.hasOwnProperty(e))return this.sanitizedSomething=!0,!fi.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);for(var n=t.attributes,i=0;i<n.length;i++){var r=n.item(i),a=r.name,o=a.toLowerCase();if(di.hasOwnProperty(o)){var s=r.value;ci[o]&&(s=ei(s)),hi[o]&&(s=ni(s)),this.buf.push(" ",a,'="',mi(s),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(t){var e=t.nodeName.toLowerCase();ui.hasOwnProperty(e)&&!oi.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}},{key:"chars",value:function(t){this.buf.push(mi(t))}},{key:"checkClobberedElement",value:function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: ".concat(t.outerHTML));return e}}]),t}(),gi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vi=/([^\#-~ |!])/g;function mi(t){return t.replace(/&/g,"&amp;").replace(gi,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(vi,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function _i(t,e){var n=null;try{ai=ai||Jn(t);var i=e?String(e):"";n=ai.getInertBodyElement(i);var r=5,a=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=a,a=n.innerHTML,n=ai.getInertBodyElement(i)}while(i!==a);return Dn((new pi).sanitizeChildren(yi(n)||n))}finally{if(n)for(var o=yi(n)||n;o.firstChild;)o.removeChild(o.firstChild)}}function yi(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var bi=((bi=bi||{})[bi.NONE=0]="NONE",bi[bi.HTML=1]="HTML",bi[bi.STYLE=2]="STYLE",bi[bi.SCRIPT=3]="SCRIPT",bi[bi.URL=4]="URL",bi[bi.RESOURCE_URL=5]="RESOURCE_URL",bi);function xi(t){var e=function(){var t=qt();return t&&t[12]}();return e?e.sanitize(bi.URL,t)||"":Hn(t,"URL")?qn(t):ei(m(t))}var wi="__ngContext__";function ki(t,e){t[wi]=e}function Ci(t){var e=function(t){return t[wi]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Mi(t){return t.ngOriginalError}function Ti(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var Si=function(){function t(){_classCallCheck(this,t),this._console=console}return _createClass(t,[{key:"handleError",value:function(t){var e,n=this._findOriginalError(t),i=this._findContext(t),r=(e=t)&&e.ngErrorLogger||Ti;r(this._console,"ERROR",t),n&&r(this._console,"ORIGINAL ERROR",n),i&&r(this._console,"ERROR CONTEXT",i)}},{key:"_findContext",value:function(t){return t?t.ngDebugContext||this._findContext(Mi(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=t&&Mi(t);e&&Mi(e);)e=Mi(e);return e||null}}]),t}(),Ai=/^>|^->|<!--|-->|--!>|<!-$/g,Ei=/(<|>)/,Pi=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B);function Ii(t){return t.ownerDocument.defaultView}function Oi(t){return t instanceof Function?t():t}var Ri,Li=((Li=Li||{})[Li.Important=1]="Important",Li[Li.DashCase=2]="DashCase",Li);function Di(t,e){return Ri(t,e)}function Ni(t){var e=t[3];return ct(e)?e[3]:e}function Zi(t){return Ui(t[13])}function Fi(t){return Ui(t[4])}function Ui(t){for(;null!==t&&!ct(t);)t=t[4];return t}function Bi(t,e,n,i,r){if(null!=i){var a,o=!1;ct(i)?a=i:ut(i)&&(o=!0,i=i[0]);var s=Et(i);0===t&&null!==n?null==r?$i(e,n,s):Xi(e,n,s,r||null,!0):1===t&&null!==n?Xi(e,n,s,r||null,!0):2===t?cr(e,s,o):3===t&&e.destroyNode(s),null!=a&&function(t,e,n,i,r){var a=n[7];a!==Et(n)&&Bi(e,t,i,a,r);for(var o=10;o<n.length;o++){var s=n[o];dr(s[1],s,t,e,i,a)}}(e,t,a,n,r)}}function zi(t,e){return St(t)?t.createText(e):t.createTextNode(e)}function qi(t,e,n){St(t)?t.setValue(e,n):e.textContent=n}function Hi(t,e){return t.createComment(function(t){return t.replace(Ai,function(t){return t.replace(Ei,"\u200b$1\u200b")})}(e))}function Gi(t,e,n){return St(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Vi(t,e){var n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,Ut(r,-1)),n.splice(i,1)}function Wi(t,e){if(!(t.length<=10)){var n=10+e,i=t[n];if(i){var r=i[17];null!==r&&r!==t&&Vi(r,i),e>0&&(t[n-1][4]=i[4]);var a=hn(t,10+e);!function(t,e){dr(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);var o=a[19];null!==o&&o.detachView(a[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}}function ji(t,e){if(!(256&e[2])){var n=e[11];St(n)&&n.destroyNode&&dr(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Yi(t[1],t);for(;e;){var n=null;if(ut(e))n=e[13];else{var i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)ut(e)&&Yi(e[1],e),e=e[3];null===e&&(e=t),ut(e)&&Yi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Yi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var i=0;i<n.length;i+=2){var r=e[n[i]];if(!(r instanceof Me)){var a=n[i+1];if(Array.isArray(a))for(var o=0;o<a.length;o+=2){var s=r[a[o]],l=a[o+1];try{l.call(s)}finally{}}else try{a.call(r)}finally{}}}}(t,e),function(t,e){var n=t.cleanup,i=e[7],r=-1;if(null!==n)for(var a=0;a<n.length-1;a+=2)if("string"==typeof n[a]){var o=n[a+1],s="function"==typeof o?o(e):Et(e[o]),l=i[r=n[a+2]],u=n[a+3];"boolean"==typeof u?s.removeEventListener(n[a],l,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),a+=2}else{var c=i[r=n[a+1]];n[a].call(c)}if(null!==i){for(var h=r+1;h<i.length;h++)i[h]();e[7]=null}}(t,e),1===e[1].type&&St(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&ct(e[3])){n!==e[3]&&Vi(n,e);var i=e[19];null!==i&&i.detachView(t)}}}function Qi(t,e,n){return Ji(t,e.parent,n)}function Ji(t,e,n){for(var i=e;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){var r=t.data[i.directiveStart].encapsulation;if(r===N.None||r===N.Emulated)return null}return It(i,n)}function Xi(t,e,n,i,r){St(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function $i(t,e,n){St(t)?t.appendChild(e,n):e.appendChild(n)}function Ki(t,e,n,i,r){null!==i?Xi(t,e,n,i,r):$i(t,e,n)}function tr(t,e){return St(t)?t.parentNode(e):e.parentNode}function er(t,e,n){return rr(t,e,n)}function nr(t,e,n){return 40&t.type?It(t,n):null}var ir,rr=nr;function ar(t,e){rr=t,ir=e}function or(t,e,n,i){var r=Qi(t,i,e),a=e[11],o=er(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(var s=0;s<n.length;s++)Ki(a,r,n[s],o,!1);else Ki(a,r,n,o,!1);void 0!==ir&&ir(a,i,e,n,r)}function sr(t,e){if(null!==e){var n=e.type;if(3&n)return It(e,t);if(4&n)return ur(-1,t[e.index]);if(8&n){var i=e.child;if(null!==i)return sr(t,i);var r=t[e.index];return ct(r)?ur(-1,r):Et(r)}if(32&n)return Di(e,t)()||Et(t[e.index]);var a=lr(t,e);return null!==a?Array.isArray(a)?a[0]:sr(Ni(t[16]),a):sr(t,e.next)}return null}function lr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function ur(t,e){var n=10+t+1;if(n<e.length){var i=e[n],r=i[1].firstChild;if(null!==r)return sr(i,r)}return e[7]}function cr(t,e,n){var i=tr(t,e);i&&function(t,e,n,i){St(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}function hr(t,e,n,i,r,a,o){for(;null!=n;){var s=i[n.index],l=n.type;if(o&&0===e&&(s&&ki(Et(s),i),n.flags|=4),64!=(64&n.flags))if(8&l)hr(t,e,n.child,i,r,a,!1),Bi(e,t,r,s,a);else if(32&l){for(var u=Di(n,i),c=void 0;c=u();)Bi(e,t,r,c,a);Bi(e,t,r,s,a)}else 16&l?fr(t,e,i,n,r,a):Bi(e,t,r,s,a);n=o?n.projectionNext:n.next}}function dr(t,e,n,i,r,a){hr(n,i,t.firstChild,e,r,a,!1)}function fr(t,e,n,i,r,a){var o=n[16],s=o[6].projection[i.projection];if(Array.isArray(s))for(var l=0;l<s.length;l++)Bi(e,t,r,s[l],a);else hr(t,e,s,o[3],r,a,!0)}function pr(t,e,n){St(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function gr(t,e,n){St(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function vr(t,e,n){for(var i=t.length;;){var r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){var a=e.length;if(r+a===i||t.charCodeAt(r+a)<=32)return r}n=r+1}}var mr="ng-template";function _r(t,e,n){for(var i=0;i<t.length;){var r=t[i++];if(n&&"class"===r){if(-1!==vr((r=t[i]).toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function yr(t){return 4===t.type&&t.value!==mr}function br(t,e,n){return e===(4!==t.type||n?t.value:mr)}function xr(t,e,n){for(var i=4,r=t.attrs||[],a=function(t){for(var e=0;e<t.length;e++)if(Se(t[e]))return e;return t.length}(r),o=!1,s=0;s<e.length;s++){var l=e[s];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!br(t,l,n)||""===l&&1===e.length){if(wr(i))return!1;o=!0}}else{var u=8&i?l:e[++s];if(8&i&&null!==t.attrs){if(!_r(t.attrs,u,n)){if(wr(i))return!1;o=!0}continue}var c=kr(8&i?"class":l,r,yr(t),n);if(-1===c){if(wr(i))return!1;o=!0;continue}if(""!==u){var h;h=c>a?"":r[c+1].toLowerCase();var d=8&i?h:null;if(d&&-1!==vr(d,u,0)||2&i&&u!==h){if(wr(i))return!1;o=!0}}}}else{if(!o&&!wr(i)&&!wr(l))return!1;if(o&&wr(l))continue;o=!1,i=l|1&i}}return wr(i)||o}function wr(t){return 0==(1&t)}function kr(t,e,n,i){if(null===e)return-1;var r=0;if(i||!n){for(var a=!1;r<e.length;){var o=e[r];if(o===t)return r;if(3===o||6===o)a=!0;else{if(1===o||2===o){for(var s=e[++r];"string"==typeof s;)s=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=a?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function Cr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(xr(t,e[i],n))return!0;return!1}function Mr(t,e){t:for(var n=0;n<e.length;n++){var i=e[n];if(t.length===i.length){for(var r=0;r<t.length;r++)if(t[r]!==i[r])continue t;return!0}}return!1}function Tr(t,e){return t?":not("+e.trim()+")":e}function Sr(t){for(var e=t[0],n=1,i=2,r="",a=!1;n<t.length;){var o=t[n];if("string"==typeof o)if(2&i){var s=t[++n];r+="["+o+(s.length>0?'="'+s+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!wr(o)&&(e+=Tr(a,r),r=""),i=o,a=a||!wr(i);n++}return""!==r&&(e+=Tr(a,r)),e}var Ar={};function Er(t){Pr(Ht(),qt(),ve()+t,Xt())}function Pr(t,e,n,i){if(!i)if(3==(3&e[2])){var r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{var a=t.preOrderHooks;null!==a&&xe(e,a,0,n)}me(n)}function Ir(t,e){return t<<17|e<<2}function Or(t){return t>>17&32767}function Rr(t){return 2|t}function Lr(t){return(131068&t)>>2}function Dr(t,e){return-131069&t|e<<2}function Nr(t){return 1|t}function Zr(t,e){var n=t.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],a=n[i+1];if(-1!==a){var o=t.data[a];se(r),o.contentQueries(2,e[a],a)}}}function Fr(t,e,n,i,r,a,o,s,l,u){var c=e.blueprint.slice();return c[0]=r,c[2]=140|i,Ft(c),c[3]=c[15]=t,c[8]=n,c[10]=o||t&&t[10],c[11]=s||t&&t[11],c[12]=l||t&&t[12]||null,c[9]=u||t&&t[9]||null,c[6]=a,c[16]=2==e.type?t[16]:c,c}function Ur(t,e,n,i,r){var a=t.data[e];if(null===a)a=Br(t,e,n,i,r),Bt.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=i,a.attrs=r;var o=jt();a.injectorIndex=null===o?-1:o.injectorIndex}return Yt(a,!0),a}function Br(t,e,n,i,r){var a=Wt(),o=Qt(),s=t.data[e]=function(t,e,n,i,r,a){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:a,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?a:a&&a.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=s),null!==a&&(o?null==a.child&&null!==s.parent&&(a.child=s):null===a.next&&(a.next=s)),s}function zr(t,e,n,i){if(0===n)return-1;for(var r=e.length,a=0;a<n;a++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function qr(t,e,n){ce(e);try{var i=t.viewQuery;null!==i&&ya(1,i,n);var r=t.template;null!==r&&Vr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Zr(t,e),t.staticViewQueries&&ya(2,t.viewQuery,n);var a=t.components;null!==a&&function(t,e){for(var n=0;n<e.length;n++)pa(t,e[n])}(e,a)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[2]&=-5,ge()}}function Hr(t,e,n,i){var r=e[2];if(256!=(256&r)){ce(e);var a=Xt();try{Ft(e),function(t){Bt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Vr(t,e,n,2,i);var o=3==(3&r);if(!a)if(o){var s=t.preOrderCheckHooks;null!==s&&be(e,s,null)}else{var l=t.preOrderHooks;null!==l&&xe(e,l,0,null),we(e,0)}if(function(t){for(var e=Zi(t);null!==e;e=Fi(e))if(e[2])for(var n=e[9],i=0;i<n.length;i++){var r=n[i],a=r[3];0==(1024&r[2])&&Ut(a,1),r[2]|=1024}}(e),function(t){for(var e=Zi(t);null!==e;e=Fi(e))for(var n=10;n<e.length;n++){var i=e[n],r=i[1];Nt(i)&&Hr(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&Zr(t,e),!a)if(o){var u=t.contentCheckHooks;null!==u&&be(e,u)}else{var c=t.contentHooks;null!==c&&xe(e,c,1),we(e,1)}!function(t,e){var n=t.hostBindingOpCodes;if(null!==n)try{for(var i=0;i<n.length;i++){var r=n[i];if(r<0)me(~r);else{var a=r,o=n[++i],s=n[++i];re(o,a),s(2,e[a])}}}finally{me(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)da(t,e[n])}(e,h);var d=t.viewQuery;if(null!==d&&ya(2,d,i),!a)if(o){var f=t.viewCheckHooks;null!==f&&be(e,f)}else{var p=t.viewHooks;null!==p&&xe(e,p,2),we(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),a||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{ge()}}}function Gr(t,e,n,i){var r=e[10],a=!Xt(),o=Dt(e);try{a&&!o&&r.begin&&r.begin(),o&&qr(t,e,i),Hr(t,e,n,i)}finally{a&&!o&&r.end&&r.end()}}function Vr(t,e,n,i,r){var a=ve(),o=2&i;try{me(-1),o&&e.length>20&&Pr(t,e,20,Xt()),n(i,r)}finally{me(a)}}function Wr(t,e,n){if(ht(e))for(var i=e.directiveEnd,r=e.directiveStart;r<i;r++){var a=t.data[r];a.contentQueries&&a.contentQueries(1,n[r],r)}}function jr(t,e,n){!zt()||(function(t,e,n,i){var r=n.directiveStart,a=n.directiveEnd;t.firstCreatePass||Ze(n,e),ki(i,e);for(var o=n.initialInputs,s=r;s<a;s++){var l=t.data[s],u=pt(l);u&&sa(e,n,l);var c=Qe(e,t,s,n);ki(c,e),null!==o&&ua(0,s-r,c,l,0,o),u&&(Lt(n.index,e)[8]=c)}}(t,e,n,It(n,e)),128==(128&n.flags)&&function(t,e,n){var i=n.directiveStart,r=n.directiveEnd,a=n.index,o=Bt.lFrame.currentDirectiveIndex;try{me(a);for(var s=i;s<r;s++){var l=t.data[s],u=e[s];ae(s),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&na(l,u)}}finally{me(-1),ae(o)}}(t,e,n))}function Yr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:It,i=e.localNames;if(null!==i)for(var r=e.index+1,a=0;a<i.length;a+=2){var o=i[a+1],s=-1===o?n(e,t):t[o];t[r++]=s}}function Qr(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Jr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Jr(t,e,n,i,r,a,o,s,l,u){var c=20+i,h=c+r,d=function(t,e){for(var n=[],i=0;i<e;i++)n.push(i<t?null:Ar);return n}(c,h),f="function"==typeof u?u():u;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:s,declTNode:e,data:d.slice().fill(null,c),bindingStartIndex:c,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof a?a():a,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Xr(t,e,n,i){var r=xa(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&wa(t).push(i,r.length-1))}function $r(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Kr(t,e,n,i,r,a,o,s){var l,u=It(e,n),c=e.inputs;!s&&null!=c&&(l=c[i])?(Ca(t,n,l,i,r),dt(e)&&function(t,e){var n=Lt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,e.value||"",i):r,St(a)?a.setProperty(u,i,r):Ae(i)||(u.setProperty?u.setProperty(i,r):u[i]=r))}function ta(t,e,n,i){var r=!1;if(zt()){var a=function(t,e,n){var i=t.directiveRegistry,r=null;if(i)for(var a=0;a<i.length;a++){var o=i[a];Cr(n,o.selectors,!1)&&(r||(r=[]),ze(Ze(n,e),t,o.type),pt(o)?(ia(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==a){r=!0,aa(n,t.data.length,a.length);for(var s=0;s<a.length;s++){var l=a[s];l.providersResolver&&l.providersResolver(l)}for(var u=!1,c=!1,h=zr(t,e,a.length,null),d=0;d<a.length;d++){var f=a[d];n.mergedAttrs=Ee(n.mergedAttrs,f.hostAttrs),oa(t,n,e,h,f),ra(h,f,o),null!==f.contentQueries&&(n.flags|=8),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=128);var p=f.type.prototype;!u&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),u=!0),!c&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),c=!0),h++}!function(t,e){for(var n=e.directiveEnd,i=t.data,r=e.attrs,a=[],o=null,s=null,l=e.directiveStart;l<n;l++){var u=i[l],c=u.inputs,h=null===r||yr(e)?null:ca(c,r);a.push(h),o=$r(c,l,o),s=$r(u.outputs,l,s)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=a,e.inputs=o,e.outputs=s}(t,n)}o&&function(t,e,n){if(e)for(var i=t.localNames=[],r=0;r<e.length;r+=2){var a=n[e[r+1]];if(null==a)throw new v("301","Export of name '".concat(e[r+1],"' not found!"));i.push(e[r],a)}}(n,i,o)}return n.mergedAttrs=Ee(n.mergedAttrs,n.attrs),r}function ea(t,e,n,i,r,a){var o=a.hostBindings;if(o){var s=t.hostBindingOpCodes;null===s&&(s=t.hostBindingOpCodes=[]);var l=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(s)!=l&&s.push(l),s.push(i,r,o)}}function na(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ia(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function ra(t,e,n){if(n){if(e.exportAs)for(var i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;pt(e)&&(n[""]=t)}}function aa(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function oa(t,e,n,i,r){t.data[i]=r;var a=r.factory||(r.factory=vt(r.type)),o=new Me(a,pt(r),null);t.blueprint[i]=o,n[i]=o,ea(t,e,0,i,zr(t,n,r.hostVars,Ar),r)}function sa(t,e,n){var i=It(e,t),r=Qr(n),a=t[10],o=ga(t,Fr(t,r,null,n.onPush?64:16,i,e,a,a.createRenderer(i,n),null,null));t[e.index]=o}function la(t,e,n,i,r,a,o){if(null==a)St(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{var s=null==o?m(a):o(a,i||"",r);St(t)?t.setAttribute(e,r,s,n):n?e.setAttributeNS(n,r,s):e.setAttribute(r,s)}}function ua(t,e,n,i,r,a){var o=a[e];if(null!==o)for(var s=i.setInput,l=0;l<o.length;){var u=o[l++],c=o[l++],h=o[l++];null!==s?i.setInput(n,h,u,c):n[c]=h}}function ca(t,e){for(var n=null,i=0;i<e.length;){var r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function ha(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function da(t,e){var n=Lt(e,t);if(Nt(n)){var i=n[1];80&n[2]?Hr(i,n,i.template,n[8]):n[5]>0&&fa(n)}}function fa(t){for(var e=Zi(t);null!==e;e=Fi(e))for(var n=10;n<e.length;n++){var i=e[n];if(1024&i[2]){var r=i[1];Hr(r,i,r.template,i[8])}else i[5]>0&&fa(i)}var a=t[1].components;if(null!==a)for(var o=0;o<a.length;o++){var s=Lt(a[o],t);Nt(s)&&s[5]>0&&fa(s)}}function pa(t,e){var n=Lt(e,t),i=n[1];(function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(i,n),qr(i,n,n[8])}function ga(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function va(t){for(;t;){t[2]|=64;var e=Ni(t);if(gt(t)&&!e)return t;t=e}return null}function ma(t,e,n){var i=e[10];i.begin&&i.begin();try{Hr(t,e,t.template,n)}catch(r){throw ka(e,r),r}finally{i.end&&i.end()}}function _a(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],i=Ci(n),r=i[1];Gr(r,i,r.template,n)}}(t[8])}function ya(t,e,n){se(0),e(t,n)}var ba=Promise.resolve(null);function xa(t){return t[7]||(t[7]=[])}function wa(t){return t.cleanup||(t.cleanup=[])}function ka(t,e){var n=t[9],i=n?n.get(Si,null):null;i&&i.handleError(e)}function Ca(t,e,n,i,r){for(var a=0;a<n.length;){var o=n[a++],s=n[a++],l=e[o],u=t.data[o];null!==u.setInput?u.setInput(l,r,i,s):l[s]=r}}function Ma(t,e,n){var i=Pt(e,t);qi(t[11],i,n)}function Ta(t,e,n){var i=n?t.styles:null,r=n?t.classes:null,a=0;if(null!==e)for(var o=0;o<e.length;o++){var s=e[o];"number"==typeof s?a=s:1==a?r=h(r,s):2==a&&(i=h(i,s+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Sa,Aa=new an("INJECTOR",-1),Ea=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn;if(e===mn){var n=new Error("NullInjectorError: No provider for ".concat(c(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),Pa=new an("Set Injector scope."),Ia={},Oa={};function Ra(){return void 0===Sa&&(Sa=new Ea),Sa}function La(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new Da(t,n,e||Ra(),i)}var Da=function(){function t(e,n,i){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_classCallCheck(this,t),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];n&&un(n,function(t){return r.processProvider(t,e,n)}),un([e],function(t){return r.processInjectorType(t,[],o)}),this.records.set(Aa,Fa(void 0,this));var s=this.records.get(Pa);this.scope=null!=s?s.value:null,this.source=a||("object"==typeof e?null:c(e))}return _createClass(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:mn,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.Default;this.assertNotDestroyed();var i,r=kn(this),a=O(void 0);try{if(!(n&I.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(i=t)||"object"==typeof i&&i instanceof an)&&k(t);o=s&&this.injectableDefInScope(s)?Fa(Na(t),Ia):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&I.Self?Ra():this.parent).get(t,e=n&I.Optional&&e===mn?null:e)}catch(l){if("NullInjectorError"===l.name){if((l[yn]=l[yn]||[]).unshift(c(t)),r)throw l;return Pn(l,t,"R3InjectorError",this.source)}throw l}finally{O(a),kn(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(c(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var i=this;if(!(t=p(t)))return!1;var r=M(t),a=null==r&&t.ngModule||void 0,o=void 0===a?t:a,s=-1!==n.indexOf(o);if(void 0!==a&&(r=M(a)),null==r)return!1;if(null!=r.imports&&!s){var l;n.push(o);try{un(r.imports,function(t){i.processInjectorType(t,e,n)&&(void 0===l&&(l=[]),l.push(t))})}finally{}if(void 0!==l)for(var u=function(t){var e=l[t],n=e.ngModule,r=e.providers;un(r,function(t){return i.processProvider(t,n,r||q)})},c=0;c<l.length;c++)u(c)}this.injectorDefTypes.add(o);var h=vt(o)||function(){return new o};this.records.set(o,Fa(h,Ia));var d=r.providers;if(null!=d&&!s){var f=t;un(d,function(t){return i.processProvider(t,f,d)})}return void 0!==a&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var i,r=Ba(t=p(t))?t:p(t&&t.provide),a=Ua(i=t)?Fa(void 0,i.useValue):Fa(Za(i),Ia);if(Ba(t)||!0!==t.multi)this.records.get(r);else{var o=this.records.get(r);o||((o=Fa(void 0,Ia,!0)).factory=function(){return Sn(o.multi)},this.records.set(r,o)),r=t,o.multi.push(t)}this.records.set(r,a)}},{key:"hydrate",value:function(t,e){return e.value===Ia&&(e.value=Oa,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var n}},{key:"injectableDefInScope",value:function(t){if(!t.providedIn)return!1;var e=p(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}]),t}();function Na(t){var e=k(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof an)throw new Error("Token ".concat(c(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=dn(e,"?");throw new Error("Can't resolve all parameters for ".concat(c(t),": (").concat(n.join(", "),")."))}var i=function(t){var e=t&&(t[S]||t[E]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==i?function(){return i.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function Za(t,e,n){var i;if(Ba(t)){var r=p(t);return vt(r)||Na(r)}if(Ua(t))i=function(){return p(t.useValue)};else if(function(t){return!(!t||!t.useFactory)}(t))i=function(){return t.useFactory.apply(t,_toConsumableArray(Sn(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return Mn(p(t.useExisting))};else{var a=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(a)||Na(a);i=function(){return _construct(a,_toConsumableArray(Sn(t.deps)))}}return i}function Fa(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Ua(t){return null!==t&&"object"==typeof t&&wn in t}function Ba(t){return"function"==typeof t}var za,qa=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=La(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)},Ha=((za=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?qa(t,e,""):qa(t.providers,t.parent,t.name||"")}}]),t}()).THROW_IF_NOT_FOUND=mn,za.NULL=new Ea,za.\u0275prov=x({token:za,providedIn:"any",factory:function(){return Mn(Aa)}}),za.__NG_ELEMENT_ID__=-1,za);function Ga(t,e){ye(Ci(t)[1],Vt())}function Va(t){for(var e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0,i=[t];e;){var r=void 0;if(pt(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);var a=t;a.inputs=Wa(t.inputs),a.declaredInputs=Wa(t.declaredInputs),a.outputs=Wa(t.outputs);var o=r.hostBindings;o&&Qa(t,o);var s=r.viewQuery,l=r.contentQueries;if(s&&ja(t,s),l&&Ya(t,l),u(t.inputs,r.inputs),u(t.declaredInputs,r.declaredInputs),u(t.outputs,r.outputs),pt(r)&&r.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(r.data.animation)}}var h=r.features;if(h)for(var d=0;d<h.length;d++){var f=h[d];f&&f.ngInherit&&f(t),f===Va&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,i=t.length-1;i>=0;i--){var r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ee(r.hostAttrs,n=Ee(n,r.hostAttrs))}}(i)}function Wa(t){return t===z?{}:t===q?[]:t}function ja(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,i){e(t,i),n(t,i)}:e}function Ya(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,i,r){e(t,i,r),n(t,i,r)}:e}function Qa(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,i){e(t,i),n(t,i)}:e}var Ja=null;function Xa(){if(!Ja){var t=B.Symbol;if(t&&t.iterator)Ja=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Ja=i)}}return Ja}var $a=function(){function t(e){_classCallCheck(this,t),this.wrapped=e}return _createClass(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Ka(t){return!!to(t)&&(Array.isArray(t)||!(t instanceof Map)&&Xa()in t)}function to(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function eo(t,e,n){return t[e]=n}function no(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function io(t,e,n,i){var r=no(t,e,n);return no(t,e+1,i)||r}function ro(t,e,n,i){var r=qt();return no(r,ee(),e)&&(Ht(),function(t,e,n,i,r,a){var o=It(t,e);la(e[11],o,a,t.value,n,i,r)}(_e(),r,t,e,n,i)),ro}function ao(t,e,n,i){return no(t,ee(),n)?e+m(n)+i:Ar}function oo(t,e,n,i,r,a,o,s){var l=qt(),u=Ht(),c=t+20,h=u.firstCreatePass?function(t,e,n,i,r,a,o,s,l){var u=e.consts,c=Ur(e,t,4,o||null,Zt(u,s));ta(e,n,c,Zt(u,l)),ye(e,c);var h=c.tViews=Jr(2,c,i,r,a,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u);return null!==e.queries&&(e.queries.template(e,c),h.queries=e.queries.embeddedTView(c)),c}(c,u,l,e,n,i,r,a,o):u.data[c];Yt(h,!1);var d=l[11].createComment("");or(u,l,d,h),ki(d,l),ga(l,l[c]=ha(d,l,d,h)),ft(h)&&jr(u,l,h),null!=o&&Yr(l,h,s)}function so(t){return Rt(Bt.lFrame.contextLView,20+t)}function lo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I.Default,n=qt();return null===n?Mn(t,e):Ge(Vt(),n,p(t),e)}function uo(t,e,n){var i=qt();return no(i,ee(),e)&&Kr(Ht(),_e(),i,t,e,i[11],n,!1),uo}function co(t,e,n,i,r){var a=r?"class":"style";Ca(t,n,e.inputs[a],a,i)}function ho(t,e,n,i){var r=qt(),a=Ht(),o=20+t,s=r[11],l=r[o]=Gi(s,e,Bt.lFrame.currentNamespace),u=a.firstCreatePass?function(t,e,n,i,r,a,o){var s=e.consts,l=Ur(e,t,2,r,Zt(s,a));return ta(e,n,l,Zt(s,o)),null!==l.attrs&&Ta(l,l.attrs,!1),null!==l.mergedAttrs&&Ta(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,a,r,0,e,n,i):a.data[o];Yt(u,!0);var c=u.mergedAttrs;null!==c&&Te(s,l,c);var h=u.classes;null!==h&&gr(s,l,h);var d=u.styles;null!==d&&pr(s,l,d),64!=(64&u.flags)&&or(a,r,l,u),0===Bt.lFrame.elementDepthCount&&ki(l,r),Bt.lFrame.elementDepthCount++,ft(u)&&(jr(a,r,u),Wr(a,u,r)),null!==i&&Yr(r,u)}function fo(){var t=Vt();Qt()?Jt():Yt(t=t.parent,!1);var e=t;Bt.lFrame.elementDepthCount--;var n=Ht();n.firstCreatePass&&(ye(n,t),ht(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&co(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&co(n,e,qt(),e.stylesWithoutHost,!1)}function po(t,e,n,i){ho(t,e,n,i),fo()}function go(t,e,n){var i=qt(),r=Ht(),a=t+20,o=r.firstCreatePass?function(t,e,n,i,r){var a=e.consts,o=Zt(a,i),s=Ur(e,t,8,"ng-container",o);return null!==o&&Ta(s,o,!0),ta(e,n,s,Zt(a,r)),null!==e.queries&&e.queries.elementStart(e,s),s}(a,r,i,e,n):r.data[a];Yt(o,!0);var s=i[a]=i[11].createComment("");or(r,i,s,o),ki(s,i),ft(o)&&(jr(r,i,o),Wr(r,o,i)),null!=n&&Yr(i,o)}function vo(){var t=Vt(),e=Ht();Qt()?Jt():Yt(t=t.parent,!1),e.firstCreatePass&&(ye(e,t),ht(t)&&e.queries.elementEnd(t))}function mo(){return qt()}function _o(t){return!!t&&"function"==typeof t.then}function yo(t){return!!t&&"function"==typeof t.subscribe}var bo=yo;function xo(t,e,n,i){var r=qt(),a=Ht(),o=Vt();return function(t,e,n,i,r,a,o,s){var l=ft(i),u=t.firstCreatePass&&wa(t),c=e[8],h=xa(e),d=!0;if(3&i.type||s){var f=It(i,e),p=s?s(f):f,g=h.length,v=s?function(t){return s(Et(t[i.index]))}:i.index;if(St(n)){var m=null;if(!s&&l&&(m=function(t,e,n,i){var r=t.cleanup;if(null!=r)for(var a=0;a<r.length-1;a+=2){var o=r[a];if(o===n&&r[a+1]===i){var s=e[7],l=r[a+2];return s.length>l?s[l]:null}"string"==typeof o&&(a+=2)}return null}(t,e,r,i.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=a,m.__ngLastListenerFn__=a,d=!1;else{a=ko(i,e,c,a,!1);var _=n.listen(p,r,a);h.push(a,_),u&&u.push(r,v,g,g+1)}}else a=ko(i,e,c,a,!0),p.addEventListener(r,a,o),h.push(a),u&&u.push(r,v,g,o)}else a=ko(i,e,c,a,!1);var y,b=i.outputs;if(d&&null!==b&&(y=b[r])){var x=y.length;if(x)for(var w=0;w<x;w+=2){var k=e[y[w]][y[w+1]].subscribe(a),C=h.length;h.push(a,k),u&&u.push(r,i.index,C,-(C+1))}}}(a,r,r[11],o,t,e,!!n,i),xo}function wo(t,e,n,i){try{return!1!==n(i)}catch(r){return ka(t,r),!1}}function ko(t,e,n,i,r){return function n(a){if(a===Function)return i;var o=2&t.flags?Lt(t.index,e):e;0==(32&e[2])&&va(o);for(var s=wo(e,0,i,a),l=n.__ngNextListenerFn__;l;)s=wo(e,0,l,a)&&s,l=l.__ngNextListenerFn__;return r&&!1===s&&(a.preventDefault(),a.returnValue=!1),s}}function Co(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function Mo(t,e){for(var n=null,i=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),r=0;r<e.length;r++){var a=e[r];if("*"!==a){if(null===i?Cr(t,a,!0):Mr(i,a))return r}else n=r}return n}function To(t){var e=qt()[16][6];if(!e.projection)for(var n=e.projection=dn(t?t.length:1,null),i=n.slice(),r=e.child;null!==r;){var a=t?Mo(r,t):0;null!==a&&(i[a]?i[a].projectionNext=r:n[a]=r,i[a]=r),r=r.next}}function So(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=qt(),r=Ht(),a=Ur(r,20+t,16,null,n||null);null===a.projection&&(a.projection=e),Jt(),64!=(64&a.flags)&&function(t,e,n){fr(e[11],0,e,n,Qi(t,n,e),er(n.parent||e[6],n,e))}(r,i,a)}function Ao(t,e,n){return Eo(t,"",e,"",n),Ao}function Eo(t,e,n,i,r){var a=qt(),o=ao(a,e,n,i);return o!==Ar&&Kr(Ht(),_e(),a,t,o,a[11],r,!1),Eo}function Po(t,e,n,i,r){for(var a=t[n+1],o=null===e,s=i?Or(a):Lr(a),l=!1;0!==s&&(!1===l||o);){var u=t[s+1];Io(t[s],e)&&(l=!0,t[s+1]=i?Nr(u):Rr(u)),s=i?Or(u):Lr(u)}l&&(t[n+1]=i?Rr(a):Nr(a))}function Io(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&gn(t,e)>=0}var Oo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ro(t){return t.substring(Oo.key,Oo.keyEnd)}function Lo(t,e){var n=Oo.textEnd;return n===e?-1:(e=Oo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Oo.key=e,n),Do(t,e,n))}function Do(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function No(t,e,n){return Bo(t,e,n,!1),No}function Zo(t,e){return Bo(t,e,null,!0),Zo}function Fo(t){zo(fn,Uo,t,!0)}function Uo(t,e){for(var n=function(t){return function(t){Oo.key=0,Oo.keyEnd=0,Oo.value=0,Oo.valueEnd=0,Oo.textEnd=t.length}(t),Lo(t,Do(t,0,Oo.textEnd))}(e);n>=0;n=Lo(e,n))fn(t,Ro(e),!0)}function Bo(t,e,n,i){var r=qt(),a=Ht(),o=ne(2);a.firstUpdatePass&&Ho(a,t,o,i),e!==Ar&&no(r,o,e)&&Wo(a,a.data[ve()],r,r[11],t,r[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=c(qn(t)))),t}(e,n),i,o)}function zo(t,e,n,i){var r=Ht(),a=ne(2);r.firstUpdatePass&&Ho(r,null,a,i);var o=qt();if(n!==Ar&&no(o,a,n)){var s=r.data[ve()];if(Qo(s,i)&&!qo(r,a)){var l=i?s.classesWithoutHost:s.stylesWithoutHost;null!==l&&(n=h(l,n||"")),co(r,s,o,n,i)}else!function(t,e,n,i,r,a,o,s){r===Ar&&(r=q);for(var l=0,u=0,c=0<r.length?r[0]:null,h=0<a.length?a[0]:null;null!==c||null!==h;){var d=l<r.length?r[l+1]:void 0,f=u<a.length?a[u+1]:void 0,p=void 0,g=null;c===h?(l+=2,u+=2,d!==f&&(g=h,p=f)):null===h||null!==c&&c<h?(l+=2,g=c):(u+=2,g=h,p=f),null!==g&&Wo(t,e,n,i,g,p,o,s),c=l<r.length?r[l]:null,h=u<a.length?a[u]:null}}(r,s,o,o[11],o[a+1],o[a+1]=function(t,e,n){if(null==n||""===n)return q;var i=[],r=qn(n);if(Array.isArray(r))for(var a=0;a<r.length;a++)t(i,r[a],!0);else if("object"==typeof r)for(var o in r)r.hasOwnProperty(o)&&t(i,o,r[o]);else"string"==typeof r&&e(i,r);return i}(t,e,n),i,a)}}function qo(t,e){return e>=t.expandoStartIndex}function Ho(t,e,n,i){var r=t.data;if(null===r[n+1]){var a=r[ve()],o=qo(t,n);Qo(a,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){var r=function(t){var e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),a=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=Vo(n=Go(null,t,e,n,i),e.attrs,i),a=null);else{var o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=Go(r,t,e,n,i),null===a){var s=function(t,e,n){var i=n?e.classBindings:e.styleBindings;if(0!==Lr(i))return t[Or(i)]}(t,e,i);void 0!==s&&Array.isArray(s)&&function(t,e,n,i){t[Or(n?e.classBindings:e.styleBindings)]=i}(t,e,i,s=Vo(s=Go(null,t,e,s[1],i),e.attrs,i))}else a=function(t,e,n){for(var i,r=e.directiveEnd,a=1+e.directiveStylingLast;a<r;a++)i=Vo(i,t[a].hostAttrs,n);return Vo(i,e.attrs,n)}(t,e,i)}return void 0!==a&&(i?e.residualClasses=a:e.residualStyles=a),n}(r,a,e,i),function(t,e,n,i,r,a){var o=a?e.classBindings:e.styleBindings,s=Or(o),l=Lr(o);t[i]=n;var u,c=!1;if(Array.isArray(n)){var h=n;(null===(u=h[1])||gn(h,u)>0)&&(c=!0)}else u=n;if(r)if(0!==l){var d=Or(t[s+1]);t[i+1]=Ir(d,s),0!==d&&(t[d+1]=Dr(t[d+1],i)),t[s+1]=function(t,e){return 131071&t|e<<17}(t[s+1],i)}else t[i+1]=Ir(s,0),0!==s&&(t[s+1]=Dr(t[s+1],i)),s=i;else t[i+1]=Ir(l,0),0===s?s=i:t[l+1]=Dr(t[l+1],i),l=i;c&&(t[i+1]=Rr(t[i+1])),Po(t,u,i,!0),Po(t,u,i,!1),function(t,e,n,i,r){var a=r?t.residualClasses:t.residualStyles;null!=a&&"string"==typeof e&&gn(a,e)>=0&&(n[i+1]=Nr(n[i+1]))}(e,u,t,i,a),o=Ir(s,l),a?e.classBindings=o:e.styleBindings=o}(r,a,e,n,o,i)}}function Go(t,e,n,i,r){var a=null,o=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<o&&(i=Vo(i,(a=e[s]).hostAttrs,r),a!==t);)s++;return null!==t&&(n.directiveStylingLast=s),i}function Vo(t,e,n){var i=n?1:2,r=-1;if(null!==e)for(var a=0;a<e.length;a++){var o=e[a];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,o,!!n||e[++a]))}return void 0===t?null:t}function Wo(t,e,n,i,r,a,o,s){if(3&e.type){var l=t.data,u=l[s+1];Yo(function(t){return 1==(1&t)}(u)?jo(l,e,n,r,Lr(u),o):void 0)||(Yo(a)||function(t){return 2==(2&t)}(u)&&(a=jo(l,null,n,r,s,o)),function(t,e,n,i,r){var a=St(t);if(e)r?a?t.addClass(n,i):n.classList.add(i):a?t.removeClass(n,i):n.classList.remove(i);else{var o=-1===i.indexOf("-")?void 0:Li.DashCase;if(null==r)a?t.removeStyle(n,i,o):n.style.removeProperty(i);else{var s="string"==typeof r&&r.endsWith("!important");s&&(r=r.slice(0,-10),o|=Li.Important),a?t.setStyle(n,i,r,o):n.style.setProperty(i,r,s?"important":"")}}}(i,o,Pt(ve(),n),r,a))}}function jo(t,e,n,i,r,a){for(var o,s=null===e;r>0;){var l=t[r],u=Array.isArray(l),c=u?l[1]:l,h=null===c,d=n[r+1];d===Ar&&(d=h?q:void 0);var f=h?pn(d,i):c===i?d:void 0;if(u&&!Yo(f)&&(f=pn(l,i)),Yo(f)&&(o=f,s))return o;var p=t[r+1];r=s?Or(p):Lr(p)}if(null!==e){var g=a?e.residualClasses:e.residualStyles;null!=g&&(o=pn(g,i))}return o}function Yo(t){return void 0!==t}function Qo(t,e){return 0!=(t.flags&(e?16:32))}function Jo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=qt(),i=Ht(),r=t+20,a=i.firstCreatePass?Ur(i,r,1,e,null):i.data[r],o=n[r]=zi(n[11],e);or(i,n,o,a),Yt(a,!1)}function Xo(t){return $o("",t,""),Xo}function $o(t,e,n){var i=qt(),r=ao(i,t,e,n);return r!==Ar&&Ma(i,ve(),r),$o}function Ko(t,e,n,i,r){var a=qt(),o=function(t,e,n,i,r,a){var o=io(t,te(),n,r);return ne(2),o?e+m(n)+i+m(r)+a:Ar}(a,t,e,n,i,r);return o!==Ar&&Ma(a,ve(),o),Ko}function ts(t,e,n){zo(fn,Uo,ao(qt(),t,e,n),!0)}function es(t,e,n,i,r,a,o,s,l){zo(fn,Uo,function(t,e,n,i,r,a,o,s,l,u){var c=function(t,e,n,i,r,a){var o=io(t,e,n,i);return io(t,e+2,r,a)||o}(t,te(),n,r,o,l);return ne(4),c?e+m(n)+i+m(r)+a+m(o)+s+m(l)+u:Ar}(qt(),t,e,n,i,r,a,o,s,l),!0)}function ns(t,e,n){var i=qt();return no(i,ee(),e)&&Kr(Ht(),_e(),i,t,e,i[11],n,!0),ns}var is=void 0,rs=["en",[["a","p"],["AM","PM"],is],[["AM","PM"],is,is],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],is,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],is,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",is,"{1} 'at' {0}",is],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],as={};function os(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ls(e);if(n)return n;var i=e.split("-")[0];if(n=ls(i))return n;if("en"===i)return rs;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}function ss(t){return os(t)[us.PluralCase]}function ls(t){return t in as||(as[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),as[t]}var us=((us=us||{})[us.LocaleId=0]="LocaleId",us[us.DayPeriodsFormat=1]="DayPeriodsFormat",us[us.DayPeriodsStandalone=2]="DayPeriodsStandalone",us[us.DaysFormat=3]="DaysFormat",us[us.DaysStandalone=4]="DaysStandalone",us[us.MonthsFormat=5]="MonthsFormat",us[us.MonthsStandalone=6]="MonthsStandalone",us[us.Eras=7]="Eras",us[us.FirstDayOfWeek=8]="FirstDayOfWeek",us[us.WeekendRange=9]="WeekendRange",us[us.DateFormat=10]="DateFormat",us[us.TimeFormat=11]="TimeFormat",us[us.DateTimeFormat=12]="DateTimeFormat",us[us.NumberSymbols=13]="NumberSymbols",us[us.NumberFormats=14]="NumberFormats",us[us.CurrencyCode=15]="CurrencyCode",us[us.CurrencySymbol=16]="CurrencySymbol",us[us.CurrencyName=17]="CurrencyName",us[us.Currencies=18]="Currencies",us[us.Directionality=19]="Directionality",us[us.PluralCase=20]="PluralCase",us[us.ExtraData=21]="ExtraData",us),cs=["zero","one","two","few","many"],hs="en-US",ds={marker:"element"},fs={marker:"ICU"},ps=((ps=ps||{})[ps.SHIFT=2]="SHIFT",ps[ps.APPEND_EAGERLY=1]="APPEND_EAGERLY",ps[ps.COMMENT=2]="COMMENT",ps),gs=hs;function vs(t){(function(t,e){null==t&&b("Expected localeId to be defined",t,null,"!=")})(t),"string"==typeof t&&(gs=t.toLowerCase().replace(/_/g,"-"))}function ms(t,e,n){var i=e.insertBeforeIndex,r=Array.isArray(i)?i[0]:i;return null===r?nr(t,0,n):Et(n[r])}function _s(t,e,n,i,r){var a=e.insertBeforeIndex;if(Array.isArray(a)){var o=i,s=null;if(3&e.type||(s=o,o=r),null!==o&&0==(2&e.flags))for(var l=1;l<a.length;l++)Xi(t,o,n[a[l]],s,!1)}}function ys(t,e){if(t.push(e),t.length>1)for(var n=t.length-2;n>=0;n--){var i=t[n];bs(i)||xs(i,e)&&null===ws(i)&&ks(i,e.index)}}function bs(t){return!(64&t.type)}function xs(t,e){return bs(e)||t.index>e.index}function ws(t){var e=t.insertBeforeIndex;return Array.isArray(e)?e[0]:e}function ks(t,e){var n=t.insertBeforeIndex;Array.isArray(n)?n[0]=e:(ar(ms,_s),t.insertBeforeIndex=e)}function Cs(t,e){var n=t.data[e];return null===n||"string"==typeof n?null:n.hasOwnProperty("currentCaseLViewIndex")?n:n.value}function Ms(t,e,n){var i=Br(t,n,64,null,null);return ys(e,i),i}function Ts(t,e){var n=e[t.currentCaseLViewIndex];return null===n?n:n<0?~n:n}function Ss(t){return t>>>17}function As(t){return(131070&t)>>>1}var Es=0,Ps=0;function Is(t,e,n,i){for(var r,a=n[11],o=null,s=0;s<e.length;s++){var l=e[s];if("string"==typeof l){var u=e[++s];null===n[u]&&(n[u]=zi(a,l))}else if("number"==typeof l)switch(1&l){case 0:var c=Ss(l),h=void 0,d=void 0;if(null===o&&(o=c,r=tr(a,i)),c===o?(h=i,d=r):(h=null,d=Et(n[c])),null!==d){var f=As(l);Xi(a,d,n[f],h,!1);var p=Cs(t,f);if(null!==p&&"object"==typeof p){var g=Ts(p,n);null!==g&&Is(t,p.create[g],n,n[p.anchorIdx])}}break;case 1:var v=e[++s],m=e[++s];la(a,Pt(l>>>1,n),null,null,v,m,null);break;default:throw new Error('Unable to determine the type of mutate operation for "'.concat(l,'"'))}else switch(l){case fs:var _=e[++s],y=e[++s];null===n[y]&&ki(n[y]=Hi(a,_),n);break;case ds:var b=e[++s],x=e[++s];null===n[x]&&ki(n[x]=Gi(a,b,null),n)}}}function Os(t,e,n,i,r){for(var a=0;a<n.length;a++){var o=n[a],s=n[++a];if(o&r)for(var l="",u=a+1;u<=a+s;u++){var c=n[u];if("string"==typeof c)l+=c;else if("number"==typeof c)if(c<0)l+=m(e[i-c]);else{var h=c>>>2;switch(3&c){case 1:var d=n[++u],f=n[++u],p=t.data[h];"string"==typeof p?la(e[11],e[h],null,p,d,l,f):Kr(t,p,e,d,l,e[11],f,!1);break;case 0:var g=e[h];null!==g&&qi(e[11],g,l);break;case 2:Ls(t,Cs(t,h),e,l);break;case 3:Rs(t,Cs(t,h),i,e)}}}else{var v=n[a+1];if(v>0&&3==(3&v)){var _=Cs(t,v>>>2);e[_.currentCaseLViewIndex]<0&&Rs(t,_,i,e)}}a+=s}}function Rs(t,e,n,i){var r=i[e.currentCaseLViewIndex];if(null!==r){var a=Es;r<0&&(r=i[e.currentCaseLViewIndex]=~r,a=-1),Os(t,i,e.update[r],n,a)}}function Ls(t,e,n,i){var r=function(t,e){var n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:var i=function(t,e){var n=ss(e)(parseInt(t,10)),i=cs[n];return void 0!==i?i:"other"}(e,gs);-1===(n=t.cases.indexOf(i))&&"other"!==i&&(n=t.cases.indexOf("other"));break;case 0:n=t.cases.indexOf("other")}return-1===n?null:n}(e,i);if(Ts(e,n)!==r&&(Ds(t,e,n),n[e.currentCaseLViewIndex]=null===r?null:~r,null!==r)){var a=n[e.anchorIdx];a&&Is(t,e.create[r],n,a)}}function Ds(t,e,n){var i=Ts(e,n);if(null!==i)for(var r=e.remove[i],a=0;a<r.length;a++){var o=r[a];if(o>0){var s=Pt(o,n);null!==s&&cr(n[11],s)}else Ds(t,Cs(t,~o),n)}}function Ns(){var t,e,n=[],i=-1;function r(t,n){i=0;var r=Ts(t,n);e=null!==r?t.remove[r]:q}function a(){if(i<e.length){var o=e[i++];return o>0?t[o]:(n.push(i,e),r(t[1].data[~o],t),a())}return 0===n.length?null:(e=n.pop(),i=n.pop(),a())}return function(e,i){for(t=i;n.length;)n.pop();return r(e.value,i),a}}var Zs=/\ufffd(\d+):?\d*\ufffd/gi,Fs=/\ufffd(\d+)\ufffd/,Us=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Bs=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,zs=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,qs=/\uE500/g;function Hs(t,e,n,i,r,a,o){var s=zr(t,i,1,null),l=s<<ps.SHIFT,u=jt();e===u&&(u=null),null===u&&(l|=ps.APPEND_EAGERLY),o&&(l|=ps.COMMENT,function(t){void 0===Ri&&(Ri=t())}(Ns)),r.push(l,null===a?"":a);var c=Br(t,s,o?32:1,null===a?"":a,null);ys(n,c);var h=c.index;return Yt(c,!1),null!==u&&e!==u&&function(t,e){var n=t.insertBeforeIndex;null===n?(ar(ms,_s),n=t.insertBeforeIndex=[null,e]):(function(t,e,n){true!=t&&b("Expecting array here",t,true,"==")}(Array.isArray(n)),n.push(e))}(u,h),c}function Gs(t,e,n,i,r,a,o){var s=o.match(Zs),l=Hs(t,e,n,a,i,s?null:o,!1);s&&Vs(r,o,l.index,null,0,null)}function Vs(t,e,n,i,r,a){var o=t.length,s=o+1;t.push(null,null);for(var l=o+2,u=e.split(Zs),c=0,h=0;h<u.length;h++){var d=u[h];if(1&h){var f=r+parseInt(d,10);t.push(-1-f),c|=Ws(f)}else""!==d&&t.push(d)}return t.push(n<<2|(i?1:0)),i&&t.push(i,a),t[o]=c,t[s]=t.length-l,c}function Ws(t){return 1<<Math.min(t,31)}function js(t){for(var e,n,i="",r=0,a=!1;null!==(e=Bs.exec(t));)a?e[0]==="\ufffd/*".concat(n,"\ufffd")&&(r=e.index,a=!1):(i+=t.substring(r,e.index+e[0].length),n=e[1],a=!0);return i+=t.substr(r)}function Ys(t,e,n,i,r,a){var o=0,s={type:r.type,currentCaseLViewIndex:zr(t,e,1,null),anchorIdx:a,cases:[],create:[],remove:[],update:[]};(function(t,e,n){t.push(Ws(e.mainBinding),2,-1-e.mainBinding,n<<2|2)})(n,r,a),function(t,e,n){var i=t.data[e];null===i?t.data[e]=n:i.value=n}(t,a,s);for(var l=r.values,u=0;u<l.length;u++){for(var c=l[u],h=[],d=0;d<c.length;d++){var f=c[d];if("string"!=typeof f){var p=h.push(f)-1;c[d]="\x3c!--\ufffd".concat(p,"\ufffd--\x3e")}}o=Xs(t,s,e,n,i,r.cases[u],c.join(""),h)|o}o&&function(t,e,n){t.push(e,1,n<<2|3)}(n,o,a)}function Qs(t){for(var e=[],n=[],i=1,r=0,a=Js(t=t.replace(Us,function(t,e,n){return i="select"===n?0:1,r=parseInt(e.substr(1),10),""})),o=0;o<a.length;){var s=a[o++].trim();1===i&&(s=s.replace(/\s*(?:=)?(\w+)\s*/,"$1")),s.length&&e.push(s);var l=Js(a[o++]);e.length>n.length&&n.push(l)}return{type:i,mainBinding:r,cases:e,values:n}}function Js(t){if(!t)return[];var e,n=0,i=[],r=[],a=/[{}]/g;for(a.lastIndex=0;e=a.exec(t);){var o=e.index;if("}"==e[0]){if(i.pop(),0==i.length){var s=t.substring(n,o);Us.test(s)?r.push(Qs(s)):r.push(s),n=o+1}}else{if(0==i.length){var l=t.substring(n,o);r.push(l),n=o+1}i.push("{")}}var u=t.substring(n);return r.push(u),r}function Xs(t,e,n,i,r,a,o,s){var l=[],u=[],c=[];e.cases.push(a),e.create.push(l),e.remove.push(u),e.update.push(c);var h=Jn(Tt()).getInertBodyElement(o),d=yi(h)||h;return d?$s(t,e,n,i,l,u,c,d,r,s,0):0}function $s(t,e,n,i,r,a,o,s,l,u,c){for(var h=0,d=s.firstChild;d;){var f=zr(t,n,1,null);switch(d.nodeType){case Node.ELEMENT_NODE:var p=d,g=p.tagName.toLowerCase();if(ui.hasOwnProperty(g)){el(r,ds,g,l,f),t.data[f]=g;for(var v=p.attributes,m=0;m<v.length;m++){var _=v.item(m),y=_.name.toLowerCase();_.value.match(Zs)?di.hasOwnProperty(y)&&Vs(o,_.value,f,_.name,0,ci[y]?ei:hi[y]?ni:null):nl(r,f,_)}h=$s(t,e,n,i,r,a,o,d,f,u,c+1)|h,Ks(a,f,c)}break;case Node.TEXT_NODE:var b=d.textContent||"",x=b.match(Zs);el(r,null,x?"":b,l,f),Ks(a,f,c),x&&(h=Vs(o,b,f,null,0,null)|h);break;case Node.COMMENT_NODE:var w=Fs.exec(d.textContent||"");if(w){var k=u[parseInt(w[1],10)];el(r,fs,"",l,f),Ys(t,n,i,l,k,f),tl(a,f,c)}}d=d.nextSibling}return h}function Ks(t,e,n){0===n&&t.push(e)}function tl(t,e,n){0===n&&(t.push(~e),t.push(e))}function el(t,e,n,i,r){null!==e&&t.push(e),t.push(n,r,function(t,e,n){return 0|e<<17|n<<1}(0,i,r))}function nl(t,e,n){t.push(e<<1|1,n.name,n.value)}function il(t,e,n){(function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,i=Ht(),r=qt(),a=20+t,o=Zt(i.consts,e),s=jt();i.firstCreatePass&&function(t,e,n,i,r,a){for(var o=jt(),s=[],l=[],u=[[]],c=function(t){return t.replace(qs," ")}(r=function(t,e){if(function(t){return-1===t}(e))return js(t);var n=t.indexOf(":".concat(e,"\ufffd"))+2+e.toString().length,i=t.search(new RegExp("\ufffd\\/\\*\\d+:".concat(e,"\ufffd")));return js(t.substring(n,i))}(r,a)).split(zs),h=0;h<c.length;h++){var d=c[h];if(0==(1&h))for(var f=Js(d),p=0;p<f.length;p++){var g=f[p];if(0==(1&p)){var v=g;""!==v&&Gs(t,o,u[0],s,l,n,v)}else{var m=g;if("object"!=typeof m)throw new Error('Unable to parse ICU expression in "'.concat(r,'" message.'));Ys(t,n,l,e,m,Hs(t,o,u[0],n,s,"",!0).index)}}else{var _=47===d.charCodeAt(0),y=(d.charCodeAt(_?1:0),20+Number.parseInt(d.substring(_?2:1)));if(_)u.shift(),Yt(jt(),!1);else{var b=Ms(t,u[0],y);u.unshift([]),Yt(b,!0)}}}t.data[i]={create:s,update:l}}(i,null===s?0:s.index,r,a,o,n);var l=i.data[a],u=Ji(i,s===r[6]?null:s,r);(function(t,e,n,i){for(var r=t[11],a=0;a<e.length;a++){var o=e[a++],s=e[a],l=(o&ps.COMMENT)===ps.COMMENT,u=(o&ps.APPEND_EAGERLY)===ps.APPEND_EAGERLY,c=o>>>ps.SHIFT,h=t[c];null===h&&(h=t[c]=l?r.createComment(s):zi(r,s)),u&&null!==n&&Xi(r,n,h,i,!1)}})(r,l.create,u,s&&8&s.type?r[s.index]:null),ie(!0)})(t,e,n),ie(!1)}function rl(t){return function(t){t&&(Es|=1<<Math.min(Ps,31)),Ps++}(no(qt(),ee(),t)),rl}function al(t){!function(t,e,n){if(Ps>0){var i=t.data[n];Os(t,e,Array.isArray(i)?i:i.update,te()-Ps-1,Es)}Es=0,Ps=0}(Ht(),qt(),t+20)}function ol(t,e,n,i,r){if(t=p(t),Array.isArray(t))for(var a=0;a<t.length;a++)ol(t[a],e,n,i,r);else{var o=Ht(),s=qt(),l=Ba(t)?t:p(t.provide),u=Za(t),c=Vt(),h=1048575&c.providerIndexes,d=c.directiveStart,f=c.providerIndexes>>20;if(Ba(t)||!t.multi){var g=new Me(u,r,lo),v=ul(l,e,r?h:h+f,d);-1===v?(ze(Ze(c,s),o,l),sl(o,t,e.length),e.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(g),s.push(g)):(n[v]=g,s[v]=g)}else{var m=ul(l,e,h+f,d),_=ul(l,e,h,h+f),y=m>=0&&n[m],b=_>=0&&n[_];if(r&&!b||!r&&!y){ze(Ze(c,s),o,l);var x=function(t,e,n,i,r){var a=new Me(t,n,lo);return a.multi=[],a.index=e,a.componentProviders=0,ll(a,r,i&&!n),a}(r?hl:cl,n.length,r,i,u);!r&&b&&(n[_].providerFactory=x),sl(o,t,e.length,0),e.push(l),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(x),s.push(x)}else sl(o,t,m>-1?m:_,ll(n[r?_:m],u,!r&&i));!r&&i&&b&&n[_].componentProviders++}}}function sl(t,e,n,i){var r=Ba(e);if(r||function(t){return!!t.useClass}(e)){var a=(e.useClass||e).prototype.ngOnDestroy;if(a){var o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){var s=o.indexOf(n);-1===s?o.push(n,[i,a]):o[s+1].push(i,a)}else o.push(n,a)}}}function ll(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ul(t,e,n,i){for(var r=n;r<i;r++)if(e[r]===t)return r;return-1}function cl(t,e,n,i){return dl(this.multi,[])}function hl(t,e,n,i){var r,a=this.multi;if(this.providerFactory){var o=this.providerFactory.componentProviders,s=Qe(n,n[1],this.providerFactory.index,i);dl(a,r=s.slice(0,o));for(var l=o;l<s.length;l++)r.push(s[l])}else dl(a,r=[]);return r}function dl(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function fl(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(t,e,n){var i=Ht();if(i.firstCreatePass){var r=pt(t);ol(n,i.data,i.blueprint,r,!0),ol(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}}var pl=_createClass(function t(){_classCallCheck(this,t)}),gl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(c(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),vl=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.NULL=new gl,t}();function ml(){}function _l(t,e){return new bl(It(t,e))}var yl=function(){return _l(Vt(),qt())},bl=function(){var t=_createClass(function t(e){_classCallCheck(this,t),this.nativeElement=e});return t.__NG_ELEMENT_ID__=yl,t}();function xl(t){return t instanceof bl?t.nativeElement:t}var wl=_createClass(function t(){_classCallCheck(this,t)}),kl=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.__NG_ELEMENT_ID__=function(){return Cl()},t}(),Cl=function(){var t=qt(),e=Lt(Vt().index,t);return function(t){return t[11]}(ut(e)?e:t)},Ml=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275prov=x({token:t,providedIn:"root",factory:function(){return null}}),t}(),Tl=_createClass(function t(e){_classCallCheck(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}),Sl=new Tl("12.2.16"),Al=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return Ka(t)}},{key:"create",value:function(t){return new Pl(t)}}]),t}(),El=function(t,e){return e},Pl=function(){function t(e){_classCallCheck(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||El}return _createClass(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var a=!n||e&&e.currentIndex<Ll(n,i,r)?e:n,o=Ll(a,i,r),s=a.currentIndex;if(a===n)i--,n=n._nextRemoved;else if(e=e._next,null==a.previousIndex)i++;else{r||(r=[]);var l=o-i,u=s-i;if(l!=u){for(var c=0;c<l;c++){var h=c<r.length?r[c]:r[c]=0,d=h+c;u<=d&&d<l&&(r[c]=h+1)}r[a.previousIndex]=u-l}}o!==s&&t(a,o,s)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Ka(t))throw new Error("Error trying to diff '".concat(c(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,a=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=t[s],r=this._trackByFn(s,i),null!==a&&Object.is(a.trackById,r)?(o&&(a=this._verifyReinsertion(a,i,r,s)),Object.is(a.item,i)||this._addIdentityChange(a,i)):(a=this._mismatch(a,i,r,s),o=!0),a=a._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[Xa()]();!(i=r.next()).done;)e(i.value)}(t,function(t){r=e._trackByFn(n,t),null!==a&&Object.is(a.trackById,r)?(o&&(a=e._verifyReinsertion(a,t,r,n)),Object.is(a.item,t)||e._addIdentityChange(a,t)):(a=e._mismatch(a,t,r,n),o=!0),a=a._next,n++}),this.length=n;return this._truncate(a),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new Il(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Rl),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rl),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Il=_createClass(function t(e,n){_classCallCheck(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),Ol=function(){function t(){_classCallCheck(this,t),this._head=null,this._tail=null}return _createClass(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Rl=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Ol,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function Ll(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Dl=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"supports",value:function(t){return t instanceof Map||to(t)}},{key:"create",value:function(){return new Nl}}]),t}(),Nl=function(){function t(){_classCallCheck(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||to(t)))throw new Error("Error trying to diff '".concat(c(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var a=new Zl(t);return this._records.set(t,a),a.currentValue=e,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),Zl=_createClass(function t(e){_classCallCheck(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function Fl(){return new Ul([new Al])}var Ul=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(null!=e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat(function(t){return t.name||typeof t}(t),"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Fl())},deps:[[t,new Ln,new Rn]]}}}]),t}();return t.\u0275prov=x({token:t,providedIn:"root",factory:Fl}),t}();function Bl(){return new zl([new Dl])}var zl=function(){var t=function(){function t(e){_classCallCheck(this,t),this.factories=e}return _createClass(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||Bl())},deps:[[t,new Ln,new Rn]]}}}]),t}();return t.\u0275prov=x({token:t,providedIn:"root",factory:Bl}),t}();function ql(t,e,n,i){for(var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var a=e[n.index];if(null!==a&&i.push(Et(a)),ct(a))for(var o=10;o<a.length;o++){var s=a[o],l=s[1].firstChild;null!==l&&ql(s[1],s,l,i)}var u=n.type;if(8&u)ql(t,e,n.child,i);else if(32&u)for(var c=Di(n,e),h=void 0;h=c();)i.push(h);else if(16&u){var d=lr(e,n);if(Array.isArray(d))i.push.apply(i,_toConsumableArray(d));else{var f=Ni(e[16]);ql(f[1],f,d,i,!0)}}n=r?n.projectionNext:n.next}return i}var Hl=function(){function t(e,n){_classCallCheck(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return _createClass(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return ql(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]},set:function(t){this._lView[8]=t}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(ct(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Wi(t,n),hn(e,n))}this._attachedToViewContainer=!1}ji(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Xr(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){va(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){ma(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){$t(!0);try{ma(t,e,n)}finally{$t(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,dr(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),Gl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t))._view=t,i}return _createClass(n,[{key:"detectChanges",value:function(){_a(this._view)}},{key:"checkNoChanges",value:function(){!function(t){$t(!0);try{_a(t)}finally{$t(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(Hl),Vl=function(t){return function(t,e,n){if(dt(t)&&!n){var i=Lt(t.index,e);return new Hl(i,i)}return 47&t.type?new Hl(e[16],e):null}(Vt(),qt(),16==(16&t))},Wl=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.__NG_ELEMENT_ID__=Vl,t}(),jl=[new Dl],Yl=new Ul([new Al]),Ql=new zl(jl),Jl=function(){return Kl(Vt(),qt())},Xl=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.__NG_ELEMENT_ID__=Jl,t}(),$l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this))._declarationLView=t,a._declarationTContainer=i,a.elementRef=r,a}return _createClass(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Fr(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),qr(e,n,t),new Hl(n)}}]),n}(Xl);function Kl(t,e){return 4&t.type?new $l(e,t,_l(t,e)):null}var tu=_createClass(function t(){_classCallCheck(this,t)}),eu=_createClass(function t(){_classCallCheck(this,t)}),nu=function(){return su(Vt(),qt())},iu=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.__NG_ELEMENT_ID__=nu,t}(),ru=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this))._lContainer=t,a._hostTNode=i,a._hostLView=r,a}return _createClass(n,[{key:"element",get:function(){return _l(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new $e(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Be(this._hostTNode,this._hostLView);if(Ie(t)){var e=Re(t,this._hostLView),n=Oe(t);return new $e(e[1].data[n+8],e)}return new $e(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=au(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var a=n||this.parentInjector;if(!r&&null==t.ngModule&&a){var o=a.get(tu,null);o&&(r=o)}var s=t.create(a,i,void 0,r);return this.insert(s.hostView,e),s}},{key:"insert",value:function(t,e){var i=t._lView,r=i[1];if(ct(i[3])){var a=this.indexOf(t);if(-1!==a)this.detach(a);else{var o=i[3],s=new n(o,o[6],o[3]);s.detach(s.indexOf(t))}}var l=this._adjustIndex(e),u=this._lContainer;!function(t,e,n,i){var r=10+i,a=n.length;i>0&&(n[r-1][4]=e),i<a-10?(e[4]=n[r],cn(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;var o=e[17];null!==o&&n!==o&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,i,u,l);var c=ur(l,u),h=i[11],d=tr(h,u[7]);return null!==d&&function(t,e,n,i,r,a){i[0]=r,i[6]=e,dr(t,i,n,1,r,a)}(r,u[6],h,i,d,c),t.attachToViewContainerRef(),cn(ou(u),l,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=au(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=Wi(this._lContainer,e);n&&(hn(ou(this._lContainer),e),ji(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=Wi(this._lContainer,e);return n&&null!=hn(ou(this._lContainer),e)?new Hl(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(iu);function au(t){return t[8]}function ou(t){return t[8]||(t[8]=[])}function su(t,e){var n,i=e[t.index];if(ct(i))n=i;else{var r;if(8&t.type)r=Et(i);else{var a=e[11];r=a.createComment("");var o=It(t,e);Xi(a,tr(a,o),r,function(t,e){return St(t)?t.nextSibling(e):e.nextSibling}(a,o),!1)}e[t.index]=n=ha(i,e,r,t),ga(e,n)}return new ru(n,t,e)}var lu={},uu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).ngModule=t,i}return _createClass(n,[{key:"resolveComponentFactory",value:function(t){var e=st(t);return new du(e,this.ngModule)}}]),n}(vl);function cu(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var hu=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Pi}}),du=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).componentDef=t,r.ngModule=i,r.componentType=t.type,r.selector=t.selectors.map(Sr).join(","),r.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],r.isBoundToModule=!!i,r}return _createClass(n,[{key:"inputs",get:function(){return cu(this.componentDef.inputs)}},{key:"outputs",get:function(){return cu(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,i){var r,a,o=(i=i||this.ngModule)?function(t,e){return{get:function(n,i,r){var a=t.get(n,lu,r);return a!==lu||i===lu?a:e.get(n,i,r)}}}(t,i.injector):t,s=o.get(wl,At),l=o.get(Ml,null),u=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(St(t))return t.selectRootElement(e,n===N.ShadowDom);var i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(u,n,this.componentDef.encapsulation):Gi(s.createRenderer(null,this.componentDef),c,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),d=this.componentDef.onPush?576:528,f={components:[],scheduler:Pi,clean:ba,playerHandler:null,flags:0},p=Jr(0,null,null,1,0,null,null,null,null,null),g=Fr(null,p,f,d,null,null,s,u,l,o);ce(g);try{var v=function(t,e,n,i,r,a){var o=n[1];n[20]=t;var s=Ur(o,20,2,"#host",null),l=s.mergedAttrs=e.hostAttrs;null!==l&&(Ta(s,l,!0),null!==t&&(Te(r,t,l),null!==s.classes&&gr(r,t,s.classes),null!==s.styles&&pr(r,t,s.styles)));var u=i.createRenderer(t,e),c=Fr(n,Qr(e),null,e.onPush?64:16,n[20],s,i,u,null,null);return o.firstCreatePass&&(ze(Ze(s,n),o,e.type),ia(o,s),aa(s,n.length,1)),ga(n,c),n[20]=c}(h,this.componentDef,g,s,u);if(h)if(n)Te(u,h,["ng-version",Sl.full]);else{var m=function(t){for(var e=[],n=[],i=1,r=2;i<t.length;){var a=t[i];if("string"==typeof a)2===r?""!==a&&e.push(a,t[++i]):8===r&&n.push(a);else{if(!wr(r))break;r=a}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),_=m.attrs,y=m.classes;_&&Te(u,h,_),y&&y.length>0&&gr(u,h,y.join(" "))}if(a=Ot(p,20),void 0!==e)for(var b=a.projection=[],x=0;x<this.ngContentSelectors.length;x++){var w=e[x];b.push(null!=w?Array.from(w):null)}r=function(t,e,n,i,r){var a=n[1],o=function(t,e,n){var i=Vt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),oa(t,i,e,zr(t,e,1,null),n));var r=Qe(e,t,i.directiveStart,i);ki(r,e);var a=It(i,e);return a&&ki(a,e),r}(a,n,e);if(i.components.push(o),t[8]=o,r&&r.forEach(function(t){return t(o,e)}),e.contentQueries){var s=Vt();e.contentQueries(1,o,s.directiveStart)}var l=Vt();return!a.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(me(l.index),ea(n[1],l,0,l.directiveStart,l.directiveEnd,e),na(e,o)),o}(v,this.componentDef,g,f,[Ga]),qr(p,g,null)}finally{ge()}return new fu(this.componentType,r,_l(a,g),g,a)}}]),n}(pl),fu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o){var s;return _classCallCheck(this,n),(s=e.call(this)).location=r,s._rootLView=a,s._tNode=o,s.instance=i,s.hostView=s.changeDetectorRef=new Gl(a),s.componentType=t,s}return _createClass(n,[{key:"injector",get:function(){return new $e(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return _createClass(function t(){_classCallCheck(this,t)})}()),pu=new Map,gu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;_classCallCheck(this,n),(r=e.call(this))._parent=i,r._bootstrapComponents=[],r.injector=_assertThisInitialized(r),r.destroyCbs=[],r.componentFactoryResolver=new uu(_assertThisInitialized(r));var a=lt(t),o=t[j]||null;return o&&vs(o),r._bootstrapComponents=Oi(a.bootstrap),r._r3Injector=La(t,i,[{provide:tu,useValue:_assertThisInitialized(r)},{provide:vl,useValue:r.componentFactoryResolver}],c(t)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(t),r}return _createClass(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I.Default;return t===Ha||t===tu||t===Aa?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(tu),vu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).moduleType=t,null!==lt(t)&&function(t){var e=new Set;!function t(n){var i=lt(n,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(c(e)," vs ").concat(c(e.name)))}(r,pu.get(r),n),pu.set(r,n));var a,o=_createForOfIteratorHelper(Oi(i.imports));try{for(o.s();!(a=o.n()).done;){var s=a.value;e.has(s)||(e.add(s),t(s))}}catch(l){o.e(l)}finally{o.f()}}(t)}(t),i}return _createClass(n,[{key:"create",value:function(t){return new gu(this.moduleType,t)}}]),n}(eu);function mu(t,e,n,i){return xu(qt(),Kt(),t,e,n,i)}function _u(t,e,n,i,r){return function(t,e,n,i,r,a,o){var s=e+n;return io(t,s,r,a)?eo(t,s+2,o?i.call(o,r,a):i(r,a)):bu(t,s+2)}(qt(),Kt(),t,e,n,i,r)}function yu(t,e,n,i,r,a){return function(t,e,n,i,r,a,o,s){var l=e+n;return function(t,e,n,i,r){var a=io(t,e,n,i);return no(t,e+2,r)||a}(t,l,r,a,o)?eo(t,l+3,s?i.call(s,r,a,o):i(r,a,o)):bu(t,l+3)}(qt(),Kt(),t,e,n,i,r,a)}function bu(t,e){var n=t[e];return n===Ar?void 0:n}function xu(t,e,n,i,r,a){var o=e+n;return no(t,o,r)?eo(t,o+1,a?i.call(a,r):i(r)):bu(t,o+1)}function wu(t,e){var n,i=Ht(),r=t+20;i.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var i=e[n];if(t===i.name)return i}throw new v("302","The pipe '".concat(t,"' could not be found!"))}(e,i.pipeRegistry),i.data[r]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(r,n.onDestroy)):n=i.data[r];var a=n.factory||(n.factory=vt(n.type)),o=O(lo);try{var s=De(!1),l=a();return De(s),function(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}(i,qt(),r,l),l}finally{O(o)}}function ku(t,e,n){var i=t+20,r=qt(),a=Rt(r,i);return function(t,e){return $a.isWrapped(e)&&(e=$a.unwrap(e),t[te()]=Ar),e}(r,function(t,e){return t[1].data[e].pure}(r,i)?xu(r,Kt(),e,a.transform,n,a):a.transform(n))}function Cu(t){return function(e){setTimeout(t,void 0,e)}}var Mu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck(this,n),(t=e.call(this)).__isAsync=i,t}return _createClass(n,[{key:"emit",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,i){var a,o,s,l=t,u=e||function(){return null},c=i;if(t&&"object"==typeof t){var h=t;l=null===(a=h.next)||void 0===a?void 0:a.bind(h),u=null===(o=h.error)||void 0===o?void 0:o.bind(h),c=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(u=Cu(u),l&&(l=Cu(l)),c&&(c=Cu(c)));var d=_get(_getPrototypeOf(n.prototype),"subscribe",this).call(this,{next:l,error:u,complete:c});return t instanceof r.w&&t.add(d),d}}]),n}(i.xQ);function Tu(){return this._results[Xa()]()}var Su=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_classCallCheck(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=Xa(),i=t.prototype;i[n]||(i[n]=Tu)}return _createClass(t,[{key:"changes",get:function(){return this._changes||(this._changes=new Mu)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){var n=this;n.dirty=!1;var i=ln(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++){var r=t[i],a=e[i];if(n&&(r=n(r),a=n(a)),a!==r)return!1}return!0}(n._results,i,e))&&(n._results=i,n.length=i.length,n.last=i[this.length-1],n.first=i[0])}},{key:"notifyOnChanges",value:function(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}();Symbol;var Au=function(){function t(e){_classCallCheck(this,t),this.queryList=e,this.matches=null}return _createClass(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),Eu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[],a=0;a<i;a++){var o=n.getByIndex(a);r.push(this.queries[o.indexInDeclarationView].clone())}return new t(r)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Hu(t,e).matches&&this.queries[e].setDirty()}}]),t}(),Pu=_createClass(function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck(this,t),this.predicate=e,this.flags=n,this.read=i}),Iu=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];_classCallCheck(this,t),this.queries=e}return _createClass(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,a=this.getByIndex(i).embeddedTView(e,r);a&&(a.indexInDeclarationView=i,null!==n?n.push(a):n=[a])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Ou=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _createClass(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(t,e,Ru(e,r)),this.matchTNodeWithReadOption(t,e,Ye(e,t,r,!1,!1))}else n===Xl?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Ye(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===bl||i===iu||i===Xl&&4&e.type)this.addMatch(e.index,-2);else{var r=Ye(e,t,i,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Ru(t,e){var n=t.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Lu(t,e,n,i){return-1===n?function(t,e){return 11&t.type?_l(t,e):4&t.type?Kl(t,e):null}(e,t):-2===n?function(t,e,n){return n===bl?_l(e,t):n===Xl?Kl(e,t):n===iu?su(e,t):void 0}(t,e,i):Qe(t,t[1],n,e)}function Du(t,e,n,i){var r=e[19].queries[i];if(null===r.matches){for(var a=t.data,o=n.matches,s=[],l=0;l<o.length;l+=2){var u=o[l];s.push(u<0?null:Lu(e,a[u],o[l+1],n.metadata.read))}r.matches=s}return r.matches}function Nu(t,e,n,i){var r=t.queries.getByIndex(n),a=r.matches;if(null!==a)for(var o=Du(t,e,r,n),s=0;s<a.length;s+=2){var l=a[s];if(l>0)i.push(o[s/2]);else{for(var u=a[s+1],c=e[-l],h=10;h<c.length;h++){var d=c[h];d[17]===d[3]&&Nu(d[1],d,u,i)}if(null!==c[9])for(var f=c[9],p=0;p<f.length;p++){var g=f[p];Nu(g[1],g,u,i)}}}return i}function Zu(t){var e=qt(),n=Ht(),i=oe();se(i+1);var r=Hu(n,i);if(t.dirty&&Dt(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{var a=r.crossesNgTemplate?Nu(n,e,i,[]):Du(n,e,r,i);t.reset(a,xl),t.notifyOnChanges()}return!0}return!1}function Fu(t,e,n){var i=Ht();i.firstCreatePass&&(qu(i,new Pu(t,e,n),-1),2==(2&e)&&(i.staticViewQueries=!0)),zu(i,qt(),e)}function Uu(t,e,n,i){var r=Ht();if(r.firstCreatePass){var a=Vt();qu(r,new Pu(e,n,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(r,t),2==(2&n)&&(r.staticContentQueries=!0)}zu(r,qt(),n)}function Bu(){return t=qt(),e=oe(),t[19].queries[e].queryList;var t,e}function zu(t,e,n){var i=new Su(4==(4&n));Xr(t,e,i,i.destroy),null===e[19]&&(e[19]=new Eu),e[19].queries.push(new Au(i))}function qu(t,e,n){null===t.queries&&(t.queries=new Iu),t.queries.track(new Ou(e,n))}function Hu(t,e){return t.queries.getByIndex(e)}function Gu(t,e){return Kl(t,e)}var Vu=new an("Application Initializer"),Wu=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this.appInits=e,this.resolve=ml,this.reject=ml,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return _createClass(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=function(n){var i=t.appInits[n]();if(_o(i))e.push(i);else if(bo(i)){var r=new Promise(function(t,e){i.subscribe({complete:t,error:e})});e.push(r)}},r=0;r<this.appInits.length;r++)i(r);Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Mn(Vu,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t}(),ju=new an("AppId"),Yu={provide:ju,useFactory:function(){return"".concat(Qu()).concat(Qu()).concat(Qu())},deps:[]};function Qu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var Ju=new an("Platform Initializer"),Xu=new an("Platform ID"),$u=new an("appBootstrapListener"),Ku=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t}(),tc=new an("LocaleId"),ec=new an("DefaultCurrencyCode"),nc=_createClass(function t(e,n){_classCallCheck(this,t),this.ngModuleFactory=e,this.componentFactories=n}),ic=function(t){return new vu(t)},rc=ic,ac=function(t){return Promise.resolve(ic(t))},oc=function(t){var e=ic(t),n=Oi(lt(t).declarations).reduce(function(t,e){var n=st(e);return n&&t.push(new du(n)),t},[]);return new nc(e,n)},sc=oc,lc=function(t){return Promise.resolve(oc(t))},uc=function(){var t=function(){function t(){_classCallCheck(this,t),this.compileModuleSync=rc,this.compileModuleAsync=ac,this.compileModuleAndAllComponentsSync=sc,this.compileModuleAndAllComponentsAsync=lc}return _createClass(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t}(),cc=Promise.resolve(0);function hc(t){"undefined"==typeof Zone?cc.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var dc=function(){function t(e){var n=e.enableLongStackTrace,i=void 0!==n&&n,r=e.shouldCoalesceEventChangeDetection,a=void 0!==r&&r,o=e.shouldCoalesceRunChangeDetection,s=void 0!==o&&o;if(_classCallCheck(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Mu(!1),this.onMicrotaskEmpty=new Mu(!1),this.onStable=new Mu(!1),this.onError=new Mu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();var l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!s&&a,l.shouldCoalesceRunChangeDetection=s,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function(){var t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){var e=function(){!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,gc(t),t.isCheckStableRunning=!0,pc(t),t.isCheckStableRunning=!1},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),gc(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(n,i,r,a,o,s){try{return vc(t),n.invokeTask(r,a,o,s)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===a.type||t.shouldCoalesceRunChangeDetection)&&e(),mc(t)}},onInvoke:function(n,i,r,a,o,s,l){try{return vc(t),n.invoke(r,a,o,s,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),mc(t)}},onHasTask:function(e,n,i,r){e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,gc(t),pc(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:function(e,n,i,r){return e.handleError(i,r),t.runOutsideAngular(function(){return t.onError.emit(r)}),!1}})}(l)}return _createClass(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,a=r.scheduleEventTask("NgZoneEvent: "+i,t,fc,ml,ml);try{return r.runTask(a,e,n)}finally{r.cancelTask(a)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),fc={};function pc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function gc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function vc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function mc(t){t._nesting--,pc(t)}var _c=function(){function t(){_classCallCheck(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Mu,this.onMicrotaskEmpty=new Mu,this.onStable=new Mu,this.onError=new Mu}return _createClass(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,i){return t.apply(e,n)}}]),t}(),yc=function(){var t=function(){function t(e){var n=this;_classCallCheck(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return _createClass(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){dc.assertNotInAngularZone(),hc(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())hc(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(t){return t.timeoutId!==r}),t(i._didWork,i.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Mn(dc))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t}(),bc=function(){var t=function(){function t(){_classCallCheck(this,t),this._applications=new Map,kc.addToWindow(this)}return _createClass(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return kc.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t}();function xc(t){kc=t}var wc,kc=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Cc=!0,Mc=!1;function Tc(){return Mc=!0,Cc}function Sc(){if(Mc)throw new Error("Cannot enable prod mode after platform setup.");Cc=!1}var Ac=new an("AllowMultipleToken"),Ec=_createClass(function t(e,n){_classCallCheck(this,t),this.name=e,this.token=n});function Pc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(e),r=new an(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=Ic();if(!a||a.injector.get(Ac,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var o=n.concat(e).concat({provide:r,useValue:!0},{provide:Pa,useValue:"platform"});!function(t){if(wc&&!wc.destroyed&&!wc.injector.get(Ac,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wc=t.get(Oc);var e=t.get(Ju,null);e&&e.forEach(function(t){return t()})}(Ha.create({providers:o,name:i}))}return function(t){var e=Ic();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Ic(){return wc&&!wc.destroyed?wc:null}var Oc=function(){var t=function(){function t(e){_classCallCheck(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n=this,i=function(t,e){return"noop"===t?new _c:("zone.js"===t?void 0:t)||new dc({enableLongStackTrace:Tc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)})}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:dc,useValue:i}];return i.run(function(){var a=Ha.create({providers:r,parent:n.injector,name:t.moduleType.name}),o=t.create(a),s=o.injector.get(Si,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.runOutsideAngular(function(){var t=i.onError.subscribe({next:function(t){s.handleError(t)}});o.onDestroy(function(){Dc(n._modules,o),t.unsubscribe()})}),function(t,i,r){try{var a=((s=o.injector.get(Wu)).runInitializers(),s.donePromise.then(function(){return vs(o.injector.get(tc,hs)||hs),n._moduleDoBootstrap(o),o}));return _o(a)?a.catch(function(e){throw i.runOutsideAngular(function(){return t.handleError(e)}),e}):a}catch(e){throw i.runOutsideAngular(function(){return t.handleError(e)}),e}var s}(s,i)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Rc({},n);return function(t,e,n){var i=new vu(n);return Promise.resolve(i)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,i)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(Lc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(c(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Mn(Ha))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t}();function Rc(t,e){return Array.isArray(e)?e.reduce(Rc,t):Object.assign(Object.assign({},t),e)}var Lc=function(){var t=function(){function t(e,n,i,r,l){var u=this;_classCallCheck(this,t),this._zone=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=l,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){u._zone.run(function(){u.tick()})}});var c=new a.y(function(t){u._stable=u._zone.isStable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks,u._zone.runOutsideAngular(function(){t.next(u._stable),t.complete()})}),h=new a.y(function(t){var e;u._zone.runOutsideAngular(function(){e=u._zone.onStable.subscribe(function(){dc.assertNotInAngularZone(),hc(function(){!u._stable&&!u._zone.hasPendingMacrotasks&&!u._zone.hasPendingMicrotasks&&(u._stable=!0,t.next(!0))})})});var n=u._zone.onUnstable.subscribe(function(){dc.assertInAngularZone(),u._stable&&(u._stable=!1,u._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(c,h.pipe((0,s.B)()))}return _createClass(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof pl?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=function(t){return t.isBoundToModule}(n)?void 0:this._injector.get(tu),a=n.create(Ha.NULL,[],e||n.selector,r),o=a.location.nativeElement,s=a.injector.get(yc,null),l=s&&a.injector.get(bc);return s&&l&&l.registerApplication(o,s),a.onDestroy(function(){i.detachView(a.hostView),Dc(i.components,a),l&&l.unregisterApplication(o)}),this._loadComponent(a),a}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,n=_createForOfIteratorHelper(this._views);try{for(n.s();!(e=n.n()).done;){var i;e.value.detectChanges()}}catch(r){n.e(r)}finally{n.f()}}catch(i){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(i)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;Dc(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get($u,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Mn(dc),Mn(Ha),Mn(Si),Mn(vl),Mn(Wu))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t}();function Dc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Nc=_createClass(function t(){_classCallCheck(this,t)}),Zc=_createClass(function t(){_classCallCheck(this,t)}),Fc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},Uc=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._compiler=e,this._config=n||Fc}return _createClass(t,[{key:"load",value:function(t){return this.loadAndCompile(t)}},{key:"loadAndCompile",value:function(t){var e=this,i=_slicedToArray(t.split("#"),2),r=i[0],a=i[1];return void 0===a&&(a="default"),n(8255)(r).then(function(t){return t[a]}).then(function(t){return Bc(t,r,a)}).then(function(t){return e._compiler.compileModuleAsync(t)})}},{key:"loadFactory",value:function(t){var e=_slicedToArray(t.split("#"),2),i=e[0],r=e[1],a="NgFactory";return void 0===r&&(r="default",a=""),n(8255)(this._config.factoryPathPrefix+i+this._config.factoryPathSuffix).then(function(t){return t[r+a]}).then(function(t){return Bc(t,i,r)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(Mn(uc),Mn(Zc,8))},t.\u0275prov=x({token:t,factory:t.\u0275fac}),t}();function Bc(t,e,n){if(!t)throw new Error("Cannot find '".concat(n,"' in '").concat(e,"'"));return t}var zc=function(t){return null},qc=Pc(null,"core",[{provide:Xu,useValue:"unknown"},{provide:Oc,deps:[Ha]},{provide:bc,deps:[]},{provide:Ku,deps:[]}]),Hc=[{provide:Lc,useClass:Lc,deps:[dc,Ha,Si,vl,Wu]},{provide:hu,deps:[dc],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Wu,useClass:Wu,deps:[[new Rn,Vu]]},{provide:uc,useClass:uc,deps:[]},Yu,{provide:Ul,useFactory:function(){return Yl},deps:[]},{provide:zl,useFactory:function(){return Ql},deps:[]},{provide:tc,useFactory:function(t){return vs(t=t||"undefined"!=typeof $localize&&$localize.locale||hs),t},deps:[[new On(tc),new Rn,new Ln]]},{provide:ec,useValue:"USD"}],Gc=function(){var t=_createClass(function t(e){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)(Mn(Lc))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:Hc}),t}()},6267:function(t,e,n){"use strict";n.d(e,{hO:function(){return S},xv:function(){return b},Dh:function(){return y},HU:function(){return p},GT:function(){return _},sI:function(){return C},on:function(){return w},ss:function(){return g},pX:function(){return m}});var i=n(7771),r=n(3637),a=n(8307),o=n(9673),s=n(9746),l=n(7716),u=n(9190),c="8.10.1";function h(){}u.Z.registerVersion("firebase",c,"app"),u.Z.SDK_VERSION=c,t=n.hmd(t);var d=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.N;_classCallCheck(this,t),this.zone=e,this.delegate=n}return _createClass(t,[{key:"now",value:function(){return this.delegate.now()}},{key:"schedule",value:function(t,e,n){var i=this.zone;return this.delegate.schedule(function(e){var n=this;i.runGuarded(function(){t.apply(n,[e])})},e,n)}}]),t}(),f=function(){function t(e){_classCallCheck(this,t),this.zone=e,this.task=null}return _createClass(t,[{key:"call",value:function(t,e){var n=this.unscheduleTask.bind(this);return this.task=this.zone.run(function(){return Zone.current.scheduleMacroTask("firebaseZoneBlock",h,{},h,h)}),e.pipe((0,a.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}},{key:"unscheduleTask",value:function(){var t=this;setTimeout(function(){null!=t.task&&"scheduled"===t.task.state&&(t.task.invoke(),t.task=null)},10)}}]),t}(),p=_createClass(function t(e){_classCallCheck(this,t),this.ngZone=e,this.outsideAngular=e.runOutsideAngular(function(){return new d(Zone.current)}),this.insideAngular=e.run(function(){return new d(Zone.current,r.z)})});function g(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe((0,o.R)(t.outsideAngular),(0,s.QV)(t.insideAngular))}}var v=["ngOnDestroy"],m=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new Proxy(t,{get:function(r,a){return n.runOutsideAngular(function(){var r;if(t[a])return(null===(r=null==i?void 0:i.spy)||void 0===r?void 0:r.get)&&i.spy.get(a,t[a]),t[a];if(v.indexOf(a)>-1)return function(){};var o=e.toPromise().then(function(t){var e=t&&t[a];return"function"==typeof e?e.bind(t):e&&e.then?e.then(function(t){return n.run(function(){return t})}):n.run(function(){return e})});return new Proxy(function(){},{get:function(t,e){return o[e]},apply:function(t,e,n){return o.then(function(t){var e,r=t&&t.apply(void 0,_toConsumableArray(n));return(null===(e=null==i?void 0:i.spy)||void 0===e?void 0:e.apply)&&i.spy.apply(a,n,r),r})}})})}})},_=function(t,e){e.forEach(function(e){Object.getOwnPropertyNames(e.prototype||e).forEach(function(n){Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},y=new l.OlP("angularfire2.app.options"),b=new l.OlP("angularfire2.app.nameOrConfig"),x=new l.GfV("6.1.5");function w(e,n,i){var r="object"==typeof i&&i||{};r.name=r.name||"string"==typeof i&&i||"[DEFAULT]";var a=u.Z.apps.filter(function(t){return t&&t.name===r.name})[0]||n.runOutsideAngular(function(){return u.Z.initializeApp(e,r)});try{JSON.stringify(e)!==JSON.stringify(a.options)&&k("error","".concat(a.name," Firebase App already initialized with different options").concat(t.hot?", you may need to reload as Firebase is not HMR aware.":"."))}catch(o){}return a}var k=function(t){for(var e,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];(0,l.X6Q)()&&"undefined"!=typeof console&&(e=console)[t].apply(e,i)};function C(e,n,i,r,a){var o=_toArray(globalThis.\u0275AngularfireInstanceCache.get(e)||[]),s=o[0],l=o.slice(1);if(s){try{a.some(function(t,e){var n=l[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&k("error","".concat(n," was already initialized on the ").concat(i.name," Firebase App instance with different settings.").concat(t.hot?" You may need to reload as Firebase is not HMR aware.":""))}catch(u){}return s}var u=r();return globalThis.\u0275AngularfireInstanceCache.set(e,[u].concat(_toConsumableArray(a))),u}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);var M,T={provide:_createClass(function t(){_classCallCheck(this,t)}),useFactory:w,deps:[y,l.R0b,[new l.FiY,b]]},S=((M=function(){function t(e){_classCallCheck(this,t),u.Z.registerVersion("angularfire",x.full,e.toString()),u.Z.registerVersion("angular",l.q4F.full)}return _createClass(t,null,[{key:"initializeApp",value:function(e,n){return{ngModule:t,providers:[{provide:y,useValue:e},{provide:b,useValue:n}]}}}]),t}()).\u0275fac=function(t){return new(t||M)(l.LFG(l.Lbi))},M.\u0275mod=l.oAB({type:M}),M.\u0275inj=l.cJS({providers:[T]}),M)},9190:function(t,e,n){"use strict";n.d(e,{Z:function(){return W}});var i=n(4762);function r(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)!e.hasOwnProperty(n)||!a(n)||(t[n]=r(t[n],e[n]));return t}function a(t){return"__proto__"!==t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}();function s(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}var l=function(t){function e(n,i,r){var a=t.call(this,i)||this;return a.code=n,a.customData=r,a.name="FirebaseError",Object.setPrototypeOf(a,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(a,u.prototype.create),a}return(0,i.ZT)(e,t),e}(Error),u=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=e[0]||{},r=this.service+"/"+t,a=this.errors[t],o=a?c(a,i):"Error",s=this.serviceName+": "+o+" ("+r+").",u=new l(r,s,i);return u},t}();function c(t,e){return t.replace(h,function(t,n){var i=e[n];return null!=i?String(i):"<"+n+"?>"})}var h=/\{\$([^}]+)}/g;function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){var n=new p(t,e);return n.subscribe.bind(n)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++)n[i]=4294967295&((h=n[i-3]^n[i-8]^n[i-14]^n[i-16])<<1|h>>>31);var r,a,o=this.chain_[0],s=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(r=u^s&(l^u),a=1518500249):(r=s^l^u,a=1859775393):i<60?(r=s&l|u&(s|l),a=2400959708):(r=s^l^u,a=3395469782);var h=(o<<5|o>>>27)+r+c+a+n[i]&4294967295;c=u,u=l,l=4294967295&(s<<30|s>>>2),s=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=0,r=this.buf_,a=this.inbuf_;i<e;){if(0===a)for(;i<=n;)this.compress_(t,i),i+=this.blockSize;if("string"==typeof t){for(;i<e;)if(r[a]=t.charCodeAt(i),++i,++a===this.blockSize){this.compress_(r),a=0;break}}else for(;i<e;)if(r[a]=t[i],++i,++a===this.blockSize){this.compress_(r),a=0;break}}this.inbuf_=a,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t}}();var p=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(i=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,i=["next","error","complete"];n<i.length;n++){var r=i[n];if(r in t&&"function"==typeof t[r])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(i.next=g),void 0===i.error&&(i.error=g),void 0===i.complete&&(i.complete=g);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),a},t.prototype.unsubscribeOne=function(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!=typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function g(){}var v=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),m="[DEFAULT]",_=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new o;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var i=this.getOrInitializeService({instanceIdentifier:e});i&&n.resolve(i)}catch(r){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),i=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(i)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(i)return null;throw r}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:m})}catch(c){}try{for(var r=(0,i.XA)(this.instancesDeferred.entries()),a=r.next();!a.done;a=r.next()){var o=(0,i.CR)(a.value,2),s=o[1],l=this.normalizeInstanceIdentifier(o[0]);try{var u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch(c){}}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=m),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,i.mG)(this,void 0,void 0,function(){var t;return(0,i.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,i.ev)((0,i.ev)([],(0,i.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,i.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=m),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=m),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var r=t.options,a=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:o,options:a});try{for(var l=(0,i.XA)(this.instancesDeferred.entries()),u=l.next();!u.done;u=l.next()){var c=(0,i.CR)(u.value,2),h=c[1];o===this.normalizeInstanceIdentifier(c[0])&&h.resolve(s)}}catch(d){e={error:d}}finally{try{u&&!u.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,i=this.normalizeInstanceIdentifier(e),r=null!==(n=this.onInitCallbacks.get(i))&&void 0!==n?n:new Set;r.add(t),this.onInitCallbacks.set(i,r);var a=this.instances.get(i);return a&&t(a,i),function(){r.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,r,a=this.onInitCallbacks.get(e);if(a)try{for(var o=(0,i.XA)(a),s=o.next();!s.done;s=o.next()){var l=s.value;try{l(t,e)}catch(u){}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,i=void 0===n?{}:n,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:y(e),options:i}),this.instances.set(e,r),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(a){}return r||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=m),this.component?this.component.multipleInstances?t:m:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function y(t){return t===m?void 0:t}var b=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new _(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();function x(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,r++)i[r]=a[o];return i}var w,k=[],C=function(){return(t=C||(C={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",C;var t}(),M={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},T=C.INFO,S=((w={})[C.DEBUG]="log",w[C.VERBOSE]="log",w[C.INFO]="info",w[C.WARN]="warn",w[C.ERROR]="error",w),A=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var r=(new Date).toISOString(),a=S[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,x(["["+r+"]  "+t.name+":"],n))}},E=function(){function t(t){this.name=t,this._logLevel=T,this._logHandler=A,this._userLogHandler=null,k.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in C))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?M[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,x([this,C.DEBUG],t)),this._logHandler.apply(this,x([this,C.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,x([this,C.VERBOSE],t)),this._logHandler.apply(this,x([this,C.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,x([this,C.INFO],t)),this._logHandler.apply(this,x([this,C.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,x([this,C.WARN],t)),this._logHandler.apply(this,x([this,C.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,x([this,C.ERROR],t)),this._logHandler.apply(this,x([this,C.ERROR],t))},t}();function P(t){k.forEach(function(e){e.setLogLevel(t)})}var I,O,R=((I={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",I["bad-app-name"]="Illegal App name: '{$appName}",I["duplicate-app"]="Firebase App named '{$appName}' already exists",I["app-deleted"]="Firebase App named '{$appName}' already deleted",I["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",I["invalid-log-argument"]="First argument to `onLog` must be null or a function.",I),L=new u("app","Firebase",R),D="@firebase/app",N="[DEFAULT]",Z=((O={})[D]="fire-core",O["@firebase/analytics"]="fire-analytics",O["@firebase/app-check"]="fire-app-check",O["@firebase/auth"]="fire-auth",O["@firebase/database"]="fire-rtdb",O["@firebase/functions"]="fire-fn",O["@firebase/installations"]="fire-iid",O["@firebase/messaging"]="fire-fcm",O["@firebase/performance"]="fire-perf",O["@firebase/remote-config"]="fire-rc",O["@firebase/storage"]="fire-gcs",O["@firebase/firestore"]="fire-fst",O["fire-js"]="fire-js",O["firebase-wrapper"]="fire-js-all",O),F=new E("@firebase/app"),U=function(){function t(t,e,n){var i=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=function(t){return r(void 0,t)}(t),this.container=new b(e.name),this._addComponent(new v("app",function(){return i},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return i._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=N),this.checkDestroyed_();var i=this.container.getProvider(t);return!i.isInitialized()&&"EXPLICIT"===(null===(n=i.getComponent())||void 0===n?void 0:n.instantiationMode)&&i.initialize(),i.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=N),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){F.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw L.create("app-deleted",{appName:this.name_})},t}();U.prototype.name&&U.prototype.options||U.prototype.delete||console.log("dc");var B=function t(){var e=function(t){var e={},n=new Map,i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),("object"!=typeof r||null===r)&&(r={name:r});var a=r;void 0===a.name&&(a.name=N);var o=a.name;if("string"!=typeof o||!o)throw L.create("bad-app-name",{appName:String(o)});if(d(e,o))throw L.create("duplicate-app",{appName:o});var s=new t(n,a,i);return e[o]=s,s},app:a,registerVersion:function(t,e,n){var i,r=null!==(i=Z[t])&&void 0!==i?i:t;n&&(r+="-"+n);var a=r.match(/\s|\//),s=e.match(/\s|\//);if(a||s){var l=['Unable to register library "'+r+'" with version "'+e+'":'];return a&&l.push('library name "'+r+'" contains illegal characters (whitespace or "/")'),a&&s&&l.push("and"),s&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void F.warn(l.join(" "))}o(new v(r+"-version",function(){return{library:r,version:e}},"VERSION"))},setLogLevel:P,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw L.create("invalid-log-argument");!function(t,e){for(var n=function(n){var i=null;e&&e.level&&(i=M[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];var o=r.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=i?i:e.logLevel)&&t({level:C[n].toLowerCase(),message:o,args:r,type:e.name})}},i=0,r=k;i<r.length;i++)n(r[i])}(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function a(t){if(!d(e,t=t||N))throw L.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return F.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?i[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var l=function(t){if(void 0===t&&(t=a()),"function"!=typeof t[s])throw L.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&r(l,o.serviceProps),i[s]=l,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var u=0,c=Object.keys(e);u<c.length;u++)e[c[u]]._addComponent(o);return"PUBLIC"===o.type?i[s]:null}return i.default=i,Object.defineProperty(i,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),a.App=t,i}(U);return e.INTERNAL=(0,i.pi)((0,i.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){r(e,t)},createSubscribe:f,ErrorFactory:u,deepExtend:r}),e}(),z=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if("object"==typeof self&&self.self===self&&void 0!==self.firebase){F.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var q=self.firebase.SDK_VERSION;q&&q.indexOf("LITE")>=0&&F.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var H=B.initializeApp;B.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return s()&&F.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),H.apply(void 0,t)};var G,V=B;(G=V).INTERNAL.registerComponent(new v("platform-logger",function(t){return new z(t)},"PRIVATE")),G.registerVersion(D,"0.6.30",void 0),G.registerVersion("fire-js","");var W=V},9027:function(t,e,n){"use strict";var i,r=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.OrbitControls=void 0;var a=n(2559),o={type:"change"},s={type:"start"},l={type:"end"},u=1e-6,c=function(t){function e(e,n,i){var r=t.call(this)||this;return r.object=e,r.domElement=void 0!==n?n:document,r.window=void 0!==i?i:window,r.enabled=!0,r.target=new a.Vector3,r.minDistance=0,r.maxDistance=1/0,r.minZoom=0,r.maxZoom=1/0,r.minPolarAngle=0,r.maxPolarAngle=Math.PI,r.minAzimuthAngle=-1/0,r.maxAzimuthAngle=1/0,r.enableDamping=!1,r.dampingFactor=.25,r.enableZoom=!0,r.zoomSpeed=1,r.enableRotate=!0,r.rotateSpeed=1,r.enablePan=!0,r.keyPanSpeed=7,r.autoRotate=!1,r.autoRotateSpeed=2,r.enableKeys=!0,r.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},r.mouseButtons={ORBIT:a.MOUSE.LEFT,ZOOM:a.MOUSE.MIDDLE,PAN:a.MOUSE.RIGHT},r.target0=r.target.clone(),r.position0=r.object.position.clone(),r.zoom0=r.object.zoom,r.updateOffset=new a.Vector3,r.updateQuat=(new a.Quaternion).setFromUnitVectors(e.up,new a.Vector3(0,1,0)),r.updateQuatInverse=r.updateQuat.clone().invert(),r.updateLastPosition=new a.Vector3,r.updateLastQuaternion=new a.Quaternion,r.state=-1,r.scale=1,r.spherical=new a.Spherical,r.sphericalDelta=new a.Spherical,r.panOffset=new a.Vector3,r.zoomChanged=!1,r.rotateStart=new a.Vector2,r.rotateEnd=new a.Vector2,r.rotateDelta=new a.Vector2,r.panStart=new a.Vector2,r.panEnd=new a.Vector2,r.panDelta=new a.Vector2,r.dollyStart=new a.Vector2,r.dollyEnd=new a.Vector2,r.dollyDelta=new a.Vector2,r.panLeftV=new a.Vector3,r.panUpV=new a.Vector3,r.panInternalOffset=new a.Vector3,r.onMouseDown=function(t){if(!1!==r.enabled){if(t.preventDefault(),t.button===r.mouseButtons.ORBIT){if(!1===r.enableRotate)return;r.rotateStart.set(t.clientX,t.clientY),r.state=0}else if(t.button===r.mouseButtons.ZOOM){if(!1===r.enableZoom)return;r.dollyStart.set(t.clientX,t.clientY),r.state=1}else if(t.button===r.mouseButtons.PAN){if(!1===r.enablePan)return;r.panStart.set(t.clientX,t.clientY),r.state=2}-1!==r.state&&(document.addEventListener("mousemove",r.onMouseMove,!1),document.addEventListener("mouseup",r.onMouseUp,!1),r.dispatchEvent(s))}},r.onMouseMove=function(t){if(!1!==r.enabled)if(t.preventDefault(),0===r.state){if(!1===r.enableRotate)return;r.rotateEnd.set(t.clientX,t.clientY),r.rotateDelta.subVectors(r.rotateEnd,r.rotateStart);var e=r.domElement===document?r.domElement.body:r.domElement;r.rotateLeft(2*Math.PI*r.rotateDelta.x/e.clientWidth*r.rotateSpeed),r.rotateUp(2*Math.PI*r.rotateDelta.y/e.clientHeight*r.rotateSpeed),r.rotateStart.copy(r.rotateEnd),r.update()}else if(1===r.state){if(!1===r.enableZoom)return;r.dollyEnd.set(t.clientX,t.clientY),r.dollyDelta.subVectors(r.dollyEnd,r.dollyStart),r.dollyDelta.y>0?r.dollyIn(r.getZoomScale()):r.dollyDelta.y<0&&r.dollyOut(r.getZoomScale()),r.dollyStart.copy(r.dollyEnd),r.update()}else if(2===r.state){if(!1===r.enablePan)return;r.panEnd.set(t.clientX,t.clientY),r.panDelta.subVectors(r.panEnd,r.panStart),r.pan(r.panDelta.x,r.panDelta.y),r.panStart.copy(r.panEnd),r.update()}},r.onMouseUp=function(t){!1!==r.enabled&&(document.removeEventListener("mousemove",r.onMouseMove,!1),document.removeEventListener("mouseup",r.onMouseUp,!1),r.dispatchEvent(l),r.state=-1)},r.onMouseWheel=function(t){!1===r.enabled||!1===r.enableZoom||-1!==r.state&&0!==r.state||(t.preventDefault(),t.stopPropagation(),t.deltaY<0?r.dollyOut(r.getZoomScale()):t.deltaY>0&&r.dollyIn(r.getZoomScale()),r.update(),r.dispatchEvent(s),r.dispatchEvent(l))},r.onKeyDown=function(t){if(!1!==r.enabled&&!1!==r.enableKeys&&!1!==r.enablePan)switch(t.keyCode){case r.keys.UP:r.pan(0,r.keyPanSpeed),r.update();break;case r.keys.BOTTOM:r.pan(0,-r.keyPanSpeed),r.update();break;case r.keys.LEFT:r.pan(r.keyPanSpeed,0),r.update();break;case r.keys.RIGHT:r.pan(-r.keyPanSpeed,0),r.update()}},r.onTouchStart=function(t){if(!1!==r.enabled){switch(t.touches.length){case 1:if(!1===r.enableRotate)return;r.rotateStart.set(t.touches[0].pageX,t.touches[0].pageY),r.state=3;break;case 2:if(!1===r.enableZoom)return;var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);r.dollyStart.set(0,i),r.state=4;break;case 3:if(!1===r.enablePan)return;r.panStart.set(t.touches[0].pageX,t.touches[0].pageY),r.state=5;break;default:r.state=-1}-1!==r.state&&r.dispatchEvent(s)}},r.onTouchMove=function(t){if(!1!==r.enabled)switch(t.preventDefault(),t.stopPropagation(),t.touches.length){case 1:if(!1===r.enableRotate||3!==r.state)return;r.rotateEnd.set(t.touches[0].pageX,t.touches[0].pageY),r.rotateDelta.subVectors(r.rotateEnd,r.rotateStart);var e=r.domElement===document?r.domElement.body:r.domElement;r.rotateLeft(2*Math.PI*r.rotateDelta.x/e.clientWidth*r.rotateSpeed),r.rotateUp(2*Math.PI*r.rotateDelta.y/e.clientHeight*r.rotateSpeed),r.rotateStart.copy(r.rotateEnd),r.update();break;case 2:if(!1===r.enableZoom||4!==r.state)return;var n=t.touches[0].pageX-t.touches[1].pageX,i=t.touches[0].pageY-t.touches[1].pageY,a=Math.sqrt(n*n+i*i);r.dollyEnd.set(0,a),r.dollyDelta.subVectors(r.dollyEnd,r.dollyStart),r.dollyDelta.y>0?r.dollyOut(r.getZoomScale()):r.dollyDelta.y<0&&r.dollyIn(r.getZoomScale()),r.dollyStart.copy(r.dollyEnd),r.update();break;case 3:if(!1===r.enablePan||5!==r.state)return;r.panEnd.set(t.touches[0].pageX,t.touches[0].pageY),r.panDelta.subVectors(r.panEnd,r.panStart),r.pan(r.panDelta.x,r.panDelta.y),r.panStart.copy(r.panEnd),r.update();break;default:r.state=-1}},r.onTouchEnd=function(t){!1!==r.enabled&&(r.dispatchEvent(l),r.state=-1)},r.onContextMenu=function(t){t.preventDefault()},r.domElement.addEventListener("contextmenu",r.onContextMenu,!1),r.domElement.addEventListener("mousedown",r.onMouseDown,!1),r.domElement.addEventListener("wheel",r.onMouseWheel,!1),r.domElement.addEventListener("touchstart",r.onTouchStart,!1),r.domElement.addEventListener("touchend",r.onTouchEnd,!1),r.domElement.addEventListener("touchmove",r.onTouchMove,!1),r.window.addEventListener("keydown",r.onKeyDown,!1),r.update(),r}return r(e,t),e.prototype.update=function(){var t=this.object.position;return this.updateOffset.copy(t).sub(this.target),this.updateOffset.applyQuaternion(this.updateQuat),this.spherical.setFromVector3(this.updateOffset),this.autoRotate&&-1===this.state&&this.rotateLeft(this.getAutoRotationAngle()),this.spherical.theta+=this.sphericalDelta.theta,this.spherical.phi+=this.sphericalDelta.phi,this.spherical.theta=Math.max(this.minAzimuthAngle,Math.min(this.maxAzimuthAngle,this.spherical.theta)),this.spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this.spherical.phi)),this.spherical.makeSafe(),this.spherical.radius*=this.scale,this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius)),this.target.add(this.panOffset),this.updateOffset.setFromSpherical(this.spherical),this.updateOffset.applyQuaternion(this.updateQuatInverse),t.copy(this.target).add(this.updateOffset),this.object.lookAt(this.target),!0===this.enableDamping?(this.sphericalDelta.theta*=1-this.dampingFactor,this.sphericalDelta.phi*=1-this.dampingFactor):this.sphericalDelta.set(0,0,0),this.scale=1,this.panOffset.set(0,0,0),!!(this.zoomChanged||this.updateLastPosition.distanceToSquared(this.object.position)>u||8*(1-this.updateLastQuaternion.dot(this.object.quaternion))>u)&&(this.dispatchEvent(o),this.updateLastPosition.copy(this.object.position),this.updateLastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0)},e.prototype.panLeft=function(t,e){this.panLeftV.setFromMatrixColumn(e,0),this.panLeftV.multiplyScalar(-t),this.panOffset.add(this.panLeftV)},e.prototype.panUp=function(t,e){this.panUpV.setFromMatrixColumn(e,1),this.panUpV.multiplyScalar(t),this.panOffset.add(this.panUpV)},e.prototype.pan=function(t,e){var n=this.domElement===document?this.domElement.body:this.domElement;if(this._checkPerspectiveCamera(this.object)){this.panInternalOffset.copy(this.object.position).sub(this.target);var i=this.panInternalOffset.length();i*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*t*i/n.clientHeight,this.object.matrix),this.panUp(2*e*i/n.clientHeight,this.object.matrix)}else this._checkOrthographicCamera(this.object)?(this.panLeft(t*(this.object.right-this.object.left)/this.object.zoom/n.clientWidth,this.object.matrix),this.panUp(e*(this.object.top-this.object.bottom)/this.object.zoom/n.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)},e.prototype.dollyIn=function(t){this._checkPerspectiveCamera(this.object)?this.scale/=t:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom*t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},e.prototype.dollyOut=function(t){this._checkPerspectiveCamera(this.object)?this.scale*=t:this._checkOrthographicCamera(this.object)?(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/t)),this.object.updateProjectionMatrix(),this.zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)},e.prototype.getAutoRotationAngle=function(){return 2*Math.PI/60/60*this.autoRotateSpeed},e.prototype.getZoomScale=function(){return Math.pow(.95,this.zoomSpeed)},e.prototype.rotateLeft=function(t){this.sphericalDelta.theta-=t},e.prototype.rotateUp=function(t){this.sphericalDelta.phi-=t},e.prototype.getPolarAngle=function(){return this.spherical.phi},e.prototype.getAzimuthalAngle=function(){return this.spherical.theta},e.prototype.dispose=function(){this.domElement.removeEventListener("contextmenu",this.onContextMenu,!1),this.domElement.removeEventListener("mousedown",this.onMouseDown,!1),this.domElement.removeEventListener("wheel",this.onMouseWheel,!1),this.domElement.removeEventListener("touchstart",this.onTouchStart,!1),this.domElement.removeEventListener("touchend",this.onTouchEnd,!1),this.domElement.removeEventListener("touchmove",this.onTouchMove,!1),document.removeEventListener("mousemove",this.onMouseMove,!1),document.removeEventListener("mouseup",this.onMouseUp,!1),this.window.removeEventListener("keydown",this.onKeyDown,!1)},e.prototype.reset=function(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(o),this.update(),this.state=-1},e.prototype.saveState=function(){this.target0.copy(this.target),this.position0.copy(this.object.position),(this._checkOrthographicCamera(this.object)||this._checkPerspectiveCamera(this.object))&&(this.zoom0=this.object.zoom)},Object.defineProperty(e.prototype,"center",{get:function(){return console.warn("Three.OrbitControls: .center has been renamed to .target"),this.target},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"noZoom",{get:function(){return console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(t){console.warn("Three.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!t},enumerable:!1,configurable:!0}),e.prototype._checkPerspectiveCamera=function(t){return t.isPerspectiveCamera},e.prototype._checkOrthographicCamera=function(t){return t.isOrthographicCamera},e}(a.EventDispatcher);e.OrbitControls=c},2559:function(t,e,n){"use strict";var i;n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return rt},AddEquation:function(){return S},AddOperation:function(){return K},AdditiveAnimationBlendMode:function(){return Ye},AdditiveBlending:function(){return k},AlphaFormat:function(){return Ft},AlwaysDepth:function(){return G},AlwaysStencilFunc:function(){return Tn},AmbientLight:function(){return fh},AmbientLightProbe:function(){return Dh},AnimationClip:function(){return pc},AnimationLoader:function(){return wc},AnimationMixer:function(){return pd},AnimationObjectGroup:function(){return dd},AnimationUtils:function(){return ec},ArcCurve:function(){return Pc},ArrayCamera:function(){return Ps},ArrowHelper:function(){return af},Audio:function(){return Wh},AudioAnalyser:function(){return $h},AudioContext:function(){return Oh},AudioListener:function(){return Vh},AudioLoader:function(){return Rh},AxesHelper:function(){return of},AxisHelper:function(){return np},BackSide:function(){return m},BasicDepthPacking:function(){return sn},BasicShadowMap:function(){return d},BinaryTextureLoader:function(){return sp},Bone:function(){return pl},BooleanKeyframeTrack:function(){return sc},BoundingBoxHelper:function(){return ip},Box2:function(){return Cd},Box3:function(){return ii},Box3Helper:function(){return ef},BoxBufferGeometry:function(){return pa},BoxGeometry:function(){return pa},BoxHelper:function(){return tf},BufferAttribute:function(){return Sr},BufferGeometry:function(){return Yr},BufferGeometryLoader:function(){return xh},ByteType:function(){return St},Cache:function(){return vc},Camera:function(){return ya},CameraHelper:function(){return Qd},CanvasRenderer:function(){return up},CanvasTexture:function(){return Hl},CatmullRomCurve3:function(){return Nc},CineonToneMapping:function(){return it},CircleBufferGeometry:function(){return Vl},CircleGeometry:function(){return Vl},ClampToEdgeWrapping:function(){return pt},Clock:function(){return Uh},Color:function(){return kr},ColorKeyframeTrack:function(){return lc},CompressedTexture:function(){return ql},CompressedTextureLoader:function(){return kc},ConeBufferGeometry:function(){return jl},ConeGeometry:function(){return jl},CubeCamera:function(){return xa},CubeReflectionMapping:function(){return st},CubeRefractionMapping:function(){return lt},CubeTexture:function(){return wa},CubeTextureLoader:function(){return Mc},CubeUVReflectionMapping:function(){return ht},CubeUVRefractionMapping:function(){return dt},CubicBezierCurve:function(){return Bc},CubicBezierCurve3:function(){return zc},CubicInterpolant:function(){return ic},CullFaceBack:function(){return u},CullFaceFront:function(){return c},CullFaceFrontBack:function(){return h},CullFaceNone:function(){return l},Curve:function(){return Ac},CurvePath:function(){return Yc},CustomBlending:function(){return T},CustomToneMapping:function(){return at},CylinderBufferGeometry:function(){return Wl},CylinderGeometry:function(){return Wl},Cylindrical:function(){return wd},DataTexture:function(){return Ca},DataTexture2DArray:function(){return Ya},DataTexture3D:function(){return Qa},DataTextureLoader:function(){return Tc},DataUtils:function(){return uf},DecrementStencilOp:function(){return gn},DecrementWrapStencilOp:function(){return mn},DefaultLoadingManager:function(){return _c},DepthFormat:function(){return Gt},DepthStencilFormat:function(){return Vt},DepthTexture:function(){return Gl},DirectionalLight:function(){return dh},DirectionalLightHelper:function(){return Wd},DiscreteInterpolant:function(){return ac},DodecahedronBufferGeometry:function(){return Ql},DodecahedronGeometry:function(){return Ql},DoubleSide:function(){return _},DstAlphaFactor:function(){return F},DstColorFactor:function(){return B},DynamicBufferAttribute:function(){return Wf},DynamicCopyUsage:function(){return Ln},DynamicDrawUsage:function(){return An},DynamicReadUsage:function(){return In},EdgesGeometry:function(){return tu},EdgesHelper:function(){return rp},EllipseCurve:function(){return Ec},EqualDepth:function(){return j},EqualStencilFunc:function(){return xn},EquirectangularReflectionMapping:function(){return ut},EquirectangularRefractionMapping:function(){return ct},Euler:function(){return Fi},EventDispatcher:function(){return Fn},ExtrudeBufferGeometry:function(){return Au},ExtrudeGeometry:function(){return Au},FaceColors:function(){return Df},FileLoader:function(){return xc},FlatShading:function(){return y},Float16BufferAttribute:function(){return Dr},Float32Attribute:function(){return tp},Float32BufferAttribute:function(){return Nr},Float64Attribute:function(){return ep},Float64BufferAttribute:function(){return Zr},FloatType:function(){return Ot},Fog:function(){return Fs},FogExp2:function(){return Zs},Font:function(){return Ah},FontLoader:function(){return Ih},FrontSide:function(){return v},Frustum:function(){return Sa},GLBufferAttribute:function(){return md},GLSL1:function(){return Nn},GLSL3:function(){return Zn},GammaEncoding:function(){return tn},GreaterDepth:function(){return Q},GreaterEqualDepth:function(){return Y},GreaterEqualStencilFunc:function(){return Mn},GreaterStencilFunc:function(){return kn},GridHelper:function(){return zd},Group:function(){return Is},HalfFloatType:function(){return Rt},HemisphereLight:function(){return $c},HemisphereLightHelper:function(){return Bd},HemisphereLightProbe:function(){return Lh},IcosahedronBufferGeometry:function(){return Pu},IcosahedronGeometry:function(){return Pu},ImageBitmapLoader:function(){return Th},ImageLoader:function(){return Cc},ImageUtils:function(){return Wn},ImmediateRenderObject:function(){return Ad},IncrementStencilOp:function(){return pn},IncrementWrapStencilOp:function(){return vn},InstancedBufferAttribute:function(){return bh},InstancedBufferGeometry:function(){return yh},InstancedInterleavedBuffer:function(){return vd},InstancedMesh:function(){return wl},Int16Attribute:function(){return Jf},Int16BufferAttribute:function(){return Ir},Int32Attribute:function(){return $f},Int32BufferAttribute:function(){return Rr},Int8Attribute:function(){return jf},Int8BufferAttribute:function(){return Ar},IntType:function(){return Pt},InterleavedBuffer:function(){return Bs},InterleavedBufferAttribute:function(){return qs},Interpolant:function(){return nc},InterpolateDiscrete:function(){return ze},InterpolateLinear:function(){return qe},InterpolateSmooth:function(){return He},InvertStencilOp:function(){return _n},JSONLoader:function(){return cp},KeepStencilOp:function(){return dn},KeyframeTrack:function(){return oc},LOD:function(){return sl},LatheBufferGeometry:function(){return Iu},LatheGeometry:function(){return Iu},Layers:function(){return Ui},LensFlare:function(){return dp},LessDepth:function(){return V},LessEqualDepth:function(){return W},LessEqualStencilFunc:function(){return wn},LessStencilFunc:function(){return bn},Light:function(){return Xc},LightProbe:function(){return vh},Line:function(){return El},Line3:function(){return Sd},LineBasicMaterial:function(){return kl},LineCurve:function(){return qc},LineCurve3:function(){return Hc},LineDashedMaterial:function(){return Ku},LineLoop:function(){return Rl},LinePieces:function(){return Rf},LineSegments:function(){return Ol},LineStrip:function(){return Of},LinearEncoding:function(){return $e},LinearFilter:function(){return xt},LinearInterpolant:function(){return rc},LinearMipMapLinearFilter:function(){return Mt},LinearMipMapNearestFilter:function(){return kt},LinearMipmapLinearFilter:function(){return Ct},LinearMipmapNearestFilter:function(){return wt},LinearToneMapping:function(){return et},Loader:function(){return yc},LoaderUtils:function(){return _h},LoadingManager:function(){return mc},LogLuvEncoding:function(){return nn},LoopOnce:function(){return Fe},LoopPingPong:function(){return Be},LoopRepeat:function(){return Ue},LuminanceAlphaFormat:function(){return qt},LuminanceFormat:function(){return zt},MOUSE:function(){return o},Material:function(){return vr},MaterialLoader:function(){return mh},Math:function(){return qn},MathUtils:function(){return qn},Matrix3:function(){return Vn},Matrix4:function(){return Ai},MaxEquation:function(){return I},Mesh:function(){return da},MeshBasicMaterial:function(){return Cr},MeshDepthMaterial:function(){return Cs},MeshDistanceMaterial:function(){return Ms},MeshFaceMaterial:function(){return Zf},MeshLambertMaterial:function(){return Xu},MeshMatcapMaterial:function(){return $u},MeshNormalMaterial:function(){return Ju},MeshPhongMaterial:function(){return Yu},MeshPhysicalMaterial:function(){return ju},MeshStandardMaterial:function(){return Wu},MeshToonMaterial:function(){return Qu},MinEquation:function(){return P},MirroredRepeatWrapping:function(){return gt},MixOperation:function(){return $},MultiMaterial:function(){return Ff},MultiplyBlending:function(){return M},MultiplyOperation:function(){return X},NearestFilter:function(){return vt},NearestMipMapLinearFilter:function(){return bt},NearestMipMapNearestFilter:function(){return _t},NearestMipmapLinearFilter:function(){return yt},NearestMipmapNearestFilter:function(){return mt},NeverDepth:function(){return H},NeverStencilFunc:function(){return yn},NoBlending:function(){return x},NoColors:function(){return Lf},NoToneMapping:function(){return tt},NormalAnimationBlendMode:function(){return je},NormalBlending:function(){return w},NotEqualDepth:function(){return J},NotEqualStencilFunc:function(){return Cn},NumberKeyframeTrack:function(){return uc},Object3D:function(){return Ki},ObjectLoader:function(){return wh},ObjectSpaceNormalMap:function(){return cn},OctahedronBufferGeometry:function(){return Ou},OctahedronGeometry:function(){return Ou},OneFactor:function(){return R},OneMinusDstAlphaFactor:function(){return U},OneMinusDstColorFactor:function(){return z},OneMinusSrcAlphaFactor:function(){return Z},OneMinusSrcColorFactor:function(){return D},OrthographicCamera:function(){return ch},PCFShadowMap:function(){return f},PCFSoftShadowMap:function(){return p},PMREMGenerator:function(){return Sf},ParametricBufferGeometry:function(){return Ru},ParametricGeometry:function(){return Ru},Particle:function(){return Bf},ParticleBasicMaterial:function(){return Hf},ParticleSystem:function(){return zf},ParticleSystemMaterial:function(){return Gf},Path:function(){return Qc},PerspectiveCamera:function(){return ba},Plane:function(){return ir},PlaneBufferGeometry:function(){return Pa},PlaneGeometry:function(){return Pa},PlaneHelper:function(){return nf},PointCloud:function(){return Uf},PointCloudMaterial:function(){return qf},PointLight:function(){return uh},PointLightHelper:function(){return Nd},Points:function(){return Ul},PointsMaterial:function(){return Ll},PolarGridHelper:function(){return qd},PolyhedronBufferGeometry:function(){return Yl},PolyhedronGeometry:function(){return Yl},PositionalAudio:function(){return Xh},PropertyBinding:function(){return hd},PropertyMixer:function(){return Kh},QuadraticBezierCurve:function(){return Gc},QuadraticBezierCurve3:function(){return Vc},Quaternion:function(){return Kn},QuaternionKeyframeTrack:function(){return hc},QuaternionLinearInterpolant:function(){return cc},REVISION:function(){return a},RGBADepthPacking:function(){return ln},RGBAFormat:function(){return Bt},RGBAIntegerFormat:function(){return Xt},RGBA_ASTC_10x10_Format:function(){return be},RGBA_ASTC_10x5_Format:function(){return me},RGBA_ASTC_10x6_Format:function(){return _e},RGBA_ASTC_10x8_Format:function(){return ye},RGBA_ASTC_12x10_Format:function(){return xe},RGBA_ASTC_12x12_Format:function(){return we},RGBA_ASTC_4x4_Format:function(){return ue},RGBA_ASTC_5x4_Format:function(){return ce},RGBA_ASTC_5x5_Format:function(){return he},RGBA_ASTC_6x5_Format:function(){return de},RGBA_ASTC_6x6_Format:function(){return fe},RGBA_ASTC_8x5_Format:function(){return pe},RGBA_ASTC_8x6_Format:function(){return ge},RGBA_ASTC_8x8_Format:function(){return ve},RGBA_BPTC_Format:function(){return ke},RGBA_ETC2_EAC_Format:function(){return le},RGBA_PVRTC_2BPPV1_Format:function(){return ae},RGBA_PVRTC_4BPPV1_Format:function(){return re},RGBA_S3TC_DXT1_Format:function(){return Kt},RGBA_S3TC_DXT3_Format:function(){return te},RGBA_S3TC_DXT5_Format:function(){return ee},RGBDEncoding:function(){return on},RGBEEncoding:function(){return en},RGBEFormat:function(){return Ht},RGBFormat:function(){return Ut},RGBIntegerFormat:function(){return Jt},RGBM16Encoding:function(){return an},RGBM7Encoding:function(){return rn},RGB_ETC1_Format:function(){return oe},RGB_ETC2_Format:function(){return se},RGB_PVRTC_2BPPV1_Format:function(){return ie},RGB_PVRTC_4BPPV1_Format:function(){return ne},RGB_S3TC_DXT1_Format:function(){return $t},RGFormat:function(){return Yt},RGIntegerFormat:function(){return Qt},RawShaderMaterial:function(){return Vu},Ray:function(){return Si},Raycaster:function(){return _d},RectAreaLight:function(){return ph},RedFormat:function(){return Wt},RedIntegerFormat:function(){return jt},ReinhardToneMapping:function(){return nt},RepeatWrapping:function(){return ft},ReplaceStencilOp:function(){return fn},ReverseSubtractEquation:function(){return E},RingBufferGeometry:function(){return Lu},RingGeometry:function(){return Lu},SRGB8_ALPHA8_ASTC_10x10_Format:function(){return De},SRGB8_ALPHA8_ASTC_10x5_Format:function(){return Oe},SRGB8_ALPHA8_ASTC_10x6_Format:function(){return Re},SRGB8_ALPHA8_ASTC_10x8_Format:function(){return Le},SRGB8_ALPHA8_ASTC_12x10_Format:function(){return Ne},SRGB8_ALPHA8_ASTC_12x12_Format:function(){return Ze},SRGB8_ALPHA8_ASTC_4x4_Format:function(){return Ce},SRGB8_ALPHA8_ASTC_5x4_Format:function(){return Me},SRGB8_ALPHA8_ASTC_5x5_Format:function(){return Te},SRGB8_ALPHA8_ASTC_6x5_Format:function(){return Se},SRGB8_ALPHA8_ASTC_6x6_Format:function(){return Ae},SRGB8_ALPHA8_ASTC_8x5_Format:function(){return Ee},SRGB8_ALPHA8_ASTC_8x6_Format:function(){return Pe},SRGB8_ALPHA8_ASTC_8x8_Format:function(){return Ie},Scene:function(){return Us},SceneUtils:function(){return hp},ShaderChunk:function(){return Ia},ShaderLib:function(){return Ra},ShaderMaterial:function(){return _a},ShadowMaterial:function(){return Gu},Shape:function(){return Jc},ShapeBufferGeometry:function(){return Du},ShapeGeometry:function(){return Du},ShapePath:function(){return Sh},ShapeUtils:function(){return Mu},ShortType:function(){return At},Skeleton:function(){return ml},SkeletonHelper:function(){return Ld},SkinnedMesh:function(){return fl},SmoothShading:function(){return b},Sphere:function(){return yi},SphereBufferGeometry:function(){return Nu},SphereGeometry:function(){return Nu},Spherical:function(){return xd},SphericalHarmonics3:function(){return gh},SplineCurve:function(){return Wc},SpotLight:function(){return rh},SpotLightHelper:function(){return Pd},Sprite:function(){return il},SpriteMaterial:function(){return Gs},SrcAlphaFactor:function(){return N},SrcAlphaSaturateFactor:function(){return q},SrcColorFactor:function(){return L},StaticCopyUsage:function(){return Rn},StaticDrawUsage:function(){return Sn},StaticReadUsage:function(){return Pn},StereoCamera:function(){return Fh},StreamCopyUsage:function(){return Dn},StreamDrawUsage:function(){return En},StreamReadUsage:function(){return On},StringKeyframeTrack:function(){return dc},SubtractEquation:function(){return A},SubtractiveBlending:function(){return C},TOUCH:function(){return s},TangentSpaceNormalMap:function(){return un},TetrahedronBufferGeometry:function(){return Zu},TetrahedronGeometry:function(){return Zu},TextBufferGeometry:function(){return Fu},TextGeometry:function(){return Fu},Texture:function(){return Yn},TextureLoader:function(){return Sc},TorusBufferGeometry:function(){return Uu},TorusGeometry:function(){return Uu},TorusKnotBufferGeometry:function(){return Bu},TorusKnotGeometry:function(){return Bu},Triangle:function(){return pr},TriangleFanDrawMode:function(){return Xe},TriangleStripDrawMode:function(){return Je},TrianglesDrawMode:function(){return Qe},TubeBufferGeometry:function(){return zu},TubeGeometry:function(){return zu},UVMapping:function(){return ot},Uint16Attribute:function(){return Xf},Uint16BufferAttribute:function(){return Or},Uint32Attribute:function(){return Kf},Uint32BufferAttribute:function(){return Lr},Uint8Attribute:function(){return Yf},Uint8BufferAttribute:function(){return Er},Uint8ClampedAttribute:function(){return Qf},Uint8ClampedBufferAttribute:function(){return Pr},Uniform:function(){return gd},UniformsLib:function(){return Oa},UniformsUtils:function(){return ma},UnsignedByteType:function(){return Tt},UnsignedInt248Type:function(){return Zt},UnsignedIntType:function(){return It},UnsignedShort4444Type:function(){return Lt},UnsignedShort5551Type:function(){return Dt},UnsignedShort565Type:function(){return Nt},UnsignedShortType:function(){return Et},VSMShadowMap:function(){return g},Vector2:function(){return Hn},Vector3:function(){return ti},Vector4:function(){return Jn},VectorKeyframeTrack:function(){return fc},Vertex:function(){return Vf},VertexColors:function(){return Nf},VideoTexture:function(){return zl},WebGL1Renderer:function(){return Ns},WebGLCubeRenderTarget:function(){return ka},WebGLMultisampleRenderTarget:function(){return $n},WebGLRenderTarget:function(){return Xn},WebGLRenderTargetCube:function(){return lp},WebGLRenderer:function(){return Ds},WebGLUtils:function(){return Es},WireframeGeometry:function(){return qu},WireframeHelper:function(){return ap},WrapAroundEnding:function(){return We},XHRLoader:function(){return op},ZeroCurvatureEnding:function(){return Ge},ZeroFactor:function(){return O},ZeroSlopeEnding:function(){return Ve},ZeroStencilOp:function(){return hn},sRGBEncoding:function(){return Ke}});var r=n(8239),a="126",o={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},s={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},l=0,u=1,c=2,h=3,d=0,f=1,p=2,g=3,v=0,m=1,_=2,y=1,b=2,x=0,w=1,k=2,C=3,M=4,T=5,S=100,A=101,E=102,P=103,I=104,O=200,R=201,L=202,D=203,N=204,Z=205,F=206,U=207,B=208,z=209,q=210,H=0,G=1,V=2,W=3,j=4,Y=5,Q=6,J=7,X=0,$=1,K=2,tt=0,et=1,nt=2,it=3,rt=4,at=5,ot=300,st=301,lt=302,ut=303,ct=304,ht=306,dt=307,ft=1e3,pt=1001,gt=1002,vt=1003,mt=1004,_t=1004,yt=1005,bt=1005,xt=1006,wt=1007,kt=1007,Ct=1008,Mt=1008,Tt=1009,St=1010,At=1011,Et=1012,Pt=1013,It=1014,Ot=1015,Rt=1016,Lt=1017,Dt=1018,Nt=1019,Zt=1020,Ft=1021,Ut=1022,Bt=1023,zt=1024,qt=1025,Ht=Bt,Gt=1026,Vt=1027,Wt=1028,jt=1029,Yt=1030,Qt=1031,Jt=1032,Xt=1033,$t=33776,Kt=33777,te=33778,ee=33779,ne=35840,ie=35841,re=35842,ae=35843,oe=36196,se=37492,le=37496,ue=37808,ce=37809,he=37810,de=37811,fe=37812,pe=37813,ge=37814,ve=37815,me=37816,_e=37817,ye=37818,be=37819,xe=37820,we=37821,ke=36492,Ce=37840,Me=37841,Te=37842,Se=37843,Ae=37844,Ee=37845,Pe=37846,Ie=37847,Oe=37848,Re=37849,Le=37850,De=37851,Ne=37852,Ze=37853,Fe=2200,Ue=2201,Be=2202,ze=2300,qe=2301,He=2302,Ge=2400,Ve=2401,We=2402,je=2500,Ye=2501,Qe=0,Je=1,Xe=2,$e=3e3,Ke=3001,tn=3007,en=3002,nn=3003,rn=3004,an=3005,on=3006,sn=3200,ln=3201,un=0,cn=1,hn=0,dn=7680,fn=7681,pn=7682,gn=7683,vn=34055,mn=34056,_n=5386,yn=512,bn=513,xn=514,wn=515,kn=516,Cn=517,Mn=518,Tn=519,Sn=35044,An=35048,En=35040,Pn=35045,In=35049,On=35041,Rn=35046,Ln=35050,Dn=35042,Nn="100",Zn="300 es";function Fn(){}Object.assign(Fn.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t)}}}});for(var Un=[],Bn=0;Bn<256;Bn++)Un[Bn]=(Bn<16?"0":"")+Bn.toString(16);var zn=1234567,qn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Un[255&t]+Un[t>>8&255]+Un[t>>16&255]+Un[t>>24&255]+"-"+Un[255&e]+Un[e>>8&255]+"-"+Un[e>>16&15|64]+Un[e>>24&255]+"-"+Un[63&n|128]+Un[n>>8&255]+"-"+Un[n>>16&255]+Un[n>>24&255]+Un[255&i]+Un[i>>8&255]+Un[i>>16&255]+Un[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},damp:function(t,e,n,i){return qn.lerp(t,e,1-Math.exp(-n*i))},pingpong:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return e-Math.abs(qn.euclideanModulo(t,2*e)-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(zn=t%2147483647),((zn=16807*zn%2147483647)-1)/2147483646},degToRad:function(t){return t*qn.DEG2RAD},radToDeg:function(t){return t*qn.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,n,i,r){var a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+i)/2),c=o((e+i)/2),h=a((e-i)/2),d=o((e-i)/2),f=a((i-e)/2),p=o((i-e)/2);switch(r){case"XYX":t.set(s*c,l*h,l*d,s*u);break;case"YZY":t.set(l*d,s*c,l*h,s*u);break;case"ZXZ":t.set(l*h,l*d,s*c,s*u);break;case"XZX":t.set(s*c,l*p,l*f,s*u);break;case"YXY":t.set(l*f,s*c,l*p,s*u);break;case"ZYZ":t.set(l*p,l*f,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}},Hn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.x=e,this.y=n}return _createClass(t,[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*i+t.x,this.y=r*i+a*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),t}();Hn.prototype.isVector2=!0;var Gn,Vn=function(){function t(){_classCallCheck(this,t),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return _createClass(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=i,u[2]=o,u[3]=e,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],f=n[8],p=i[0],g=i[3],v=i[6],m=i[1],_=i[4],y=i[7],b=i[2],x=i[5],w=i[8];return r[0]=a*p+o*m+s*b,r[3]=a*g+o*_+s*x,r[6]=a*v+o*y+s*w,r[1]=l*p+u*m+c*b,r[4]=l*g+u*_+c*x,r[7]=l*v+u*y+c*w,r[2]=h*p+d*m+f*b,r[5]=h*g+d*_+f*x,r[8]=h*v+d*y+f*w,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*a*u-e*o*l-n*r*u+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=u*a-o*l,h=o*s-u*r,d=l*r-a*s,f=e*c+n*h+i*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return t[0]=c*p,t[1]=(i*l-u*n)*p,t[2]=(o*n-i*a)*p,t[3]=h*p,t[4]=(u*e-i*s)*p,t[5]=(i*r-o*e)*p,t[6]=d*p,t[7]=(n*s-l*e)*p,t[8]=(a*e-n*r)*p,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+t,-i*l,i*s,-i*(-l*a+s*o)+o+e,0,0,1),this}},{key:"scale",value:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],l=i[4],u=i[7];return i[0]=e*r+n*s,i[3]=e*a+n*l,i[6]=e*o+n*u,i[1]=-n*r+e*s,i[4]=-n*a+e*l,i[7]=-n*o+e*u,this}},{key:"translate",value:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),t}();Vn.prototype.isMatrix3=!0;var Wn={getDataURL:function(t){if(/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement)return t.src;var e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Gn&&(Gn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Gn.width=t.width,Gn.height=t.height;var n=Gn.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Gn}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},jn=0,Yn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:pt,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:xt,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ct,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Bt,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:Tt,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:$e;return _classCallCheck(this,n),t=e.call(this),Object.defineProperty(_assertThisInitialized(t),"id",{value:jn++}),t.uuid=qn.generateUUID(),t.name="",t.image=i,t.mipmaps=[],t.mapping=r,t.wrapS=a,t.wrapT=o,t.magFilter=s,t.minFilter=l,t.anisotropy=h,t.format=u,t.internalFormat=null,t.type=c,t.offset=new Hn(0,0),t.repeat=new Hn(1,1),t.center=new Hn(0,0),t.rotation=0,t.matrixAutoUpdate=!0,t.matrix=new Vn,t.generateMipmaps=!0,t.premultiplyAlpha=!1,t.flipY=!0,t.unpackAlignment=4,t.encoding=d,t.version=0,t.onUpdate=null,t}return _createClass(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this}},{key:"toJSON",value:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=qn.generateUUID()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)r.push(Qn(i[a].isDataTexture?i[a].image:i[a]))}else r=Qn(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(t){if(this.mapping!==ot)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case ft:t.x=t.x-Math.floor(t.x);break;case pt:t.x=t.x<0?0:1;break;case gt:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case ft:t.y=t.y-Math.floor(t.y);break;case pt:t.y=t.y<0?0:1;break;case gt:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}}]),n}(Fn);function Qn(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?Wn.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Yn.DEFAULT_IMAGE=void 0,Yn.DEFAULT_MAPPING=ot,Yn.prototype.isTexture=!0;var Jn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,t),this.x=e,this.y=n,this.z=i,this.w=r}return _createClass(t,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}},{key:"set",value:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*i+a[15]*r,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,i,r,a=.01,o=t.elements,s=o[0],l=o[4],u=o[8],c=o[1],h=o[5],d=o[9],f=o[2],p=o[6],g=o[10];if(Math.abs(l-c)<a&&Math.abs(u-f)<a&&Math.abs(d-p)<a){if(Math.abs(l+c)<.1&&Math.abs(u+f)<.1&&Math.abs(d+p)<.1&&Math.abs(s+h+g-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var v=(s+1)/2,m=(h+1)/2,_=(g+1)/2,y=(l+c)/4,b=(u+f)/4,x=(d+p)/4;return v>m&&v>_?v<a?(n=0,i=.707106781,r=.707106781):(i=y/(n=Math.sqrt(v)),r=b/n):m>_?m<a?(n=.707106781,i=0,r=.707106781):(n=y/(i=Math.sqrt(m)),r=x/i):_<a?(n=.707106781,i=.707106781,r=0):(n=b/(r=Math.sqrt(_)),i=x/r),this.set(n,i,r,e),this}var w=Math.sqrt((p-d)*(p-d)+(u-f)*(u-f)+(c-l)*(c-l));return Math.abs(w)<.001&&(w=1),this.x=(p-d)/w,this.y=(u-f)/w,this.z=(c-l)/w,this.w=Math.acos((s+h+g-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),t}();Jn.prototype.isVector4=!0;var Xn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this)).width=t,a.height=i,a.depth=1,a.scissor=new Jn(0,0,t,i),a.scissorTest=!1,a.viewport=new Jn(0,0,t,i),a.texture=new Yn(void 0,(r=r||{}).mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),a.texture.image={},a.texture.image.width=t,a.texture.image.height=i,a.texture.image.depth=1,a.texture.generateMipmaps=void 0!==r.generateMipmaps&&r.generateMipmaps,a.texture.minFilter=void 0!==r.minFilter?r.minFilter:xt,a.depthBuffer=void 0===r.depthBuffer||r.depthBuffer,a.stencilBuffer=void 0!==r.stencilBuffer&&r.stencilBuffer,a.depthTexture=void 0!==r.depthTexture?r.depthTexture:null,a}return _createClass(n,[{key:"setTexture",value:function(t){t.image={width:this.width,height:this.height,depth:this.depth},this.texture=t}},{key:"setSize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(this.width!==t||this.height!==e||this.depth!==n)&&(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Fn);Xn.prototype.isWebGLRenderTarget=!0;var $n=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,i,r)).samples=4,a}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.samples=t.samples,this}}]),n}(Xn);$n.prototype.isWebGLMultisampleRenderTarget=!0;var Kn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,t),this._x=e,this._y=n,this._z=i,this._w=r}return _createClass(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,a=t._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(i/2),c=o(r/2),h=s(n/2),d=s(i/2),f=s(r/2);switch(a){case"XYZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"YXZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"ZXY":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"ZYX":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"YZX":this._x=h*u*c+l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c-h*d*f;break;case"XZY":this._x=h*u*c-l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],i=e[4],r=e[8],a=e[1],o=e[5],s=e[9],l=e[2],u=e[6],c=e[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-s)*d,this._y=(r-l)*d,this._z=(a-i)*d}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(i+a)/f,this._z=(r+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(r-l)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var g=2*Math.sqrt(1+c-n-o);this._w=(a-i)/g,this._x=(r+l)/g,this._y=(s+u)/g,this._z=.25*g}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(qn.clamp(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._w,o=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+a*o+i*l-r*s,this._y=i*u+a*s+r*o-n*l,this._z=r*u+a*l+n*s-i*o,this._w=a*u-n*o-i*s-r*l,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*n+e*this._x,this._y=l*i+e*this._y,this._z=l*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-e)*c)/u,d=Math.sin(e*c)/u;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(t,e,n,i){return n.copy(t).slerp(e,i)}},{key:"slerpFlat",value:function(t,e,n,i,r,a,o){var s=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[a+0],d=r[a+1],f=r[a+2],p=r[a+3];if(0===o)return t[e+0]=s,t[e+1]=l,t[e+2]=u,void(t[e+3]=c);if(1===o)return t[e+0]=h,t[e+1]=d,t[e+2]=f,void(t[e+3]=p);if(c!==p||s!==h||l!==d||u!==f){var g=1-o,v=s*h+l*d+u*f+c*p,m=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){var y=Math.sqrt(_),b=Math.atan2(y,v*m);g=Math.sin(g*b)/y,o=Math.sin(o*b)/y}var x=o*m;if(s=s*g+h*x,l=l*g+d*x,u=u*g+f*x,c=c*g+p*x,g===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],u=n[i+3],c=r[a],h=r[a+1],d=r[a+2],f=r[a+3];return t[e]=o*f+u*c+s*d-l*h,t[e+1]=s*f+u*h+l*c-o*d,t[e+2]=l*f+u*d+o*h-s*c,t[e+3]=u*f-o*c-s*h-l*d,t}}]),t}();Kn.prototype.isQuaternion=!0;var ti=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,t),this.x=e,this.y=n,this.z=i}return _createClass(t,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ni.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(ni.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*a,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*i-o*n,u=s*n+o*e-r*i,c=s*i+r*n-a*e,h=-r*e-a*n-o*i;return this.x=l*s+h*-r+u*-o-c*-a,this.y=u*s+h*-a+c*-r-l*-o,this.z=c*s+h*-o+l*-a-u*-r,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return ei.copy(this).projectOnVector(t),this.sub(ei)}},{key:"reflect",value:function(t){return this.sub(ei.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(qn.clamp(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),t}();ti.prototype.isVector3=!0;var ei=new ti,ni=new Kn,ii=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti(-1/0,-1/0,-1/0);_classCallCheck(this,t),this.min=e,this.max=n}return _createClass(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],h=t[s+2];u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),h=t.getZ(s);u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=ai.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"setFromObject",value:function(t){return this.makeEmpty(),this.expandByObject(t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new ti),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new ti),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),oi.copy(e.boundingBox),oi.applyMatrix4(t.matrixWorld),this.union(oi));for(var n=t.children,i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new ti),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,ai),ai.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(fi),pi.subVectors(this.max,fi),si.subVectors(t.a,fi),li.subVectors(t.b,fi),ui.subVectors(t.c,fi),ci.subVectors(li,si),hi.subVectors(ui,li),di.subVectors(si,ui);var e=[0,-ci.z,ci.y,0,-hi.z,hi.y,0,-di.z,di.y,ci.z,0,-ci.x,hi.z,0,-hi.x,di.z,0,-di.x,-ci.y,ci.x,0,-hi.y,hi.x,0,-di.y,di.x,0];return!(!mi(e,si,li,ui,pi)||(e=[1,0,0,0,1,0,0,0,1],!mi(e,si,li,ui,pi)))&&(gi.crossVectors(ci,hi),mi(e=[gi.x,gi.y,gi.z],si,li,ui,pi))}},{key:"clampPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new ti),e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return ai.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"getBoundingSphere",value:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(ai).length(),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(ri[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),ri[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),ri[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),ri[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),ri[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),ri[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),ri[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),ri[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(ri)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();ii.prototype.isBox3=!0;var ri=[new ti,new ti,new ti,new ti,new ti,new ti,new ti,new ti],ai=new ti,oi=new ii,si=new ti,li=new ti,ui=new ti,ci=new ti,hi=new ti,di=new ti,fi=new ti,pi=new ti,gi=new ti,vi=new ti;function mi(t,e,n,i,r){for(var a=0,o=t.length-3;a<=o;a+=3){vi.fromArray(t,a);var s=r.x*Math.abs(vi.x)+r.y*Math.abs(vi.y)+r.z*Math.abs(vi.z),l=e.dot(vi),u=n.dot(vi),c=i.dot(vi);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var _i=new ii,yi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.center=e,this.radius=n}return _createClass(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):_i.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new ti),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new ii),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),bi=new ti,xi=new ti,wi=new ti,ki=new ti,Ci=new ti,Mi=new ti,Ti=new ti,Si=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti(0,0,-1);_classCallCheck(this,t),this.origin=e,this.direction=n}return _createClass(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new ti),e.copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,bi)),this}},{key:"closestPointToPoint",value:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new ti),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=bi.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(bi.copy(this.direction).multiplyScalar(e).add(this.origin),bi.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,n,i){xi.copy(t).add(e).multiplyScalar(.5),wi.copy(e).sub(t).normalize(),ki.copy(this.origin).sub(xi);var r,a,o,s,l=.5*t.distanceTo(e),u=-this.direction.dot(wi),c=ki.dot(this.direction),h=-ki.dot(wi),d=ki.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*c-h,s=l*f,(r=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(r*=p)*(r+u*(a*=p)+2*c)+a*(u*r+a+2*h)+d}else a=l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+d;else a=-l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+d;else a<=-s?o=-(r=Math.max(0,-(-u*l+c)))*r+(a=r>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+d):o=-(r=Math.max(0,-(u*l+c)))*r+(a=r>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d;else a=u>0?-l:l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(wi).multiplyScalar(a).add(xi),o}},{key:"intersectSphere",value:function(t,e){bi.subVectors(t.center,this.origin);var n=bi.dot(this.direction),i=bi.dot(bi)-n*n,r=t.radius*t.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:this.at(o<0?s:o,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}},{key:"intersectPlane",value:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,i,r,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,i=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,i=(t.min.x-h.x)*l),u>=0?(r=(t.min.y-h.y)*u,a=(t.max.y-h.y)*u):(r=(t.max.y-h.y)*u,a=(t.min.y-h.y)*u),n>a||r>i||((r>n||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),c>=0?(o=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(o=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||o>i)||((o>n||n!=n)&&(n=o),(s<i||i!=i)&&(i=s),i<0)?null:this.at(n>=0?n:i,e)}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,bi)}},{key:"intersectTriangle",value:function(t,e,n,i,r){Ci.subVectors(e,t),Mi.subVectors(n,t),Ti.crossVectors(Ci,Mi);var a,o=this.direction.dot(Ti);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}ki.subVectors(this.origin,t);var s=a*this.direction.dot(Mi.crossVectors(ki,Mi));if(s<0)return null;var l=a*this.direction.dot(Ci.cross(ki));if(l<0||s+l>o)return null;var u=-a*ki.dot(Ti);return u<0?null:this.at(u/o,r)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Ai=function(){function t(){_classCallCheck(this,t),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return _createClass(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,g){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=i,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=g,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"setFromMatrix3",value:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/Ei.setFromMatrixColumn(t,0).length(),r=1/Ei.setFromMatrixColumn(t,1).length(),a=1/Ei.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){var h=a*u,d=a*c,f=o*u,p=o*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=d+f*l,e[5]=h-p*l,e[9]=-o*s,e[2]=p-h*l,e[6]=f+d*l,e[10]=a*s}else if("YXZ"===t.order){var g=s*u,v=s*c,m=l*u,_=l*c;e[0]=g+_*o,e[4]=m*o-v,e[8]=a*l,e[1]=a*c,e[5]=a*u,e[9]=-o,e[2]=v*o-m,e[6]=_+g*o,e[10]=a*s}else if("ZXY"===t.order){var y=s*u,b=s*c,x=l*u,w=l*c;e[0]=y-w*o,e[4]=-a*c,e[8]=x+b*o,e[1]=b+x*o,e[5]=a*u,e[9]=w-y*o,e[2]=-a*l,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var k=a*u,C=a*c,M=o*u,T=o*c;e[0]=s*u,e[4]=M*l-C,e[8]=k*l+T,e[1]=s*c,e[5]=T*l+k,e[9]=C*l-M,e[2]=-l,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var S=a*s,A=a*l,E=o*s,P=o*l;e[0]=s*u,e[4]=P-S*c,e[8]=E*c+A,e[1]=c,e[5]=a*u,e[9]=-o*u,e[2]=-l*u,e[6]=A*c+E,e[10]=S-P*c}else if("XZY"===t.order){var I=a*s,O=a*l,R=o*s,L=o*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=I*c+L,e[5]=a*u,e[9]=O*c-R,e[2]=R*c-O,e[6]=o*u,e[10]=L*c+I}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(Ii,t,Oi)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return Di.subVectors(t,e),0===Di.lengthSq()&&(Di.z=1),Di.normalize(),Ri.crossVectors(n,Di),0===Ri.lengthSq()&&(1===Math.abs(n.z)?Di.x+=1e-4:Di.z+=1e-4,Di.normalize(),Ri.crossVectors(n,Di)),Ri.normalize(),Li.crossVectors(Di,Ri),i[0]=Ri.x,i[4]=Li.x,i[8]=Di.x,i[1]=Ri.y,i[5]=Li.y,i[9]=Di.y,i[2]=Ri.z,i[6]=Li.z,i[10]=Di.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],g=n[10],v=n[14],m=n[3],_=n[7],y=n[11],b=n[15],x=i[0],w=i[4],k=i[8],C=i[12],M=i[1],T=i[5],S=i[9],A=i[13],E=i[2],P=i[6],I=i[10],O=i[14],R=i[3],L=i[7],D=i[11],N=i[15];return r[0]=a*x+o*M+s*E+l*R,r[4]=a*w+o*T+s*P+l*L,r[8]=a*k+o*S+s*I+l*D,r[12]=a*C+o*A+s*O+l*N,r[1]=u*x+c*M+h*E+d*R,r[5]=u*w+c*T+h*P+d*L,r[9]=u*k+c*S+h*I+d*D,r[13]=u*C+c*A+h*O+d*N,r[2]=f*x+p*M+g*E+v*R,r[6]=f*w+p*T+g*P+v*L,r[10]=f*k+p*S+g*I+v*D,r[14]=f*C+p*A+g*O+v*N,r[3]=m*x+_*M+y*E+b*R,r[7]=m*w+_*T+y*P+b*L,r[11]=m*k+_*S+y*I+b*D,r[15]=m*C+_*A+y*O+b*N,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],d=t[14];return t[3]*(+r*s*c-i*l*c-r*o*h+n*l*h+i*o*d-n*s*d)+t[7]*(+e*s*d-e*l*h+r*a*h-i*a*d+i*l*u-r*s*u)+t[11]*(+e*l*c-e*o*d-r*a*c+n*a*d+r*o*u-n*l*u)+t[15]*(-i*o*u-e*s*c+e*o*h+i*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],g=t[14],v=t[15],m=c*g*l-p*h*l+p*s*d-o*g*d-c*s*v+o*h*v,_=f*h*l-u*g*l-f*s*d+a*g*d+u*s*v-a*h*v,y=u*p*l-f*c*l+f*o*d-a*p*d-u*o*v+a*c*v,b=f*c*s-u*p*s-f*o*h+a*p*h+u*o*g-a*c*g,x=e*m+n*_+i*y+r*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return t[0]=m*w,t[1]=(p*h*r-c*g*r-p*i*d+n*g*d+c*i*v-n*h*v)*w,t[2]=(o*g*r-p*s*r+p*i*l-n*g*l-o*i*v+n*s*v)*w,t[3]=(c*s*r-o*h*r-c*i*l+n*h*l+o*i*d-n*s*d)*w,t[4]=_*w,t[5]=(u*g*r-f*h*r+f*i*d-e*g*d-u*i*v+e*h*v)*w,t[6]=(f*s*r-a*g*r-f*i*l+e*g*l+a*i*v-e*s*v)*w,t[7]=(a*h*r-u*s*r+u*i*l-e*h*l-a*i*d+e*s*d)*w,t[8]=y*w,t[9]=(f*c*r-u*p*r-f*n*d+e*p*d+u*n*v-e*c*v)*w,t[10]=(a*p*r-f*o*r+f*n*l-e*p*l-a*n*v+e*o*v)*w,t[11]=(u*o*r-a*c*r-u*n*l+e*c*l+a*n*d-e*o*d)*w,t[12]=b*w,t[13]=(u*p*i-f*c*i+f*n*h-e*p*h-u*n*g+e*c*g)*w,t[14]=(f*o*i-a*p*i-f*n*s+e*p*s+a*n*g-e*o*g)*w,t[15]=(a*c*i-u*o*i+u*n*s-e*c*s-a*n*h+e*o*h)*w,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,a=t.x,o=t.y,s=t.z,l=r*a,u=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,u*o+n,u*s-i*a,0,l*s-i*o,u*s+i*a,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,l=r+r,u=a+a,c=o+o,h=r*l,d=r*u,f=r*c,p=a*u,g=a*c,v=o*c,m=s*l,_=s*u,y=s*c,b=n.x,x=n.y,w=n.z;return i[0]=(1-(p+v))*b,i[1]=(d+y)*b,i[2]=(f-_)*b,i[3]=0,i[4]=(d-y)*x,i[5]=(1-(h+v))*x,i[6]=(g+m)*x,i[7]=0,i[8]=(f+_)*w,i[9]=(g-m)*w,i[10]=(1-(h+p))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=Ei.set(i[0],i[1],i[2]).length(),a=Ei.set(i[4],i[5],i[6]).length(),o=Ei.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],Pi.copy(this);var s=1/r,l=1/a,u=1/o;return Pi.elements[0]*=s,Pi.elements[1]*=s,Pi.elements[2]*=s,Pi.elements[4]*=l,Pi.elements[5]*=l,Pi.elements[6]*=l,Pi.elements[8]*=u,Pi.elements[9]*=u,Pi.elements[10]*=u,e.setFromRotationMatrix(Pi),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(t,e,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(n-i),l=(e+t)/(e-t),u=(n+i)/(n-i),c=-(a+r)/(a-r),h=-2*a*r/(a-r);return o[0]=2*r/(e-t),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=s,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,a){var o=this.elements,s=1/(e-t),l=1/(n-i),u=1/(a-r),c=(e+t)*s,h=(n+i)*l,d=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),t}();Ai.prototype.isMatrix4=!0;var Ei=new ti,Pi=new Ai,Ii=new ti(0,0,0),Oi=new ti(1,1,1),Ri=new ti,Li=new ti,Di=new ti,Ni=new Ai,Zi=new Kn,Fi=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;_classCallCheck(this,t),this._x=e,this._y=n,this._z=i,this._order=r}return _createClass(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t,e,n){var i=qn.clamp,r=t.elements,a=r[0],o=r[4],s=r[8],l=r[1],u=r[5],c=r[9],h=r[2],d=r[6],f=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,f),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,u),this._z=0);break;case"YXZ":this._x=Math.asin(-i(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-h,a),this._z=0);break;case"ZXY":this._x=Math.asin(i(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-i(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return Ni.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Ni,e,n)}},{key:"setFromVector3",value:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)}},{key:"reorder",value:function(t){return Zi.setFromEuler(this),this.setFromQuaternion(Zi,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"toVector3",value:function(t){return t?t.set(this._x,this._y,this._z):new ti(this._x,this._y,this._z)}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}]),t}();Fi.prototype.isEuler=!0,Fi.DefaultOrder="XYZ",Fi.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Ui=function(){function t(){_classCallCheck(this,t),this.mask=1}return _createClass(t,[{key:"set",value:function(t){this.mask=1<<t|0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!=(this.mask&t.mask)}}]),t}(),Bi=0,zi=new ti,qi=new Kn,Hi=new Ai,Gi=new ti,Vi=new ti,Wi=new ti,ji=new Kn,Yi=new ti(1,0,0),Qi=new ti(0,1,0),Ji=new ti(0,0,1),Xi={type:"added"},$i={type:"removed"};function Ki(){Object.defineProperty(this,"id",{value:Bi++}),this.uuid=qn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ki.DefaultUp.clone();var t=new ti,e=new Fi,n=new Kn,i=new ti(1,1,1);e._onChange(function(){n.setFromEuler(e,!1)}),n._onChange(function(){e.setFromQuaternion(n,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ai},normalMatrix:{value:new Vn}}),this.matrix=new Ai,this.matrixWorld=new Ai,this.matrixAutoUpdate=Ki.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ui,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Ki.DefaultUp=new ti(0,1,0),Ki.DefaultMatrixAutoUpdate=!0,Ki.prototype=Object.assign(Object.create(Fn.prototype),{constructor:Ki,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return qi.setFromAxisAngle(t,e),this.quaternion.multiply(qi),this},rotateOnWorldAxis:function(t,e){return qi.setFromAxisAngle(t,e),this.quaternion.premultiply(qi),this},rotateX:function(t){return this.rotateOnAxis(Yi,t)},rotateY:function(t){return this.rotateOnAxis(Qi,t)},rotateZ:function(t){return this.rotateOnAxis(Ji,t)},translateOnAxis:function(t,e){return zi.copy(t).applyQuaternion(this.quaternion),this.position.add(zi.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(Yi,t)},translateY:function(t){return this.translateOnAxis(Qi,t)},translateZ:function(t){return this.translateOnAxis(Ji,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(Hi.copy(this.matrixWorld).invert())},lookAt:function(t,e,n){t.isVector3?Gi.copy(t):Gi.set(t,e,n);var i=this.parent;this.updateWorldMatrix(!0,!1),Vi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hi.lookAt(Vi,Gi,this.up):Hi.lookAt(Gi,Vi,this.up),this.quaternion.setFromRotationMatrix(Hi),i&&(Hi.extractRotation(i.matrixWorld),qi.setFromRotationMatrix(Hi),this.quaternion.premultiply(qi.invert()))},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Xi)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent($i)),this},clear:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent($i)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),Hi.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Hi.multiply(t.parent.matrixWorld)),t.applyMatrix4(Hi),this.add(t),t.updateWorldMatrix(!1,!0),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new ti),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new Kn),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vi,t,Wi),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new ti),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Vi,ji,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new ti),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++)r(t.shapes,o[s]);else r(t.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],c=0,h=this.material.length;c<h;c++)u.push(r(t.materials,this.material[c]));i.material=u}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(var d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(var f=0;f<this.animations.length;f++)i.animations.push(r(t.animations,this.animations[f]))}if(e){var p=x(t.geometries),g=x(t.materials),v=x(t.textures),m=x(t.images),_=x(t.shapes),y=x(t.skeletons),b=x(t.animations);p.length>0&&(n.geometries=p),g.length>0&&(n.materials=g),v.length>0&&(n.textures=v),m.length>0&&(n.images=m),_.length>0&&(n.shapes=_),y.length>0&&(n.skeletons=y),b.length>0&&(n.animations=b)}return n.object=i,n;function x(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}});var tr=new ti,er=new ti,nr=new Vn,ir=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.normal=e,this.constant=n}return _createClass(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){var i=tr.subVectors(n,e).cross(er.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new ti),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}},{key:"intersectLine",value:function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new ti);var n=t.delta(tr),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new ti),t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||nr.getNormalMatrix(t),i=this.coplanarPoint(tr).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();ir.prototype.isPlane=!0;var rr=new ti,ar=new ti,or=new ti,sr=new ti,lr=new ti,ur=new ti,cr=new ti,hr=new ti,dr=new ti,fr=new ti,pr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ti;_classCallCheck(this,t),this.a=e,this.b=n,this.c=i}return _createClass(t,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return rr.subVectors(this.c,this.b),ar.subVectors(this.a,this.b),.5*rr.cross(ar).length()}},{key:"getMidpoint",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new ti),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new ir),t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}},{key:"getUV",value:function(e,n,i,r,a){return t.getUV(e,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new ti);var n,i,r=this.a,a=this.b,o=this.c;lr.subVectors(a,r),ur.subVectors(o,r),hr.subVectors(t,r);var s=lr.dot(hr),l=ur.dot(hr);if(s<=0&&l<=0)return e.copy(r);dr.subVectors(t,a);var u=lr.dot(dr),c=ur.dot(dr);if(u>=0&&c<=u)return e.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),e.copy(r).addScaledVector(lr,n);fr.subVectors(t,o);var d=lr.dot(fr),f=ur.dot(fr);if(f>=0&&d<=f)return e.copy(o);var p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return i=l/(l-f),e.copy(r).addScaledVector(ur,i);var g=u*f-d*c;if(g<=0&&c-u>=0&&d-f>=0)return cr.subVectors(o,a),i=(c-u)/(c-u+(d-f)),e.copy(a).addScaledVector(cr,i);var v=1/(g+p+h);return n=p*v,i=h*v,e.copy(r).addScaledVector(lr,n).addScaledVector(ur,i)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new ti),i.subVectors(n,e),rr.subVectors(t,e),i.cross(rr);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,i,r){rr.subVectors(i,e),ar.subVectors(n,e),or.subVectors(t,e);var a=rr.dot(rr),o=rr.dot(ar),s=rr.dot(or),l=ar.dot(ar),u=ar.dot(or),c=a*l-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new ti),0===c)return r.set(-2,-1,-1);var h=1/c,d=(l*s-o*u)*h,f=(a*u-o*s)*h;return r.set(1-d-f,f,d)}},{key:"containsPoint",value:function(t,e,n,i){return this.getBarycoord(t,e,n,i,sr),sr.x>=0&&sr.y>=0&&sr.x+sr.y<=1}},{key:"getUV",value:function(t,e,n,i,r,a,o,s){return this.getBarycoord(t,e,n,i,sr),s.set(0,0),s.addScaledVector(r,sr.x),s.addScaledVector(a,sr.y),s.addScaledVector(o,sr.z),s}},{key:"isFrontFacing",value:function(t,e,n,i){return rr.subVectors(n,e),ar.subVectors(t,e),rr.cross(ar).dot(i)<0}}]),t}(),gr=0;function vr(){Object.defineProperty(this,"id",{value:gr++}),this.uuid=qn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=w,this.side=v,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=N,this.blendDst=Z,this.blendEquation=S,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=W,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Tn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=dn,this.stencilZFail=dn,this.stencilZPass=dn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}vr.prototype=Object.assign(Object.create(Fn.prototype),{constructor:vr,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===y;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==w&&(n.blending=this.blending),this.side!==v&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var r=i(t.textures),a=i(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(vr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});var mr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_r={h:0,s:0,l:0},yr={h:0,s:0,l:0};function br(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function xr(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function wr(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var kr=function(){var t=function(){function t(e,n,i){return _classCallCheck(this,t),void 0===n&&void 0===i?this.set(e):this.setRGB(e,n,i)}return _createClass(t,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}},{key:"setRGB",value:function(t,e,n){return this.r=t,this.g=e,this.b=n,this}},{key:"setHSL",value:function(t,e,n){if(t=qn.euclideanModulo(t,1),e=qn.clamp(e,0,1),n=qn.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=br(r,i,t+1/3),this.g=br(r,i,t),this.b=br(r,i,t-1/3)}return this}},{key:"setStyle",value:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){var i,r=n[2];switch(n[1]){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){var a=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100;return e(i[4]),this.setHSL(a,o,s)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){var l=n[1],u=l.length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}},{key:"setColorName",value:function(t){var e=mr[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copyGammaToLinear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}},{key:"copyLinearToGamma",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}},{key:"convertGammaToLinear",value:function(t){return this.copyGammaToLinear(this,t),this}},{key:"convertLinearToGamma",value:function(t){return this.copyLinearToGamma(this,t),this}},{key:"copySRGBToLinear",value:function(t){return this.r=xr(t.r),this.g=xr(t.g),this.b=xr(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=wr(t.r),this.g=wr(t.g),this.b=wr(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),l=(s+o)/2;if(s===o)e=0,n=0;else{var u=o-s;switch(n=l<=.5?u/(o+s):u/(2-o-s),o){case i:e=(r-a)/u+(r<a?6:0);break;case r:e=(a-i)/u+2;break;case a:e=(i-r)/u+4}e/=6}return t.h=e,t.s=n,t.l=l,t}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(_r),_r.h+=t,_r.s+=e,_r.l+=n,this.setHSL(_r.h,_r.s,_r.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpColors",value:function(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(_r),t.getHSL(yr);var n=qn.lerp(_r.h,yr.h,e),i=qn.lerp(_r.s,yr.s,e),r=qn.lerp(_r.l,yr.l,e);return this.setHSL(n,i,r),this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),t}();return t.NAMES=mr,t}();kr.prototype.isColor=!0,kr.prototype.r=1,kr.prototype.g=1,kr.prototype.b=1;var Cr=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshBasicMaterial",i.color=new kr(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=X,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.skinning=!1,i.morphTargets=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this}}]),n}(vr);Cr.prototype.isMeshBasicMaterial=!0;var Mr=new ti,Tr=new Hn;function Sr(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.usage=Sn,this.updateRange={offset:0,count:-1},this.version=0}function Ar(t,e,n){Sr.call(this,new Int8Array(t),e,n)}function Er(t,e,n){Sr.call(this,new Uint8Array(t),e,n)}function Pr(t,e,n){Sr.call(this,new Uint8ClampedArray(t),e,n)}function Ir(t,e,n){Sr.call(this,new Int16Array(t),e,n)}function Or(t,e,n){Sr.call(this,new Uint16Array(t),e,n)}function Rr(t,e,n){Sr.call(this,new Int32Array(t),e,n)}function Lr(t,e,n){Sr.call(this,new Uint32Array(t),e,n)}function Dr(t,e,n){Sr.call(this,new Uint16Array(t),e,n)}function Nr(t,e,n){Sr.call(this,new Float32Array(t),e,n)}function Zr(t,e,n){Sr.call(this,new Float64Array(t),e,n)}function Fr(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}Object.defineProperty(Sr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Sr.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new kr),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new Hn),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new ti),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new Jn),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)Tr.fromBufferAttribute(this,e),Tr.applyMatrix3(t),this.setXY(e,Tr.x,Tr.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)Mr.fromBufferAttribute(this,i),Mr.applyMatrix3(t),this.setXYZ(i,Mr.x,Mr.y,Mr.z);return this},applyMatrix4:function(t){for(var e=0,n=this.count;e<n;e++)Mr.x=this.getX(e),Mr.y=this.getY(e),Mr.z=this.getZ(e),Mr.applyMatrix4(t),this.setXYZ(e,Mr.x,Mr.y,Mr.z);return this},applyNormalMatrix:function(t){for(var e=0,n=this.count;e<n;e++)Mr.x=this.getX(e),Mr.y=this.getY(e),Mr.z=this.getZ(e),Mr.applyNormalMatrix(t),this.setXYZ(e,Mr.x,Mr.y,Mr.z);return this},transformDirection:function(t){for(var e=0,n=this.count;e<n;e++)Mr.x=this.getX(e),Mr.y=this.getY(e),Mr.z=this.getZ(e),Mr.transformDirection(t),this.setXYZ(e,Mr.x,Mr.y,Mr.z);return this},set:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),(Ar.prototype=Object.create(Sr.prototype)).constructor=Ar,(Er.prototype=Object.create(Sr.prototype)).constructor=Er,(Pr.prototype=Object.create(Sr.prototype)).constructor=Pr,(Ir.prototype=Object.create(Sr.prototype)).constructor=Ir,(Or.prototype=Object.create(Sr.prototype)).constructor=Or,(Rr.prototype=Object.create(Sr.prototype)).constructor=Rr,(Lr.prototype=Object.create(Sr.prototype)).constructor=Lr,(Dr.prototype=Object.create(Sr.prototype)).constructor=Dr,Dr.prototype.isFloat16BufferAttribute=!0,(Nr.prototype=Object.create(Sr.prototype)).constructor=Nr,(Zr.prototype=Object.create(Sr.prototype)).constructor=Zr;var Ur={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Br(t,e){return new Ur[t](e)}var zr=0,qr=new Ai,Hr=new Ki,Gr=new ti,Vr=new ii,Wr=new ii,jr=new ti;function Yr(){Object.defineProperty(this,"id",{value:zr++}),this.uuid=qn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Yr.prototype=Object.assign(Object.create(Fn.prototype),{constructor:Yr,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return this.index=Array.isArray(t)?new(Fr(t)>65535?Lr:Or)(t,1):t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:n})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new Vn).getNormalMatrix(t);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return qr.makeRotationX(t),this.applyMatrix4(qr),this},rotateY:function(t){return qr.makeRotationY(t),this.applyMatrix4(qr),this},rotateZ:function(t){return qr.makeRotationZ(t),this.applyMatrix4(qr),this},translate:function(t,e,n){return qr.makeTranslation(t,e,n),this.applyMatrix4(qr),this},scale:function(t,e,n){return qr.makeScale(t,e,n),this.applyMatrix4(qr),this},lookAt:function(t){return Hr.lookAt(t),Hr.updateMatrix(),this.applyMatrix4(Hr.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gr).negate(),this.translate(Gr.x,Gr.y,Gr.z),this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Nr(e,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new ii);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ti(-1/0,-1/0,-1/0),new ti(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++)Vr.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(jr.addVectors(this.boundingBox.min,Vr.min),this.boundingBox.expandByPoint(jr),jr.addVectors(this.boundingBox.max,Vr.max),this.boundingBox.expandByPoint(jr)):(this.boundingBox.expandByPoint(Vr.min),this.boundingBox.expandByPoint(Vr.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new yi);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ti,1/0);if(t){var n=this.boundingSphere.center;if(Vr.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++)Wr.setFromBufferAttribute(e[i]),this.morphTargetsRelative?(jr.addVectors(Vr.min,Wr.min),Vr.expandByPoint(jr),jr.addVectors(Vr.max,Wr.max),Vr.expandByPoint(jr)):(Vr.expandByPoint(Wr.min),Vr.expandByPoint(Wr.max));Vr.getCenter(n);for(var a=0,o=0,s=t.count;o<s;o++)jr.fromBufferAttribute(t,o),a=Math.max(a,n.distanceToSquared(jr));if(e)for(var l=0,u=e.length;l<u;l++)for(var c=e[l],h=this.morphTargetsRelative,d=0,f=c.count;d<f;d++)jr.fromBufferAttribute(c,d),h&&(Gr.fromBufferAttribute(t,d),jr.add(Gr)),a=Math.max(a,n.distanceToSquared(jr));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){var t=this.index,e=this.attributes;if(null!==t&&void 0!==e.position&&void 0!==e.normal&&void 0!==e.uv){var n=t.array,i=e.position.array,r=e.normal.array,a=e.uv.array,o=i.length/3;void 0===e.tangent&&this.setAttribute("tangent",new Sr(new Float32Array(4*o),4));for(var s=e.tangent.array,l=[],u=[],c=0;c<o;c++)l[c]=new ti,u[c]=new ti;var h=new ti,d=new ti,f=new ti,p=new Hn,g=new Hn,v=new Hn,m=new ti,_=new ti,y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(var b=0,x=y.length;b<x;++b)for(var w=y[b],k=w.start,C=k,M=k+w.count;C<M;C+=3)N(n[C+0],n[C+1],n[C+2]);for(var T=new ti,S=new ti,A=new ti,E=new ti,P=0,I=y.length;P<I;++P)for(var O=y[P],R=O.start,L=R,D=R+O.count;L<D;L+=3)Z(n[L+0]),Z(n[L+1]),Z(n[L+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function N(t,e,n){h.fromArray(i,3*t),d.fromArray(i,3*e),f.fromArray(i,3*n),p.fromArray(a,2*t),g.fromArray(a,2*e),v.fromArray(a,2*n),d.sub(h),f.sub(h),g.sub(p),v.sub(p);var r=1/(g.x*v.y-v.x*g.y);!isFinite(r)||(m.copy(d).multiplyScalar(v.y).addScaledVector(f,-g.y).multiplyScalar(r),_.copy(f).multiplyScalar(g.x).addScaledVector(d,-v.x).multiplyScalar(r),l[t].add(m),l[e].add(m),l[n].add(m),u[t].add(_),u[e].add(_),u[n].add(_))}function Z(t){A.fromArray(r,3*t),E.copy(A);var e=l[t];T.copy(e),T.sub(A.multiplyScalar(A.dot(e))).normalize(),S.crossVectors(E,e);var n=S.dot(u[t])<0?-1:1;s[4*t]=T.x,s[4*t+1]=T.y,s[4*t+2]=T.z,s[4*t+3]=n}},computeVertexNormals:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new Sr(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new ti,o=new ti,s=new ti,l=new ti,u=new ti,c=new ti,h=new ti,d=new ti;if(t)for(var f=0,p=t.count;f<p;f+=3){var g=t.getX(f+0),v=t.getX(f+1),m=t.getX(f+2);a.fromBufferAttribute(e,g),o.fromBufferAttribute(e,v),s.fromBufferAttribute(e,m),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),l.fromBufferAttribute(n,g),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,m),l.add(h),u.add(h),c.add(h),n.setXYZ(g,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,c.x,c.y,c.z)}else for(var _=0,y=e.count;_<y;_+=3)a.fromBufferAttribute(e,_+0),o.fromBufferAttribute(e,_+1),s.fromBufferAttribute(e,_+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(_+0,h.x,h.y,h.z),n.setXYZ(_+1,h.x,h.y,h.z),n.setXYZ(_+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i].array,a=t.attributes[i],o=a.array,s=a.itemSize*e,l=Math.min(o.length,r.length-s),u=0,c=s;u<l;u++,c++)r[c]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)jr.fromBufferAttribute(t,e),jr.normalize(),t.setXYZ(e,jr.x,jr.y,jr.z)},toNonIndexed:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=t.normalized,a=new n.constructor(e.length*i),o=0,s=0,l=0,u=e.length;l<u;l++){o=e[l]*i;for(var c=0;c<i;c++)a[s++]=n[o++]}return new Sr(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var e=new Yr,n=this.index.array,i=this.attributes;for(var r in i){var a=t(i[r],n);e.setAttribute(r,a)}var o=this.morphAttributes;for(var s in o){for(var l=[],u=o[s],c=0,h=u.length;c<h;c++){var d=t(u[c],n);l.push(d)}e.morphAttributes[s]=l}e.morphTargetsRelative=this.morphTargetsRelative;for(var f=this.groups,p=0,g=f.length;p<g;p++){var v=f[p];e.addGroup(v.start,v.count,v.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var a in r){var o=r[a],s=o.toJSON(t.data);""!==o.name&&(s.name=o.name),t.data.attributes[a]=s}var l={},u=!1;for(var c in this.morphAttributes){for(var h=this.morphAttributes[c],d=[],f=0,p=h.length;f<p;f++){var g=h[f],v=g.toJSON(t.data);""!==g.name&&(v.name=g.name),d.push(v)}d.length>0&&(l[c]=d,u=!0)}u&&(t.data.morphAttributes=l,t.data.morphTargetsRelative=this.morphTargetsRelative);var m=this.groups;m.length>0&&(t.data.groups=JSON.parse(JSON.stringify(m)));var _=this.boundingSphere;return null!==_&&(t.data.boundingSphere={center:_.center.toArray(),radius:_.radius}),t},clone:function(){return(new Yr).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e={};this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone(e));var i=t.attributes;for(var r in i)this.setAttribute(r,i[r].clone(e));var a=t.morphAttributes;for(var o in a){for(var s=[],l=a[o],u=0,c=l.length;u<c;u++)s.push(l[u].clone(e));this.morphAttributes[o]=s}this.morphTargetsRelative=t.morphTargetsRelative;for(var h=t.groups,d=0,f=h.length;d<f;d++){var p=h[d];this.addGroup(p.start,p.count,p.materialIndex)}var g=t.boundingBox;null!==g&&(this.boundingBox=g.clone());var v=t.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Qr=new Ai,Jr=new Si,Xr=new yi,$r=new ti,Kr=new ti,ta=new ti,ea=new ti,na=new ti,ia=new ti,ra=new ti,aa=new ti,oa=new ti,sa=new Hn,la=new Hn,ua=new Hn,ca=new ti,ha=new ti;function da(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yr,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Cr;Ki.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function fa(t,e,n,i,r,a,o,s,l,u,c,h){$r.fromBufferAttribute(r,u),Kr.fromBufferAttribute(r,c),ta.fromBufferAttribute(r,h);var d=t.morphTargetInfluences;if(e.morphTargets&&a&&d){ra.set(0,0,0),aa.set(0,0,0),oa.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var g=d[f],v=a[f];0!==g&&(ea.fromBufferAttribute(v,u),na.fromBufferAttribute(v,c),ia.fromBufferAttribute(v,h),o?(ra.addScaledVector(ea,g),aa.addScaledVector(na,g),oa.addScaledVector(ia,g)):(ra.addScaledVector(ea.sub($r),g),aa.addScaledVector(na.sub(Kr),g),oa.addScaledVector(ia.sub(ta),g)))}$r.add(ra),Kr.add(aa),ta.add(oa)}t.isSkinnedMesh&&e.skinning&&(t.boneTransform(u,$r),t.boneTransform(c,Kr),t.boneTransform(h,ta));var y=function(t,e,n,i,r,a,o,s){if(null===(e.side===m?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,e.side!==_,s)))return null;ha.copy(s),ha.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(ha);return l<n.near||l>n.far?null:{distance:l,point:ha.clone(),object:t}}(t,e,n,i,$r,Kr,ta,ca);if(y){s&&(sa.fromBufferAttribute(s,u),la.fromBufferAttribute(s,c),ua.fromBufferAttribute(s,h),y.uv=pr.getUV(ca,$r,Kr,ta,sa,la,ua,new Hn)),l&&(sa.fromBufferAttribute(l,u),la.fromBufferAttribute(l,c),ua.fromBufferAttribute(l,h),y.uv2=pr.getUV(ca,$r,Kr,ta,sa,la,ua,new Hn));var b={a:u,b:c,c:h,normal:new ti,materialIndex:0};pr.getNormal($r,Kr,ta,b.normal),y.face=b}return y}da.prototype=Object.assign(Object.create(Ki.prototype),{constructor:da,isMesh:!0,copy:function(t){return Ki.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var n,i=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),Xr.copy(i.boundingSphere),Xr.applyMatrix4(a),!1!==t.ray.intersectsSphere(Xr))&&(Qr.copy(a).invert(),Jr.copy(t.ray).applyMatrix4(Qr),null===i.boundingBox||!1!==Jr.intersectsBox(i.boundingBox)))if(i.isBufferGeometry){var o=i.index,s=i.attributes.position,l=i.morphAttributes.position,u=i.morphTargetsRelative,c=i.attributes.uv,h=i.attributes.uv2,d=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(r))for(var p=0,g=d.length;p<g;p++)for(var v=d[p],m=r[v.materialIndex],_=Math.max(v.start,f.start),y=Math.min(v.start+v.count,f.start+f.count);_<y;_+=3){var b=o.getX(_),x=o.getX(_+1),w=o.getX(_+2);(n=fa(this,m,t,Jr,s,l,u,c,h,b,x,w))&&(n.faceIndex=Math.floor(_/3),n.face.materialIndex=v.materialIndex,e.push(n))}else for(var k=Math.max(0,f.start),C=Math.min(o.count,f.start+f.count);k<C;k+=3){var M=o.getX(k),T=o.getX(k+1),S=o.getX(k+2);(n=fa(this,r,t,Jr,s,l,u,c,h,M,T,S))&&(n.faceIndex=Math.floor(k/3),e.push(n))}else if(void 0!==s)if(Array.isArray(r))for(var A=0,E=d.length;A<E;A++)for(var P=d[A],I=r[P.materialIndex],O=Math.max(P.start,f.start),R=Math.min(P.start+P.count,f.start+f.count);O<R;O+=3)(n=fa(this,I,t,Jr,s,l,u,c,h,O,O+1,O+2))&&(n.faceIndex=Math.floor(O/3),n.face.materialIndex=P.materialIndex,e.push(n));else for(var L=Math.max(0,f.start),D=Math.min(s.count,f.start+f.count);L<D;L+=3)(n=fa(this,r,t,Jr,s,l,u,c,h,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),e.push(n))}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});var pa=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;_classCallCheck(this,n),(t=e.call(this)).type="BoxGeometry",t.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=_assertThisInitialized(t);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],d=[],f=[],p=0,g=0;function v(t,e,n,i,r,a,o,s,l,v,m){for(var _=a/l,y=o/v,b=a/2,x=o/2,w=s/2,k=l+1,C=v+1,M=0,T=0,S=new ti,A=0;A<C;A++)for(var E=A*y-x,P=0;P<k;P++)S[t]=(P*_-b)*i,S[e]=E*r,S[n]=w,h.push(S.x,S.y,S.z),S[t]=0,S[e]=0,S[n]=s>0?1:-1,d.push(S.x,S.y,S.z),f.push(P/l),f.push(1-A/v),M+=1;for(var I=0;I<v;I++)for(var O=0;O<l;O++){var R=p+O+k*(I+1),L=p+(O+1)+k*(I+1),D=p+(O+1)+k*I;c.push(p+O+k*I,R,D),c.push(R,L,D),T+=6}u.addGroup(g,T,m),g+=T,p+=M}return v("z","y","x",-1,-1,a,r,i,l,s,0),v("z","y","x",1,-1,a,r,-i,l,s,1),v("x","z","y",1,1,i,a,r,o,l,2),v("x","z","y",1,-1,i,a,-r,o,l,3),v("x","y","z",1,-1,i,r,a,o,s,4),v("x","y","z",-1,-1,i,r,-a,o,s,5),t.setIndex(c),t.setAttribute("position",new Nr(h,3)),t.setAttribute("normal",new Nr(d,3)),t.setAttribute("uv",new Nr(f,2)),t}return _createClass(n)}(Yr);function ga(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];e[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}return e}function va(t){for(var e={},n=0;n<t.length;n++){var i=ga(t[n]);for(var r in i)e[r]=i[r]}return e}var ma={clone:ga,merge:va};function _a(t){vr.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function ya(){Ki.call(this),this.type="Camera",this.matrixWorldInverse=new Ai,this.projectionMatrix=new Ai,this.projectionMatrixInverse=new Ai}function ba(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;ya.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}(_a.prototype=Object.create(vr.prototype)).constructor=_a,_a.prototype.isShaderMaterial=!0,_a.prototype.copy=function(t){return vr.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=ga(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},_a.prototype.toJSON=function(t){var e=vr.prototype.toJSON.call(this,t);for(var n in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var i=this.uniforms[n].value;e.uniforms[n]=i&&i.isTexture?{type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?{type:"c",value:i.getHex()}:i&&i.isVector2?{type:"v2",value:i.toArray()}:i&&i.isVector3?{type:"v3",value:i.toArray()}:i&&i.isVector4?{type:"v4",value:i.toArray()}:i&&i.isMatrix3?{type:"m3",value:i.toArray()}:i&&i.isMatrix4?{type:"m4",value:i.toArray()}:{value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var r={};for(var a in this.extensions)!0===this.extensions[a]&&(r[a]=!0);return Object.keys(r).length>0&&(e.extensions=r),e},ya.prototype=Object.assign(Object.create(Ki.prototype),{constructor:ya,isCamera:!0,copy:function(t,e){return Ki.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new ti),this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Ki.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){Ki.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),ba.prototype=Object.assign(Object.create(ya.prototype),{constructor:ba,isPerspectiveCamera:!0,copy:function(t,e){return ya.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*qn.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*qn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*qn.RAD2DEG*Math.atan(Math.tan(.5*qn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*qn.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,e-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){var e=Ki.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});var xa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;if(_classCallCheck(this,n),(a=e.call(this)).type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return _possibleConstructorReturn(a,void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."));a.renderTarget=r;var o=new ba(90,1,t,i);o.layers=a.layers,o.up.set(0,-1,0),o.lookAt(new ti(1,0,0)),a.add(o);var s=new ba(90,1,t,i);s.layers=a.layers,s.up.set(0,-1,0),s.lookAt(new ti(-1,0,0)),a.add(s);var l=new ba(90,1,t,i);l.layers=a.layers,l.up.set(0,0,1),l.lookAt(new ti(0,1,0)),a.add(l);var u=new ba(90,1,t,i);u.layers=a.layers,u.up.set(0,0,-1),u.lookAt(new ti(0,-1,0)),a.add(u);var c=new ba(90,1,t,i);c.layers=a.layers,c.up.set(0,-1,0),c.lookAt(new ti(0,0,1)),a.add(c);var h=new ba(90,1,t,i);return h.layers=a.layers,h.up.set(0,-1,0),h.lookAt(new ti(0,0,-1)),a.add(h),_possibleConstructorReturn(a)}return _createClass(n,[{key:"update",value:function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=_slicedToArray(this.children,6),r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],u=i[5],c=t.xr.enabled,h=t.getRenderTarget();t.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,a),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,s),t.setRenderTarget(n,4),t.render(e,l),n.texture.generateMipmaps=d,t.setRenderTarget(n,5),t.render(e,u),t.setRenderTarget(h),t.xr.enabled=c}}]),n}(Ki),wa=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c,h){var d;return _classCallCheck(this,n),(d=e.call(this,t=void 0!==t?t:[],i=void 0!==i?i:st,r,a,o,s,l=void 0!==l?l:Ut,u,c,h))._needsFlipEnvMap=!0,d.flipY=!1,d}return _createClass(n,[{key:"images",get:function(){return this.image},set:function(t){this.image=t}}]),n}(Yn);wa.prototype.isCubeTexture=!0;var ka=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),Number.isInteger(i)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),i=r),(a=e.call(this,t,t,i)).texture=new wa(void 0,(i=i||{}).mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),a.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,a.texture.minFilter=void 0!==i.minFilter?i.minFilter:xt,a.texture._needsFlipEnvMap=!1,a}return _createClass(n,[{key:"fromEquirectangularTexture",value:function(t,e){this.texture.type=e.type,this.texture.format=Bt,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n=new pa(5,5,5),i=new _a({name:"CubemapFromEquirect",uniforms:ga({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:m,blending:x});i.uniforms.tEquirect.value=e;var r=new da(n,i),a=e.minFilter;return e.minFilter===Ct&&(e.minFilter=xt),new xa(1,10,this).update(t,r),e.minFilter=a,r.geometry.dispose(),r.material.dispose(),this}},{key:"clear",value:function(t,e,n,i){for(var r=t.getRenderTarget(),a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,i);t.setRenderTarget(r)}}]),n}(Xn);ka.prototype.isWebGLCubeRenderTarget=!0;var Ca=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c,h,d,f){var p;return _classCallCheck(this,n),(p=e.call(this,null,s,l,u,c,h,a,o,d,f)).image={data:t||null,width:i||1,height:r||1},p.magFilter=void 0!==c?c:vt,p.minFilter=void 0!==h?h:vt,p.generateMipmaps=!1,p.flipY=!1,p.unpackAlignment=1,p.needsUpdate=!0,p}return _createClass(n)}(Yn);Ca.prototype.isDataTexture=!0;var Ma=new yi,Ta=new ti,Sa=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ir,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ir,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ir,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ir,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ir,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new ir;_classCallCheck(this,t),this.planes=[e,n,i,r,a,o]}return _createClass(t,[{key:"set",value:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],d=n[9],f=n[10],p=n[11],g=n[12],v=n[13],m=n[14],_=n[15];return e[0].setComponents(o-i,c-s,p-h,_-g).normalize(),e[1].setComponents(o+i,c+s,p+h,_+g).normalize(),e[2].setComponents(o+r,c+l,p+d,_+v).normalize(),e[3].setComponents(o-r,c-l,p-d,_-v).normalize(),e[4].setComponents(o-a,c-u,p-f,_-m).normalize(),e[5].setComponents(o+a,c+u,p+f,_+m).normalize(),this}},{key:"intersectsObject",value:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Ma.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Ma)}},{key:"intersectsSprite",value:function(t){return Ma.center.set(0,0,0),Ma.radius=.7071067811865476,Ma.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ma)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++)if(e[r].distanceToPoint(n)<i)return!1;return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if(Ta.x=i.normal.x>0?t.max.x:t.min.x,Ta.y=i.normal.y>0?t.max.y:t.min.y,Ta.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(Ta)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();function Aa(){var t=null,e=!1,n=null,i=null;function r(e,a){n(e,a),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Ea(t,e){var n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){var a=i.get(e);(!a||a.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version})}else{e.isInterleavedBufferAttribute&&(e=e.data);var o=i.get(e);void 0===o?i.set(e,function(e,i){var r=e.array,a=e.usage,o=t.createBuffer();t.bindBuffer(i,o),t.bufferData(i,r,a),e.onUploadCallback();var s=5126;return r instanceof Float32Array?s=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:r instanceof Int16Array?s=5122:r instanceof Uint32Array?s=5125:r instanceof Int32Array?s=5124:r instanceof Int8Array?s=5120:r instanceof Uint8Array&&(s=5121),{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):o.version<e.version&&(function(e,i,r){var a=i.array,o=i.updateRange;t.bindBuffer(r,e),-1===o.count?t.bufferSubData(r,0,a):(n?t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,e,r),o.version=e.version)}}}}var Pa=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,n),(t=e.call(this)).type="PlaneGeometry",t.parameters={width:i,height:r,widthSegments:a,heightSegments:o};for(var s=i/2,l=r/2,u=Math.floor(a),c=Math.floor(o),h=u+1,d=c+1,f=i/u,p=r/c,g=[],v=[],m=[],_=[],y=0;y<d;y++)for(var b=y*p-l,x=0;x<h;x++)v.push(x*f-s,-b,0),m.push(0,0,1),_.push(x/u),_.push(1-y/c);for(var w=0;w<c;w++)for(var k=0;k<u;k++){var C=k+h*(w+1),M=k+1+h*(w+1),T=k+1+h*w;g.push(k+h*w,C,T),g.push(C,M,T)}return t.setIndex(g),t.setAttribute("position",new Nr(v,3)),t.setAttribute("normal",new Nr(m,3)),t.setAttribute("uv",new Nr(_,2)),t}return _createClass(n)}(Yr),Ia={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Oa={common:{diffuse:{value:new kr(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Vn},uv2Transform:{value:new Vn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Hn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new kr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new kr(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vn}},sprite:{diffuse:{value:new kr(15658734)},opacity:{value:1},center:{value:new Hn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Vn}}},Ra={basic:{uniforms:va([Oa.common,Oa.specularmap,Oa.envmap,Oa.aomap,Oa.lightmap,Oa.fog]),vertexShader:Ia.meshbasic_vert,fragmentShader:Ia.meshbasic_frag},lambert:{uniforms:va([Oa.common,Oa.specularmap,Oa.envmap,Oa.aomap,Oa.lightmap,Oa.emissivemap,Oa.fog,Oa.lights,{emissive:{value:new kr(0)}}]),vertexShader:Ia.meshlambert_vert,fragmentShader:Ia.meshlambert_frag},phong:{uniforms:va([Oa.common,Oa.specularmap,Oa.envmap,Oa.aomap,Oa.lightmap,Oa.emissivemap,Oa.bumpmap,Oa.normalmap,Oa.displacementmap,Oa.fog,Oa.lights,{emissive:{value:new kr(0)},specular:{value:new kr(1118481)},shininess:{value:30}}]),vertexShader:Ia.meshphong_vert,fragmentShader:Ia.meshphong_frag},standard:{uniforms:va([Oa.common,Oa.envmap,Oa.aomap,Oa.lightmap,Oa.emissivemap,Oa.bumpmap,Oa.normalmap,Oa.displacementmap,Oa.roughnessmap,Oa.metalnessmap,Oa.fog,Oa.lights,{emissive:{value:new kr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ia.meshphysical_vert,fragmentShader:Ia.meshphysical_frag},toon:{uniforms:va([Oa.common,Oa.aomap,Oa.lightmap,Oa.emissivemap,Oa.bumpmap,Oa.normalmap,Oa.displacementmap,Oa.gradientmap,Oa.fog,Oa.lights,{emissive:{value:new kr(0)}}]),vertexShader:Ia.meshtoon_vert,fragmentShader:Ia.meshtoon_frag},matcap:{uniforms:va([Oa.common,Oa.bumpmap,Oa.normalmap,Oa.displacementmap,Oa.fog,{matcap:{value:null}}]),vertexShader:Ia.meshmatcap_vert,fragmentShader:Ia.meshmatcap_frag},points:{uniforms:va([Oa.points,Oa.fog]),vertexShader:Ia.points_vert,fragmentShader:Ia.points_frag},dashed:{uniforms:va([Oa.common,Oa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ia.linedashed_vert,fragmentShader:Ia.linedashed_frag},depth:{uniforms:va([Oa.common,Oa.displacementmap]),vertexShader:Ia.depth_vert,fragmentShader:Ia.depth_frag},normal:{uniforms:va([Oa.common,Oa.bumpmap,Oa.normalmap,Oa.displacementmap,{opacity:{value:1}}]),vertexShader:Ia.normal_vert,fragmentShader:Ia.normal_frag},sprite:{uniforms:va([Oa.sprite,Oa.fog]),vertexShader:Ia.sprite_vert,fragmentShader:Ia.sprite_frag},background:{uniforms:{uvTransform:{value:new Vn},t2D:{value:null}},vertexShader:Ia.background_vert,fragmentShader:Ia.background_frag},cube:{uniforms:va([Oa.envmap,{opacity:{value:1}}]),vertexShader:Ia.cube_vert,fragmentShader:Ia.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ia.equirect_vert,fragmentShader:Ia.equirect_frag},distanceRGBA:{uniforms:va([Oa.common,Oa.displacementmap,{referencePosition:{value:new ti},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ia.distanceRGBA_vert,fragmentShader:Ia.distanceRGBA_frag},shadow:{uniforms:va([Oa.lights,Oa.fog,{color:{value:new kr(0)},opacity:{value:1}}]),vertexShader:Ia.shadow_vert,fragmentShader:Ia.shadow_frag}};function La(t,e,n,i,r){var a,o,s=new kr(0),l=0,u=null,c=0,h=null;function d(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return s},setClearColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(t),d(s,l=e)},getClearAlpha:function(){return l},setClearAlpha:function(t){d(s,l=t)},render:function(n,r,f,p){var g=!0===r.isScene?r.background:null;g&&g.isTexture&&(g=e.get(g));var _=t.xr,y=_.getSession&&_.getSession();y&&"additive"===y.environmentBlendMode&&(g=null),null===g?d(s,l):g&&g.isColor&&(d(g,1),p=!0),(t.autoClear||p)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),g&&(g.isCubeTexture||g.isWebGLCubeRenderTarget||g.mapping===ht)?(void 0===o&&((o=new da(new pa(1,1,1),new _a({name:"BackgroundCubeMaterial",uniforms:ga(Ra.cube.uniforms),vertexShader:Ra.cube.vertexShader,fragmentShader:Ra.cube.fragmentShader,side:m,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(o)),g.isWebGLCubeRenderTarget&&(g=g.texture),o.material.uniforms.envMap.value=g,o.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g._needsFlipEnvMap?-1:1,(u!==g||c!==g.version||h!==t.toneMapping)&&(o.material.needsUpdate=!0,u=g,c=g.version,h=t.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):g&&g.isTexture&&(void 0===a&&((a=new da(new Pa(2,2),new _a({name:"BackgroundMaterial",uniforms:ga(Ra.background.uniforms),vertexShader:Ra.background.vertexShader,fragmentShader:Ra.background.fragmentShader,side:v,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=g,!0===g.matrixAutoUpdate&&g.updateMatrix(),a.material.uniforms.uvTransform.value.copy(g.matrix),(u!==g||c!==g.version||h!==t.toneMapping)&&(a.material.needsUpdate=!0,u=g,c=g.version,h=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Da(t,e,n,i){var r=t.getParameter(34921),a=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==a,s={},l=d(null),u=l;function c(e){return i.isWebGL2?t.bindVertexArray(e):a.bindVertexArrayOES(e)}function h(e){return i.isWebGL2?t.deleteVertexArray(e):a.deleteVertexArrayOES(e)}function d(t){for(var e=[],n=[],i=[],a=0;a<r;a++)e[a]=0,n[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function f(){for(var t=u.newAttributes,e=0,n=t.length;e<n;e++)t[e]=0}function p(t){g(t,0)}function g(n,r){var a=u.enabledAttributes,o=u.attributeDivisors;u.newAttributes[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),o[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),o[n]=r)}function v(){for(var e=u.newAttributes,n=u.enabledAttributes,i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function m(e,n,r,a,o,s){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,a,o,s):t.vertexAttribIPointer(e,n,r,o,s)}function _(){y(),u!==l&&c((u=l).object)}function y(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,h,_,y){var b=!1;if(o){var x=function(e,n,r){var o=!0===r.wireframe,l=s[e.id];void 0===l&&(l={},s[e.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];return void 0===c&&(c=d(i.isWebGL2?t.createVertexArray():a.createVertexArrayOES()),u[o]=c),c}(_,h,l);u!==x&&c((u=x).object),(b=function(t,e){var n=u.attributes,i=t.attributes,r=0;for(var a in i){var o=n[a],s=i[a];if(void 0===o||o.attribute!==s||o.data!==s.data)return!0;r++}return u.attributesNum!==r||u.index!==e}(_,y))&&function(t,e){var n={},i=t.attributes,r=0;for(var a in i){var o=i[a],s={};s.attribute=o,o.data&&(s.data=o.data),n[a]=s,r++}u.attributes=n,u.attributesNum=r,u.index=e}(_,y)}else{var w=!0===l.wireframe;(u.geometry!==_.id||u.program!==h.id||u.wireframe!==w)&&(u.geometry=_.id,u.program=h.id,u.wireframe=w,b=!0)}!0===r.isInstancedMesh&&(b=!0),null!==y&&n.update(y,34963),b&&(function(r,a,o,s){if(!1!==i.isWebGL2||!r.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==e.get("ANGLE_instanced_arrays")){f();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var d=u[h];if(d>=0){var _=l[h];if(void 0!==_){var y=_.normalized,b=_.itemSize,x=n.get(_);if(void 0===x)continue;var w=x.buffer,k=x.type,C=x.bytesPerElement;if(_.isInterleavedBufferAttribute){var M=_.data,T=M.stride,S=_.offset;M&&M.isInstancedInterleavedBuffer?(g(d,M.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=M.meshPerAttribute*M.count)):p(d),t.bindBuffer(34962,w),m(d,b,k,y,T*C,S*C)}else _.isInstancedBufferAttribute?(g(d,_.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=_.meshPerAttribute*_.count)):p(d),t.bindBuffer(34962,w),m(d,b,k,y,0,0)}else if("instanceMatrix"===h){var A=n.get(r.instanceMatrix);if(void 0===A)continue;var E=A.buffer,P=A.type;g(d+0,1),g(d+1,1),g(d+2,1),g(d+3,1),t.bindBuffer(34962,E),t.vertexAttribPointer(d+0,4,P,!1,64,0),t.vertexAttribPointer(d+1,4,P,!1,64,16),t.vertexAttribPointer(d+2,4,P,!1,64,32),t.vertexAttribPointer(d+3,4,P,!1,64,48)}else if("instanceColor"===h){var I=n.get(r.instanceColor);if(void 0===I)continue;var O=I.buffer,R=I.type;g(d,1),t.bindBuffer(34962,O),t.vertexAttribPointer(d,3,R,!1,12,0)}else if(void 0!==c){var L=c[h];if(void 0!==L)switch(L.length){case 2:t.vertexAttrib2fv(d,L);break;case 3:t.vertexAttrib3fv(d,L);break;case 4:t.vertexAttrib4fv(d,L);break;default:t.vertexAttrib1fv(d,L)}}}}v()}}(r,l,h,_),null!==y&&t.bindBuffer(34963,n.get(y).buffer))},reset:_,resetDefaultState:y,dispose:function(){for(var t in _(),s){var e=s[t];for(var n in e){var i=e[n];for(var r in i)h(i[r].object),delete i[r];delete e[n]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0!==s[t.id]){var e=s[t.id];for(var n in e){var i=e[n];for(var r in i)h(i[r].object),delete i[r];delete e[n]}delete s[t.id]}},releaseStatesOfProgram:function(t){for(var e in s){var n=s[e];if(void 0!==n[t.id]){var i=n[t.id];for(var r in i)h(i[r].object),delete i[r];delete n[t.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function Na(t,e,n,i){var r,a=i.isWebGL2;this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.update(i,r,1)},this.renderInstances=function(i,o,s){if(0!==s){var l,u;if(a)l=t,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](r,i,o,s),n.update(o,r,s)}}}function Za(t,e,n){var i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=r(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=!0===n.logarithmicDepthBuffer,u=t.getParameter(34930),c=t.getParameter(35660),h=t.getParameter(3379),d=t.getParameter(34076),f=t.getParameter(34921),p=t.getParameter(36347),g=t.getParameter(36348),v=t.getParameter(36349),m=c>0,_=a||e.has("OES_texture_float");return{isWebGL2:a,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){var n=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:l,maxTextures:u,maxVertexTextures:c,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:g,maxFragmentUniforms:v,vertexTextures:m,floatFragmentTextures:_,floatVertexTextures:m&&_,maxSamples:a?t.getParameter(36183):0}}function Fa(t){var e=this,n=null,i=0,r=!1,a=!1,o=new ir,s=new Vn,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(t,n,i,r){var a=null!==t?t.length:0,u=null;if(0!==a){if(u=l.value,!0!==r||null===u){var c=i+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,f=i;d!==a;++d,f+=4)o.copy(t[d]).applyMatrix4(h,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return e.numPlanes=a,e.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,a){var o=0!==t.length||e||0!==i||r;return r=e,n=c(t,a,0),i=t.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,u()},this.setState=function(e,o,s){var h=e.clippingPlanes,d=e.clipIntersection,f=e.clipShadows,p=t.get(e);if(!r||null===h||0===h.length||a&&!f)a?c(null):u();else{var g=a?0:i,v=4*g,m=p.clippingState||null;l.value=m,m=c(h,o,v,s);for(var _=0;_!==v;++_)m[_]=n[_];p.clippingState=m,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=g}}}function Ua(t){var e=new WeakMap;function n(t,e){return e===ut?t.mapping=st:e===ct&&(t.mapping=lt),t}function i(t){var n=t.target;n.removeEventListener("dispose",i);var r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){var a=r.mapping;if(a===ut||a===ct){if(e.has(r))return n(e.get(r).texture,r.mapping);var o=r.image;if(o&&o.height>0){var s=t.getRenderTarget(),l=new ka(o.height/2);return l.fromEquirectangularTexture(t,r),e.set(r,l),t.setRenderTarget(s),r.addEventListener("dispose",i),n(l.texture,r.mapping)}return null}}return r},dispose:function(){e=new WeakMap}}}function Ba(t){var e={};function n(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(t){var e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function za(t,e,n,i){var r={},a=new WeakMap;function o(t){var s=t.target;for(var l in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete r[s.id];var u=a.get(s);u&&(e.remove(u),a.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){var n=[],i=t.index,r=t.attributes.position,o=0;if(null!==i){var s=i.array;o=i.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],d=s[l+2];n.push(c,h,h,d,d,c)}}else{o=r.version;for(var f=0,p=r.array.length/3-1;f<p;f+=3){var g=f+0,v=f+1,m=f+2;n.push(g,v,v,m,m,g)}}var _=new(Fr(n)>65535?Lr:Or)(n,1);_.version=o;var y=a.get(t);y&&e.remove(y),a.set(t,_)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",o),r[e.id]=!0,n.memory.geometries++),e},update:function(t){var n=t.attributes;for(var i in n)e.update(n[i],34962);var r=t.morphAttributes;for(var a in r)for(var o=r[a],s=0,l=o.length;s<l;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var e=a.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return a.get(t)}}}function qa(t,e,n,i){var r,a,o,s=i.isWebGL2;this.setMode=function(t){r=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,i){t.drawElements(r,i,a,e*o),n.update(i,r,1)},this.renderInstances=function(i,l,u){if(0!==u){var c,h;if(s)c=t,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](r,l,a,i*o,u),n.update(l,r,u)}}}function Ha(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Ga(t,e){return t[0]-e[0]}function Va(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Wa(t){for(var e={},n=new Float32Array(8),i=[],r=0;r<8;r++)i[r]=[r,0];return{update:function(r,a,o,s){var l=r.morphTargetInfluences,u=void 0===l?0:l.length,c=e[a.id];if(void 0===c){c=[];for(var h=0;h<u;h++)c[h]=[h,0];e[a.id]=c}for(var d=0;d<u;d++){var f=c[d];f[0]=d,f[1]=l[d]}c.sort(Va);for(var p=0;p<8;p++)p<u&&c[p][1]?(i[p][0]=c[p][0],i[p][1]=c[p][1]):(i[p][0]=Number.MAX_SAFE_INTEGER,i[p][1]=0);i.sort(Ga);for(var g=o.morphTargets&&a.morphAttributes.position,v=o.morphNormals&&a.morphAttributes.normal,m=0,_=0;_<8;_++){var y=i[_],b=y[0],x=y[1];b!==Number.MAX_SAFE_INTEGER&&x?(g&&a.getAttribute("morphTarget"+_)!==g[b]&&a.setAttribute("morphTarget"+_,g[b]),v&&a.getAttribute("morphNormal"+_)!==v[b]&&a.setAttribute("morphNormal"+_,v[b]),n[_]=x,m+=x):(g&&!0===a.hasAttribute("morphTarget"+_)&&a.deleteAttribute("morphTarget"+_),v&&!0===a.hasAttribute("morphNormal"+_)&&a.deleteAttribute("morphNormal"+_),n[_]=0)}var w=a.morphTargetsRelative?1:1-m;s.getUniforms().setValue(t,"morphTargetBaseInfluence",w),s.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function ja(t,e,n,i){var r=new WeakMap;function a(t){var e=t.target;e.removeEventListener("dispose",a),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(t){var o=i.render.frame,s=e.get(t,t.geometry);return r.get(s)!==o&&(e.update(s),r.set(s,o)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",a)&&t.addEventListener("dispose",a),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),s},dispose:function(){r=new WeakMap}}}Ra.physical={uniforms:va([Ra.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Hn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new kr(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Ia.meshphysical_vert,fragmentShader:Ia.meshphysical_frag};var Ya=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck(this,n),(t=e.call(this,null)).image={data:i,width:r,height:a,depth:o},t.magFilter=vt,t.minFilter=vt,t.wrapR=pt,t.generateMipmaps=!1,t.flipY=!1,t.needsUpdate=!0,t}return _createClass(n)}(Yn);Ya.prototype.isDataTexture2DArray=!0;var Qa=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck(this,n),(t=e.call(this,null)).image={data:i,width:r,height:a,depth:o},t.magFilter=vt,t.minFilter=vt,t.wrapR=pt,t.generateMipmaps=!1,t.flipY=!1,t.needsUpdate=!0,t}return _createClass(n)}(Yn);Qa.prototype.isDataTexture3D=!0;var Ja=new Yn,Xa=new Ya,$a=new Qa,Ka=new wa,to=[],eo=[],no=new Float32Array(16),io=new Float32Array(9),ro=new Float32Array(4);function ao(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,a=to[r];if(void 0===a&&(a=new Float32Array(r),to[r]=a),0!==e){i.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function oo(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function so(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function lo(t,e){var n=eo[e];void 0===n&&(n=new Int32Array(e),eo[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function uo(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function co(t,e){var n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(oo(n,e))return;t.uniform2fv(this.addr,e),so(n,e)}}function ho(t,e){var n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(oo(n,e))return;t.uniform3fv(this.addr,e),so(n,e)}}function fo(t,e){var n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(oo(n,e))return;t.uniform4fv(this.addr,e),so(n,e)}}function po(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(oo(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),so(n,e)}else{if(oo(n,i))return;ro.set(i),t.uniformMatrix2fv(this.addr,!1,ro),so(n,i)}}function go(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(oo(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),so(n,e)}else{if(oo(n,i))return;io.set(i),t.uniformMatrix3fv(this.addr,!1,io),so(n,i)}}function vo(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(oo(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),so(n,e)}else{if(oo(n,i))return;no.set(i),t.uniformMatrix4fv(this.addr,!1,no),so(n,i)}}function mo(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||Ja,r)}function _o(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||Xa,r)}function yo(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||$a,r)}function bo(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||Ka,r)}function xo(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function wo(t,e){var n=this.cache;oo(n,e)||(t.uniform2iv(this.addr,e),so(n,e))}function ko(t,e){var n=this.cache;oo(n,e)||(t.uniform3iv(this.addr,e),so(n,e))}function Co(t,e){var n=this.cache;oo(n,e)||(t.uniform4iv(this.addr,e),so(n,e))}function Mo(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function To(t,e){t.uniform1fv(this.addr,e)}function So(t,e){t.uniform1iv(this.addr,e)}function Ao(t,e){t.uniform2iv(this.addr,e)}function Eo(t,e){t.uniform3iv(this.addr,e)}function Po(t,e){t.uniform4iv(this.addr,e)}function Io(t,e){var n=ao(e,this.size,2);t.uniform2fv(this.addr,n)}function Oo(t,e){var n=ao(e,this.size,3);t.uniform3fv(this.addr,n)}function Ro(t,e){var n=ao(e,this.size,4);t.uniform4fv(this.addr,n)}function Lo(t,e){var n=ao(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Do(t,e){var n=ao(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function No(t,e){var n=ao(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Zo(t,e,n){var i=e.length,r=lo(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTexture2D(e[a]||Ja,r[a])}function Fo(t,e,n){var i=e.length,r=lo(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTextureCube(e[a]||Ka,r[a])}function Uo(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return uo;case 35664:return co;case 35665:return ho;case 35666:return fo;case 35674:return po;case 35675:return go;case 35676:return vo;case 5124:case 35670:return xo;case 35667:case 35671:return wo;case 35668:case 35672:return ko;case 35669:case 35673:return Co;case 5125:return Mo;case 35678:case 36198:case 36298:case 36306:case 35682:return mo;case 35679:case 36299:case 36307:return yo;case 35680:case 36300:case 36308:case 36293:return bo;case 36289:case 36303:case 36311:case 36292:return _o}}(e.type)}function Bo(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return To;case 35664:return Io;case 35665:return Oo;case 35666:return Ro;case 35674:return Lo;case 35675:return Do;case 35676:return No;case 5124:case 35670:return So;case 35667:case 35671:return Ao;case 35668:case 35672:return Eo;case 35669:case 35673:return Po;case 35678:case 36198:case 36298:case 36306:case 35682:return Zo;case 35680:case 36300:case 36308:case 36293:return Fo}}(e.type)}function zo(t){this.id=t,this.seq=[],this.map={}}Bo.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),so(e,t)},zo.prototype.setValue=function(t,e,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(t,e[o.id],n)}};var qo=/(\w+)(\])?(\[|\.)?/g;function Ho(t,e){t.seq.push(e),t.map[e.id]=e}function Go(t,e,n){var i=t.name,r=i.length;for(qo.lastIndex=0;;){var a=qo.exec(i),o=qo.lastIndex,s=a[1],l=a[3];if("]"===a[2]&&(s|=0),void 0===l||"["===l&&o+2===r){Ho(n,void 0===l?new Uo(s,t,e):new Bo(s,t,e));break}var u=n.map[s];void 0===u&&Ho(n,u=new zo(s)),n=u}}function Vo(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),i=0;i<n;++i){var r=t.getActiveUniform(e,i);Go(r,t.getUniformLocation(e,r.name),this)}}function Wo(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}Vo.prototype.setValue=function(t,e,n,i){var r=this.map[e];void 0!==r&&r.setValue(t,n,i)},Vo.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},Vo.upload=function(t,e,n,i){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}},Vo.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var a=t[i];a.id in e&&n.push(a)}return n};var jo=0;function Yo(t){switch(t){case $e:return["Linear","( value )"];case Ke:return["sRGB","( value )"];case en:return["RGBE","( value )"];case rn:return["RGBM","( value, 7.0 )"];case an:return["RGBM","( value, 16.0 )"];case on:return["RGBD","( value, 256.0 )"];case tn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case nn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Qo(t,e,n){var i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function Jo(t,e){var n=Yo(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function Xo(t,e){var n=Yo(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function $o(t,e){var n;switch(e){case et:n="Linear";break;case nt:n="Reinhard";break;case it:n="OptimizedCineon";break;case rt:n="ACESFilmic";break;case at:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Ko(t){return""!==t}function ts(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function es(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var ns=/^[ \t]*#include +<([\w\d./]+)>/gm;function is(t){return t.replace(ns,rs)}function rs(t,e){var n=Ia[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return is(n)}var as=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,os=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ss(t){return t.replace(os,us).replace(as,ls)}function ls(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),us(0,e,n,i)}function us(t,e,n,i){for(var r="",a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function cs(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function hs(t,e,n,i){var r,a,o=t.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(t){var e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===f?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===p?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===g&&(e="SHADOWMAP_TYPE_VSM"),e}(n),h=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case st:case lt:e="ENVMAP_TYPE_CUBE";break;case ht:case dt:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),d=function(t){var e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case lt:case dt:e="ENVMAP_MODE_REFRACTION"}return e}(n),v=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case X:e="ENVMAP_BLENDING_MULTIPLY";break;case $:e="ENVMAP_BLENDING_MIX";break;case K:e="ENVMAP_BLENDING_ADD"}return e}(n),m=t.gammaFactor>0?t.gammaFactor:1,_=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ko).join("\n")}(n),y=function(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(s),b=o.createProgram(),x=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((r=[y].filter(Ko).join("\n")).length>0&&(r+="\n"),(a=[_,y].filter(Ko).join("\n")).length>0&&(a+="\n")):(r=[cs(n),"#define SHADER_NAME "+n.shaderName,y,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ko).join("\n"),a=[_,cs(n),"#define SHADER_NAME "+n.shaderName,y,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+v:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==tt?"#define TONE_MAPPING":"",n.toneMapping!==tt?Ia.tonemapping_pars_fragment:"",n.toneMapping!==tt?$o("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Ia.encodings_pars_fragment,n.map?Jo("mapTexelToLinear",n.mapEncoding):"",n.matcap?Jo("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?Jo("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?Jo("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?Jo("lightMapTexelToLinear",n.lightMapEncoding):"",Xo("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(Ko).join("\n")),l=es(l=ts(l=is(l),n),n),u=es(u=ts(u=is(u),n),n),l=ss(l),u=ss(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(x="#version 300 es\n",r=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+r,a=["#define varying in",n.glslVersion===Zn?"":"out highp vec4 pc_fragColor;",n.glslVersion===Zn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var w,k,C=x+a+u,M=Wo(o,35633,x+r+l),T=Wo(o,35632,C);if(o.attachShader(b,M),o.attachShader(b,T),void 0!==n.index0AttributeName?o.bindAttribLocation(b,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(b,0,"position"),o.linkProgram(b),t.debug.checkShaderErrors){var S=o.getProgramInfoLog(b).trim(),A=o.getShaderInfoLog(M).trim(),E=o.getShaderInfoLog(T).trim(),P=!0,I=!0;if(!1===o.getProgramParameter(b,35714)){P=!1;var O=Qo(o,M,"vertex"),R=Qo(o,T,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(b,35715),"gl.getProgramInfoLog",S,O,R)}else""!==S?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",S):(""===A||""===E)&&(I=!1);I&&(this.diagnostics={runnable:P,programLog:S,vertexShader:{log:A,prefix:r},fragmentShader:{log:E,prefix:a}})}return o.deleteShader(M),o.deleteShader(T),this.getUniforms=function(){return void 0===w&&(w=new Vo(o,b)),w},this.getAttributes=function(){return void 0===k&&(k=function(t,e){for(var n={},i=t.getProgramParameter(e,35721),r=0;r<i;r++){var a=t.getActiveAttrib(e,r).name;n[a]=t.getAttribLocation(e,a)}return n}(o,b)),k},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(b),this.program=void 0},this.name=n.shaderName,this.id=jo++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=M,this.fragmentShader=T,this}function ds(t,e,n,i,r,a){var o=[],s=i.isWebGL2,l=i.logarithmicDepthBuffer,u=i.floatVertexTextures,c=i.maxVertexUniforms,h=i.vertexTextures,d=i.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function g(t){var e;return t&&t.isTexture?e=t.encoding:t&&t.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=$e,e}return{getParameters:function(r,o,p,v,y){var b,x,w=v.fog,k=e.get(r.envMap||(r.isMeshStandardMaterial?v.environment:null)),C=f[r.type],M=y.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(u)return 1024;var n=Math.floor((c-20)/4),i=Math.min(n,e.length);return i<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i}(y):0;if(null!==r.precision&&((d=i.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead.")),C){var T=Ra[C];b=T.vertexShader,x=T.fragmentShader}else b=r.vertexShader,x=r.fragmentShader;var S=t.getRenderTarget();return{isWebGL2:s,shaderID:C,shaderName:r.type,vertexShader:b,fragmentShader:x,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:h,outputEncoding:null!==S?g(S.texture):t.outputEncoding,map:!!r.map,mapEncoding:g(r.map),matcap:!!r.matcap,matcapEncoding:g(r.matcap),envMap:!!k,envMapMode:k&&k.mapping,envMapEncoding:g(k),envMapCubeUV:!!k&&(k.mapping===ht||k.mapping===dt),lightMap:!!r.lightMap,lightMapEncoding:g(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:g(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:r.normalMapType===cn,tangentSpaceNormalMap:r.normalMapType===un,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!w,useFog:r.fog,fogExp2:w&&w.isFogExp2,flatShading:!!r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:l,skinning:r.skinning&&M>0,maxBones:M,useVertexTexture:u,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&p.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:tt,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===_,flipSided:r.side===m,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);if(!1===e.isRawShaderMaterial){for(var r=0;r<p.length;r++)n.push(e[p[r]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){var e=f[t.type];return e?ma.clone(Ra[e].uniforms):t.uniforms},acquireProgram:function(e,n){for(var i,a=0,s=o.length;a<s;a++){var l=o[a];if(l.cacheKey===n){++(i=l).usedTimes;break}}return void 0===i&&(i=new hs(t,n,e,r),o.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){var e=o.indexOf(t);o[e]=o[o.length-1],o.pop(),t.destroy()}},programs:o}}function fs(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function ps(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function gs(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function vs(t){var e=[],n=0,i=[],r=[],a={id:-1};function o(i,r,o,s,l,u){var c=e[n],h=t.get(o);return void 0===c?(c={id:i.id,object:i,geometry:r,material:o,program:h.program||a,groupOrder:s,renderOrder:i.renderOrder,z:l,group:u},e[n]=c):(c.id=i.id,c.object=i,c.geometry=r,c.material=o,c.program=h.program||a,c.groupOrder=s,c.renderOrder=i.renderOrder,c.z=l,c.group=u),n++,c}return{opaque:i,transparent:r,init:function(){n=0,i.length=0,r.length=0},push:function(t,e,n,a,s,l){var u=o(t,e,n,a,s,l);(!0===n.transparent?r:i).push(u)},unshift:function(t,e,n,a,s,l){var u=o(t,e,n,a,s,l);(!0===n.transparent?r:i).unshift(u)},finish:function(){for(var t=n,i=e.length;t<i;t++){var r=e[t];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}},sort:function(t,e){i.length>1&&i.sort(t||ps),r.length>1&&r.sort(e||gs)}}}function ms(t){var e=new WeakMap;return{get:function(n,i){var r;return!1===e.has(n)?(r=new vs(t),e.set(n,[r])):i>=e.get(n).length?(r=new vs(t),e.get(n).push(r)):r=e.get(n)[i],r},dispose:function(){e=new WeakMap}}}function _s(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new ti,color:new kr};break;case"SpotLight":n={position:new ti,direction:new ti,color:new kr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ti,color:new kr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ti,skyColor:new kr,groundColor:new kr};break;case"RectAreaLight":n={color:new kr,position:new ti,halfWidth:new ti,halfHeight:new ti}}return t[e.id]=n,n}}}var ys=0;function bs(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function xs(t,e){for(var n=new _s,i=function(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Hn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Hn,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;a<9;a++)r.probe.push(new ti);var o=new ti,s=new Ai,l=new Ai;return{setup:function(a){for(var o=0,s=0,l=0,u=0;u<9;u++)r.probe[u].set(0,0,0);var c=0,h=0,d=0,f=0,p=0,g=0,v=0,m=0;a.sort(bs);for(var _=0,y=a.length;_<y;_++){var b=a[_],x=b.color,w=b.intensity,k=b.distance,C=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)o+=x.r*w,s+=x.g*w,l+=x.b*w;else if(b.isLightProbe)for(var M=0;M<9;M++)r.probe[M].addScaledVector(b.sh.coefficients[M],w);else if(b.isDirectionalLight){var T=n.get(b);if(T.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){var S=b.shadow,A=i.get(b);A.shadowBias=S.bias,A.shadowNormalBias=S.normalBias,A.shadowRadius=S.radius,A.shadowMapSize=S.mapSize,r.directionalShadow[c]=A,r.directionalShadowMap[c]=C,r.directionalShadowMatrix[c]=b.shadow.matrix,g++}r.directional[c]=T,c++}else if(b.isSpotLight){var E=n.get(b);if(E.position.setFromMatrixPosition(b.matrixWorld),E.color.copy(x).multiplyScalar(w),E.distance=k,E.coneCos=Math.cos(b.angle),E.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),E.decay=b.decay,b.castShadow){var P=b.shadow,I=i.get(b);I.shadowBias=P.bias,I.shadowNormalBias=P.normalBias,I.shadowRadius=P.radius,I.shadowMapSize=P.mapSize,r.spotShadow[d]=I,r.spotShadowMap[d]=C,r.spotShadowMatrix[d]=b.shadow.matrix,m++}r.spot[d]=E,d++}else if(b.isRectAreaLight){var O=n.get(b);O.color.copy(x).multiplyScalar(w),O.halfWidth.set(.5*b.width,0,0),O.halfHeight.set(0,.5*b.height,0),r.rectArea[f]=O,f++}else if(b.isPointLight){var R=n.get(b);if(R.color.copy(b.color).multiplyScalar(b.intensity),R.distance=b.distance,R.decay=b.decay,b.castShadow){var L=b.shadow,D=i.get(b);D.shadowBias=L.bias,D.shadowNormalBias=L.normalBias,D.shadowRadius=L.radius,D.shadowMapSize=L.mapSize,D.shadowCameraNear=L.camera.near,D.shadowCameraFar=L.camera.far,r.pointShadow[h]=D,r.pointShadowMap[h]=C,r.pointShadowMatrix[h]=b.shadow.matrix,v++}r.point[h]=R,h++}else if(b.isHemisphereLight){var N=n.get(b);N.skyColor.copy(b.color).multiplyScalar(w),N.groundColor.copy(b.groundColor).multiplyScalar(w),r.hemi[p]=N,p++}}f>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=Oa.LTC_FLOAT_1,r.rectAreaLTC2=Oa.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Oa.LTC_HALF_1,r.rectAreaLTC2=Oa.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=o,r.ambient[1]=s,r.ambient[2]=l;var Z=r.hash;(Z.directionalLength!==c||Z.pointLength!==h||Z.spotLength!==d||Z.rectAreaLength!==f||Z.hemiLength!==p||Z.numDirectionalShadows!==g||Z.numPointShadows!==v||Z.numSpotShadows!==m)&&(r.directional.length=c,r.spot.length=d,r.rectArea.length=f,r.point.length=h,r.hemi.length=p,r.directionalShadow.length=g,r.directionalShadowMap.length=g,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=g,r.pointShadowMatrix.length=v,r.spotShadowMatrix.length=m,Z.directionalLength=c,Z.pointLength=h,Z.spotLength=d,Z.rectAreaLength=f,Z.hemiLength=p,Z.numDirectionalShadows=g,Z.numPointShadows=v,Z.numSpotShadows=m,r.version=ys++)},setupView:function(t,e){for(var n=0,i=0,a=0,u=0,c=0,h=e.matrixWorldInverse,d=0,f=t.length;d<f;d++){var p=t[d];if(p.isDirectionalLight){var g=r.directional[n];g.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),g.direction.sub(o),g.direction.transformDirection(h),n++}else if(p.isSpotLight){var v=r.spot[a];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(h),v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var m=r.rectArea[u];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),l.identity(),s.copy(p.matrixWorld),s.premultiply(h),l.extractRotation(s),m.halfWidth.set(.5*p.width,0,0),m.halfHeight.set(0,.5*p.height,0),m.halfWidth.applyMatrix4(l),m.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var _=r.point[i];_.position.setFromMatrixPosition(p.matrixWorld),_.position.applyMatrix4(h),i++}else if(p.isHemisphereLight){var y=r.hemi[c];y.direction.setFromMatrixPosition(p.matrixWorld),y.direction.transformDirection(h),y.direction.normalize(),c++}}},state:r}}function ws(t,e){var n=new xs(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function ks(t,e){var n=new WeakMap;return{get:function(i){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(i)?(r=new ws(t,e),n.set(i,[r])):a>=n.get(i).length?(r=new ws(t,e),n.get(i).push(r)):r=n.get(i)[a],r},dispose:function(){n=new WeakMap}}}var Cs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshDepthMaterial",i.depthPacking=sn,i.skinning=!1,i.morphTargets=!1,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}]),n}(vr);Cs.prototype.isMeshDepthMaterial=!0;var Ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshDistanceMaterial",i.referencePosition=new ti,i.nearDistance=1,i.farDistance=1e3,i.skinning=!1,i.morphTargets=!1,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.fog=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}]),n}(vr);function Ts(t,e,n){var i=new Sa,r=new Hn,a=new Hn,o=new Jn,s=[],l=[],u={},c={0:m,1:v,2:_},h=new _a({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new Hn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;var p=new Yr;p.setAttribute("position",new Sr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var y=new da(p,h),b=this;function w(n,i){var r=e.update(y);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,h,y,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,d,y,null)}function k(t,e,n){var i=t<<0|e<<1|n<<2,r=s[i];return void 0===r&&(r=new Cs({depthPacking:ln,morphTargets:t,skinning:e}),s[i]=r),r}function C(t,e,n){var i=t<<0|e<<1|n<<2,r=l[i];return void 0===r&&(r=new Ms({morphTargets:t,skinning:e}),l[i]=r),r}function M(e,n,i,r,a,o,s){var l=null,h=k,d=e.customDepthMaterial;if(!0===r.isPointLight&&(h=C,d=e.customDistanceMaterial),void 0===d){var f=!1;!0===i.morphTargets&&(f=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var p=!1;!0===e.isSkinnedMesh&&(!0===i.skinning?p=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)),l=h(f,p,!0===e.isInstancedMesh)}else l=d;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var v=l.uuid,m=i.uuid,_=u[v];void 0===_&&(_={},u[v]=_);var y=_[m];void 0===y&&(y=l.clone(),_[m]=y),l=y}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=s===g?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:c[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,!0===r.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(r.matrixWorld),l.nearDistance=a,l.farDistance=o),l}function T(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===g)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=e.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,d=c.length;h<d;h++){var f=c[h],p=u[f.materialIndex];if(p&&p.visible){var v=M(n,l,p,o,a.near,a.far,s);t.renderBufferDirect(a,null,l,v,n,f)}}else if(u.visible){var m=M(n,l,u,o,a.near,a.far,s);t.renderBufferDirect(a,null,l,m,n,null)}}for(var _=n.children,y=0,b=_.length;y<b;y++)T(_[y],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=f,this.render=function(e,s,l){if(!1!==b.enabled&&(!1!==b.autoUpdate||!1!==b.needsUpdate)&&0!==e.length){var u=t.getRenderTarget(),c=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),d=t.state;d.setBlending(x),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=e.length;f<p;f++){var v=e[f],m=v.shadow;if(void 0!==m){if(!1!==m.autoUpdate||!1!==m.needsUpdate){r.copy(m.mapSize);var _=m.getFrameExtents();if(r.multiply(_),a.copy(m.mapSize),(r.x>n||r.y>n)&&(r.x>n&&(a.x=Math.floor(n/_.x),r.x=a.x*_.x,m.mapSize.x=a.x),r.y>n&&(a.y=Math.floor(n/_.y),r.y=a.y*_.y,m.mapSize.y=a.y)),null===m.map&&!m.isPointLightShadow&&this.type===g){var y={minFilter:xt,magFilter:xt,format:Bt};m.map=new Xn(r.x,r.y,y),m.map.texture.name=v.name+".shadowMap",m.mapPass=new Xn(r.x,r.y,y),m.camera.updateProjectionMatrix()}null===m.map&&(m.map=new Xn(r.x,r.y,{minFilter:vt,magFilter:vt,format:Bt}),m.map.texture.name=v.name+".shadowMap",m.camera.updateProjectionMatrix()),t.setRenderTarget(m.map),t.clear();for(var k=m.getViewportCount(),C=0;C<k;C++){var M=m.getViewport(C);o.set(a.x*M.x,a.y*M.y,a.x*M.z,a.y*M.w),d.viewport(o),m.updateMatrices(v,C),i=m.getFrustum(),T(s,l,m.camera,v,this.type)}!m.isPointLightShadow&&this.type===g&&w(m,l),m.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}b.needsUpdate=!1,t.setRenderTarget(u,c,h)}}}function Ss(t,e,n){var i,r,a=n.isWebGL2,o=new function(){var e=!1,n=new Jn,i=null,r=new Jn(0,0,0,0);return{setMask:function(n){i!==n&&!e&&(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,a,o,s){!0===s&&(e*=o,i*=o,a*=o),n.set(e,i,a,o),!1===r.equals(n)&&(t.clearColor(e,i,a,o),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},s=new function(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){t?vt(2929):mt(2929)},setMask:function(i){n!==i&&!e&&(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case H:t.depthFunc(512);break;case G:t.depthFunc(519);break;case V:t.depthFunc(513);break;case W:t.depthFunc(515);break;case j:t.depthFunc(514);break;case Y:t.depthFunc(518);break;case Q:t.depthFunc(516);break;case J:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},h=new function(){var e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(t){e||(t?vt(2960):mt(2960))},setMask:function(i){n!==i&&!e&&(t.stencilMask(i),n=i)},setFunc:function(e,n,o){(i!==e||r!==n||a!==o)&&(t.stencilFunc(e,n,o),i=e,r=n,a=o)},setOp:function(e,n,i){(o!==e||s!==n||l!==i)&&(t.stencilOp(e,n,i),o=e,s=n,l=i)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null}}},d={},f=null,p=!1,g=null,v=null,y=null,b=null,X=null,$=null,K=null,tt=!1,et=null,nt=null,it=null,rt=null,at=null,ot=t.getParameter(35661),st=!1,lt=0,ut=t.getParameter(7938);-1!==ut.indexOf("WebGL")?(lt=parseFloat(/^WebGL (\d)/.exec(ut)[1]),st=lt>=1):-1!==ut.indexOf("OpenGL ES")&&(lt=parseFloat(/^OpenGL ES (\d)/.exec(ut)[1]),st=lt>=2);var ct=null,ht={},dt=new Jn,ft=new Jn;function pt(e,n,i){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<i;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var gt={};function vt(e){!0!==d[e]&&(t.enable(e),d[e]=!0)}function mt(e){!1!==d[e]&&(t.disable(e),d[e]=!1)}gt[3553]=pt(3553,3553,1),gt[34067]=pt(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),h.setClear(0),vt(2929),s.setFunc(W),wt(!1),kt(u),vt(2884),xt(x);var _t=(_defineProperty(i={},S,32774),_defineProperty(i,A,32778),_defineProperty(i,E,32779),i);if(a)_t[P]=32775,_t[I]=32776;else{var yt=e.get("EXT_blend_minmax");null!==yt&&(_t[P]=yt.MIN_EXT,_t[I]=yt.MAX_EXT)}var bt=(_defineProperty(r={},O,0),_defineProperty(r,R,1),_defineProperty(r,L,768),_defineProperty(r,N,770),_defineProperty(r,q,776),_defineProperty(r,B,774),_defineProperty(r,F,772),_defineProperty(r,D,769),_defineProperty(r,Z,771),_defineProperty(r,z,775),_defineProperty(r,U,773),r);function xt(e,n,i,r,a,o,s,l){if(e!==x){if(!1===p&&(vt(3042),p=!0),e===T)a=a||n,o=o||i,s=s||r,(n!==v||a!==X)&&(t.blendEquationSeparate(_t[n],_t[a]),v=n,X=a),(i!==y||r!==b||o!==$||s!==K)&&(t.blendFuncSeparate(bt[i],bt[r],bt[o],bt[s]),y=i,b=r,$=o,K=s),g=e,tt=null;else if(e!==g||l!==tt){if((v!==S||X!==S)&&(t.blendEquation(32774),v=S,X=S),l)switch(e){case w:t.blendFuncSeparate(1,771,1,771);break;case k:t.blendFunc(1,1);break;case C:t.blendFuncSeparate(0,0,769,771);break;case M:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case w:t.blendFuncSeparate(770,771,1,771);break;case k:t.blendFunc(770,1);break;case C:t.blendFunc(0,769);break;case M:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}y=null,b=null,$=null,K=null,g=e,tt=l}}else!0===p&&(mt(3042),p=!1)}function wt(e){et!==e&&(t.frontFace(e?2304:2305),et=e)}function kt(e){e!==l?(vt(2884),e!==nt&&t.cullFace(e===u?1029:e===c?1028:1032)):mt(2884),nt=e}function Ct(e,n,i){e?(vt(32823),(rt!==n||at!==i)&&(t.polygonOffset(n,i),rt=n,at=i)):mt(32823)}function Mt(e){void 0===e&&(e=33984+ot-1),ct!==e&&(t.activeTexture(e),ct=e)}return{buffers:{color:o,depth:s,stencil:h},enable:vt,disable:mt,useProgram:function(e){return f!==e&&(t.useProgram(e),f=e,!0)},setBlending:xt,setMaterial:function(t,e){t.side===_?mt(2884):vt(2884);var n=t.side===m;e&&(n=!n),wt(n),t.blending===w&&!1===t.transparent?xt(x):xt(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),o.setMask(t.colorWrite);var i=t.stencilWrite;h.setTest(i),i&&(h.setMask(t.stencilWriteMask),h.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),h.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Ct(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:wt,setCullFace:kt,setLineWidth:function(e){e!==it&&(st&&t.lineWidth(e),it=e)},setPolygonOffset:Ct,setScissorTest:function(t){t?vt(3089):mt(3089)},activeTexture:Mt,bindTexture:function(e,n){null===ct&&Mt();var i=ht[ct];void 0===i&&(i={type:void 0,texture:void 0},ht[ct]=i),(i.type!==e||i.texture!==n)&&(t.bindTexture(e,n||gt[e]),i.type=e,i.texture=n)},unbindTexture:function(){var e=ht[ct];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(yt){console.error("THREE.WebGLState:",yt)}},scissor:function(e){!1===dt.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),dt.copy(e))},viewport:function(e){!1===ft.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),ft.copy(e))},reset:function(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},ct=null,ht={},f=null,p=!1,g=null,v=null,y=null,b=null,X=null,$=null,K=null,tt=!1,et=null,nt=null,it=null,rt=null,at=null,o.reset(),s.reset(),h.reset()}}}function As(t,e,n,i,r,a,o){var s,l,u,c=r.isWebGL2,h=r.maxTextures,d=r.maxCubemapSize,f=r.maxTextureSize,p=r.maxSamples,g=new WeakMap,v=!1;try{v="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(U){}function m(t,e){return v?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(t,e,n,i){var r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?qn.floorPowerOfTwo:Math.floor,o=a(r*t.width),s=a(r*t.height);void 0===u&&(u=m(o,s));var l=n?m(o,s):u;return l.width=o,l.height=s,l.getContext("2d").drawImage(t,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+s+")."),l}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function y(t){return qn.isPowerOfTwo(t.width)&&qn.isPowerOfTwo(t.height)}function b(t,e){return t.generateMipmaps&&e&&t.minFilter!==vt&&t.minFilter!==xt}function x(e,n,r,a){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log2(Math.max(r,a))}function w(n,i,r){if(!1===c)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=i;return 6403===i&&(5126===r&&(a=33326),5131===r&&(a=33325),5121===r&&(a=33321)),6407===i&&(5126===r&&(a=34837),5131===r&&(a=34843),5121===r&&(a=32849)),6408===i&&(5126===r&&(a=34836),5131===r&&(a=34842),5121===r&&(a=32856)),(33325===a||33326===a||34842===a||34836===a)&&e.get("EXT_color_buffer_float"),a}function k(t){return t===vt||t===mt||t===yt?9728:9729}function C(e){var n=e.target;n.removeEventListener("dispose",C),function(e){var n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&g.delete(n),o.memory.textures--}function M(e){var n=e.target;n.removeEventListener("dispose",M),function(e){var n=e.texture,r=i.get(e),a=i.get(n);if(e){if(void 0!==a.__webglTexture&&t.deleteTexture(a.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)t.deleteFramebuffer(r.__webglFramebuffer[o]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[o]);else t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&t.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&t.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&t.deleteRenderbuffer(r.__webglDepthRenderbuffer);i.remove(n),i.remove(e)}}(n),o.memory.textures--}var T=0;function S(t,e){var r=i.get(t);if(t.isVideoTexture&&function(t){var e=o.render.frame;g.get(t)!==e&&(g.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void R(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function A(e,r){var o=i.get(e);e.version>0&&o.__version!==e.version?function(e,i,r){if(6===i.image.length){O(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);for(var o=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),s=i.image[0]&&i.image[0].isDataTexture,l=[],u=0;u<6;u++)l[u]=o||s?s?i.image[u].image:i.image[u]:_(i.image[u],!1,!0,d);var h,f=l[0],p=y(f)||c,g=a.convert(i.format),v=a.convert(i.type),m=w(i.internalFormat,g,v);if(I(34067,i,p),o){for(var k=0;k<6;k++){h=l[k].mipmaps;for(var C=0;C<h.length;C++){var M=h[C];i.format!==Bt&&i.format!==Ut?null!==g?n.compressedTexImage2D(34069+k,C,m,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+k,C,m,M.width,M.height,0,g,v,M.data)}}e.__maxMipLevel=h.length-1}else{h=i.mipmaps;for(var T=0;T<6;T++)if(s){n.texImage2D(34069+T,0,m,l[T].width,l[T].height,0,g,v,l[T].data);for(var S=0;S<h.length;S++){var A=h[S].image[T].image;n.texImage2D(34069+T,S+1,m,A.width,A.height,0,g,v,A.data)}}else{n.texImage2D(34069+T,0,m,g,v,l[T]);for(var E=0;E<h.length;E++)n.texImage2D(34069+T,E+1,m,g,v,h[E].image[T])}e.__maxMipLevel=h.length}b(i,p)&&x(34067,i,f.width,f.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}}(o,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture))}var E=(_defineProperty(s={},ft,10497),_defineProperty(s,pt,33071),_defineProperty(s,gt,33648),s),P=(_defineProperty(l={},vt,9728),_defineProperty(l,mt,9984),_defineProperty(l,yt,9986),_defineProperty(l,xt,9729),_defineProperty(l,wt,9985),_defineProperty(l,Ct,9987),l);function I(n,a,o){if(o?(t.texParameteri(n,10242,E[a.wrapS]),t.texParameteri(n,10243,E[a.wrapT]),(32879===n||35866===n)&&t.texParameteri(n,32882,E[a.wrapR]),t.texParameteri(n,10240,P[a.magFilter]),t.texParameteri(n,10241,P[a.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),(32879===n||35866===n)&&t.texParameteri(n,32882,33071),(a.wrapS!==pt||a.wrapT!==pt)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,k(a.magFilter)),t.texParameteri(n,10241,k(a.minFilter)),a.minFilter!==vt&&a.minFilter!==xt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){var s=e.get("EXT_texture_filter_anisotropic");if(a.type===Ot&&!1===e.has("OES_texture_float_linear")||!1===c&&a.type===Rt&&!1===e.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function O(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",C),e.__webglTexture=t.createTexture(),o.memory.textures++)}function R(e,i,r){var o=3553;i.isDataTexture2DArray&&(o=35866),i.isDataTexture3D&&(o=32879),O(e,i),n.activeTexture(33984+r),n.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);var s,l=function(t){return!c&&(t.wrapS!==pt||t.wrapT!==pt||t.minFilter!==vt&&t.minFilter!==xt)}(i)&&!1===y(i.image),u=_(i.image,l,!1,f),h=y(u)||c,d=a.convert(i.format),p=a.convert(i.type),g=w(i.internalFormat,d,p);I(o,i,h);var v=i.mipmaps;if(i.isDepthTexture)g=6402,c?g=i.type===Ot?36012:i.type===It?33190:i.type===Zt?35056:33189:i.type===Ot&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Gt&&6402===g&&i.type!==Et&&i.type!==It&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=Et,p=a.convert(i.type)),i.format===Vt&&6402===g&&(g=34041,i.type!==Zt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Zt,p=a.convert(i.type))),n.texImage2D(3553,0,g,u.width,u.height,0,d,p,null);else if(i.isDataTexture)if(v.length>0&&h){for(var m=0,k=v.length;m<k;m++)s=v[m],n.texImage2D(3553,m,g,s.width,s.height,0,d,p,s.data);i.generateMipmaps=!1,e.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,g,u.width,u.height,0,d,p,u.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(var C=0,M=v.length;C<M;C++)s=v[C],i.format!==Bt&&i.format!==Ut?null!==d?n.compressedTexImage2D(3553,C,g,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,C,g,s.width,s.height,0,d,p,s.data);e.__maxMipLevel=v.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,g,u.width,u.height,u.depth,0,d,p,u.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,g,u.width,u.height,u.depth,0,d,p,u.data),e.__maxMipLevel=0;else if(v.length>0&&h){for(var T=0,S=v.length;T<S;T++)s=v[T],n.texImage2D(3553,T,g,d,p,s);i.generateMipmaps=!1,e.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,g,d,p,u),e.__maxMipLevel=0;b(i,h)&&x(o,i,u.width,u.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function L(e,r,o,s){var l=r.texture,u=a.convert(l.format),c=a.convert(l.type),h=w(l.internalFormat,u,c);32879===s||35866===s?n.texImage3D(s,0,h,r.width,r.height,r.depth,0,u,c,null):n.texImage2D(s,0,h,r.width,r.height,0,u,c,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,s,i.get(l).__webglTexture,0),t.bindFramebuffer(36160,null)}function D(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){var r=33189;if(i){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Ot?r=36012:o.type===It&&(r=33190));var s=N(n);t.renderbufferStorageMultisample(36161,s,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){var l=N(n);t.renderbufferStorageMultisample(36161,l,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{var u=n.texture,c=a.convert(u.format),h=a.convert(u.type),d=w(u.internalFormat,c,h);if(i){var f=N(n);t.renderbufferStorageMultisample(36161,f,d,n.width,n.height)}else t.renderbufferStorage(36161,d,n.width,n.height)}t.bindRenderbuffer(36161,null)}function N(t){return c&&t.isWebGLMultisampleRenderTarget?Math.min(p,t.samples):0}var Z=!1,F=!1;this.allocateTextureUnit=function(){var t=T;return t>=h&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+h),T+=1,t},this.resetTextureUnits=function(){T=0},this.setTexture2D=S,this.setTexture2DArray=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?R(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?R(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=A,this.setupRenderTarget=function(e){var r=e.texture,s=i.get(e),l=i.get(r);e.addEventListener("dispose",M),l.__webglTexture=t.createTexture(),o.memory.textures++;var u=!0===e.isWebGLCubeRenderTarget,h=!0===e.isWebGLMultisampleRenderTarget,d=r.isDataTexture3D||r.isDataTexture2DArray,f=y(e)||c;if(c&&r.format===Ut&&(r.type===Ot||r.type===Rt)&&(r.format=Bt,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u){s.__webglFramebuffer=[];for(var p=0;p<6;p++)s.__webglFramebuffer[p]=t.createFramebuffer()}else if(s.__webglFramebuffer=t.createFramebuffer(),h)if(c){s.__webglMultisampledFramebuffer=t.createFramebuffer(),s.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var g=a.convert(r.format),v=a.convert(r.type),m=w(r.internalFormat,g,v),_=N(e);t.renderbufferStorageMultisample(36161,_,m,e.width,e.height),t.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(s.__webglDepthRenderbuffer=t.createRenderbuffer(),D(s.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){n.bindTexture(34067,l.__webglTexture),I(34067,r,f);for(var k=0;k<6;k++)L(s.__webglFramebuffer[k],e,36064,34069+k);b(r,f)&&x(34067,r,e.width,e.height),n.bindTexture(34067,null)}else{var C=3553;d&&(c?C=r.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(C,l.__webglTexture),I(C,r,f),L(s.__webglFramebuffer,e,36064,C),b(r,f)&&x(3553,r,e.width,e.height),n.bindTexture(3553,null)}e.depthBuffer&&function(e){var n=i.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(n.depthTexture).__webglTexture||n.depthTexture.image.width!==n.width||n.depthTexture.image.height!==n.height)&&(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),S(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Gt)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==Vt)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var a=0;a<6;a++)t.bindFramebuffer(36160,n.__webglFramebuffer[a]),n.__webglDepthbuffer[a]=t.createRenderbuffer(),D(n.__webglDepthbuffer[a],e,!1)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),D(n.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}(e)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(b(e,y(t)||c)){var r=t.isWebGLCubeRenderTarget?34067:3553,a=i.get(e).__webglTexture;n.bindTexture(r,a),x(r,e,t.width,t.height),n.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(c){var n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var r=e.width,a=e.height,o=16384;e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024),t.blitFramebuffer(0,0,r,a,0,0,r,a,o,9728),t.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===Z&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Z=!0),t=t.texture),S(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),F=!0),t=t.texture),A(t,e)}}function Es(t,e,n){var i=n.isWebGL2;return{convert:function(t){var n;if(t===Tt)return 5121;if(t===Lt)return 32819;if(t===Dt)return 32820;if(t===Nt)return 33635;if(t===St)return 5120;if(t===At)return 5122;if(t===Et)return 5123;if(t===Pt)return 5124;if(t===It)return 5125;if(t===Ot)return 5126;if(t===Rt)return i?5131:null!==(n=e.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(t===Ft)return 6406;if(t===Ut)return 6407;if(t===Bt)return 6408;if(t===zt)return 6409;if(t===qt)return 6410;if(t===Gt)return 6402;if(t===Vt)return 34041;if(t===Wt)return 6403;if(t===jt)return 36244;if(t===Yt)return 33319;if(t===Qt)return 33320;if(t===Jt)return 36248;if(t===Xt)return 36249;if(t===$t||t===Kt||t===te||t===ee){if(null===(n=e.get("WEBGL_compressed_texture_s3tc")))return null;if(t===$t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===Kt)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===te)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===ee)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t===ne||t===ie||t===re||t===ae){if(null===(n=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(t===ne)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===ie)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===re)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===ae)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t===oe)return null!==(n=e.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((t===se||t===le)&&null!==(n=e.get("WEBGL_compressed_texture_etc"))){if(t===se)return n.COMPRESSED_RGB8_ETC2;if(t===le)return n.COMPRESSED_RGBA8_ETC2_EAC}return t===ue||t===ce||t===he||t===de||t===fe||t===pe||t===ge||t===ve||t===me||t===_e||t===ye||t===be||t===xe||t===we||t===Ce||t===Me||t===Te||t===Se||t===Ae||t===Ee||t===Pe||t===Ie||t===Oe||t===Re||t===Le||t===De||t===Ne||t===Ze?null!==(n=e.get("WEBGL_compressed_texture_astc"))?t:null:t===ke?null!==(n=e.get("EXT_texture_compression_bptc"))?t:null:t===Zt?i?34042:null!==(n=e.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Ps(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];ba.call(this),this.cameras=t}Ms.prototype.isMeshDistanceMaterial=!0,Ps.prototype=Object.assign(Object.create(ba.prototype),{constructor:Ps,isArrayCamera:!0});var Is=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="Group",t}return _createClass(n)}(Ki);function Os(){this._targetRay=null,this._grip=null,this._hand=null}function Rs(t,e){var n=this,i=null,a=1,o=null,s="local-floor",l=null,u=[],c=new Map,h=new ba;h.layers.enable(1),h.viewport=new Jn;var d=new ba;d.layers.enable(2),d.viewport=new Jn;var f=[h,d],p=new Ps;p.layers.enable(1),p.layers.enable(2);var g,v=null,m=null;function _(t){var e=c.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function y(){c.forEach(function(t,e){t.disconnect(e)}),c.clear(),v=null,m=null,t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),M.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function b(t){for(var e=i.inputSources,n=0;n<u.length;n++)c.set(e[n],u[n]);for(var r=0;r<t.removed.length;r++){var a=t.removed[r],o=c.get(a);o&&(o.dispatchEvent({type:"disconnected",data:a}),c.delete(a))}for(var s=0;s<t.added.length;s++){var l=t.added[s],h=c.get(l);h&&h.dispatchEvent({type:"connected",data:l})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){var e=u[t];return void 0===e&&(e=new Os,u[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){var e=u[t];return void 0===e&&(e=new Os,u[t]=e),e.getGripSpace()},this.getHand=function(t){var e=u[t];return void 0===e&&(e=new Os,u[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){a=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){s=t,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return i},this.setSession=(g=(0,r.Z)(regeneratorRuntime.mark(function t(r){var l,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(i=r)){t.next=16;break}if(i.addEventListener("select",_),i.addEventListener("selectstart",_),i.addEventListener("selectend",_),i.addEventListener("squeeze",_),i.addEventListener("squeezestart",_),i.addEventListener("squeezeend",_),i.addEventListener("end",y),i.addEventListener("inputsourceschange",b),l=e.getContextAttributes(),t.t0=!0!==l.xrCompatible,!t.t0){t.next=7;break}return t.next=7,e.makeXRCompatible();case 7:return u=new XRWebGLLayer(i,e,{antialias:l.antialias,alpha:l.alpha,depth:l.depth,stencil:l.stencil,framebufferScaleFactor:a}),i.updateRenderState({baseLayer:u}),t.next=11,i.requestReferenceSpace(s);case 11:o=t.sent,M.setContext(i),M.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"});case 16:case"end":return t.stop()}},t)})),function(t){return g.apply(this,arguments)});var x=new ti,w=new ti;function k(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){p.near=d.near=h.near=t.near,p.far=d.far=h.far=t.far,(v!==p.near||m!==p.far)&&(i.updateRenderState({depthNear:p.near,depthFar:p.far}),v=p.near,m=p.far);var e=t.parent,n=p.cameras;k(p,e);for(var r=0;r<n.length;r++)k(n[r],e);t.matrixWorld.copy(p.matrixWorld),t.matrix.copy(p.matrix),t.matrix.decompose(t.position,t.quaternion,t.scale);for(var a=t.children,o=0,s=a.length;o<s;o++)a[o].updateMatrixWorld(!0);return 2===n.length?function(t,e,n){x.setFromMatrixPosition(e.matrixWorld),w.setFromMatrixPosition(n.matrixWorld);var i=x.distanceTo(w),r=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],u=(r[9]-1)/r[5],c=(r[8]-1)/r[0],h=(a[8]+1)/a[0],d=o*c,f=o*h,p=i/(-c+h),g=p*-c;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(g),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();var v=o+p,m=s+p;t.projectionMatrix.makePerspective(d-g,f+(i-g),l*s/m*v,u*s/m*v,v,m)}(p,h,d):p.projectionMatrix.copy(h.projectionMatrix),p};var C=null,M=new Aa;M.setAnimationLoop(function(e,n){if(null!==(l=n.getViewerPose(o))){var r=l.views,a=i.renderState.baseLayer;t.setFramebuffer(a.framebuffer);var s=!1;r.length!==p.cameras.length&&(p.cameras.length=0,s=!0);for(var c=0;c<r.length;c++){var h=r[c],d=a.getViewport(h),g=f[c];g.matrix.fromArray(h.transform.matrix),g.projectionMatrix.fromArray(h.projectionMatrix),g.viewport.set(d.x,d.y,d.width,d.height),0===c&&p.matrix.copy(g.matrix),!0===s&&p.cameras.push(g)}}for(var v=i.inputSources,m=0;m<u.length;m++)u[m].update(v[m],n,o);C&&C(e,n)}),this.setAnimationLoop=function(t){C=t},this.dispose=function(){}}function Ls(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);var i,r,a=t.get(n).envMap;if(a){e.envMap.value=a,e.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;var o=t.get(a).__maxMipLevel;void 0!==o&&(e.maxMipLevel.value=o)}n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(i=n.clearcoatRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix)),n.aoMap?r=n.aoMap:n.lightMap&&(r=n.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uv2Transform.value.copy(r.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,n.side===m&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),n.side===m&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,a){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===m&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===m&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===m&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===m&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,e.side===m&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,i):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===m&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===m&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,e.side===m&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),e.side===m&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){var r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,a):i.isSpriteMaterial?function(t,e){var n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Ds(t){var e=void 0!==(t=t||{}).canvas?t.canvas:function(){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,u=void 0!==t.powerPreference?t.powerPreference:"default",c=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,h=null,d=null,f=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=$e,this.physicallyCorrectLights=!1,this.toneMapping=tt,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var g=this,v=!1,m=null,_=0,y=0,b=null,x=null,w=-1,k=null,C=new Jn,M=new Jn,T=null,S=e.width,A=e.height,E=1,P=null,I=null,O=new Jn(0,0,S,A),R=new Jn(0,0,S,A),L=!1,D=new Sa,N=!1,Z=!1,F=new Ai,U=new ti,B={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function z(){return null===b?E:1}var q,H,G,V,W,j,Y,Q,J,X,$,K,et,nt,it,rt,at,ot,st,lt,ut,ct=n;function ht(t,n){for(var i=0;i<t.length;i++){var r=e.getContext(t[i],n);if(null!==r)return r}return null}try{var dt={alpha:i,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if(e.addEventListener("webglcontextlost",mt,!1),e.addEventListener("webglcontextrestored",_t,!1),null===ct){var ft=["webgl2","webgl","experimental-webgl"];if(!0===g.isWebGL1Renderer&&ft.shift(),null===(ct=ht(ft,dt)))throw ht(ft)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ct.getShaderPrecisionFormat&&(ct.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(dt){throw console.error("THREE.WebGLRenderer: "+dt.message),dt}function pt(){q=new Ba(ct),H=new Za(ct,q,t),q.init(H),lt=new Es(ct,q,H),(G=new Ss(ct,q,H)).scissor(M.copy(R).multiplyScalar(E).floor()),G.viewport(C.copy(O).multiplyScalar(E).floor()),V=new Ha(ct),W=new fs,j=new As(ct,q,G,W,H,lt,V),Y=new Ua(g),Q=new Ea(ct,H),ut=new Da(ct,q,Q,H),J=new za(ct,Q,V,ut),X=new ja(ct,J,Q,V),at=new Wa(ct),it=new Fa(W),$=new ds(g,Y,q,H,ut,it),K=new Ls(W),et=new ms(W),nt=new ks(q,H),rt=new La(g,Y,G,X,s),ot=new Na(ct,q,V,H),st=new qa(ct,q,V,H),V.programs=$.programs,g.capabilities=H,g.extensions=q,g.properties=W,g.renderLists=et,g.state=G,g.info=V}pt();var gt=new Rs(g,ct);this.xr=gt;var vt=new Ts(g,X,H.maxTextureSize);function mt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function _t(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1,pt()}function yt(t){var e=t.target;e.removeEventListener("dispose",yt),function(t){bt(t),W.remove(t)}(e)}function bt(t){var e=W.get(t).program;void 0!==e&&$.releaseProgram(e)}this.shadowMap=vt,this.getContext=function(){return ct},this.getContextAttributes=function(){return ct.getContextAttributes()},this.forceContextLoss=function(){var t=q.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=q.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return E},this.setPixelRatio=function(t){void 0!==t&&(E=t,this.setSize(S,A,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new Hn),t.set(S,A)},this.setSize=function(t,n,i){gt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(S=t,A=n,e.width=Math.floor(t*E),e.height=Math.floor(n*E),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new Hn),t.set(S*E,A*E).floor()},this.setDrawingBufferSize=function(t,n,i){S=t,A=n,E=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new Jn),t.copy(C)},this.getViewport=function(t){return t.copy(O)},this.setViewport=function(t,e,n,i){t.isVector4?O.set(t.x,t.y,t.z,t.w):O.set(t,e,n,i),G.viewport(C.copy(O).multiplyScalar(E).floor())},this.getScissor=function(t){return t.copy(R)},this.setScissor=function(t,e,n,i){t.isVector4?R.set(t.x,t.y,t.z,t.w):R.set(t,e,n,i),G.scissor(M.copy(R).multiplyScalar(E).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(t){G.setScissorTest(L=t)},this.setOpaqueSort=function(t){P=t},this.setTransparentSort=function(t){I=t},this.getClearColor=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),t=new kr),t.copy(rt.getClearColor())},this.setClearColor=function(){rt.setClearColor.apply(rt,arguments)},this.getClearAlpha=function(){return rt.getClearAlpha()},this.setClearAlpha=function(){rt.setClearAlpha.apply(rt,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),ct.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",mt,!1),e.removeEventListener("webglcontextrestored",_t,!1),et.dispose(),nt.dispose(),W.dispose(),Y.dispose(),X.dispose(),ut.dispose(),gt.dispose(),wt.stop()},this.renderBufferImmediate=function(t,e){ut.initAttributes();var n=W.get(t);t.hasPositions&&!n.position&&(n.position=ct.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=ct.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=ct.createBuffer()),t.hasColors&&!n.color&&(n.color=ct.createBuffer());var i=e.getAttributes();t.hasPositions&&(ct.bindBuffer(34962,n.position),ct.bufferData(34962,t.positionArray,35048),ut.enableAttribute(i.position),ct.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(ct.bindBuffer(34962,n.normal),ct.bufferData(34962,t.normalArray,35048),ut.enableAttribute(i.normal),ct.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(ct.bindBuffer(34962,n.uv),ct.bufferData(34962,t.uvArray,35048),ut.enableAttribute(i.uv),ct.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(ct.bindBuffer(34962,n.color),ct.bufferData(34962,t.colorArray,35048),ut.enableAttribute(i.color),ct.vertexAttribPointer(i.color,3,5126,!1,0,0)),ut.disableUnusedAttributes(),ct.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,a){null===e&&(e=B);var o=r.isMesh&&r.matrixWorld.determinant()<0,s=At(t,e,i,r);G.setMaterial(i,o);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c=1;!0===i.wireframe&&(l=J.getWireframeAttribute(n),c=2),(i.morphTargets||i.morphNormals)&&at.update(r,n,i,s),ut.setup(r,i,s,n,l);var h,d=ot;null!==l&&(h=Q.get(l),(d=st).setIndex(h));var f=null!==l?l.count:u.count,p=n.drawRange.start*c,g=n.drawRange.count*c,v=null!==a?a.start*c:0,m=null!==a?a.count*c:1/0,_=Math.max(p,v),y=Math.min(f,p+g,v+m)-1,b=Math.max(0,y-_+1);if(0!==b){if(r.isMesh)!0===i.wireframe?(G.setLineWidth(i.wireframeLinewidth*z()),d.setMode(1)):d.setMode(4);else if(r.isLine){var x=i.linewidth;void 0===x&&(x=1),G.setLineWidth(x*z()),d.setMode(r.isLineSegments?1:r.isLineLoop?2:3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(_,b,r.count);else if(n.isInstancedBufferGeometry){var w=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(_,b,w)}else d.render(_,b)}},this.compile=function(t,e){(d=nt.get(t)).init(),t.traverseVisible(function(t){t.isLight&&t.layers.test(e.layers)&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))}),d.setupLights();var n=new WeakMap;t.traverse(function(e){var i=e.material;if(i)if(Array.isArray(i))for(var r=0;r<i.length;r++){var a=i[r];!1===n.has(a)&&(St(a,t,e),n.set(a))}else!1===n.has(i)&&(St(i,t,e),n.set(i))})};var xt=null,wt=new Aa;function kt(t,e,n,i){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||D.intersectsSprite(t)){i&&U.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);var r=X.update(t),a=t.material;a.visible&&h.push(t,r,a,n,U.z,null)}}else if(t.isImmediateRenderObject)i&&U.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F),h.push(t,null,t.material,n,U.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==V.render.frame&&(t.skeleton.update(),t.skeleton.frame=V.render.frame),!t.frustumCulled||D.intersectsObject(t))){i&&U.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);var o=X.update(t),s=t.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var f=l[u],p=s[f.materialIndex];p&&p.visible&&h.push(t,o,p,n,U.z,f)}else s.visible&&h.push(t,o,s,n,U.z,null)}for(var g=t.children,v=0,m=g.length;v<m;v++)kt(g[v],e,n,i)}}function Ct(t,e,n){for(var i=!0===e.isScene?e.overrideMaterial:null,r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,l=o.geometry,u=null===i?o.material:i,c=o.group;if(n.isArrayCamera)for(var h=n.cameras,f=0,p=h.length;f<p;f++){var g=h[f];s.layers.test(g.layers)&&(G.viewport(C.copy(g.viewport)),d.setupLightsView(g),Mt(s,e,g,l,u,c))}else Mt(s,e,n,l,u,c)}}function Mt(t,e,n,i,r,a){if(t.onBeforeRender(g,e,n,i,r,a),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var o=At(n,e,r,t);G.setMaterial(r),ut.reset(),function(t,e){t.render(function(t){g.renderBufferImmediate(t,e)})}(t,o)}else g.renderBufferDirect(n,e,i,r,t,a);t.onAfterRender(g,e,n,i,r,a)}function St(t,e,n){!0!==e.isScene&&(e=B);var i=W.get(t),r=d.state.lights,a=r.state.version,o=$.getParameters(t,r.state,d.state.shadowsArray,e,n),s=$.getProgramCacheKey(o),l=i.program,u=!0;if(i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=Y.get(t.envMap||i.environment),void 0===l)t.addEventListener("dispose",yt);else if(l.cacheKey!==s)bt(t);else if(i.lightsStateVersion!==a)u=!1;else{if(void 0!==o.shaderID)return;u=!1}u&&(o.uniforms=$.getUniforms(t),t.onBeforeCompile(o,g),l=$.acquireProgram(o,s),i.program=l,i.uniforms=o.uniforms,i.outputEncoding=o.outputEncoding);var c=i.uniforms;(!t.isShaderMaterial&&!t.isRawShaderMaterial||!0===t.clipping)&&(i.numClippingPlanes=it.numPlanes,i.numIntersection=it.numIntersection,c.clippingPlanes=it.uniform),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=a,i.needsLights&&(c.ambientLightColor.value=r.state.ambient,c.lightProbe.value=r.state.probe,c.directionalLights.value=r.state.directional,c.directionalLightShadows.value=r.state.directionalShadow,c.spotLights.value=r.state.spot,c.spotLightShadows.value=r.state.spotShadow,c.rectAreaLights.value=r.state.rectArea,c.ltc_1.value=r.state.rectAreaLTC1,c.ltc_2.value=r.state.rectAreaLTC2,c.pointLights.value=r.state.point,c.pointLightShadows.value=r.state.pointShadow,c.hemisphereLights.value=r.state.hemi,c.directionalShadowMap.value=r.state.directionalShadowMap,c.directionalShadowMatrix.value=r.state.directionalShadowMatrix,c.spotShadowMap.value=r.state.spotShadowMap,c.spotShadowMatrix.value=r.state.spotShadowMatrix,c.pointShadowMap.value=r.state.pointShadowMap,c.pointShadowMatrix.value=r.state.pointShadowMatrix);var h=i.program.getUniforms(),f=Vo.seqWithValue(h.seq,c);i.uniformsList=f}function At(t,e,n,i){!0!==e.isScene&&(e=B),j.resetTextureUnits();var r=e.fog,a=n.isMeshStandardMaterial?e.environment:null,o=null===b?g.outputEncoding:b.texture.encoding,s=Y.get(n.envMap||a),l=W.get(n),u=d.state.lights;!0!==N||!0!==Z&&t===k||it.setState(n,t,t===k&&n.id===w),n.version===l.__version?(n.fog&&l.fog!==r||l.environment!==a||l.needsLights&&l.lightsStateVersion!==u.state.version||void 0!==l.numClippingPlanes&&(l.numClippingPlanes!==it.numPlanes||l.numIntersection!==it.numIntersection)||l.outputEncoding!==o||l.envMap!==s)&&St(n,e,i):(St(n,e,i),l.__version=n.version);var c=!1,h=!1,f=!1,p=l.program,v=p.getUniforms(),m=l.uniforms;if(G.useProgram(p.program)&&(c=!0,h=!0,f=!0),n.id!==w&&(w=n.id,h=!0),c||k!==t){if(v.setValue(ct,"projectionMatrix",t.projectionMatrix),H.logarithmicDepthBuffer&&v.setValue(ct,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),k!==t&&(k=t,h=!0,f=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var _=v.map.cameraPosition;void 0!==_&&_.setValue(ct,U.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&v.setValue(ct,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&v.setValue(ct,"viewMatrix",t.matrixWorldInverse)}if(n.skinning){v.setOptional(ct,i,"bindMatrix"),v.setOptional(ct,i,"bindMatrixInverse");var y=i.skeleton;if(y){var x=y.bones;if(H.floatVertexTextures){if(null===y.boneTexture){var C=Math.sqrt(4*x.length);C=qn.ceilPowerOfTwo(C),C=Math.max(C,4);var M=new Float32Array(C*C*4);M.set(y.boneMatrices);var T=new Ca(M,C,C,Bt,Ot);y.boneMatrices=M,y.boneTexture=T,y.boneTextureSize=C}v.setValue(ct,"boneTexture",y.boneTexture,j),v.setValue(ct,"boneTextureSize",y.boneTextureSize)}else v.setOptional(ct,y,"boneMatrices")}}return(h||l.receiveShadow!==i.receiveShadow)&&(l.receiveShadow=i.receiveShadow,v.setValue(ct,"receiveShadow",i.receiveShadow)),h&&(v.setValue(ct,"toneMappingExposure",g.toneMappingExposure),l.needsLights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(m,f),r&&n.fog&&K.refreshFogUniforms(m,r),K.refreshMaterialUniforms(m,n,E,A),Vo.upload(ct,l.uniformsList,m,j)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Vo.upload(ct,l.uniformsList,m,j),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&v.setValue(ct,"center",i.center),v.setValue(ct,"modelViewMatrix",i.modelViewMatrix),v.setValue(ct,"normalMatrix",i.normalMatrix),v.setValue(ct,"modelMatrix",i.matrixWorld),p}wt.setAnimationLoop(function(t){gt.isPresenting||xt&&xt(t)}),"undefined"!=typeof window&&wt.setContext(window),this.setAnimationLoop=function(t){xt=t,gt.setAnimationLoop(t),null===t?wt.stop():wt.start()},this.render=function(t,e){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),void 0===e||!0===e.isCamera){if(!0!==v){ut.resetDefaultState(),w=-1,k=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===gt.enabled&&!0===gt.isPresenting&&(e=gt.getCamera(e)),!0===t.isScene&&t.onBeforeRender(g,t,e,n||b),(d=nt.get(t,p.length)).init(),p.push(d),F.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),D.setFromProjectionMatrix(F),Z=this.localClippingEnabled,N=it.init(this.clippingPlanes,Z,e),(h=et.get(t,f.length)).init(),f.push(h),kt(t,e,0,g.sortObjects),h.finish(),!0===g.sortObjects&&h.sort(P,I),!0===N&&it.beginShadows();var r=d.state.shadowsArray;vt.render(r,t,e),d.setupLights(),d.setupLightsView(e),!0===N&&it.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),rt.render(h,t,e,i);var a=h.opaque,o=h.transparent;a.length>0&&Ct(a,t,e),o.length>0&&Ct(o,t,e),!0===t.isScene&&t.onAfterRender(g,t,e),null!==b&&(j.updateRenderTargetMipmap(b),j.updateMultisampleRenderTarget(b)),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),p.pop(),d=p.length>0?p[p.length-1]:null,f.pop(),h=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(t){m!==t&&null===b&&ct.bindFramebuffer(36160,t),m=t},this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTarget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=t,_=e,y=n,t&&void 0===W.get(t).__webglFramebuffer&&j.setupRenderTarget(t);var i=m,r=!1,a=!1;if(t){var o=t.texture;(o.isDataTexture3D||o.isDataTexture2DArray)&&(a=!0);var s=W.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=s[e],r=!0):i=t.isWebGLMultisampleRenderTarget?W.get(t).__webglMultisampledFramebuffer:s,C.copy(t.viewport),M.copy(t.scissor),T=t.scissorTest}else C.copy(O).multiplyScalar(E).floor(),M.copy(R).multiplyScalar(E).floor(),T=L;if(x!==i&&(ct.bindFramebuffer(36160,i),x=i),G.viewport(C),G.scissor(M),G.setScissorTest(T),r){var l=W.get(t.texture);ct.framebufferTexture2D(36160,36064,34069+e,l.__webglTexture,n)}else if(a){var u=W.get(t.texture);ct.framebufferTextureLayer(36160,36064,u.__webglTexture,n||0,e||0)}},this.readRenderTargetPixels=function(t,e,n,i,r,a,o){if(t&&t.isWebGLRenderTarget){var s=W.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){var l=!1;s!==x&&(ct.bindFramebuffer(36160,s),l=!0);try{var u=t.texture,c=u.format,h=u.type;if(c!==Bt&&lt.convert(c)!==ct.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var d=h===Rt&&(q.has("EXT_color_buffer_half_float")||H.isWebGL2&&q.has("EXT_color_buffer_float"));if(!(h===Tt||lt.convert(h)===ct.getParameter(35738)||h===Ot&&(H.isWebGL2||q.has("OES_texture_float")||q.has("WEBGL_color_buffer_float"))||d))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ct.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&ct.readPixels(e,n,i,r,lt.convert(c),lt.convert(h),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&ct.bindFramebuffer(36160,x)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Math.pow(2,-n),r=Math.floor(e.image.width*i),a=Math.floor(e.image.height*i),o=lt.convert(e.format);j.setTexture2D(e,0),ct.copyTexImage2D(3553,n,o,t.x,t.y,r,a,0),G.unbindTexture()},this.copyTextureToTexture=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e.image.width,a=e.image.height,o=lt.convert(n.format),s=lt.convert(n.type);j.setTexture2D(n,0),ct.pixelStorei(37440,n.flipY),ct.pixelStorei(37441,n.premultiplyAlpha),ct.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?ct.texSubImage2D(3553,i,t.x,t.y,r,a,o,s,e.image.data):e.isCompressedTexture?ct.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):ct.texSubImage2D(3553,i,t.x,t.y,o,s,e.image),0===i&&n.generateMipmaps&&ct.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(g.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=n.image,s=o.width,l=o.height,u=o.data,c=lt.convert(i.format),h=lt.convert(i.type);if(i.isDataTexture3D)j.setTexture3D(i,0),a=32879;else{if(!i.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");j.setTexture2DArray(i,0),a=35866}ct.pixelStorei(37440,i.flipY),ct.pixelStorei(37441,i.premultiplyAlpha),ct.pixelStorei(3317,i.unpackAlignment);var d=ct.getParameter(3314),f=ct.getParameter(32878),p=ct.getParameter(3316),v=ct.getParameter(3315),m=ct.getParameter(32877);ct.pixelStorei(3314,s),ct.pixelStorei(32878,l),ct.pixelStorei(3316,t.min.x),ct.pixelStorei(3315,t.min.y),ct.pixelStorei(32877,t.min.z),ct.texSubImage3D(a,r,e.x,e.y,e.z,t.max.x-t.min.x+1,t.max.y-t.min.y+1,t.max.z-t.min.z+1,c,h,u),ct.pixelStorei(3314,d),ct.pixelStorei(32878,f),ct.pixelStorei(3316,p),ct.pixelStorei(3315,v),ct.pixelStorei(32877,m),0===r&&i.generateMipmaps&&ct.generateMipmap(a),G.unbindTexture()}},this.initTexture=function(t){j.setTexture2D(t,0),G.unbindTexture()},this.resetState=function(){G.reset(),ut.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Is.prototype.isGroup=!0,Object.assign(Os.prototype,{constructor:Os,getHandSpace:function(){return null===this._hand&&(this._hand=new Is,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Is,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Is,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,n){var i=null,r=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(l&&t.hand){a=!0;var u,c=_createForOfIteratorHelper(t.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,d=e.getJointPose(h,n);if(void 0===l.joints[h.jointName]){var f=new Is;f.matrixAutoUpdate=!1,f.visible=!1,l.joints[h.jointName]=f,l.add(f)}var p=l.joints[h.jointName];null!==d&&(p.matrix.fromArray(d.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=d.radius),p.visible=null!==d}}catch(v){c.e(v)}finally{c.f()}var g=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==o&&(null!==(i=e.getPose(t.targetRaySpace,n))&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==s&&t.gripSpace&&(null!==(r=e.getPose(t.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)));return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}}),Object.assign(Rs.prototype,Fn.prototype);var Ns=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(Ds);Ns.prototype.isWebGL1Renderer=!0;var Zs=function(){function t(e,n){_classCallCheck(this,t),this.name="",this.color=new kr(e),this.density=void 0!==n?n:25e-5}return _createClass(t,[{key:"clone",value:function(){return new t(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),t}();Zs.prototype.isFogExp2=!0;var Fs=function(){function t(e,n,i){_classCallCheck(this,t),this.name="",this.color=new kr(e),this.near=void 0!==n?n:1,this.far=void 0!==i?i:1e3}return _createClass(t,[{key:"clone",value:function(){return new t(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),t}();Fs.prototype.isFog=!0;var Us=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="Scene",t.background=null,t.environment=null,t.fog=null,t.overrideMaterial=null,t.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:_assertThisInitialized(t)})),t}return _createClass(n,[{key:"copy",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}]),n}(Ki);function Bs(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=Sn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=qn.generateUUID()}Us.prototype.isScene=!0,Object.defineProperty(Bs.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Bs.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qn.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var e=new Bs(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=qn.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var zs=new ti;function qs(t,e,n,i){this.name="",this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}Object.defineProperties(qs.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(qs.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(var e=0,n=this.data.count;e<n;e++)zs.x=this.getX(e),zs.y=this.getY(e),zs.z=this.getZ(e),zs.applyMatrix4(t),this.setXYZ(e,zs.x,zs.y,zs.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return new Sr(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new qs(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}});var Hs,Gs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="SpriteMaterial",i.color=new kr(16777215),i.map=null,i.alphaMap=null,i.rotation=0,i.sizeAttenuation=!0,i.transparent=!0,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}]),n}(vr);Gs.prototype.isSpriteMaterial=!0;var Vs=new ti,Ws=new ti,js=new ti,Ys=new Hn,Qs=new Hn,Js=new Ai,Xs=new ti,$s=new ti,Ks=new ti,tl=new Hn,el=new Hn,nl=new Hn,il=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;if(_classCallCheck(this,n),(i=e.call(this)).type="Sprite",void 0===Hs){Hs=new Yr;var r=new Bs(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Hs.setIndex([0,1,2,0,2,3]),Hs.setAttribute("position",new qs(r,3,0,!1)),Hs.setAttribute("uv",new qs(r,2,3,!1))}return i.geometry=Hs,i.material=void 0!==t?t:new Gs,i.center=new Hn(.5,.5),_possibleConstructorReturn(i)}return _createClass(n,[{key:"raycast",value:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ws.setFromMatrixScale(this.matrixWorld),Js.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),js.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Ws.multiplyScalar(-js.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var a=this.center;rl(Xs.set(-.5,-.5,0),js,a,Ws,n,i),rl($s.set(.5,-.5,0),js,a,Ws,n,i),rl(Ks.set(.5,.5,0),js,a,Ws,n,i),tl.set(0,0),el.set(1,0),nl.set(1,1);var o=t.ray.intersectTriangle(Xs,$s,Ks,!1,Vs);if(null!==o||(rl($s.set(-.5,.5,0),js,a,Ws,n,i),el.set(0,1),null!==(o=t.ray.intersectTriangle(Xs,Ks,$s,!1,Vs)))){var s=t.ray.origin.distanceTo(Vs);s<t.near||s>t.far||e.push({distance:s,point:Vs.clone(),uv:pr.getUV(Vs,Xs,$s,Ks,tl,el,nl,new Hn),face:null,object:this})}}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}]),n}(Ki);function rl(t,e,n,i,r,a){Ys.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(Qs.x=a*Ys.x-r*Ys.y,Qs.y=r*Ys.x+a*Ys.y):Qs.copy(Ys),t.copy(e),t.x+=Qs.x,t.y+=Qs.y,t.applyMatrix4(Js)}il.prototype.isSprite=!0;var al=new ti,ol=new ti,sl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this))._currentLevel=0,t.type="LOD",Object.defineProperties(_assertThisInitialized(t),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),t.autoUpdate=!0,t}return _createClass(n,[{key:"copy",value:function(t){_get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,!1);for(var e=t.levels,i=0,r=e.length;i<r;i++){var a=e[i];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=t.autoUpdate,this}},{key:"addLevel",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e=Math.abs(e);var n,i=this.levels;for(n=0;n<i.length&&!(e<i[n].distance);n++);return i.splice(n,0,{distance:e,object:t}),this.add(t),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(t){var e=this.levels;if(e.length>0){var n,i;for(n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object}return null}},{key:"raycast",value:function(t,e){if(this.levels.length>0){al.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(al);this.getObjectForDistance(n).raycast(t,e)}}},{key:"update",value:function(t){var e=this.levels;if(e.length>1){al.setFromMatrixPosition(t.matrixWorld),ol.setFromMatrixPosition(this.matrixWorld);var n,i,r=al.distanceTo(ol)/t.zoom;for(e[0].object.visible=!0,n=1,i=e.length;n<i&&r>=e[n].distance;n++)e[n-1].object.visible=!1,e[n].object.visible=!0;for(this._currentLevel=n-1;n<i;n++)e[n].object.visible=!1}}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];for(var i=this.levels,r=0,a=i.length;r<a;r++){var o=i[r];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}]),n}(Ki),ll=new ti,ul=new Jn,cl=new Jn,hl=new ti,dl=new Ai;function fl(t,e){da.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ai,this.bindMatrixInverse=new Ai}function pl(){Ki.call(this),this.type="Bone"}fl.prototype=Object.assign(Object.create(da.prototype),{constructor:fl,isSkinnedMesh:!0,copy:function(t){return da.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new Jn,e=this.geometry.attributes.skinWeight,n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){da.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(t,e){var n=this.skeleton,i=this.geometry;ul.fromBufferAttribute(i.attributes.skinIndex,t),cl.fromBufferAttribute(i.attributes.skinWeight,t),ll.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(var r=0;r<4;r++){var a=cl.getComponent(r);if(0!==a){var o=ul.getComponent(r);dl.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),e.addScaledVector(hl.copy(ll).applyMatrix4(dl),a)}}return e.applyMatrix4(this.bindMatrixInverse)}}),pl.prototype=Object.assign(Object.create(Ki.prototype),{constructor:pl,isBone:!0});var gl=new Ai,vl=new Ai,ml=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_classCallCheck(this,t),this.uuid=qn.generateUUID(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return _createClass(t,[{key:"init",value:function(){var t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new Ai)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var t=0,e=this.bones.length;t<e;t++){var n=new Ai;this.bones[t]&&n.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t];n&&n.matrixWorld.copy(this.boneInverses[t]).invert()}for(var i=0,r=this.bones.length;i<r;i++){var a=this.bones[i];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,a=t.length;r<a;r++)gl.multiplyMatrices(t[r]?t[r].matrixWorld:vl,e[r]),gl.toArray(n,16*r);null!==i&&(i.needsUpdate=!0)}},{key:"clone",value:function(){return new t(this.bones,this.boneInverses)}},{key:"getBoneByName",value:function(t){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e];if(i.name===t)return i}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(t,e){this.uuid=t.uuid;for(var n=0,i=t.bones.length;n<i;n++){var r=t.bones[n],a=e[r];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",r),a=new pl),this.bones.push(a),this.boneInverses.push((new Ai).fromArray(t.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;for(var e=this.bones,n=this.boneInverses,i=0,r=e.length;i<r;i++)t.bones.push(e[i].uuid),t.boneInverses.push(n[i].toArray());return t}}]),t}(),_l=new Ai,yl=new Ai,bl=[],xl=new da;function wl(t,e,n){da.call(this,t,e),this.instanceMatrix=new Sr(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}wl.prototype=Object.assign(Object.create(da.prototype),{constructor:wl,isInstancedMesh:!0,copy:function(t){return da.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){var n=this.matrixWorld,i=this.count;if(xl.geometry=this.geometry,xl.material=this.material,void 0!==xl.material)for(var r=0;r<i;r++){this.getMatrixAt(r,_l),yl.multiplyMatrices(n,_l),xl.matrixWorld=yl,xl.raycast(t,bl);for(var a=0,o=bl.length;a<o;a++){var s=bl[a];s.instanceId=r,s.object=this,e.push(s)}bl.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new Sr(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}});var kl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="LineBasicMaterial",i.color=new kr(16777215),i.linewidth=1,i.linecap="round",i.linejoin="round",i.morphTargets=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this}}]),n}(vr);kl.prototype.isLineBasicMaterial=!0;var Cl=new ti,Ml=new ti,Tl=new Ai,Sl=new Si,Al=new yi;function El(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yr,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new kl;Ki.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}El.prototype=Object.assign(Object.create(Ki.prototype),{constructor:El,isLine:!0,copy:function(t){return Ki.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],i=1,r=e.count;i<r;i++)Cl.fromBufferAttribute(e,i-1),Ml.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=Cl.distanceTo(Ml);t.setAttribute("lineDistance",new Nr(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Al.copy(n.boundingSphere),Al.applyMatrix4(i),Al.radius+=r,!1!==t.ray.intersectsSphere(Al)){Tl.copy(i).invert(),Sl.copy(t.ray).applyMatrix4(Tl);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a,s=new ti,l=new ti,u=new ti,c=new ti,h=this.isLineSegments?2:1;if(n.isBufferGeometry){var d=n.index,f=n.attributes.position;if(null!==d)for(var p=d.array,g=0,v=p.length-1;g<v;g+=h){var m=p[g+1];if(s.fromBufferAttribute(f,p[g]),l.fromBufferAttribute(f,m),!(Sl.distanceSqToSegment(s,l,c,u)>o)){c.applyMatrix4(this.matrixWorld);var _=t.ray.origin.distanceTo(c);_<t.near||_>t.far||e.push({distance:_,point:u.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else for(var y=0,b=f.count-1;y<b;y+=h)if(s.fromBufferAttribute(f,y),l.fromBufferAttribute(f,y+1),!(Sl.distanceSqToSegment(s,l,c,u)>o)){c.applyMatrix4(this.matrixWorld);var x=t.ray.origin.distanceTo(c);x<t.near||x>t.far||e.push({distance:x,point:u.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var Pl=new ti,Il=new ti;function Ol(t,e){El.call(this,t,e),this.type="LineSegments"}Ol.prototype=Object.assign(Object.create(El.prototype),{constructor:Ol,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],i=0,r=e.count;i<r;i+=2)Pl.fromBufferAttribute(e,i),Il.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Pl.distanceTo(Il);t.setAttribute("lineDistance",new Nr(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}});var Rl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="LineLoop",r}return _createClass(n)}(El);Rl.prototype.isLineLoop=!0;var Ll=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="PointsMaterial",i.color=new kr(16777215),i.map=null,i.alphaMap=null,i.size=1,i.sizeAttenuation=!0,i.morphTargets=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this}}]),n}(vr);Ll.prototype.isPointsMaterial=!0;var Dl=new Ai,Nl=new Si,Zl=new yi,Fl=new ti;function Ul(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yr,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Ll;Ki.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}function Bl(t,e,n,i,r,a,o){var s=Nl.distanceSqToPoint(t);if(s<n){var l=new ti;Nl.closestPointToPoint(t,l),l.applyMatrix4(i);var u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}Ul.prototype=Object.assign(Object.create(Ki.prototype),{constructor:Ul,isPoints:!0,copy:function(t){return Ki.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Zl.copy(n.boundingSphere),Zl.applyMatrix4(i),Zl.radius+=r,!1!==t.ray.intersectsSphere(Zl)){Dl.copy(i).invert(),Nl.copy(t.ray).applyMatrix4(Dl);var a=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=a*a;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position;if(null!==s)for(var u=s.array,c=0,h=u.length;c<h;c++){var d=u[c];Fl.fromBufferAttribute(l,d),Bl(Fl,d,o,i,t,e,this)}else for(var f=0,p=l.count;f<p;f++)Fl.fromBufferAttribute(l,f),Bl(Fl,f,o,i,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},updateMorphTargets:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var zl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c){var h;_classCallCheck(this,n),(h=e.call(this,t,i,r,a,o,s,l,u,c)).format=void 0!==l?l:Ut,h.minFilter=void 0!==s?s:xt,h.magFilter=void 0!==o?o:xt,h.generateMipmaps=!1;var d=_assertThisInitialized(h);return"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function e(){d.needsUpdate=!0,t.requestVideoFrameCallback(e)}),h}return _createClass(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var t=this.image;"requestVideoFrameCallback"in t==0&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Yn);zl.prototype.isVideoTexture=!0;var ql=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c,h,d,f){var p;return _classCallCheck(this,n),(p=e.call(this,null,s,l,u,c,h,a,o,d,f)).image={width:i,height:r},p.mipmaps=t,p.flipY=!1,p.generateMipmaps=!1,p}return _createClass(n)}(Yn);ql.prototype.isCompressedTexture=!0;var Hl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c){var h;return _classCallCheck(this,n),(h=e.call(this,t,i,r,a,o,s,l,u,c)).needsUpdate=!0,h}return _createClass(n)}(Yn);Hl.prototype.isCanvasTexture=!0;var Gl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c,h){var d;if(_classCallCheck(this,n),(h=void 0!==h?h:Gt)!==Gt&&h!==Vt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===r&&h===Gt&&(r=Et),void 0===r&&h===Vt&&(r=Zt),(d=e.call(this,null,a,o,s,l,u,h,r,c)).image={width:t,height:i},d.magFilter=void 0!==l?l:vt,d.minFilter=void 0!==u?u:vt,d.flipY=!1,d.generateMipmaps=!1,d}return _createClass(n)}(Yn);Gl.prototype.isDepthTexture=!0;var Vl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;_classCallCheck(this,n),(t=e.call(this)).type="CircleGeometry",t.parameters={radius:i,segments:r,thetaStart:a,thetaLength:o},r=Math.max(3,r);var s=[],l=[],u=[],c=[],h=new ti,d=new Hn;l.push(0,0,0),u.push(0,0,1),c.push(.5,.5);for(var f=0,p=3;f<=r;f++,p+=3){var g=a+f/r*o;h.x=i*Math.cos(g),h.y=i*Math.sin(g),l.push(h.x,h.y,h.z),u.push(0,0,1),d.x=(l[p]/i+1)/2,d.y=(l[p+1]/i+1)/2,c.push(d.x,d.y)}for(var v=1;v<=r;v++)s.push(v,v+1,0);return t.setIndex(s),t.setAttribute("position",new Nr(l,3)),t.setAttribute("normal",new Nr(u,3)),t.setAttribute("uv",new Nr(c,2)),t}return _createClass(n)}(Yr),Wl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;_classCallCheck(this,n),(t=e.call(this)).type="CylinderGeometry",t.parameters={radiusTop:i,radiusBottom:r,height:a,radialSegments:o,heightSegments:s,openEnded:l,thetaStart:u,thetaLength:c};var h=_assertThisInitialized(t);o=Math.floor(o),s=Math.floor(s);var d=[],f=[],p=[],g=[],v=0,m=[],_=a/2,y=0;function b(t){for(var e=v,n=new Hn,a=new ti,s=0,l=!0===t?i:r,m=!0===t?1:-1,b=1;b<=o;b++)f.push(0,_*m,0),p.push(0,m,0),g.push(.5,.5),v++;for(var x=v,w=0;w<=o;w++){var k=w/o*c+u,C=Math.cos(k),M=Math.sin(k);a.x=l*M,a.y=_*m,a.z=l*C,f.push(a.x,a.y,a.z),p.push(0,m,0),n.x=.5*C+.5,n.y=.5*M*m+.5,g.push(n.x,n.y),v++}for(var T=0;T<o;T++){var S=e+T,A=x+T;!0===t?d.push(A,A+1,S):d.push(A+1,A,S),s+=3}h.addGroup(y,s,!0===t?1:2),y+=s}return function(){for(var t=new ti,e=new ti,n=0,l=(r-i)/a,b=0;b<=s;b++){for(var x=[],w=b/s,k=w*(r-i)+i,C=0;C<=o;C++){var M=C/o,T=M*c+u,S=Math.sin(T),A=Math.cos(T);e.x=k*S,e.y=-w*a+_,e.z=k*A,f.push(e.x,e.y,e.z),t.set(S,l,A).normalize(),p.push(t.x,t.y,t.z),g.push(M,1-w),x.push(v++)}m.push(x)}for(var E=0;E<o;E++)for(var P=0;P<s;P++){var I=m[P+1][E],O=m[P+1][E+1],R=m[P][E+1];d.push(m[P][E],I,R),d.push(I,O,R),n+=6}h.addGroup(y,n,0),y+=n}(),!1===l&&(i>0&&b(!0),r>0&&b(!1)),t.setIndex(d),t.setAttribute("position",new Nr(f,3)),t.setAttribute("normal",new Nr(p,3)),t.setAttribute("uv",new Nr(g,2)),t}return _createClass(n)}(Yr),jl=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return _classCallCheck(this,n),(t=e.call(this,0,i,r,a,o,s,l,u)).type="ConeGeometry",t.parameters={radius:i,height:r,radialSegments:a,heightSegments:o,openEnded:s,thetaStart:l,thetaLength:u},t}return _createClass(n)}(Wl),Yl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;_classCallCheck(this,n),(r=e.call(this)).type="PolyhedronGeometry",r.parameters={vertices:t,indices:i,radius:a,detail:o};var s=[],l=[];function u(t,e,n,i){for(var r=i+1,a=[],o=0;o<=r;o++){a[o]=[];for(var s=t.clone().lerp(n,o/r),l=e.clone().lerp(n,o/r),u=r-o,h=0;h<=u;h++)a[o][h]=0===h&&o===r?s:s.clone().lerp(l,h/u)}for(var d=0;d<r;d++)for(var f=0;f<2*(r-d)-1;f++){var p=Math.floor(f/2);f%2==0?(c(a[d][p+1]),c(a[d+1][p]),c(a[d][p])):(c(a[d][p+1]),c(a[d+1][p+1]),c(a[d+1][p]))}}function c(t){s.push(t.x,t.y,t.z)}function h(e,n){var i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function d(t,e,n,i){i<0&&1===t.x&&(l[e]=t.x-1),0===n.x&&0===n.z&&(l[e]=i/2/Math.PI+.5)}function f(t){return Math.atan2(t.z,-t.x)}function p(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}return function(t){for(var e=new ti,n=new ti,r=new ti,a=0;a<i.length;a+=3)h(i[a+0],e),h(i[a+1],n),h(i[a+2],r),u(e,n,r,t)}(o),function(t){for(var e=new ti,n=0;n<s.length;n+=3)e.x=s[n+0],e.y=s[n+1],e.z=s[n+2],e.normalize().multiplyScalar(t),s[n+0]=e.x,s[n+1]=e.y,s[n+2]=e.z}(a),function(){for(var t=new ti,e=0;e<s.length;e+=3){t.x=s[e+0],t.y=s[e+1],t.z=s[e+2];var n=f(t)/2/Math.PI+.5,i=p(t)/Math.PI+.5;l.push(n,1-i)}(function(){for(var t=new ti,e=new ti,n=new ti,i=new ti,r=new Hn,a=new Hn,o=new Hn,u=0,c=0;u<s.length;u+=9,c+=6){t.set(s[u+0],s[u+1],s[u+2]),e.set(s[u+3],s[u+4],s[u+5]),n.set(s[u+6],s[u+7],s[u+8]),r.set(l[c+0],l[c+1]),a.set(l[c+2],l[c+3]),o.set(l[c+4],l[c+5]),i.copy(t).add(e).add(n).divideScalar(3);var h=f(i);d(r,c+0,t,h),d(a,c+2,e,h),d(o,c+4,n,h)}})(),function(){for(var t=0;t<l.length;t+=6){var e=l[t+0],n=l[t+2],i=l[t+4],r=Math.max(e,n,i),a=Math.min(e,n,i);r>.9&&a<.1&&(e<.2&&(l[t+0]+=1),n<.2&&(l[t+2]+=1),i<.2&&(l[t+4]+=1))}}()}(),r.setAttribute("position",new Nr(s,3)),r.setAttribute("normal",new Nr(s.slice(),3)),r.setAttribute("uv",new Nr(l,2)),0===o?r.computeVertexNormals():r.normalizeNormals(),r}return _createClass(n)}(Yr),Ql=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,n);var a=(1+Math.sqrt(5))/2,o=1/a;return(t=e.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],i,r)).type="DodecahedronGeometry",t.parameters={radius:i,detail:r},t}return _createClass(n)}(Yl),Jl=new ti,Xl=new ti,$l=new ti,Kl=new pr,tu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;if(_classCallCheck(this,n),(r=e.call(this)).type="EdgesGeometry",r.parameters={thresholdAngle:i},i=void 0!==i?i:1,!0===t.isGeometry)return _possibleConstructorReturn(r,void console.error("THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."));for(var a=Math.pow(10,4),o=Math.cos(qn.DEG2RAD*i),s=t.getIndex(),l=t.getAttribute("position"),u=s?s.count:l.count,c=[0,0,0],h=["a","b","c"],d=new Array(3),f={},p=[],g=0;g<u;g+=3){s?(c[0]=s.getX(g),c[1]=s.getX(g+1),c[2]=s.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);var v=Kl.a,m=Kl.b,_=Kl.c;if(v.fromBufferAttribute(l,c[0]),m.fromBufferAttribute(l,c[1]),_.fromBufferAttribute(l,c[2]),Kl.getNormal($l),d[0]="".concat(Math.round(v.x*a),",").concat(Math.round(v.y*a),",").concat(Math.round(v.z*a)),d[1]="".concat(Math.round(m.x*a),",").concat(Math.round(m.y*a),",").concat(Math.round(m.z*a)),d[2]="".concat(Math.round(_.x*a),",").concat(Math.round(_.y*a),",").concat(Math.round(_.z*a)),d[0]!==d[1]&&d[1]!==d[2]&&d[2]!==d[0])for(var y=0;y<3;y++){var b=(y+1)%3,x=d[y],w=d[b],k=Kl[h[y]],C=Kl[h[b]],M="".concat(x,"_").concat(w),T="".concat(w,"_").concat(x);T in f&&f[T]?($l.dot(f[T].normal)<=o&&(p.push(k.x,k.y,k.z),p.push(C.x,C.y,C.z)),f[T]=null):M in f||(f[M]={index0:c[y],index1:c[b],normal:$l.clone()})}}for(var S in f)if(f[S]){var A=f[S],E=A.index0,P=A.index1;Jl.fromBufferAttribute(l,E),Xl.fromBufferAttribute(l,P),p.push(Jl.x,Jl.y,Jl.z),p.push(Xl.x,Xl.y,Xl.z)}return r.setAttribute("position",new Nr(p,3)),_possibleConstructorReturn(r)}return _createClass(n)}(Yr);function eu(t,e,n,i,r){var a,o;if(r===function(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}(t,e,n,i)>0)for(a=e;a<n;a+=i)o=wu(a,t[a],t[a+1],o);else for(a=n-i;a>=e;a-=i)o=wu(a,t[a],t[a+1],o);return o&&vu(o,o.next)&&(ku(o),o=o.next),o}function nu(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!vu(i,i.next)&&0!==gu(i.prev,i,i.next))i=i.next;else{if(ku(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function iu(t,e,n,i,r,a,o){if(t){!o&&a&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=hu(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,i=n,s=0,e=0;e<u&&(s++,i=i.nextZ);e++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,u*=2}while(o>1)}(r)}(t,i,r,a);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?au(t,i,r,a):ru(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),ku(t),t=l.next,u=l.next;else if((t=l)===u){o?1===o?iu(t=ou(nu(t),e,n),e,n,i,r,a,2):2===o&&su(t,e,n,i,r,a):iu(nu(t),e,n,i,r,a,1);break}}}function ru(t){var e=t.prev,n=t,i=t.next;if(gu(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(fu(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&gu(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function au(t,e,n,i){var r=t.prev,a=t,o=t.next;if(gu(r,a,o)>=0)return!1;for(var s=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,l=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,u=hu(r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,e,n,i),c=hu(s,l,e,n,i),h=t.prevZ,d=t.nextZ;h&&h.z>=u&&d&&d.z<=c;){if(h!==t.prev&&h!==t.next&&fu(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&gu(h.prev,h,h.next)>=0||(h=h.prevZ,d!==t.prev&&d!==t.next&&fu(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&gu(d.prev,d,d.next)>=0))return!1;d=d.nextZ}for(;h&&h.z>=u;){if(h!==t.prev&&h!==t.next&&fu(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&gu(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=c;){if(d!==t.prev&&d!==t.next&&fu(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&gu(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function ou(t,e,n){var i=t;do{var r=i.prev,a=i.next.next;!vu(r,a)&&mu(r,i,i.next,a)&&bu(r,a)&&bu(a,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(a.i/n),ku(i),ku(i.next),i=t=a),i=i.next}while(i!==t);return nu(i)}function su(t,e,n,i,r,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&pu(o,s)){var l=xu(o,s);return o=nu(o,o.next),l=nu(l,l.next),iu(o,e,n,i,r,a),void iu(l,e,n,i,r,a)}s=s.next}o=o.next}while(o!==t)}function lu(t,e){return t.x-e.x}function uu(t,e){if(e=function(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o){if(o=s,s===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===o)return n;var l,u=n,c=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&fu(a<h?r:o,a,c,h,a<h?o:r,a,i.x,i.y)&&(l=Math.abs(a-i.y)/(r-i.x),bu(i,t)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&cu(n,i)))&&(n=i,d=l)),i=i.next}while(i!==u);return n}(t,e)){var n=xu(e,t);nu(e,e.next),nu(n,n.next)}}function cu(t,e){return gu(t.prev,t,e.prev)<0&&gu(e.next,t,t.next)<0}function hu(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function du(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function fu(t,e,n,i,r,a,o,s){return(r-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(i-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(r-o)*(i-s)>=0}function pu(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&mu(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(bu(t,e)&&bu(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(gu(t.prev,t,e.prev)||gu(t,e.prev,e))||vu(t,e)&&gu(t.prev,t,t.next)>0&&gu(e.prev,e,e.next)>0)}function gu(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function vu(t,e){return t.x===e.x&&t.y===e.y}function mu(t,e,n,i){var r=yu(gu(t,e,n)),a=yu(gu(t,e,i)),o=yu(gu(n,i,t)),s=yu(gu(n,i,e));return!!(r!==a&&o!==s||0===r&&_u(t,n,e)||0===a&&_u(t,i,e)||0===o&&_u(n,t,i)||0===s&&_u(n,e,i))}function _u(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function yu(t){return t>0?1:t<0?-1:0}function bu(t,e){return gu(t.prev,t,t.next)<0?gu(t,e,t.next)>=0&&gu(t,t.prev,e)>=0:gu(t,e,t.prev)<0||gu(t,t.next,e)<0}function xu(t,e){var n=new Cu(t.i,t.x,t.y),i=new Cu(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function wu(t,e,n,i){var r=new Cu(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function ku(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Cu(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Mu={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return Mu.area(t)<0},triangulateShape:function(t,e){var n=[],i=[],r=[];Tu(t),Su(n,t);var a=t.length;e.forEach(Tu);for(var o=0;o<e.length;o++)i.push(a),a+=e[o].length,Su(n,e[o]);for(var s=function(t,e,n){n=n||2;var i,r,a,o,s,l,u,c=e&&e.length,h=c?e[0]*n:t.length,d=eu(t,0,h,n,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=function(t,e,n,i){var r,a,o,s=[];for(r=0,a=e.length;r<a;r++)(o=eu(t,e[r]*i,r<a-1?e[r+1]*i:t.length,i,!1))===o.next&&(o.steiner=!0),s.push(du(o));for(s.sort(lu),r=0;r<s.length;r++)uu(s[r],n),n=nu(n,n.next);return n}(t,e,d,n)),t.length>80*n){i=a=t[0],r=o=t[1];for(var p=n;p<h;p+=n)(s=t[p])<i&&(i=s),(l=t[p+1])<r&&(r=l),s>a&&(a=s),l>o&&(o=l);u=0!==(u=Math.max(a-i,o-r))?1/u:0}return iu(d,f,n,i,r,u),f}(n,i),l=0;l<s.length;l+=3)r.push(s.slice(l,l+3));return r}};function Tu(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Su(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}var Au=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;_classCallCheck(this,n),(r=e.call(this)).type="ExtrudeGeometry",r.parameters={shapes:t,options:i},t=Array.isArray(t)?t:[t];for(var a=_assertThisInitialized(r),o=[],s=[],l=0,u=t.length;l<u;l++)c(t[l]);function c(t){var e=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,l=void 0!==i.depth?i.depth:100,u=void 0===i.bevelEnabled||i.bevelEnabled,c=void 0!==i.bevelThickness?i.bevelThickness:6,h=void 0!==i.bevelSize?i.bevelSize:c-2,d=void 0!==i.bevelOffset?i.bevelOffset:0,f=void 0!==i.bevelSegments?i.bevelSegments:3,p=i.extrudePath,g=void 0!==i.UVGenerator?i.UVGenerator:Eu;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=i.amount);var v,m,_,y,b,x=!1;p&&(v=p.getSpacedPoints(r),x=!0,u=!1,m=p.computeFrenetFrames(r,!1),_=new ti,y=new ti,b=new ti),u||(f=0,c=0,h=0,d=0);var w=t.extractPoints(n),k=w.shape,C=w.holes;if(!Mu.isClockWise(k)){k=k.reverse();for(var M=0,T=C.length;M<T;M++){var S=C[M];Mu.isClockWise(S)&&(C[M]=S.reverse())}}for(var A=Mu.triangulateShape(k,C),E=k,P=0,I=C.length;P<I;P++)k=k.concat(C[P]);function O(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var R=k.length,L=A.length;function D(t,e,n){var i,r,a,o=t.x-e.x,s=t.y-e.y,l=n.x-t.x,u=n.y-t.y,c=o*o+s*s;if(Math.abs(o*u-s*l)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(l*l+u*u),f=e.x-s/h,p=e.y+o/h,g=((n.x-u/d-f)*u-(n.y+l/d-p)*l)/(o*u-s*l),v=(i=f+o*g-t.x)*i+(r=p+s*g-t.y)*r;if(v<=2)return new Hn(i,r);a=Math.sqrt(v/2)}else{var m=!1;o>Number.EPSILON?l>Number.EPSILON&&(m=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(m=!0):Math.sign(s)===Math.sign(u)&&(m=!0),m?(i=-s,r=o,a=Math.sqrt(c)):(i=o,r=s,a=Math.sqrt(c/2))}return new Hn(i/a,r/a)}for(var N=[],Z=0,F=E.length,U=F-1,B=Z+1;Z<F;Z++,U++,B++)U===F&&(U=0),B===F&&(B=0),N[Z]=D(E[Z],E[U],E[B]);for(var z,q=[],H=N.concat(),G=0,V=C.length;G<V;G++){var W=C[G];z=[];for(var j=0,Y=W.length,Q=Y-1,J=j+1;j<Y;j++,Q++,J++)Q===Y&&(Q=0),J===Y&&(J=0),z[j]=D(W[j],W[Q],W[J]);q.push(z),H=H.concat(z)}for(var X=0;X<f;X++){for(var $=X/f,K=c*Math.cos($*Math.PI/2),tt=h*Math.sin($*Math.PI/2)+d,et=0,nt=E.length;et<nt;et++){var it=O(E[et],N[et],tt);Pt(it.x,it.y,-K)}for(var rt=0,at=C.length;rt<at;rt++){var ot=C[rt];z=q[rt];for(var st=0,lt=ot.length;st<lt;st++){var ut=O(ot[st],z[st],tt);Pt(ut.x,ut.y,-K)}}}for(var ct=h+d,ht=0;ht<R;ht++){var dt=u?O(k[ht],H[ht],ct):k[ht];x?(y.copy(m.normals[0]).multiplyScalar(dt.x),_.copy(m.binormals[0]).multiplyScalar(dt.y),b.copy(v[0]).add(y).add(_),Pt(b.x,b.y,b.z)):Pt(dt.x,dt.y,0)}for(var ft=1;ft<=r;ft++)for(var pt=0;pt<R;pt++){var gt=u?O(k[pt],H[pt],ct):k[pt];x?(y.copy(m.normals[ft]).multiplyScalar(gt.x),_.copy(m.binormals[ft]).multiplyScalar(gt.y),b.copy(v[ft]).add(y).add(_),Pt(b.x,b.y,b.z)):Pt(gt.x,gt.y,l/r*ft)}for(var vt=f-1;vt>=0;vt--){for(var mt=vt/f,_t=c*Math.cos(mt*Math.PI/2),yt=h*Math.sin(mt*Math.PI/2)+d,bt=0,xt=E.length;bt<xt;bt++){var wt=O(E[bt],N[bt],yt);Pt(wt.x,wt.y,l+_t)}for(var kt=0,Ct=C.length;kt<Ct;kt++){var Mt=C[kt];z=q[kt];for(var Tt=0,St=Mt.length;Tt<St;Tt++){var At=O(Mt[Tt],z[Tt],yt);x?Pt(At.x,At.y+v[r-1].y,v[r-1].x+_t):Pt(At.x,At.y,l+_t)}}}function Et(t,e){for(var n=t.length;--n>=0;){var i=n,a=n-1;a<0&&(a=t.length-1);for(var o=0,s=r+2*f;o<s;o++){var l=R*o,u=R*(o+1);Ot(e+i+l,e+a+l,e+a+u,e+i+u)}}}function Pt(t,n,i){e.push(t),e.push(n),e.push(i)}function It(t,e,n){Rt(t),Rt(e),Rt(n);var i=o.length/3,r=g.generateTopUV(a,o,i-3,i-2,i-1);Lt(r[0]),Lt(r[1]),Lt(r[2])}function Ot(t,e,n,i){Rt(t),Rt(e),Rt(i),Rt(e),Rt(n),Rt(i);var r=o.length/3,s=g.generateSideWallUV(a,o,r-6,r-3,r-2,r-1);Lt(s[0]),Lt(s[1]),Lt(s[3]),Lt(s[1]),Lt(s[2]),Lt(s[3])}function Rt(t){o.push(e[3*t+0]),o.push(e[3*t+1]),o.push(e[3*t+2])}function Lt(t){s.push(t.x),s.push(t.y)}(function(){var t=o.length/3;if(u){for(var e=0,n=R*e,i=0;i<L;i++){var s=A[i];It(s[2]+n,s[1]+n,s[0]+n)}n=R*(e=r+2*f);for(var l=0;l<L;l++){var c=A[l];It(c[0]+n,c[1]+n,c[2]+n)}}else{for(var h=0;h<L;h++){var d=A[h];It(d[2],d[1],d[0])}for(var p=0;p<L;p++){var g=A[p];It(g[0]+R*r,g[1]+R*r,g[2]+R*r)}}a.addGroup(t,o.length/3-t,0)})(),function(){var t=o.length/3,e=0;Et(E,e),e+=E.length;for(var n=0,i=C.length;n<i;n++){var r=C[n];Et(r,e),e+=r.length}a.addGroup(t,o.length/3-t,1)}()}return r.setAttribute("position",new Nr(o,3)),r.setAttribute("uv",new Nr(s,2)),r.computeVertexNormals(),r}return _createClass(n,[{key:"toJSON",value:function(){var t=Yr.prototype.toJSON.call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++)n.shapes.push(t[i].uuid);else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}]),n}(Yr),Eu={generateTopUV:function(t,e,n,i,r){var a=e[3*i],o=e[3*i+1],s=e[3*r],l=e[3*r+1];return[new Hn(e[3*n],e[3*n+1]),new Hn(a,o),new Hn(s,l)]},generateSideWallUV:function(t,e,n,i,r,a){var o=e[3*n],s=e[3*n+1],l=e[3*n+2],u=e[3*i],c=e[3*i+1],h=e[3*i+2],d=e[3*r],f=e[3*r+1],p=e[3*r+2],g=e[3*a],v=e[3*a+1],m=e[3*a+2];return Math.abs(s-c)<.01?[new Hn(o,1-l),new Hn(u,1-h),new Hn(d,1-p),new Hn(g,1-m)]:[new Hn(s,1-l),new Hn(c,1-h),new Hn(f,1-p),new Hn(v,1-m)]}},Pu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,n);var a=(1+Math.sqrt(5))/2;return(t=e.call(this,[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],i,r)).type="IcosahedronGeometry",t.parameters={radius:i,detail:r},t}return _createClass(n)}(Yl),Iu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;_classCallCheck(this,n),(i=e.call(this)).type="LatheGeometry",i.parameters={points:t,segments:r,phiStart:a,phiLength:o},r=Math.floor(r),o=qn.clamp(o,0,2*Math.PI);for(var s=[],l=[],u=[],c=1/r,h=new ti,d=new Hn,f=0;f<=r;f++)for(var p=a+f*c*o,g=Math.sin(p),v=Math.cos(p),m=0;m<=t.length-1;m++)h.x=t[m].x*g,h.y=t[m].y,h.z=t[m].x*v,l.push(h.x,h.y,h.z),d.x=f/r,d.y=m/(t.length-1),u.push(d.x,d.y);for(var _=0;_<r;_++)for(var y=0;y<t.length-1;y++){var b=y+_*t.length,x=b+t.length,w=b+t.length+1,k=b+1;s.push(b,x,k),s.push(x,w,k)}if(i.setIndex(s),i.setAttribute("position",new Nr(l,3)),i.setAttribute("uv",new Nr(u,2)),i.computeVertexNormals(),o===2*Math.PI)for(var C=i.attributes.normal.array,M=new ti,T=new ti,S=new ti,A=r*t.length*3,E=0,P=0;E<t.length;E++,P+=3)M.x=C[P+0],M.y=C[P+1],M.z=C[P+2],T.x=C[A+P+0],T.y=C[A+P+1],T.z=C[A+P+2],S.addVectors(M,T).normalize(),C[P+0]=C[A+P+0]=S.x,C[P+1]=C[A+P+1]=S.y,C[P+2]=C[A+P+2]=S.z;return i}return _createClass(n)}(Yr),Ou=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,n),(t=e.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],i,r)).type="OctahedronGeometry",t.parameters={radius:i,detail:r},t}return _createClass(n)}(Yl);function Ru(t,e,n){Yr.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n};var i=[],r=[],a=[],o=[],s=1e-5,l=new ti,u=new ti,c=new ti,h=new ti,d=new ti;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var f=e+1,p=0;p<=n;p++)for(var g=p/n,v=0;v<=e;v++){var m=v/e;t(m,g,u),r.push(u.x,u.y,u.z),m-s>=0?(t(m-s,g,c),h.subVectors(u,c)):(t(m+s,g,c),h.subVectors(c,u)),g-s>=0?(t(m,g-s,c),d.subVectors(u,c)):(t(m,g+s,c),d.subVectors(c,u)),l.crossVectors(h,d).normalize(),a.push(l.x,l.y,l.z),o.push(m,g)}for(var _=0;_<n;_++)for(var y=0;y<e;y++){var b=_*f+y+1,x=(_+1)*f+y+1,w=(_+1)*f+y;i.push(_*f+y,b,w),i.push(b,x,w)}this.setIndex(i),this.setAttribute("position",new Nr(r,3)),this.setAttribute("normal",new Nr(a,3)),this.setAttribute("uv",new Nr(o,2))}(Ru.prototype=Object.create(Yr.prototype)).constructor=Ru;var Lu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;_classCallCheck(this,n),(t=e.call(this)).type="RingGeometry",t.parameters={innerRadius:i,outerRadius:r,thetaSegments:a,phiSegments:o,thetaStart:s,thetaLength:l},a=Math.max(3,a);for(var u=[],c=[],h=[],d=[],f=i,p=(r-i)/(o=Math.max(1,o)),g=new ti,v=new Hn,m=0;m<=o;m++){for(var _=0;_<=a;_++){var y=s+_/a*l;g.x=f*Math.cos(y),g.y=f*Math.sin(y),c.push(g.x,g.y,g.z),h.push(0,0,1),v.x=(g.x/r+1)/2,v.y=(g.y/r+1)/2,d.push(v.x,v.y)}f+=p}for(var b=0;b<o;b++)for(var x=b*(a+1),w=0;w<a;w++){var k=w+x,C=k+a+1,M=k+a+2,T=k+1;u.push(k,C,T),u.push(C,M,T)}return t.setIndex(u),t.setAttribute("position",new Nr(c,3)),t.setAttribute("normal",new Nr(h,3)),t.setAttribute("uv",new Nr(d,2)),t}return _createClass(n)}(Yr),Du=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;_classCallCheck(this,n),(i=e.call(this)).type="ShapeGeometry",i.parameters={shapes:t,curveSegments:r};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(t))d(t);else for(var h=0;h<t.length;h++)d(t[h]),i.addGroup(u,c,h),u+=c,c=0;function d(t){var e=o.length/3,n=t.extractPoints(r),i=n.shape,u=n.holes;!1===Mu.isClockWise(i)&&(i=i.reverse());for(var h=0,d=u.length;h<d;h++){var f=u[h];!0===Mu.isClockWise(f)&&(u[h]=f.reverse())}for(var p=Mu.triangulateShape(i,u),g=0,v=u.length;g<v;g++)i=i.concat(u[g]);for(var m=0,_=i.length;m<_;m++){var y=i[m];o.push(y.x,y.y,0),s.push(0,0,1),l.push(y.x,y.y)}for(var b=0,x=p.length;b<x;b++){var w=p[b];a.push(w[0]+e,w[1]+e,w[2]+e),c+=3}}return i.setIndex(a),i.setAttribute("position",new Nr(o,3)),i.setAttribute("normal",new Nr(s,3)),i.setAttribute("uv",new Nr(l,2)),i}return _createClass(n,[{key:"toJSON",value:function(){var t=Yr.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e.shapes.push(t[n].uuid);else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}]),n}(Yr),Nu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;_classCallCheck(this,n),(t=e.call(this)).type="SphereGeometry",t.parameters={radius:i,widthSegments:r,heightSegments:a,phiStart:o,phiLength:s,thetaStart:l,thetaLength:u},r=Math.max(3,Math.floor(r)),a=Math.max(2,Math.floor(a));for(var c=Math.min(l+u,Math.PI),h=0,d=[],f=new ti,p=new ti,g=[],v=[],m=[],_=[],y=0;y<=a;y++){var b=[],x=y/a,w=0;0==y&&0==l?w=.5/r:y==a&&c==Math.PI&&(w=-.5/r);for(var k=0;k<=r;k++){var C=k/r;f.x=-i*Math.cos(o+C*s)*Math.sin(l+x*u),f.y=i*Math.cos(l+x*u),f.z=i*Math.sin(o+C*s)*Math.sin(l+x*u),v.push(f.x,f.y,f.z),p.copy(f).normalize(),m.push(p.x,p.y,p.z),_.push(C+w,1-x),b.push(h++)}d.push(b)}for(var M=0;M<a;M++)for(var T=0;T<r;T++){var S=d[M][T+1],A=d[M][T],E=d[M+1][T],P=d[M+1][T+1];(0!==M||l>0)&&g.push(S,A,P),(M!==a-1||c<Math.PI)&&g.push(A,E,P)}return t.setIndex(g),t.setAttribute("position",new Nr(v,3)),t.setAttribute("normal",new Nr(m,3)),t.setAttribute("uv",new Nr(_,2)),t}return _createClass(n)}(Yr),Zu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return _classCallCheck(this,n),(t=e.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],i,r)).type="TetrahedronGeometry",t.parameters={radius:i,detail:r},t}return _createClass(n)}(Yl),Fu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,n);var a=r.font;if(!a||!a.isFont)return _possibleConstructorReturn(i,(console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Yr));var o=a.generateShapes(t,r.size);return r.depth=void 0!==r.height?r.height:50,void 0===r.bevelThickness&&(r.bevelThickness=10),void 0===r.bevelSize&&(r.bevelSize=8),void 0===r.bevelEnabled&&(r.bevelEnabled=!1),(i=e.call(this,o,r)).type="TextGeometry",i}return _createClass(n)}(Au),Uu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;_classCallCheck(this,n),(t=e.call(this)).type="TorusGeometry",t.parameters={radius:i,tube:r,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],u=[],c=[],h=[],d=new ti,f=new ti,p=new ti,g=0;g<=a;g++)for(var v=0;v<=o;v++){var m=v/o*s,_=g/a*Math.PI*2;f.x=(i+r*Math.cos(_))*Math.cos(m),f.y=(i+r*Math.cos(_))*Math.sin(m),f.z=r*Math.sin(_),u.push(f.x,f.y,f.z),d.x=i*Math.cos(m),d.y=i*Math.sin(m),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),h.push(v/o),h.push(g/a)}for(var y=1;y<=a;y++)for(var b=1;b<=o;b++){var x=(o+1)*(y-1)+b-1,w=(o+1)*(y-1)+b,k=(o+1)*y+b;l.push((o+1)*y+b-1,x,k),l.push(x,w,k)}return t.setIndex(l),t.setAttribute("position",new Nr(u,3)),t.setAttribute("normal",new Nr(c,3)),t.setAttribute("uv",new Nr(h,2)),t}return _createClass(n)}(Yr),Bu=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;_classCallCheck(this,n),(t=e.call(this)).type="TorusKnotGeometry",t.parameters={radius:i,tube:r,tubularSegments:a,radialSegments:o,p:s,q:l},a=Math.floor(a),o=Math.floor(o);for(var u=[],c=[],h=[],d=[],f=new ti,p=new ti,g=new ti,v=new ti,m=new ti,_=new ti,y=new ti,b=0;b<=a;++b){var x=b/a*s*Math.PI*2;I(x,s,l,i,g),I(x+.01,s,l,i,v),_.subVectors(v,g),y.addVectors(v,g),m.crossVectors(_,y),y.crossVectors(m,_),m.normalize(),y.normalize();for(var w=0;w<=o;++w){var k=w/o*Math.PI*2,C=-r*Math.cos(k),M=r*Math.sin(k);f.x=g.x+(C*y.x+M*m.x),f.y=g.y+(C*y.y+M*m.y),f.z=g.z+(C*y.z+M*m.z),c.push(f.x,f.y,f.z),p.subVectors(f,g).normalize(),h.push(p.x,p.y,p.z),d.push(b/a),d.push(w/o)}}for(var T=1;T<=a;T++)for(var S=1;S<=o;S++){var A=(o+1)*T+(S-1),E=(o+1)*T+S,P=(o+1)*(T-1)+S;u.push((o+1)*(T-1)+(S-1),A,P),u.push(A,E,P)}function I(t,e,n,i,r){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,l=Math.cos(s);r.x=i*(2+l)*.5*a,r.y=i*(2+l)*o*.5,r.z=i*Math.sin(s)*.5}return t.setIndex(u),t.setAttribute("position",new Nr(c,3)),t.setAttribute("normal",new Nr(h,3)),t.setAttribute("uv",new Nr(d,2)),t}return _createClass(n)}(Yr),zu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,n),(i=e.call(this)).type="TubeGeometry",i.parameters={path:t,tubularSegments:r,radius:a,radialSegments:o,closed:s};var l=t.computeFrenetFrames(r,s);i.tangents=l.tangents,i.normals=l.normals,i.binormals=l.binormals;var u=new ti,c=new ti,h=new Hn,d=new ti,f=[],p=[],g=[],v=[];function m(e){d=t.getPointAt(e/r,d);for(var n=l.normals[e],i=l.binormals[e],s=0;s<=o;s++){var h=s/o*Math.PI*2,g=Math.sin(h),v=-Math.cos(h);c.x=v*n.x+g*i.x,c.y=v*n.y+g*i.y,c.z=v*n.z+g*i.z,c.normalize(),p.push(c.x,c.y,c.z),u.x=d.x+a*c.x,u.y=d.y+a*c.y,u.z=d.z+a*c.z,f.push(u.x,u.y,u.z)}}return function(){for(var t=0;t<r;t++)m(t);m(!1===s?r:0),function(){for(var t=0;t<=r;t++)for(var e=0;e<=o;e++)h.x=t/r,h.y=e/o,g.push(h.x,h.y)}(),function(){for(var t=1;t<=r;t++)for(var e=1;e<=o;e++){var n=(o+1)*t+(e-1),i=(o+1)*t+e,a=(o+1)*(t-1)+e;v.push((o+1)*(t-1)+(e-1),n,a),v.push(n,i,a)}}()}(),i.setIndex(v),i.setAttribute("position",new Nr(f,3)),i.setAttribute("normal",new Nr(p,3)),i.setAttribute("uv",new Nr(g,2)),i}return _createClass(n,[{key:"toJSON",value:function(){var t=Yr.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t}}]),n}(Yr),qu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;if(_classCallCheck(this,n),(i=e.call(this)).type="WireframeGeometry",!0===t.isGeometry)return _possibleConstructorReturn(i,void console.error("THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."));var r=[],a=[0,0],o={},s=new ti;if(null!==t.index){var l=t.attributes.position,u=t.index,c=t.groups;0===c.length&&(c=[{start:0,count:u.count,materialIndex:0}]);for(var h=0,d=c.length;h<d;++h)for(var f=c[h],p=f.start,g=p,v=p+f.count;g<v;g+=3)for(var m=0;m<3;m++){var _=u.getX(g+m),y=u.getX(g+(m+1)%3);a[0]=Math.min(_,y),a[1]=Math.max(_,y);var b=a[0]+","+a[1];void 0===o[b]&&(o[b]={index1:a[0],index2:a[1]})}for(var x in o){var w=o[x];s.fromBufferAttribute(l,w.index1),r.push(s.x,s.y,s.z),s.fromBufferAttribute(l,w.index2),r.push(s.x,s.y,s.z)}}else for(var k=t.attributes.position,C=0,M=k.count/3;C<M;C++)for(var T=0;T<3;T++)s.fromBufferAttribute(k,3*C+T),r.push(s.x,s.y,s.z),s.fromBufferAttribute(k,3*C+(T+1)%3),r.push(s.x,s.y,s.z);return i.setAttribute("position",new Nr(r,3)),_possibleConstructorReturn(i)}return _createClass(n)}(Yr),Hu=Object.freeze({__proto__:null,BoxGeometry:pa,BoxBufferGeometry:pa,CircleGeometry:Vl,CircleBufferGeometry:Vl,ConeGeometry:jl,ConeBufferGeometry:jl,CylinderGeometry:Wl,CylinderBufferGeometry:Wl,DodecahedronGeometry:Ql,DodecahedronBufferGeometry:Ql,EdgesGeometry:tu,ExtrudeGeometry:Au,ExtrudeBufferGeometry:Au,IcosahedronGeometry:Pu,IcosahedronBufferGeometry:Pu,LatheGeometry:Iu,LatheBufferGeometry:Iu,OctahedronGeometry:Ou,OctahedronBufferGeometry:Ou,ParametricGeometry:Ru,ParametricBufferGeometry:Ru,PlaneGeometry:Pa,PlaneBufferGeometry:Pa,PolyhedronGeometry:Yl,PolyhedronBufferGeometry:Yl,RingGeometry:Lu,RingBufferGeometry:Lu,ShapeGeometry:Du,ShapeBufferGeometry:Du,SphereGeometry:Nu,SphereBufferGeometry:Nu,TetrahedronGeometry:Zu,TetrahedronBufferGeometry:Zu,TextGeometry:Fu,TextBufferGeometry:Fu,TorusGeometry:Uu,TorusBufferGeometry:Uu,TorusKnotGeometry:Bu,TorusKnotBufferGeometry:Bu,TubeGeometry:zu,TubeBufferGeometry:zu,WireframeGeometry:qu}),Gu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="ShadowMaterial",i.color=new kr(0),i.transparent=!0,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this}}]),n}(vr);Gu.prototype.isShadowMaterial=!0;var Vu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).type="RawShaderMaterial",i}return _createClass(n)}(_a);function Wu(t){vr.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new kr(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new kr(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=un,this.normalScale=new Hn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.flatShading=!1,this.vertexTangents=!1,this.setValues(t)}function ju(t){Wu.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Hn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=qn.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}Vu.prototype.isRawShaderMaterial=!0,(Wu.prototype=Object.create(vr.prototype)).constructor=Wu,Wu.prototype.isMeshStandardMaterial=!0,Wu.prototype.copy=function(t){return vr.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.flatShading=t.flatShading,this.vertexTangents=t.vertexTangents,this},(ju.prototype=Object.create(Wu.prototype)).constructor=ju,ju.prototype.isMeshPhysicalMaterial=!0,ju.prototype.copy=function(t){return Wu.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,this.sheen=t.sheen?(this.sheen||new kr).copy(t.sheen):null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this};var Yu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshPhongMaterial",i.color=new kr(16777215),i.specular=new kr(1118481),i.shininess=30,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new kr(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=un,i.normalScale=new Hn(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=X,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.flatShading=t.flatShading,this}}]),n}(vr);Yu.prototype.isMeshPhongMaterial=!0;var Qu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).defines={TOON:""},i.type="MeshToonMaterial",i.color=new kr(16777215),i.map=null,i.gradientMap=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new kr(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=un,i.normalScale=new Hn(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this}}]),n}(vr);Qu.prototype.isMeshToonMaterial=!0;var Ju=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshNormalMaterial",i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=un,i.normalScale=new Hn(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.flatShading=t.flatShading,this}}]),n}(vr);Ju.prototype.isMeshNormalMaterial=!0;var Xu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshLambertMaterial",i.color=new kr(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new kr(0),i.emissiveIntensity=1,i.emissiveMap=null,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=X,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this}}]),n}(vr);Xu.prototype.isMeshLambertMaterial=!0;var $u=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).defines={MATCAP:""},i.type="MeshMatcapMaterial",i.color=new kr(16777215),i.matcap=null,i.map=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=un,i.normalScale=new Hn(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.skinning=!1,i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.flatShading=t.flatShading,this}}]),n}(vr);$u.prototype.isMeshMatcapMaterial=!0;var Ku=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="LineDashedMaterial",i.scale=1,i.dashSize=3,i.gapSize=1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}]),n}(kl);Ku.prototype.isLineDashedMaterial=!0;var tc=Object.freeze({__proto__:null,ShadowMaterial:Gu,SpriteMaterial:Gs,RawShaderMaterial:Vu,ShaderMaterial:_a,PointsMaterial:Ll,MeshPhysicalMaterial:ju,MeshStandardMaterial:Wu,MeshPhongMaterial:Yu,MeshToonMaterial:Qu,MeshNormalMaterial:Ju,MeshLambertMaterial:Xu,MeshDepthMaterial:Cs,MeshDistanceMaterial:Ms,MeshBasicMaterial:Cr,MeshMatcapMaterial:$u,LineDashedMaterial:Ku,LineBasicMaterial:kl,Material:vr}),ec={arraySlice:function(t,e,n){return ec.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),i=0;i!==e;++i)n[i]=i;return n.sort(function(e,n){return t[e]-t[n]}),n},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*e,l=0;l!==e;++l)r[o++]=t[s+l];return r},flattenJSON:function(t,e,n,i){for(var r=1,a=t[0];void 0!==a&&void 0===a[i];)a=t[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[i])&&(e.push(a.time),n.push.apply(n,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[i])&&(e.push(a.time),o.toArray(n,n.length)),a=t[r++]}while(void 0!==a);else do{void 0!==(o=a[i])&&(e.push(a.time),n.push(o)),a=t[r++]}while(void 0!==a)}},subclip:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=t.clone();a.name=e;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],u=l.getValueSize(),c=[],h=[],d=0;d<l.times.length;++d){var f=l.times[d]*r;if(!(f<n||f>=i)){c.push(l.times[d]);for(var p=0;p<u;++p)h.push(l.values[d*u+p])}}0!==c.length&&(l.times=ec.convertArray(c,l.times.constructor),l.values=ec.convertArray(h,l.values.constructor),o.push(l))}a.tracks=o;for(var g=1/0,v=0;v<a.tracks.length;++v)g>a.tracks[v].times[0]&&(g=a.tracks[v].times[0]);for(var m=0;m<a.tracks.length;++m)a.tracks[m].shift(-1*g);return a.resetDuration(),a},makeClipAdditive:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;i<=0&&(i=30);for(var r=n.tracks.length,a=e/i,o=function(e){var i=n.tracks[e],r=i.ValueTypeName;if("bool"===r||"string"===r)return"continue";var o=t.tracks.find(function(t){return t.name===i.name&&t.ValueTypeName===r});if(void 0===o)return"continue";var s=0,l=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var h=i.times.length-1,d=void 0;if(a<=i.times[0])d=ec.arraySlice(i.values,s,l-s);else if(a>=i.times[h]){var f=h*l+s;d=ec.arraySlice(i.values,f,f+l-s)}else{var p=i.createInterpolant(),g=s,v=l-s;p.evaluate(a),d=ec.arraySlice(p.resultBuffer,g,v)}"quaternion"===r&&(new Kn).fromArray(d).normalize().conjugate().toArray(d);for(var m=o.times.length,_=0;_<m;++_){var y=_*c+u;if("quaternion"===r)Kn.multiplyQuaternionsFlat(o.values,y,d,0,o.values,y);else for(var b=c-2*u,x=0;x<b;++x)o.values[y+x]-=d[x]}},s=0;s<r;++s)o(s);return t.blendMode=Ye,t}};function nc(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function ic(t,e,n,i){nc.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function rc(t,e,n,i){nc.call(this,t,e,n,i)}function ac(t,e,n,i){nc.call(this,t,e,n,i)}Object.assign(nc.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var a;n:{i:if(!(t<i)){for(var o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,t<(i=e[++n]))break e}a=e.length;break n}if(t>=r)break t;var s=e[1];t<s&&(n=2,r=s);for(var l=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===l)break;if(i=r,t>=(r=e[--n-1]))break e}a=n,n=0}for(;n<a;){var u=n+a>>>1;t<e[u]?a=u:n=u+1}if(i=e[n],void 0===(r=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,a=0;a!==i;++a)e[a]=n[r+a];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(nc.prototype,{beforeStart_:nc.prototype.copySampleValue_,afterEnd_:nc.prototype.copySampleValue_}),ic.prototype=Object.assign(Object.create(nc.prototype),{constructor:ic,DefaultSettings_:{endingStart:Ge,endingEnd:Ge},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,a=t+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case Ve:r=t,o=2*e-n;break;case We:o=e+i[r=i.length-2]-i[r+1];break;default:r=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Ve:a=t,s=2*n-e;break;case We:a=1,s=n+i[1]-i[0];break;default:a=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=a*u},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-e)/(i-e),p=f*f,g=p*f,v=-h*g+2*h*p-h*f,m=(1+h)*g+(-1.5-2*h)*p+(-.5+h)*f+1,_=(-1-d)*g+(1.5+d)*p+.5*f,y=d*g-d*p,b=0;b!==o;++b)r[b]=v*a[u+b]+m*a[l+b]+_*a[s+b]+y*a[c+b];return r}}),rc.prototype=Object.assign(Object.create(nc.prototype),{constructor:rc,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=(n-e)/(i-e),c=1-u,h=0;h!==o;++h)r[h]=a[l+h]*c+a[s+h]*u;return r}}),ac.prototype=Object.assign(Object.create(nc.prototype),{constructor:ac,interpolate_:function(t){return this.copySampleValue_(t-1)}});var oc=function(){function t(e,n,i,r){if(_classCallCheck(this,t),void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ec.convertArray(n,this.TimeBufferType),this.values=ec.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}return _createClass(t,[{key:"InterpolantFactoryMethodDiscrete",value:function(t){return new ac(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodLinear",value:function(t){return new rc(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodSmooth",value:function(t){return new ic(this.times,this.values,this.getValueSize(),t)}},{key:"setInterpolation",value:function(t){var e;switch(t){case ze:e=this.InterpolantFactoryMethodDiscrete;break;case qe:e=this.InterpolantFactoryMethodLinear;break;case He:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return ze;case this.InterpolantFactoryMethodLinear:return qe;case this.InterpolantFactoryMethodSmooth:return He}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this}},{key:"scale",value:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this}},{key:"trim",value:function(t,e){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<t;)++r;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==r||a!==i){r>=a&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=ec.arraySlice(n,r,a),this.values=ec.arraySlice(this.values,r*o,a*o)}return this}},{key:"validate",value:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==i&&ec.isTypedArray(i))for(var l=0,u=i.length;l!==u;++l){var c=i[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),t=!1;break}}return t}},{key:"optimize",value:function(){for(var t=ec.arraySlice(this.times),e=ec.arraySlice(this.values),n=this.getValueSize(),i=this.getInterpolation()===He,r=t.length-1,a=1,o=1;o<r;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==t[0]))if(i)s=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=e[u+d];if(f!==e[c+d]||f!==e[h+d]){s=!0;break}}if(s){if(o!==a){t[a]=t[o];for(var p=o*n,g=a*n,v=0;v!==n;++v)e[g+v]=e[p+v]}++a}}if(r>0){t[a]=t[r];for(var m=r*n,_=a*n,y=0;y!==n;++y)e[_+y]=e[m+y];++a}return a!==t.length?(this.times=ec.arraySlice(t,0,a),this.values=ec.arraySlice(e,0,a*n)):(this.times=t,this.values=e),this}},{key:"clone",value:function(){var t=ec.arraySlice(this.times,0),e=ec.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(t){var e,n=t.constructor;if(n.toJSON!==this.toJSON)e=n.toJSON(t);else{e={name:t.name,times:ec.convertArray(t.times,Array),values:ec.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}]),t}();oc.prototype.TimeBufferType=Float32Array,oc.prototype.ValueBufferType=Float32Array,oc.prototype.DefaultInterpolation=qe;var sc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(oc);sc.prototype.ValueTypeName="bool",sc.prototype.ValueBufferType=Array,sc.prototype.DefaultInterpolation=ze,sc.prototype.InterpolantFactoryMethodLinear=void 0,sc.prototype.InterpolantFactoryMethodSmooth=void 0;var lc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(oc);lc.prototype.ValueTypeName="color";var uc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(oc);function cc(t,e,n,i){nc.call(this,t,e,n,i)}uc.prototype.ValueTypeName="number",cc.prototype=Object.assign(Object.create(nc.prototype),{constructor:cc,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-e)/(i-e),l=t*o,u=l+o;l!==u;l+=4)Kn.slerpFlat(r,0,a,l-o,a,l,s);return r}});var hc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"InterpolantFactoryMethodLinear",value:function(t){return new cc(this.times,this.values,this.getValueSize(),t)}}]),n}(oc);hc.prototype.ValueTypeName="quaternion",hc.prototype.DefaultInterpolation=qe,hc.prototype.InterpolantFactoryMethodSmooth=void 0;var dc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(oc);dc.prototype.ValueTypeName="string",dc.prototype.ValueBufferType=Array,dc.prototype.DefaultInterpolation=ze,dc.prototype.InterpolantFactoryMethodLinear=void 0,dc.prototype.InterpolantFactoryMethodSmooth=void 0;var fc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(oc);fc.prototype.ValueTypeName="vector";var pc=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:je;_classCallCheck(this,t),this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=qn.generateUUID(),this.duration<0&&this.resetDuration()}return _createClass(t,[{key:"resetDuration",value:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}},{key:"trim",value:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}},{key:"optimize",value:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},{key:"clone",value:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,a=n.length;r!==a;++r)e.push(gc(n[r]).scale(i));var o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}},{key:"toJSON",value:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode},r=0,a=n.length;r!==a;++r)e.push(oc.toJSON(n[r]));return i}},{key:"CreateFromMorphTargetSequence",value:function(t,e,n,i){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var u=ec.getKeyframeOrder(s);s=ec.sortedArray(s,1,u),l=ec.sortedArray(l,1,u),!i&&0===s[0]&&(s.push(r),l.push(l[0])),a.push(new uc(".morphTargetInfluences["+e[o].name+"]",s,l).scale(1/n))}return new this(t,-1,a)}},{key:"findByName",value:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],l=s.name.match(r);if(l&&l.length>1){var u=l[1],c=i[u];c||(i[u]=c=[]),c.push(s)}}var h=[];for(var d in i)h.push(this.CreateFromMorphTargetSequence(d,i[d],e,n));return h}},{key:"parseAnimation",value:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var a=[],o=[];ec.flattenJSON(n,a,o,i),0!==a.length&&r.push(new t(e,a,o))}},i=[],r=t.name||"default",a=t.fps||30,o=t.blendMode,s=t.length||-1,l=t.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)h[c[d].morphTargets[f]]=-1;for(var p in h){for(var g=[],v=[],m=0;m!==c[d].morphTargets.length;++m){var _=c[d];g.push(_.time),v.push(_.morphTarget===p?1:0)}i.push(new uc(".morphTargetInfluence["+p+"]",g,v))}s=h.length*(a||1)}else{var y=".bones["+e[u].name+"]";n(fc,y+".position",c,"pos",i),n(hc,y+".quaternion",c,"rot",i),n(fc,y+".scale",c,"scl",i)}}return 0===i.length?null:new this(r,s,i,o)}}]),t}();function gc(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return uc;case"vector":case"vector2":case"vector3":case"vector4":return fc;case"color":return lc;case"quaternion":return hc;case"bool":case"boolean":return sc;case"string":return dc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],i=[];ec.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}var vc={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function mc(t,e,n){var i,r=this,a=!1,o=0,s=0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){s++,!1===a&&void 0!==r.onStart&&r.onStart(t,o,s),a=!0},this.itemEnd=function(t){o++,void 0!==r.onProgress&&r.onProgress(t,o,s),o===s&&(a=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)},this.resolveURL=function(t){return i?i(t):t},this.setURLModifier=function(t){return i=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){var e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=l.length;e<n;e+=2){var i=l[e],r=l[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}}var _c=new mc;function yc(t){this.manager=void 0!==t?t:_c,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(yc.prototype,{load:function(){},loadAsync:function(t,e){var n=this;return new Promise(function(i,r){n.load(t,i,e,r)})},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});var bc={};function xc(t){yc.call(this,t)}xc.prototype=Object.assign(Object.create(yc.prototype),{constructor:xc,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=vc.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;if(void 0===bc[t]){var o,s=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],u=!!s[2],c=s[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);h="blob"===d?new Blob([f.buffer],{type:l}):f.buffer;break;case"document":h=(new DOMParser).parseFromString(c,l);break;case"json":h=JSON.parse(c);break;default:h=c}setTimeout(function(){e&&e(h),r.manager.itemEnd(t)},0)}catch(v){setTimeout(function(){i&&i(v),r.manager.itemError(t),r.manager.itemEnd(t)},0)}}else{for(var g in bc[t]=[],bc[t].push({onLoad:e,onProgress:n,onError:i}),(o=new XMLHttpRequest).open("GET",t,!0),o.addEventListener("load",function(e){var n=this.response,i=bc[t];if(delete bc[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),vc.add(t,n);for(var a=0,o=i.length;a<o;a++){var s=i[a];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(t)}else{for(var l=0,u=i.length;l<u;l++){var c=i[l];c.onError&&c.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}},!1),o.addEventListener("progress",function(e){for(var n=bc[t],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(e)}},!1),o.addEventListener("error",function(e){var n=bc[t];delete bc[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),o.addEventListener("abort",function(e){var n=bc[t];delete bc[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(g,this.requestHeader[g]);o.send(null)}return r.manager.itemStart(t),o}bc[t].push({onLoad:e,onProgress:n,onError:i})},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}});var wc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=this,a=new xc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}},n,i)}},{key:"parse",value:function(t){for(var e=[],n=0;n<t.length;n++){var i=pc.parse(t[n]);e.push(i)}return e}}]),n}(yc);function kc(t){yc.call(this,t)}kc.prototype=Object.assign(Object.create(yc.prototype),{constructor:kc,load:function(t,e,n,i){var r=this,a=[],o=new ql,s=new xc(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials);var l=0;function u(u){s.load(t[u],function(t){var n=r.parse(t,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(l+=1)&&(1===n.mipmapCount&&(o.minFilter=xt),o.image=a,o.format=n.format,o.needsUpdate=!0,e&&e(o))},n,i)}if(Array.isArray(t))for(var c=0,h=t.length;c<h;++c)u(c);else s.load(t,function(t){var n=r.parse(t,!0);if(n.isCubemap){for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){a[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=xt),o.format=n.format,o.needsUpdate=!0,e&&e(o)},n,i);return o}});var Cc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=vc.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),vc.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}]),n}(yc),Mc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=new wa,a=new Cc(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(t[n],function(t){r.images[n]=t,6===++o&&(r.needsUpdate=!0,e&&e(r))},void 0,i)}for(var l=0;l<t.length;++l)s(l);return r}}]),n}(yc);function Tc(t){yc.call(this,t)}function Sc(t){yc.call(this,t)}function Ac(){this.type="Curve",this.arcLengthDivisions=200}Tc.prototype=Object.assign(Object.create(yc.prototype),{constructor:Tc,load:function(t,e,n,i){var r=this,a=new Ca,o=new xc(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(t,function(t){var n=r.parse(t);!n||(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:pt,a.wrapT=void 0!==n.wrapT?n.wrapT:pt,a.magFilter=void 0!==n.magFilter?n.magFilter:xt,a.minFilter=void 0!==n.minFilter?n.minFilter:xt,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=Ct),1===n.mipmapCount&&(a.minFilter=xt),a.needsUpdate=!0,e&&e(a,n))},n,i),a}}),Sc.prototype=Object.assign(Object.create(yc.prototype),{constructor:Sc,load:function(t,e,n,i){var r=new Yn,a=new Cc(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(n){r.image=n;var i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?Ut:Bt,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r}}),Object.assign(Ac.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=t;a++)r+=(e=this.getPoint(a/t)).distanceTo(i),n.push(r),i=e;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,a=i.length;n=e||t*i[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(a-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(a-1)},getTangent:function(t,e){var n=1e-4,i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);var a=this.getPoint(i),o=this.getPoint(r),s=e||(a.isVector2?new Hn:new ti);return s.copy(o).sub(a).normalize(),s},getTangentAt:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)},computeFrenetFrames:function(t,e){for(var n=new ti,i=[],r=[],a=[],o=new ti,s=new Ai,l=0;l<=t;l++)i[l]=this.getTangentAt(l/t,new ti),i[l].normalize();r[0]=new ti,a[0]=new ti;var u=Number.MAX_VALUE,c=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,n.set(1,0,0)),h<=u&&(u=h,n.set(0,1,0)),d<=u&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var f=1;f<=t;f++){if(r[f]=r[f-1].clone(),a[f]=a[f-1].clone(),o.crossVectors(i[f-1],i[f]),o.length()>Number.EPSILON){o.normalize();var p=Math.acos(qn.clamp(i[f-1].dot(i[f]),-1,1));r[f].applyMatrix4(s.makeRotationAxis(o,p))}a[f].crossVectors(i[f],r[f])}if(!0===e){var g=Math.acos(qn.clamp(r[0].dot(r[t]),-1,1));g/=t,i[0].dot(o.crossVectors(r[0],r[t]))>0&&(g=-g);for(var v=1;v<=t;v++)r[v].applyMatrix4(s.makeRotationAxis(i[v],g*v)),a[v].crossVectors(i[v],r[v])}return{tangents:i,normals:r,binormals:a}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}});var Ec=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return _classCallCheck(this,n),(t=e.call(this)).type="EllipseCurve",t.aX=i,t.aY=r,t.xRadius=a,t.yRadius=o,t.aStartAngle=s,t.aEndAngle=l,t.aClockwise=u,t.aRotation=c,t}return _createClass(n,[{key:"getPoint",value:function(t,e){for(var n=e||new Hn,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0===this.aClockwise&&!a&&(r===i?r=-i:r-=i);var o=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=l-this.aY;s=h*u-d*c+this.aX,l=h*c+d*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}]),n}(Ac);Ec.prototype.isEllipseCurve=!0;var Pc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s){var l;return _classCallCheck(this,n),(l=e.call(this,t,i,r,r,a,o,s)).type="ArcCurve",l}return _createClass(n)}(Ec);function Ic(){var t=0,e=0,n=0,i=0;function r(r,a,o,s){t=r,e=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(t,e,n,i,a){r(e,n,a*(n-t),a*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,a,o,s){var l=(e-t)/a-(n-t)/(a+o)+(n-e)/o,u=(n-e)/o-(i-e)/(o+s)+(i-n)/s;r(e,n,l*=o,u*=o)},calc:function(r){var a=r*r;return t+e*r+n*a+i*(a*r)}}}Pc.prototype.isArcCurve=!0;var Oc=new ti,Rc=new Ic,Lc=new Ic,Dc=new Ic,Nc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return _classCallCheck(this,n),(t=e.call(this)).type="CatmullRomCurve3",t.points=i,t.closed=r,t.curveType=a,t.tension=o,t}return _createClass(n,[{key:"getPoint",value:function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti,r=i,a=this.points,o=a.length,s=(o-(this.closed?0:1))*t,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===u&&l===o-1&&(l=o-2,u=1),this.closed||l>0?e=a[(l-1)%o]:(Oc.subVectors(a[0],a[1]).add(a[0]),e=Oc);var c=a[l%o],h=a[(l+1)%o];if(this.closed||l+2<o?n=a[(l+2)%o]:(Oc.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=Oc),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(e.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(h),d),g=Math.pow(h.distanceToSquared(n),d);p<1e-4&&(p=1),f<1e-4&&(f=p),g<1e-4&&(g=p),Rc.initNonuniformCatmullRom(e.x,c.x,h.x,n.x,f,p,g),Lc.initNonuniformCatmullRom(e.y,c.y,h.y,n.y,f,p,g),Dc.initNonuniformCatmullRom(e.z,c.z,h.z,n.z,f,p,g)}else"catmullrom"===this.curveType&&(Rc.initCatmullRom(e.x,c.x,h.x,n.x,this.tension),Lc.initCatmullRom(e.y,c.y,h.y,n.y,this.tension),Dc.initCatmullRom(e.z,c.z,h.z,n.z,this.tension));return r.set(Rc.calc(u),Lc.calc(u),Dc.calc(u)),r}},{key:"copy",value:function(t){_get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}},{key:"fromJSON",value:function(t){_get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ti).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}]),n}(Ac);function Zc(t,e,n,i,r){var a=.5*(i-e),o=.5*(r-n),s=t*t;return(2*n-2*i+a+o)*(t*s)+(-3*n+3*i-2*a-o)*s+a*t+n}function Fc(t,e,n,i){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function Uc(t,e,n,i,r){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}Nc.prototype.isCatmullRomCurve3=!0;var Bc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hn,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Hn,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Hn;return _classCallCheck(this,n),(t=e.call(this)).type="CubicBezierCurve",t.v0=i,t.v1=r,t.v2=a,t.v3=o,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hn,n=e,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(Uc(t,i.x,r.x,a.x,o.x),Uc(t,i.y,r.y,a.y,o.y)),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),n}(Ac);Bc.prototype.isCubicBezierCurve=!0;var zc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ti,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ti;return _classCallCheck(this,n),(t=e.call(this)).type="CubicBezierCurve3",t.v0=i,t.v1=r,t.v2=a,t.v3=o,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti,n=e,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(Uc(t,i.x,r.x,a.x,o.x),Uc(t,i.y,r.y,a.y,o.y),Uc(t,i.z,r.z,a.z,o.z)),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),n}(Ac);zc.prototype.isCubicBezierCurve3=!0;var qc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hn,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hn;return _classCallCheck(this,n),(t=e.call(this)).type="LineCurve",t.v1=i,t.v2=r,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hn,n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"getTangent",value:function(t,e){var n=e||new Hn;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Ac);qc.prototype.isLineCurve=!0;var Hc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti;return _classCallCheck(this,n),(t=e.call(this)).type="LineCurve3",t.isLineCurve3=!0,t.v1=i,t.v2=r,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti,n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Ac),Gc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hn,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hn,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Hn;return _classCallCheck(this,n),(t=e.call(this)).type="QuadraticBezierCurve",t.v0=i,t.v1=r,t.v2=a,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hn,n=e,i=this.v0,r=this.v1,a=this.v2;return n.set(Fc(t,i.x,r.x,a.x),Fc(t,i.y,r.y,a.y)),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Ac);Gc.prototype.isQuadraticBezierCurve=!0;var Vc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ti;return _classCallCheck(this,n),(t=e.call(this)).type="QuadraticBezierCurve3",t.v0=i,t.v1=r,t.v2=a,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti,n=e,i=this.v0,r=this.v1,a=this.v2;return n.set(Fc(t,i.x,r.x,a.x),Fc(t,i.y,r.y,a.y),Fc(t,i.z,r.z,a.z)),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Ac);Vc.prototype.isQuadraticBezierCurve3=!0;var Wc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,n),(t=e.call(this)).type="SplineCurve",t.points=i,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hn,n=e,i=this.points,r=(i.length-1)*t,a=Math.floor(r),o=r-a,s=i[0===a?a:a-1],l=i[a],u=i[a>i.length-2?i.length-1:a+1],c=i[a>i.length-3?i.length-1:a+2];return n.set(Zc(o,s.x,l.x,u.x,c.x),Zc(o,s.y,l.y,u.y,c.y)),n}},{key:"copy",value:function(t){_get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t}},{key:"fromJSON",value:function(t){_get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new Hn).fromArray(r))}return this}}]),n}(Ac);Wc.prototype.isSplineCurve=!0;var jc=Object.freeze({__proto__:null,ArcCurve:Pc,CatmullRomCurve3:Nc,CubicBezierCurve:Bc,CubicBezierCurve3:zc,EllipseCurve:Ec,LineCurve:qc,LineCurve3:Hc,QuadraticBezierCurve:Gc,QuadraticBezierCurve3:Vc,SplineCurve:Wc}),Yc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="CurvePath",t.curves=[],t.autoClose=!1,t}return _createClass(n,[{key:"add",value:function(t){this.curves.push(t)}},{key:"closePath",value:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new qc(e,t))}},{key:"getPoint",value:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,a=this.curves[i],o=a.getLength();return a.getPointAt(0===o?0:1-r/o)}i++}return null}},{key:"getLength",value:function(){var t=this.getCurveLengths();return t[t.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}},{key:"getPoints",value:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a.getPoints(a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e),s=0;s<o.length;s++){var l=o[s];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(t){_get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++)t.curves.push(this.curves[e].toJSON());return t}},{key:"fromJSON",value:function(t){_get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new jc[r.type]).fromJSON(r))}return this}}]),n}(Ac),Qc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="Path",i.currentPoint=new Hn,t&&i.setFromPoints(t),i}return _createClass(n,[{key:"setFromPoints",value:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}},{key:"moveTo",value:function(t,e){return this.currentPoint.set(t,e),this}},{key:"lineTo",value:function(t,e){var n=new qc(this.currentPoint.clone(),new Hn(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}},{key:"quadraticCurveTo",value:function(t,e,n,i){var r=new Gc(this.currentPoint.clone(),new Hn(t,e),new Hn(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}},{key:"bezierCurveTo",value:function(t,e,n,i,r,a){var o=new Bc(this.currentPoint.clone(),new Hn(t,e),new Hn(n,i),new Hn(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}},{key:"splineThru",value:function(t){var e=[this.currentPoint.clone()].concat(t),n=new Wc(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}},{key:"arc",value:function(t,e,n,i,r,a){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,a),this}},{key:"absarc",value:function(t,e,n,i,r,a){return this.absellipse(t,e,n,n,i,r,a),this}},{key:"ellipse",value:function(t,e,n,i,r,a,o,s){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,a,o,s),this}},{key:"absellipse",value:function(t,e,n,i,r,a,o,s){var l=new Ec(t,e,n,i,r,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.currentPoint.copy(t.currentPoint),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.currentPoint=this.currentPoint.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}]),n}(Yc),Jc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).uuid=qn.generateUUID(),i.type="Shape",i.holes=[],i}return _createClass(n,[{key:"getPointsHoles",value:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e}},{key:"extractPoints",value:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}},{key:"copy",value:function(t){_get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++)this.holes.push(t.holes[e].clone());return this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++)t.holes.push(this.holes[e].toJSON());return t}},{key:"fromJSON",value:function(t){_get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new Qc).fromJSON(r))}return this}}]),n}(Qc),Xc=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _classCallCheck(this,n),(i=e.call(this)).type="Light",i.color=new kr(t),i.intensity=r,i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}]),n}(Ki);Xc.prototype.isLight=!0;var $c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).type="HemisphereLight",a.position.copy(Ki.DefaultUp),a.updateMatrix(),a.groundColor=new kr(i),a}return _createClass(n,[{key:"copy",value:function(t){return Xc.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}]),n}(Xc);$c.prototype.isHemisphereLight=!0;var Kc=new Ai,th=new ti,eh=new ti,nh=function(){function t(e){_classCallCheck(this,t),this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new Hn(512,512),this.map=null,this.mapPass=null,this.matrix=new Ai,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Sa,this._frameExtents=new Hn(1,1),this._viewportCount=1,this._viewports=[new Jn(0,0,1,1)]}return _createClass(t,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(t){var e=this.camera,n=this.matrix;th.setFromMatrixPosition(t.matrixWorld),e.position.copy(th),eh.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(eh),e.updateMatrixWorld(),Kc.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Kc),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}},{key:"getViewport",value:function(t){return this._viewports[t]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"copy",value:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}]),t}(),ih=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this,new ba(50,1,.5,500))).focus=1,t}return _createClass(n,[{key:"updateMatrices",value:function(t){var e=this.camera,i=2*qn.RAD2DEG*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=t.distance||e.far;(i!==e.fov||r!==e.aspect||a!==e.far)&&(e.fov=i,e.aspect=r,e.far=a,e.updateProjectionMatrix()),_get(_getPrototypeOf(n.prototype),"updateMatrices",this).call(this,t)}}]),n}(nh);ih.prototype.isSpotLightShadow=!0;var rh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="SpotLight",r.position.copy(Ki.DefaultUp),r.updateMatrix(),r.target=new Ki,r.distance=a,r.angle=o,r.penumbra=s,r.decay=l,r.shadow=new ih,r}return _createClass(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}]),n}(Xc);rh.prototype.isSpotLight=!0;var ah=new Ai,oh=new ti,sh=new ti,lh=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this,new ba(90,1,.5,500)))._frameExtents=new Hn(4,2),t._viewportCount=6,t._viewports=[new Jn(2,1,1,1),new Jn(0,1,1,1),new Jn(3,1,1,1),new Jn(1,1,1,1),new Jn(3,0,1,1),new Jn(1,0,1,1)],t._cubeDirections=[new ti(1,0,0),new ti(-1,0,0),new ti(0,0,1),new ti(0,0,-1),new ti(0,1,0),new ti(0,-1,0)],t._cubeUps=[new ti(0,1,0),new ti(0,1,0),new ti(0,1,0),new ti(0,1,0),new ti(0,0,1),new ti(0,0,-1)],t}return _createClass(n,[{key:"updateMatrices",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix;oh.setFromMatrixPosition(t.matrixWorld),n.position.copy(oh),sh.copy(n.position),sh.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(sh),n.updateMatrixWorld(),i.makeTranslation(-oh.x,-oh.y,-oh.z),ah.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ah)}}]),n}(nh);lh.prototype.isPointLightShadow=!0;var uh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="PointLight",r.distance=a,r.decay=o,r.shadow=new lh,r}return _createClass(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}]),n}(Xc);uh.prototype.isPointLight=!0;var ch=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return _classCallCheck(this,n),(t=e.call(this)).type="OrthographicCamera",t.zoom=1,t.view=null,t.left=i,t.right=r,t.top=a,t.bottom=o,t.near=s,t.far=l,t.updateProjectionMatrix(),t}return _createClass(n,[{key:"copy",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}},{key:"setViewOffset",value:function(t,e,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,a=n+t,o=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=Ki.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}]),n}(ya);ch.prototype.isOrthographicCamera=!0;var hh=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this,new ch(-5,5,5,-5,.5,500))}return _createClass(n)}(nh);hh.prototype.isDirectionalLightShadow=!0;var dh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="DirectionalLight",r.position.copy(Ki.DefaultUp),r.updateMatrix(),r.target=new Ki,r.shadow=new hh,r}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}]),n}(Xc);dh.prototype.isDirectionalLight=!0;var fh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="AmbientLight",r}return _createClass(n)}(Xc);fh.prototype.isAmbientLight=!0;var ph=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="RectAreaLight",r.width=a,r.height=o,r}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.width=t.width,this.height=t.height,this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}]),n}(Xc);ph.prototype.isRectAreaLight=!0;var gh=function(){function t(){_classCallCheck(this,t),this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new ti)}return _createClass(t,[{key:"set",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}},{key:"zero",value:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}},{key:"getAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScaledVector(a[1],.488603*i),e.addScaledVector(a[2],.488603*r),e.addScaledVector(a[3],.488603*n),e.addScaledVector(a[4],n*i*1.092548),e.addScaledVector(a[5],i*r*1.092548),e.addScaledVector(a[6],.315392*(3*r*r-1)),e.addScaledVector(a[7],n*r*1.092548),e.addScaledVector(a[8],.546274*(n*n-i*i)),e}},{key:"getIrradianceAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScaledVector(a[1],1.023328*i),e.addScaledVector(a[2],1.023328*r),e.addScaledVector(a[3],1.023328*n),e.addScaledVector(a[4],.858086*n*i),e.addScaledVector(a[5],.858086*i*r),e.addScaledVector(a[6],.743125*r*r-.247708),e.addScaledVector(a[7],.858086*n*r),e.addScaledVector(a[8],.429043*(n*n-i*i)),e}},{key:"add",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}},{key:"addScaledSH",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}},{key:"scale",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}},{key:"lerp",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}},{key:"equals",value:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}},{key:"copy",value:function(t){return this.set(t.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}}],[{key:"getBasisAt",value:function(t,e){var n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}]),t}();gh.prototype.isSphericalHarmonics3=!0;var vh=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new gh,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _classCallCheck(this,n),(t=e.call(this,void 0,r)).sh=i,t}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.sh.copy(t.sh),this}},{key:"fromJSON",value:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return e.object.sh=this.sh.toArray(),e}}]),n}(Xc);vh.prototype.isLightProbe=!0;var mh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).textures={},i}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=this,a=new xc(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}},n,i)}},{key:"parse",value:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var i=new tc[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&void 0!==i.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new kr).setHex(t.sheen)),void 0!==t.emissive&&void 0!==i.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==i.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.vertexTangents&&(i.vertexTangents=t.vertexTangents),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.vertexColors&&(i.vertexColors="number"==typeof t.vertexColors?t.vertexColors>0:t.vertexColors),void 0!==t.uniforms)for(var r in t.uniforms){var a=t.uniforms[r];switch(i.uniforms[r]={},a.type){case"t":i.uniforms[r].value=n(a.value);break;case"c":i.uniforms[r].value=(new kr).setHex(a.value);break;case"v2":i.uniforms[r].value=(new Hn).fromArray(a.value);break;case"v3":i.uniforms[r].value=(new ti).fromArray(a.value);break;case"v4":i.uniforms[r].value=(new Jn).fromArray(a.value);break;case"m3":i.uniforms[r].value=(new Vn).fromArray(a.value);break;case"m4":i.uniforms[r].value=(new Ai).fromArray(a.value);break;default:i.uniforms[r].value=a.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var o in t.extensions)i.extensions[o]=t.extensions[o];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap)),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new Hn).fromArray(s)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatMap&&(i.clearcoatMap=n(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(i.clearcoatRoughnessMap=n(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new Hn).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(i.transmission=t.transmission),void 0!==t.transmissionMap&&(i.transmissionMap=n(t.transmissionMap)),i}},{key:"setTextures",value:function(t){return this.textures=t,this}}]),n}(yc),_h={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(n){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function yh(){Yr.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function bh(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Sr.call(this,t,e,n),this.meshPerAttribute=i||1}yh.prototype=Object.assign(Object.create(Yr.prototype),{constructor:yh,isInstancedBufferGeometry:!0,copy:function(t){return Yr.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=Yr.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),bh.prototype=Object.assign(Object.create(Sr.prototype),{constructor:bh,isInstancedBufferAttribute:!0,copy:function(t){return Sr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=Sr.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}});var xh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=this,a=new xc(r.manager);a.setPath(r.path),a.setRequestHeader(r.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,function(n){try{e(r.parse(JSON.parse(n)))}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}},n,i)}},{key:"parse",value:function(t){var e={},n={};function i(t,i){if(void 0!==e[i])return e[i];var r=t.interleavedBuffers[i],a=function(t,e){if(void 0!==n[e])return n[e];var i=new Uint32Array(t.arrayBuffers[e]).buffer;return n[e]=i,i}(t,r.buffer),o=new Bs(Br(r.type,a),r.stride);return o.uuid=r.uuid,e[i]=o,o}var r=t.isInstancedBufferGeometry?new yh:new Yr,a=t.data.index;if(void 0!==a){var o=Br(a.type,a.array);r.setIndex(new Sr(o,1))}var s=t.data.attributes;for(var l in s){var u=s[l],c=void 0;if(u.isInterleavedBufferAttribute)c=new qs(i(t.data,u.data),u.itemSize,u.offset,u.normalized);else{var h=Br(u.type,u.array);c=new(u.isInstancedBufferAttribute?bh:Sr)(h,u.itemSize,u.normalized)}void 0!==u.name&&(c.name=u.name),r.setAttribute(l,c)}var d=t.data.morphAttributes;if(d)for(var f in d){for(var p=d[f],g=[],v=0,m=p.length;v<m;v++){var _=p[v],y=void 0;y=_.isInterleavedBufferAttribute?new qs(i(t.data,_.data),_.itemSize,_.offset,_.normalized):new Sr(Br(_.type,_.array),_.itemSize,_.normalized),void 0!==_.name&&(y.name=_.name),g.push(y)}r.morphAttributes[f]=g}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);var b=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==b)for(var x=0,w=b.length;x!==w;++x){var k=b[x];r.addGroup(k.start,k.count,k.materialIndex)}var C=t.data.boundingSphere;if(void 0!==C){var M=new ti;void 0!==C.center&&M.fromArray(C.center),r.boundingSphere=new yi(M,C.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}]),n}(yc),wh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=this,a=""===this.path?_h.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;var o=new xc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(n){var a=null;try{a=JSON.parse(n)}catch(s){return void 0!==i&&i(s),void console.error("THREE:ObjectLoader: Can't parse "+t+".",s.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?r.parse(a,e):console.error("THREE.ObjectLoader: Can't load "+t)},n,i)}},{key:"parse",value:function(t,e){var n=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),r=this.parseGeometries(t.geometries,i),a=this.parseImages(t.images,function(){void 0!==e&&e(l)}),o=this.parseTextures(t.textures,a),s=this.parseMaterials(t.materials,o),l=this.parseObject(t.object,r,s,n),u=this.parseSkeletons(t.skeletons,l);if(this.bindSkeletons(l,u),void 0!==e){var c=!1;for(var h in a)if(a[h]instanceof HTMLImageElement){c=!0;break}!1===c&&e(l)}return l}},{key:"parseShapes",value:function(t){var e={};if(void 0!==t)for(var n=0,i=t.length;n<i;n++){var r=(new Jc).fromJSON(t[n]);e[r.uuid]=r}return e}},{key:"parseSkeletons",value:function(t,e){var n={},i={};if(e.traverse(function(t){t.isBone&&(i[t.uuid]=t)}),void 0!==t)for(var r=0,a=t.length;r<a;r++){var o=(new ml).fromJSON(t[r],i);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(t,e){var n,i={};if(void 0!==t)for(var r=new xh,a=0,o=t.length;a<o;a++){var s=void 0,l=t[a];switch(l.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new Hu[l.type](l.width,l.height,l.widthSegments,l.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":s=new Hu[l.type](l.width,l.height,l.depth,l.widthSegments,l.heightSegments,l.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new Hu[l.type](l.radius,l.segments,l.thetaStart,l.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new Hu[l.type](l.radiusTop,l.radiusBottom,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new Hu[l.type](l.radius,l.height,l.radialSegments,l.heightSegments,l.openEnded,l.thetaStart,l.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new Hu[l.type](l.radius,l.widthSegments,l.heightSegments,l.phiStart,l.phiLength,l.thetaStart,l.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new Hu[l.type](l.radius,l.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new Hu[l.type](l.innerRadius,l.outerRadius,l.thetaSegments,l.phiSegments,l.thetaStart,l.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new Hu[l.type](l.radius,l.tube,l.radialSegments,l.tubularSegments,l.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new Hu[l.type](l.radius,l.tube,l.tubularSegments,l.radialSegments,l.p,l.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new Hu[l.type]((new jc[l.path.type]).fromJSON(l.path),l.tubularSegments,l.radius,l.radialSegments,l.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new Hu[l.type](l.points,l.segments,l.phiStart,l.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new Hu[l.type](l.vertices,l.indices,l.radius,l.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(var u=0,c=l.shapes.length;u<c;u++)n.push(e[l.shapes[u]]);s=new Hu[l.type](n,l.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(var h=0,d=l.shapes.length;h<d;h++)n.push(e[l.shapes[h]]);var f=l.options.extrudePath;void 0!==f&&(l.options.extrudePath=(new jc[f.type]).fromJSON(f)),s=new Hu[l.type](n,l.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=r.parse(l);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+l.type+'"');continue}s.uuid=l.uuid,void 0!==l.name&&(s.name=l.name),!0===s.isBufferGeometry&&void 0!==l.userData&&(s.userData=l.userData),i[l.uuid]=s}return i}},{key:"parseMaterials",value:function(t,e){var n={},i={};if(void 0!==t){var r=new mh;r.setTextures(e);for(var a=0,o=t.length;a<o;a++){var s=t[a];if("MultiMaterial"===s.type){for(var l=[],u=0;u<s.materials.length;u++){var c=s.materials[u];void 0===n[c.uuid]&&(n[c.uuid]=r.parse(c)),l.push(n[c.uuid])}i[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i}},{key:"parseAnimations",value:function(t){var e={};if(void 0!==t)for(var n=0;n<t.length;n++){var i=pc.parse(t[n]);e[i.uuid]=i}return e}},{key:"parseImages",value:function(t,e){var n,i=this,r={};function a(t){if("string"==typeof t){var e=t;return function(t){return i.manager.itemStart(t),n.load(t,function(){i.manager.itemEnd(t)},void 0,function(){i.manager.itemError(t),i.manager.itemEnd(t)})}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:i.resourcePath+e)}return t.data?{data:Br(t.type,t.data),width:t.width,height:t.height}:null}if(void 0!==t&&t.length>0){var o=new mc(e);(n=new Cc(o)).setCrossOrigin(this.crossOrigin);for(var s=0,l=t.length;s<l;s++){var u=t[s],c=u.url;if(Array.isArray(c)){r[u.uuid]=[];for(var h=0,d=c.length;h<d;h++){var f=a(c[h]);null!==f&&(f instanceof HTMLImageElement?r[u.uuid].push(f):r[u.uuid].push(new Ca(f.data,f.width,f.height)))}}else{var p=a(u.url);null!==p&&(r[u.uuid]=p)}}}return r}},{key:"parseTextures",value:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var r=0,a=t.length;r<a;r++){var o=t[r],s=void 0;void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===e[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var l=e[o.image];Array.isArray(l)?(s=new wa(l),6===l.length&&(s.needsUpdate=!0)):(s=l&&l.data?new Ca(l.data,l.width,l.height):new Yn(l),l&&(s.needsUpdate=!0)),s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping,kh)),void 0!==o.offset&&s.offset.fromArray(o.offset),void 0!==o.repeat&&s.repeat.fromArray(o.repeat),void 0!==o.center&&s.center.fromArray(o.center),void 0!==o.rotation&&(s.rotation=o.rotation),void 0!==o.wrap&&(s.wrapS=n(o.wrap[0],Ch),s.wrapT=n(o.wrap[1],Ch)),void 0!==o.format&&(s.format=o.format),void 0!==o.type&&(s.type=o.type),void 0!==o.encoding&&(s.encoding=o.encoding),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter,Mh)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter,Mh)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),void 0!==o.flipY&&(s.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(s.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(s.unpackAlignment=o.unpackAlignment),i[o.uuid]=s}return i}},{key:"parseObject",value:function(t,e,n,i){var r,a,o;function s(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function l(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],i=0,r=t.length;i<r;i++){var a=t[i];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),e.push(n[a])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}switch(t.type){case"Scene":r=new Us,void 0!==t.background&&Number.isInteger(t.background)&&(r.background=new kr(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?r.fog=new Fs(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(r.fog=new Zs(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":r=new ba(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(r.focus=t.focus),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.filmGauge&&(r.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(r.filmOffset=t.filmOffset),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"OrthographicCamera":r=new ch(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(r.zoom=t.zoom),void 0!==t.view&&(r.view=Object.assign({},t.view));break;case"AmbientLight":r=new fh(t.color,t.intensity);break;case"DirectionalLight":r=new dh(t.color,t.intensity);break;case"PointLight":r=new uh(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":r=new ph(t.color,t.intensity,t.width,t.height);break;case"SpotLight":r=new rh(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":r=new $c(t.color,t.groundColor,t.intensity);break;case"LightProbe":r=(new vh).fromJSON(t);break;case"SkinnedMesh":r=new fl(a=s(t.geometry),o=l(t.material)),void 0!==t.bindMode&&(r.bindMode=t.bindMode),void 0!==t.bindMatrix&&r.bindMatrix.fromArray(t.bindMatrix),void 0!==t.skeleton&&(r.skeleton=t.skeleton);break;case"Mesh":r=new da(a=s(t.geometry),o=l(t.material));break;case"InstancedMesh":a=s(t.geometry),o=l(t.material);var u=t.instanceMatrix;(r=new wl(a,o,t.count)).instanceMatrix=new Sr(new Float32Array(u.array),16);break;case"LOD":r=new sl;break;case"Line":r=new El(s(t.geometry),l(t.material));break;case"LineLoop":r=new Rl(s(t.geometry),l(t.material));break;case"LineSegments":r=new Ol(s(t.geometry),l(t.material));break;case"PointCloud":case"Points":r=new Ul(s(t.geometry),l(t.material));break;case"Sprite":r=new il(l(t.material));break;case"Group":r=new Is;break;case"Bone":r=new pl;break;default:r=new Ki}if(r.uuid=t.uuid,void 0!==t.name&&(r.name=t.name),void 0!==t.matrix?(r.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(r.matrixAutoUpdate=t.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==t.position&&r.position.fromArray(t.position),void 0!==t.rotation&&r.rotation.fromArray(t.rotation),void 0!==t.quaternion&&r.quaternion.fromArray(t.quaternion),void 0!==t.scale&&r.scale.fromArray(t.scale)),void 0!==t.castShadow&&(r.castShadow=t.castShadow),void 0!==t.receiveShadow&&(r.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(r.shadow.bias=t.shadow.bias),void 0!==t.shadow.normalBias&&(r.shadow.normalBias=t.shadow.normalBias),void 0!==t.shadow.radius&&(r.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&r.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(r.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(r.visible=t.visible),void 0!==t.frustumCulled&&(r.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(r.renderOrder=t.renderOrder),void 0!==t.userData&&(r.userData=t.userData),void 0!==t.layers&&(r.layers.mask=t.layers),void 0!==t.children)for(var c=t.children,h=0;h<c.length;h++)r.add(this.parseObject(c[h],e,n,i));if(void 0!==t.animations)for(var d=t.animations,f=0;f<d.length;f++)r.animations.push(i[d[f]]);if("LOD"===t.type){void 0!==t.autoUpdate&&(r.autoUpdate=t.autoUpdate);for(var p=t.levels,g=0;g<p.length;g++){var v=p[g],m=r.getObjectByProperty("uuid",v.object);void 0!==m&&r.addLevel(m,v.distance)}}return r}},{key:"bindSkeletons",value:function(t,e){0!==Object.keys(e).length&&t.traverse(function(t){if(!0===t.isSkinnedMesh&&void 0!==t.skeleton){var n=e[t.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",t.skeleton):t.bind(n,t.bindMatrix)}})}},{key:"setTexturePath",value:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}]),n}(yc),kh={UVMapping:ot,CubeReflectionMapping:st,CubeRefractionMapping:lt,EquirectangularReflectionMapping:ut,EquirectangularRefractionMapping:ct,CubeUVReflectionMapping:ht,CubeUVRefractionMapping:dt},Ch={RepeatWrapping:ft,ClampToEdgeWrapping:pt,MirroredRepeatWrapping:gt},Mh={NearestFilter:vt,NearestMipmapNearestFilter:mt,NearestMipmapLinearFilter:yt,LinearFilter:xt,LinearMipmapNearestFilter:wt,LinearMipmapLinearFilter:Ct};function Th(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),yc.call(this,t),this.options={premultiplyAlpha:"none"}}Th.prototype=Object.assign(Object.create(yc.prototype),{constructor:Th,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=vc.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(t,o).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(n){vc.add(t,n),e&&e(n),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}});var Sh=function(){function t(){_classCallCheck(this,t),this.type="ShapePath",this.color=new kr,this.subPaths=[],this.currentPath=null}return _createClass(t,[{key:"moveTo",value:function(t,e){return this.currentPath=new Qc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}},{key:"lineTo",value:function(t,e){return this.currentPath.lineTo(t,e),this}},{key:"quadraticCurveTo",value:function(t,e,n,i){return this.currentPath.quadraticCurveTo(t,e,n,i),this}},{key:"bezierCurveTo",value:function(t,e,n,i,r,a){return this.currentPath.bezierCurveTo(t,e,n,i,r,a),this}},{key:"splineThru",value:function(t){return this.currentPath.splineThru(t),this}},{key:"toShapes",value:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],a=new Jc;a.curves=r.curves,e.push(a)}return e}function i(t,e){for(var n=e.length,i=!1,r=n-1,a=0;a<n;r=a++){var o=e[r],s=e[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=e[a],l=-l,s=e[r],u=-u),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var c=u*(t.x-o.x)-l*(t.y-o.y);if(0===c)return!0;if(c<0)continue;i=!i}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return i}var r,a,o,s=Mu.isClockWise,l=this.subPaths;if(0===l.length)return[];if(!0===e)return n(l);var u=[];if(1===l.length)return a=l[0],(o=new Jc).curves=a.curves,u.push(o),u;var c=!s(l[0].getPoints());c=t?!c:c;var h,d,f=[],p=[],g=[],v=0;p[v]=void 0,g[v]=[];for(var m=0,_=l.length;m<_;m++)r=s(h=(a=l[m]).getPoints()),(r=t?!r:r)?(!c&&p[v]&&v++,p[v]={s:new Jc,p:h},p[v].s.curves=a.curves,c&&v++,g[v]=[]):g[v].push({h:a,p:h[0]});if(!p[0])return n(l);if(p.length>1){for(var y=!1,b=[],x=0,w=p.length;x<w;x++)f[x]=[];for(var k=0,C=p.length;k<C;k++)for(var M=g[k],T=0;T<M.length;T++){for(var S=M[T],A=!0,E=0;E<p.length;E++)i(S.p,p[E].p)&&(k!==E&&b.push({froms:k,tos:E,hole:T}),A?(A=!1,f[E].push(S)):y=!0);A&&f[k].push(S)}b.length>0&&(y||(g=f))}for(var P=0,I=p.length;P<I;P++){o=p[P].s,u.push(o);for(var O=0,R=(d=g[P]).length;O<R;O++)o.holes.push(d[O].h)}return u}}]),t}(),Ah=function(){function t(e){_classCallCheck(this,t),this.type="Font",this.data=e}return _createClass(t,[{key:"generateShapes",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=[],i=function(t,e,n){for(var i=Array.from(t),r=e/n.resolution,a=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,o=[],s=0,l=0,u=0;u<i.length;u++){var c=i[u];if("\n"===c)s=0,l-=a;else{var h=Eh(c,r,s,l,n);s+=h.offsetX,o.push(h.path)}}return o}(t,e,this.data),r=0,a=i.length;r<a;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}]),t}();function Eh(t,e,n,i,r){var a=r.glyphs[t]||r.glyphs["?"];if(a){var o,s,l,u,c,h,d,f,p=new Sh;if(a.o)for(var g=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),v=0,m=g.length;v<m;)switch(g[v++]){case"m":o=g[v++]*e+n,s=g[v++]*e+i,p.moveTo(o,s);break;case"l":o=g[v++]*e+n,s=g[v++]*e+i,p.lineTo(o,s);break;case"q":l=g[v++]*e+n,u=g[v++]*e+i,c=g[v++]*e+n,h=g[v++]*e+i,p.quadraticCurveTo(c,h,l,u);break;case"b":l=g[v++]*e+n,u=g[v++]*e+i,c=g[v++]*e+n,h=g[v++]*e+i,d=g[v++]*e+n,f=g[v++]*e+i,p.bezierCurveTo(c,h,d,f,l,u)}return{offsetX:a.ha*e,path:p}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".")}Ah.prototype.isFont=!0;var Ph,Ih=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=this,a=new xc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials),a.load(t,function(t){var n;try{n=JSON.parse(t)}catch(a){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var i=r.parse(n);e&&e(i)},n,i)}},{key:"parse",value:function(t){return new Ah(t)}}]),n}(yc),Oh={getContext:function(){return void 0===Ph&&(Ph=new(window.AudioContext||window.webkitAudioContext)),Ph},setContext:function(t){Ph=t}},Rh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=this,a=new xc(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(n){try{var a=n.slice(0);Oh.getContext().decodeAudioData(a,function(t){e(t)})}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}},n,i)}}]),n}(yc),Lh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;_classCallCheck(this,n),r=e.call(this,void 0,a);var o=(new kr).set(t),s=(new kr).set(i),l=new ti(o.r,o.g,o.b),u=new ti(s.r,s.g,s.b),c=Math.sqrt(Math.PI),h=c*Math.sqrt(.75);return r.sh.coefficients[0].copy(l).add(u).multiplyScalar(c),r.sh.coefficients[1].copy(l).sub(u).multiplyScalar(h),r}return _createClass(n)}(vh);Lh.prototype.isHemisphereLightProbe=!0;var Dh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,n),i=e.call(this,void 0,r);var a=(new kr).set(t);return i.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),i}return _createClass(n)}(vh);Dh.prototype.isAmbientLightProbe=!0;var Nh=new Ai,Zh=new Ai,Fh=function(){function t(){_classCallCheck(this,t),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ba,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ba,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return _createClass(t,[{key:"update",value:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var n,i,r=t.projectionMatrix.clone(),a=e.eyeSep/2,o=a*e.near/e.focus,s=e.near*Math.tan(qn.DEG2RAD*e.fov*.5)/e.zoom;Zh.elements[12]=-a,Nh.elements[12]=a,n=-s*e.aspect+o,i=s*e.aspect+o,r.elements[0]=2*e.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(r),n=-s*e.aspect-o,i=s*e.aspect-o,r.elements[0]=2*e.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Zh),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Nh)}}]),t}(),Uh=function(){function t(e){_classCallCheck(this,t),this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return _createClass(t,[{key:"start",value:function(){this.startTime=Bh(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=Bh();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}]),t}();function Bh(){return("undefined"==typeof performance?Date:performance).now()}var zh=new ti,qh=new Kn,Hh=new ti,Gh=new ti,Vh=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="AudioListener",t.context=Oh.getContext(),t.gain=t.context.createGain(),t.gain.connect(t.context.destination),t.filter=null,t.timeDelta=0,t._clock=new Uh,t}return _createClass(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(t){_get(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,t);var e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(zh,qh,Hh),Gh.set(0,0,-1).applyQuaternion(qh),e.positionX){var r=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(zh.x,r),e.positionY.linearRampToValueAtTime(zh.y,r),e.positionZ.linearRampToValueAtTime(zh.z,r),e.forwardX.linearRampToValueAtTime(Gh.x,r),e.forwardY.linearRampToValueAtTime(Gh.y,r),e.forwardZ.linearRampToValueAtTime(Gh.z,r),e.upX.linearRampToValueAtTime(i.x,r),e.upY.linearRampToValueAtTime(i.y,r),e.upZ.linearRampToValueAtTime(i.z,r)}else e.setPosition(zh.x,zh.y,zh.z),e.setOrientation(Gh.x,Gh.y,Gh.z,i.x,i.y,i.z)}}]),n}(Ki),Wh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="Audio",i.listener=t,i.context=t.context,i.gain=i.context.createGain(),i.gain.connect(t.getInput()),i.autoplay=!1,i.buffer=null,i.detune=0,i.loop=!1,i.loopStart=0,i.loopEnd=0,i.offset=0,i.duration=void 0,i.playbackRate=1,i.isPlaying=!1,i.hasPlaybackControl=!0,i.source=null,i.sourceType="empty",i._startedAt=0,i._progress=0,i._connected=!1,i.filters=[],i}return _createClass(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}},{key:"setMediaElementSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}},{key:"setMediaStreamSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}},{key:"setBuffer",value:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}},{key:"setDetune",value:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(t){return this.setFilters(t?[t]:[])}},{key:"setPlaybackRate",value:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(t){return this.loopStart=t,this}},{key:"setLoopEnd",value:function(t){return this.loopEnd=t,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}]),n}(Ki),jh=new ti,Yh=new Kn,Qh=new ti,Jh=new ti,Xh=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).panner=i.context.createPanner(),i.panner.panningModel="HRTF",i.panner.connect(i.gain),i}return _createClass(n,[{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(t){return this.panner.refDistance=t,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(t){return this.panner.rolloffFactor=t,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(t){return this.panner.distanceModel=t,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(t){return this.panner.maxDistance=t,this}},{key:"setDirectionalCone",value:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(t){if(_get(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,t),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(jh,Yh,Qh),Jh.set(0,0,1).applyQuaternion(Yh);var e=this.panner;if(e.positionX){var i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(jh.x,i),e.positionY.linearRampToValueAtTime(jh.y,i),e.positionZ.linearRampToValueAtTime(jh.z,i),e.orientationX.linearRampToValueAtTime(Jh.x,i),e.orientationY.linearRampToValueAtTime(Jh.y,i),e.orientationZ.linearRampToValueAtTime(Jh.z,i)}else e.setPosition(jh.x,jh.y,jh.z),e.setOrientation(Jh.x,Jh.y,Jh.z)}}}]),n}(Wh),$h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;_classCallCheck(this,t),this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}return _createClass(t,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}]),t}(),Kh=function(){function t(e,n,i){var r,a,o;switch(_classCallCheck(this,t),this.binding=e,this.valueSize=i,n){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return _createClass(t,[{key:"accumulate",value:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==i;++o)n[r+o]=n[o];a=e}else a+=e,this._mixBufferRegion(n,r,0,e/a,i);this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(t){var e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t}},{key:"apply",value:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,i,e*this._origIndex,1-r,e),a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){o.setValue(n,i);break}}},{key:"saveOriginalState",value:function(){var t=this.buffer,e=this.valueSize,n=e*this._origIndex;this.binding.getValue(t,n);for(var i=e,r=n;i!==r;++i)t[i]=t[n+i%e];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){this.binding.setValue(this.buffer,3*this.valueSize)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var t=this._addIndex*this.valueSize,e=t+this.valueSize,n=t;n<e;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}},{key:"_select",value:function(t,e,n,i,r){if(i>=.5)for(var a=0;a!==r;++a)t[e+a]=t[n+a]}},{key:"_slerp",value:function(t,e,n,i){Kn.slerpFlat(t,e,t,e,t,n,i)}},{key:"_slerpAdditive",value:function(t,e,n,i,r){var a=this._workIndex*r;Kn.multiplyQuaternionsFlat(t,a,t,e,t,n),Kn.slerpFlat(t,e,t,e,t,a,i)}},{key:"_lerp",value:function(t,e,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*i}}},{key:"_lerpAdditive",value:function(t,e,n,i,r){for(var a=0;a!==r;++a){var o=e+a;t[o]=t[o]+t[n+a]*i}}}]),t}(),td="\\[\\]\\.:\\/",ed=new RegExp("["+td+"]","g"),nd="[^"+td+"]",id="[^"+td.replace("\\.","")+"]",rd=/((?:WC+[\/:])*)/.source.replace("WC",nd),ad=/(WCOD+)?/.source.replace("WCOD",id),od=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",nd),sd=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",nd),ld=new RegExp("^"+rd+ad+od+sd+"$"),ud=["material","materials","bones"];function cd(t,e,n){var i=n||hd.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function hd(t,e,n){this.path=e,this.parsedPath=n||hd.parseTrackName(e),this.node=hd.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(cd.prototype,{getValue:function(t,e){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(hd,{Composite:cd,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new hd.Composite(t,e,n):new hd(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(ed,"")},parseTrackName:function(t){var e=ld.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==ud.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var i=function t(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===e||r.uuid===e)return r;var a=t(r.children);if(a)return a}return null}(t.children);if(i)return i}return null}}),Object.assign(hd.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=hd.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==a){if(void 0===t[a])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[a]}}var s=t[i];if(void 0!==s){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var u=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else console.error("THREE.PropertyBinding: Trying to update property for track: "+e.nodeName+"."+i+" but it wasn't found.",t)}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(hd.prototype,{_getValue_unbound:hd.prototype.getValue,_setValue_unbound:hd.prototype.setValue});var dd=function(){function t(){_classCallCheck(this,t),this.uuid=qn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,i=arguments.length;n!==i;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}return _createClass(t,[{key:"add",value:function(){for(var t,e=this._objects,n=this._indicesByUUID,i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length,s=e.length,l=this.nCachedObjects_,u=0,c=arguments.length;u!==c;++u){var h=arguments[u],d=h.uuid,f=n[d];if(void 0===f){f=s++,n[d]=f,e.push(h);for(var p=0,g=o;p!==g;++p)a[p].push(new hd(h,i[p],r[p]))}else if(f<l){t=e[f];var v=--l,m=e[v];n[m.uuid]=f,e[f]=m,n[d]=v,e[v]=h;for(var _=0,y=o;_!==y;++_){var b=a[_],x=b[f];b[f]=b[v],void 0===x&&(x=new hd(h,i[_],r[_])),b[v]=x}}else e[f]!==t&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l}},{key:"remove",value:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var s=arguments[a],l=s.uuid,u=e[l];if(void 0!==u&&u>=r){var c=r++,h=t[c];e[h.uuid]=u,t[u]=h,e[l]=c,t[c]=s;for(var d=0,f=i;d!==f;++d){var p=n[d],g=p[u];p[u]=p[c],p[c]=g}}}this.nCachedObjects_=r}},{key:"uncache",value:function(){for(var t=this._objects,e=this._indicesByUUID,n=this._bindings,i=n.length,r=this.nCachedObjects_,a=t.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o].uuid,u=e[l];if(void 0!==u)if(delete e[l],u<r){var c=--r,h=t[c],d=--a,f=t[d];e[h.uuid]=u,t[u]=h,e[f.uuid]=c,t[c]=f,t.pop();for(var p=0,g=i;p!==g;++p){var v=n[p],m=v[d];v[u]=v[c],v[c]=m,v.pop()}}else{var _=--a,y=t[_];_>0&&(e[y.uuid]=u),t[u]=y,t.pop();for(var b=0,x=i;b!==x;++b){var w=n[b];w[u]=w[_],w.pop()}}}this.nCachedObjects_=r}},{key:"subscribe_",value:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var a=this._paths,o=this._parsedPaths,s=this._objects,l=this.nCachedObjects_,u=new Array(s.length);i=r.length,n[t]=i,a.push(t),o.push(e),r.push(u);for(var c=l,h=s.length;c!==h;++c)u[c]=new hd(s[c],t,e);return u}},{key:"unsubscribe_",value:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),r[n]=r[o],r.pop(),i[n]=i[o],i.pop()}}}]),t}();dd.prototype.isAnimationObjectGroup=!0;var fd=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;_classCallCheck(this,t),this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:Ge,endingEnd:Ge},u=0;u!==o;++u){var c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ue,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return _createClass(t,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(t){return this._startTime=t,this}},{key:"setLoop",value:function(t,e){return this.loop=t,this.repetitions=e,this}},{key:"setEffectiveWeight",value:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(t){return this._scheduleFading(t,0,1)}},{key:"fadeOut",value:function(t){return this._scheduleFading(t,1,0)}},{key:"crossFadeFrom",value:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,a=i/r;t.warp(1,r/i,e),this.warp(a,1,e)}return this}},{key:"crossFadeTo",value:function(t,e,n){return t.crossFadeFrom(this,e,n)}},{key:"stopFading",value:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"setEffectiveTimeScale",value:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}},{key:"syncWith",value:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}},{key:"halt",value:function(t){return this.warp(this._effectiveTimeScale,0,t)}},{key:"warp",value:function(t,e,n){var i=this._mixer,r=i.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+n,l[0]=t/a,l[1]=e/a,this}},{key:"stopWarping",value:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(t,e,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var a=(t-r)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0){var l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case Ye:for(var c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case je:default:for(var d=0,f=l.length;d!==f;++d)l[d].evaluate(o),u[d].accumulate(i,s)}}}else this._updateWeight(t)}},{key:"_updateWeight",value:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}},{key:"_updateTimeScale",value:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}},{key:"_updateTime",value:function(t){var e=this._clip.duration,n=this.loop,i=this.time+t,r=this._loopCount,a=n===Be;if(0===t)return-1===r?i:a&&1==(1&r)?e-i:i;if(n===Fe){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i>=e||i<0){var o=Math.floor(i/e);i-=e*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&1==(1&r))return e-i}return i}},{key:"_setEndings",value:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=Ve,i.endingEnd=Ve):(i.endingStart=t?this.zeroSlopeAtStart?Ve:Ge:We,i.endingEnd=e?this.zeroSlopeAtEnd?Ve:Ge:We)}},{key:"_scheduleFading",value:function(t,e,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=n,this}}]),t}(),pd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._root=t,i._initMemoryManager(),i._accuIndex=0,i.time=0,i.timeScale=1,i}return _createClass(n,[{key:"_bindAction",value:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==r;++c){var h=i[c],d=h.name,f=u[d];if(void 0!==f)a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}++(f=new Kh(hd.create(n,d,e&&e._propertyBindings[c].binding.parsedPath),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),a[c]=f}o[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}}},{key:"_deactivateAction",value:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions}},{key:"_addInactiveAction",value:function(t,e,n){var i=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=i.length,i.push(t),a.actionByRoot[n]=t}},{key:"_removeInactiveAction",value:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)}},{key:"_removeInactiveBindingsForAction",value:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}}},{key:"_lendAction",value:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}},{key:"_takeBackAction",value:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}},{key:"_addInactiveBinding",value:function(t,e,n){var i=this._bindingsByRootAndName,r=this._bindings,a=i[e];void 0===a&&(a={},i[e]=a),a[n]=t,t._cacheIndex=r.length,r.push(t)}},{key:"_removeInactiveBinding",value:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete o[r],0===Object.keys(o).length&&delete a[i]}},{key:"_lendBinding",value:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}},{key:"_takeBackBinding",value:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}},{key:"_lendControlInterpolant",value:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new rc(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n}},{key:"_takeBackControlInterpolant",value:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r}},{key:"clipAction",value:function(t,e,n){var i=e||this._root,r=i.uuid,a="string"==typeof t?pc.findByName(i,t):t,o=null!==a?a.uuid:t,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:je),void 0!==s){var u=s.actionByRoot[r];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var c=new fd(this,a,e,n);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c}},{key:"existingAction",value:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?pc.findByName(n,t):t,a=this._actionsByClip[r?r.uuid:t];return void 0!==a&&a.actionByRoot[i]||null}},{key:"stopAllAction",value:function(){for(var t=this._actions,e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this}},{key:"update",value:function(t){for(var e=this._actions,n=this._nActiveActions,i=this.time+=t*=this.timeScale,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o)e[o]._update(i,t,r,a);for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(a);return this}},{key:"setTime",value:function(t){this.time=0;for(var e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,e[u]=c,e.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}}},{key:"uncacheRoot",value:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Fn);pd.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var gd=function(){function t(e){_classCallCheck(this,t),"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}return _createClass(t,[{key:"clone",value:function(){return new t(void 0===this.value.clone?this.value:this.value.clone())}}]),t}();function vd(t,e,n){Bs.call(this,t,e),this.meshPerAttribute=n||1}function md(t,e,n,i,r){this.buffer=t,this.type=e,this.itemSize=n,this.elementSize=i,this.count=r,this.version=0}function _d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;this.ray=new Si(t,e),this.near=n,this.far=i,this.camera=null,this.layers=new Ui,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function yd(t,e){return t.distance-e.distance}function bd(t,e,n,i){if(t.layers.test(e.layers)&&t.raycast(e,n),!0===i)for(var r=t.children,a=0,o=r.length;a<o;a++)bd(r[a],e,n,!0)}vd.prototype=Object.assign(Object.create(Bs.prototype),{constructor:vd,isInstancedInterleavedBuffer:!0,copy:function(t){return Bs.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){var e=Bs.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){var e=Bs.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(md.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(md.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(_d.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)},intersectObject:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return bd(t,this,n,e),n.sort(yd),n},intersectObjects:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=0,r=t.length;i<r;i++)bd(t[i],this,n,e);return n.sort(yd),n}});var xd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,t),this.radius=e,this.phi=n,this.theta=i,this}return _createClass(t,[{key:"set",value:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this}},{key:"copy",value:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}},{key:"makeSafe",value:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}},{key:"setFromVector3",value:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}},{key:"setFromCartesianCoords",value:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(qn.clamp(e/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),wd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,t),this.radius=e,this.theta=n,this.y=i,this}return _createClass(t,[{key:"set",value:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this}},{key:"copy",value:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}},{key:"setFromVector3",value:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}},{key:"setFromCartesianCoords",value:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),kd=new Hn,Cd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Hn(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Hn(-1/0,-1/0);_classCallCheck(this,t),this.min=e,this.max=n}return _createClass(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=kd.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new Hn),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new Hn),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}},{key:"getParameter",value:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new Hn),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}},{key:"clampPoint",value:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new Hn),e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return kd.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();Cd.prototype.isBox2=!0;var Md=new ti,Td=new ti,Sd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti;_classCallCheck(this,t),this.start=e,this.end=n}return _createClass(t,[{key:"set",value:function(t,e){return this.start.copy(t),this.end.copy(e),this}},{key:"copy",value:function(t){return this.start.copy(t.start),this.end.copy(t.end),this}},{key:"getCenter",value:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new ti),t.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new ti),t.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new ti),this.delta(e).multiplyScalar(t).add(this.start)}},{key:"closestPointToPointParameter",value:function(t,e){Md.subVectors(t,this.start),Td.subVectors(this.end,this.start);var n=Td.dot(Td),i=Td.dot(Md)/n;return e&&(i=qn.clamp(i,0,1)),i}},{key:"closestPointToPoint",value:function(t,e,n){var i=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new ti),this.delta(n).multiplyScalar(i).add(this.start)}},{key:"applyMatrix4",value:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}},{key:"equals",value:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();function Ad(t){Ki.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}(Ad.prototype=Object.create(Ki.prototype)).constructor=Ad,Ad.prototype.isImmediateRenderObject=!0;var Ed=new ti,Pd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;_classCallCheck(this,n),(r=e.call(this)).light=t,r.light.updateMatrixWorld(),r.matrix=t.matrixWorld,r.matrixAutoUpdate=!1,r.color=i;for(var a=new Yr,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],s=0,l=1;s<32;s++,l++){var u=s/32*Math.PI*2,c=l/32*Math.PI*2;o.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new Nr(o,3));var h=new kl({fog:!1,toneMapped:!1});return r.cone=new Ol(a,h),r.add(r.cone),r.update(),r}return _createClass(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Ed.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ed),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Ki),Id=new ti,Od=new Ai,Rd=new Ai,Ld=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;_classCallCheck(this,n);for(var r=Dd(t),a=new Yr,o=[],s=[],l=new kr(0,0,1),u=new kr(0,1,0),c=0;c<r.length;c++){var h=r[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}return a.setAttribute("position",new Nr(o,3)),a.setAttribute("color",new Nr(s,3)),(i=e.call(this,a,new kl({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}))).type="SkeletonHelper",i.isSkeletonHelper=!0,i.root=t,i.bones=r,i.matrix=t.matrixWorld,i.matrixAutoUpdate=!1,i}return _createClass(n,[{key:"updateMatrixWorld",value:function(t){var e=this.bones,i=this.geometry,r=i.getAttribute("position");Rd.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<e.length;a++){var s=e[a];s.parent&&s.parent.isBone&&(Od.multiplyMatrices(Rd,s.matrixWorld),Id.setFromMatrixPosition(Od),r.setXYZ(o,Id.x,Id.y,Id.z),Od.multiplyMatrices(Rd,s.parent.matrixWorld),Id.setFromMatrixPosition(Od),r.setXYZ(o+1,Id.x,Id.y,Id.z),o+=2)}i.getAttribute("position").needsUpdate=!0,_get(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,t)}}]),n}(Ol);function Dd(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,Dd(t.children[n]));return e}var Nd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,new Nu(i,4,2),new Cr({wireframe:!0,fog:!1,toneMapped:!1}))).light=t,a.light.updateMatrixWorld(),a.color=r,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return _createClass(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(da),Zd=new ti,Fd=new kr,Ud=new kr,Bd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;_classCallCheck(this,n),(a=e.call(this)).light=t,a.light.updateMatrixWorld(),a.matrix=t.matrixWorld,a.matrixAutoUpdate=!1,a.color=r;var o=new Ou(i);o.rotateY(.5*Math.PI),a.material=new Cr({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var s=o.getAttribute("position"),l=new Float32Array(3*s.count);return o.setAttribute("color",new Sr(l,3)),a.add(new da(o,a.material)),a.update(),a}return _createClass(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=t.geometry.getAttribute("color");Fd.copy(this.light.color),Ud.copy(this.light.groundColor);for(var n=0,i=e.count;n<i;n++){var r=n<i/2?Fd:Ud;e.setXYZ(n,r.r,r.g,r.b)}e.needsUpdate=!0}t.lookAt(Zd.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Ki),zd=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;_classCallCheck(this,n),a=new kr(a),o=new kr(o);for(var s=r/2,l=i/r,u=i/2,c=[],h=[],d=0,f=0,p=-u;d<=r;d++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var g=d===s?a:o;g.toArray(h,f),f+=3,g.toArray(h,f),f+=3,g.toArray(h,f),f+=3,g.toArray(h,f),f+=3}var v=new Yr;return v.setAttribute("position",new Nr(c,3)),v.setAttribute("color",new Nr(h,3)),(t=e.call(this,v,new kl({vertexColors:!0,toneMapped:!1}))).type="GridHelper",t}return _createClass(n)}(Ol),qd=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;_classCallCheck(this,n),s=new kr(s),l=new kr(l);for(var u=[],c=[],h=0;h<=r;h++){var d=h/r*(2*Math.PI),f=Math.sin(d)*i,p=Math.cos(d)*i;u.push(0,0,0),u.push(f,0,p);var g=1&h?s:l;c.push(g.r,g.g,g.b),c.push(g.r,g.g,g.b)}for(var v=0;v<=a;v++)for(var m=1&v?s:l,_=i-i/a*v,y=0;y<o;y++){var b=y/o*(2*Math.PI),x=Math.sin(b)*_,w=Math.cos(b)*_;u.push(x,0,w),c.push(m.r,m.g,m.b),b=(y+1)/o*(2*Math.PI),x=Math.sin(b)*_,w=Math.cos(b)*_,u.push(x,0,w),c.push(m.r,m.g,m.b)}var k=new Yr;return k.setAttribute("position",new Nr(u,3)),k.setAttribute("color",new Nr(c,3)),(t=e.call(this,k,new kl({vertexColors:!0,toneMapped:!1}))).type="PolarGridHelper",t}return _createClass(n)}(Ol),Hd=new ti,Gd=new ti,Vd=new ti,Wd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;_classCallCheck(this,n),(a=e.call(this)).light=t,a.light.updateMatrixWorld(),a.matrix=t.matrixWorld,a.matrixAutoUpdate=!1,a.color=r,void 0===i&&(i=1);var o=new Yr;o.setAttribute("position",new Nr([-i,i,0,i,i,0,i,-i,0,-i,-i,0,-i,i,0],3));var s=new kl({fog:!1,toneMapped:!1});return a.lightPlane=new El(o,s),a.add(a.lightPlane),(o=new Yr).setAttribute("position",new Nr([0,0,0,0,0,1],3)),a.targetLine=new El(o,s),a.add(a.targetLine),a.update(),a}return _createClass(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){Hd.setFromMatrixPosition(this.light.matrixWorld),Gd.setFromMatrixPosition(this.light.target.matrixWorld),Vd.subVectors(Gd,Hd),this.lightPlane.lookAt(Gd),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Gd),this.targetLine.scale.z=Vd.length()}}]),n}(Ki),jd=new ti,Yd=new ya,Qd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;_classCallCheck(this,n);var r=new Yr,a=new kl({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],s=[],l={},u=new kr(16755200),c=new kr(16711680),h=new kr(43775),d=new kr(16777215),f=new kr(3355443);function p(t,e,n){g(t,n),g(e,n)}function g(t,e){o.push(0,0,0),s.push(e.r,e.g,e.b),void 0===l[t]&&(l[t]=[]),l[t].push(o.length/3-1)}return p("n1","n2",u),p("n2","n4",u),p("n4","n3",u),p("n3","n1",u),p("f1","f2",u),p("f2","f4",u),p("f4","f3",u),p("f3","f1",u),p("n1","f1",u),p("n2","f2",u),p("n3","f3",u),p("n4","f4",u),p("p","n1",c),p("p","n2",c),p("p","n3",c),p("p","n4",c),p("u1","u2",h),p("u2","u3",h),p("u3","u1",h),p("c","t",d),p("p","c",f),p("cn1","cn2",f),p("cn3","cn4",f),p("cf1","cf2",f),p("cf3","cf4",f),r.setAttribute("position",new Nr(o,3)),r.setAttribute("color",new Nr(s,3)),(i=e.call(this,r,a)).type="CameraHelper",i.camera=t,i.camera.updateProjectionMatrix&&i.camera.updateProjectionMatrix(),i.matrix=t.matrixWorld,i.matrixAutoUpdate=!1,i.pointMap=l,i.update(),i}return _createClass(n,[{key:"update",value:function(){var t=this.geometry,e=this.pointMap;Yd.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Jd("c",e,t,Yd,0,0,-1),Jd("t",e,t,Yd,0,0,1),Jd("n1",e,t,Yd,-1,-1,-1),Jd("n2",e,t,Yd,1,-1,-1),Jd("n3",e,t,Yd,-1,1,-1),Jd("n4",e,t,Yd,1,1,-1),Jd("f1",e,t,Yd,-1,-1,1),Jd("f2",e,t,Yd,1,-1,1),Jd("f3",e,t,Yd,-1,1,1),Jd("f4",e,t,Yd,1,1,1),Jd("u1",e,t,Yd,.7,1.1,-1),Jd("u2",e,t,Yd,-.7,1.1,-1),Jd("u3",e,t,Yd,0,2,-1),Jd("cf1",e,t,Yd,-1,0,1),Jd("cf2",e,t,Yd,1,0,1),Jd("cf3",e,t,Yd,0,-1,1),Jd("cf4",e,t,Yd,0,1,1),Jd("cn1",e,t,Yd,-1,0,-1),Jd("cn2",e,t,Yd,1,0,-1),Jd("cn3",e,t,Yd,0,-1,-1),Jd("cn4",e,t,Yd,0,1,-1),t.getAttribute("position").needsUpdate=!0}}]),n}(Ol);function Jd(t,e,n,i,r,a,o){jd.set(r,a,o).unproject(i);var s=e[t];if(void 0!==s)for(var l=n.getAttribute("position"),u=0,c=s.length;u<c;u++)l.setXYZ(s[u],jd.x,jd.y,jd.z)}var Xd,$d,Kd=new ii,tf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;_classCallCheck(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),s=new Yr;return s.setIndex(new Sr(a,1)),s.setAttribute("position",new Sr(o,3)),(i=e.call(this,s,new kl({color:r,toneMapped:!1}))).object=t,i.type="BoxHelper",i.matrixAutoUpdate=!1,i.update(),i}return _createClass(n,[{key:"update",value:function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&Kd.setFromObject(this.object),!Kd.isEmpty()){var e=Kd.min,n=Kd.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(t){return this.object=t,this.update(),this}},{key:"copy",value:function(t){return Ol.prototype.copy.call(this,t),this.object=t.object,this}}]),n}(Ol),ef=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;_classCallCheck(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Yr;return o.setIndex(new Sr(a,1)),o.setAttribute("position",new Nr([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),(i=e.call(this,o,new kl({color:r,toneMapped:!1}))).box=t,i.type="Box3Helper",i.geometry.computeBoundingSphere(),i}return _createClass(n,[{key:"updateMatrixWorld",value:function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),_get(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,t))}}]),n}(Ol),nf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;_classCallCheck(this,n);var o=a,s=new Yr;s.setAttribute("position",new Nr([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),s.computeBoundingSphere(),(i=e.call(this,s,new kl({color:o,toneMapped:!1}))).type="PlaneHelper",i.plane=t,i.size=r;var l=new Yr;return l.setAttribute("position",new Nr([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),l.computeBoundingSphere(),i.add(new da(l,new Cr({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),i}return _createClass(n,[{key:"updateMatrixWorld",value:function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?m:v,this.lookAt(this.plane.normal),_get(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,t)}}]),n}(El),rf=new ti,af=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ti(0,0,1),r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ti(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*s;return _classCallCheck(this,n),(t=e.call(this)).type="ArrowHelper",void 0===Xd&&((Xd=new Yr).setAttribute("position",new Nr([0,0,0,0,1,0],3)),($d=new Wl(0,.5,1,5,1)).translate(0,-.5,0)),t.position.copy(r),t.line=new El(Xd,new kl({color:o,toneMapped:!1})),t.line.matrixAutoUpdate=!1,t.add(t.line),t.cone=new da($d,new Cr({color:o,toneMapped:!1})),t.cone.matrixAutoUpdate=!1,t.add(t.cone),t.setDirection(i),t.setLength(a,s,l),t}return _createClass(n,[{key:"setDirection",value:function(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{rf.set(t.z,0,-t.x).normalize();var e=Math.acos(t.y);this.quaternion.setFromAxisAngle(rf,e)}}},{key:"setLength",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*t,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*e;this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()}},{key:"setColor",value:function(t){this.line.material.color.set(t),this.cone.material.color.set(t)}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}}]),n}(Ki),of=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;_classCallCheck(this,n);var r=[0,0,0,i,0,0,0,0,0,0,i,0,0,0,0,0,0,i],a=new Yr;return a.setAttribute("position",new Nr(r,3)),a.setAttribute("color",new Nr([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3)),(t=e.call(this,a,new kl({vertexColors:!0,toneMapped:!1}))).type="AxesHelper",t}return _createClass(n)}(Ol),sf=new Float32Array(1),lf=new Int32Array(sf.buffer),uf={toHalfFloat:function(t){sf[0]=t;var e=lf[0],n=e>>16&32768,i=e>>12&2047,r=e>>23&255;return r<103?n:r>142?(n|=31744,n|=(255==r?0:1)&&8388607&e):r<113?n|=((i|=2048)>>114-r)+(i>>113-r&1):(n|=r-112<<10|i>>1,n+=1&i)}},cf=Math.pow(2,8),hf=[.125,.215,.35,.446,.526,.582],df=5+hf.length,ff=(_defineProperty(i={},$e,0),_defineProperty(i,Ke,1),_defineProperty(i,en,2),_defineProperty(i,rn,3),_defineProperty(i,an,4),_defineProperty(i,on,5),_defineProperty(i,tn,6),i),pf=new Cr({side:m,depthWrite:!1,depthTest:!1}),gf=new da(new pa,pf),vf=new ch,mf=function(){for(var t=[],e=[],n=[],i=8,r=0;r<df;r++){var a=Math.pow(2,i);e.push(a);var o=1/a;r>4?o=hf[r-8+4-1]:0==r&&(o=0),n.push(o);for(var s=1/(a-1),l=-s/2,u=1+s/2,c=[l,l,u,l,u,u,l,l,u,u,l,u],h=new Float32Array(108),d=new Float32Array(72),f=new Float32Array(36),p=0;p<6;p++){var g=p%3*2/3-1,v=p>2?0:-1;h.set([g,v,0,g+2/3,v,0,g+2/3,v+1,0,g,v,0,g+2/3,v+1,0,g,v+1,0],18*p),d.set(c,12*p),f.set([p,p,p,p,p,p],6*p)}var m=new Yr;m.setAttribute("position",new Sr(h,3)),m.setAttribute("uv",new Sr(d,2)),m.setAttribute("faceIndex",new Sr(f,1)),t.push(m),i>4&&i--}return{_lodPlanes:t,_sizeLods:e,_sigmas:n}}(),_f=mf._lodPlanes,yf=mf._sizeLods,bf=mf._sigmas,xf=new kr,wf=null,kf=(1+Math.sqrt(5))/2,Cf=1/kf,Mf=[new ti(1,1,1),new ti(-1,1,1),new ti(1,1,-1),new ti(-1,1,-1),new ti(0,kf,Cf),new ti(0,kf,-Cf),new ti(Cf,0,kf),new ti(-Cf,0,kf),new ti(kf,Cf,0),new ti(-kf,Cf,0)];function Tf(t){var e=Math.max(t.r,t.g,t.b),n=Math.min(Math.max(Math.ceil(Math.log2(e)),-128),127);return t.multiplyScalar(Math.pow(2,-n)),(n+128)/255}var Sf=function(){function t(e){_classCallCheck(this,t),this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(t){var e=new Float32Array(20),n=new ti(0,1,0);return new Vu({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:ff[$e]},outputEncoding:{value:ff[$e]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:x,depthTest:!1,depthWrite:!1})}(),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}return _createClass(t,[{key:"fromScene",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;wf=this._renderer.getRenderTarget();var r=this._allocateTargets();return this._sceneToCubeUV(t,n,i,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}},{key:"fromEquirectangular",value:function(t){return this._fromTexture(t)}},{key:"fromCubemap",value:function(t){return this._fromTexture(t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapShader&&(this._cubemapShader=If(),this._compileMaterial(this._cubemapShader))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectShader&&(this._equirectShader=Pf(),this._compileMaterial(this._equirectShader))}},{key:"dispose",value:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var t=0;t<_f.length;t++)_f[t].dispose()}},{key:"_cleanup",value:function(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(wf),t.scissorTest=!1,Ef(t,0,0,t.width,t.height)}},{key:"_fromTexture",value:function(t){wf=this._renderer.getRenderTarget();var e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e}},{key:"_allocateTargets",value:function(t){var e,n={magFilter:vt,minFilter:vt,generateMipmaps:!1,type:Tt,format:Ht,encoding:(e=t,void 0===e||e.type!==Tt||e.encoding!==$e&&e.encoding!==Ke&&e.encoding!==tn?en:t.encoding),depthBuffer:!1},i=Af(n);return i.depthBuffer=!t,this._pingPongRenderTarget=Af(n),i}},{key:"_compileMaterial",value:function(t){var e=new da(_f[0],t);this._renderer.compile(e,vf)}},{key:"_sceneToCubeUV",value:function(t,e,n,i){var r=new ba(90,1,e,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],s=this._renderer,l=s.autoClear,u=s.outputEncoding,c=s.toneMapping;s.getClearColor(xf),s.toneMapping=tt,s.outputEncoding=$e,s.autoClear=!1;var h=!1,d=t.background;if(d){if(d.isColor){pf.color.copy(d).convertSRGBToLinear(),t.background=null;var f=Tf(pf.color);pf.opacity=f,h=!0}}else{pf.color.copy(xf).convertSRGBToLinear();var p=Tf(pf.color);pf.opacity=p,h=!0}for(var g=0;g<6;g++){var v=g%3;0==v?(r.up.set(0,a[g],0),r.lookAt(o[g],0,0)):1==v?(r.up.set(0,0,a[g]),r.lookAt(0,o[g],0)):(r.up.set(0,a[g],0),r.lookAt(0,0,o[g])),Ef(i,v*cf,g>2?cf:0,cf,cf),s.setRenderTarget(i),h&&s.render(gf,r),s.render(t,r)}s.toneMapping=c,s.outputEncoding=u,s.autoClear=l}},{key:"_textureToCubeUV",value:function(t,e){var n=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=If()):null==this._equirectShader&&(this._equirectShader=Pf());var i=t.isCubeTexture?this._cubemapShader:this._equirectShader,r=new da(_f[0],i),a=i.uniforms;a.envMap.value=t,t.isCubeTexture||a.texelSize.value.set(1/t.image.width,1/t.image.height),a.inputEncoding.value=ff[t.encoding],a.outputEncoding.value=ff[e.texture.encoding],Ef(e,0,0,3*cf,2*cf),n.setRenderTarget(e),n.render(r,vf)}},{key:"_applyPMREM",value:function(t){var e=this._renderer,n=e.autoClear;e.autoClear=!1;for(var i=1;i<df;i++){var r=Math.sqrt(bf[i]*bf[i]-bf[i-1]*bf[i-1]);this._blur(t,i-1,i,r,Mf[(i-1)%Mf.length])}e.autoClear=n}},{key:"_blur",value:function(t,e,n,i,r){var a=this._pingPongRenderTarget;this._halfBlur(t,a,e,n,i,"latitudinal",r),this._halfBlur(a,t,n,n,i,"longitudinal",r)}},{key:"_halfBlur",value:function(t,e,n,i,r,a,o){var s=this._renderer,l=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var u=new da(_f[i],l),c=l.uniforms,h=yf[n]-1,d=isFinite(r)?Math.PI/(2*h):2*Math.PI/39,f=r/d,p=isFinite(r)?1+Math.floor(3*f):20;p>20&&console.warn("sigmaRadians, ".concat(r,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to 20"));for(var g=[],v=0,m=0;m<20;++m){var _=m/f,y=Math.exp(-_*_/2);g.push(y),0==m?v+=y:m<p&&(v+=2*y)}for(var b=0;b<g.length;b++)g[b]=g[b]/v;c.envMap.value=t.texture,c.samples.value=p,c.weights.value=g,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o),c.dTheta.value=d,c.mipInt.value=8-n,c.inputEncoding.value=ff[t.texture.encoding],c.outputEncoding.value=ff[t.texture.encoding];var x=yf[i];Ef(e,3*Math.max(0,cf-2*x),(0===i?0:2*cf)+2*x*(i>4?i-8+4:0),3*x,2*x),s.setRenderTarget(e),s.render(u,vf)}}]),t}();function Af(t){var e=new Xn(3*cf,3*cf,t);return e.texture.mapping=ht,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Ef(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function Pf(){var t=new Hn(1,1);return new Vu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:t},inputEncoding:{value:ff[$e]},outputEncoding:{value:ff[$e]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:x,depthTest:!1,depthWrite:!1})}function If(){return new Vu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:ff[$e]},outputEncoding:{value:ff[$e]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:x,depthTest:!1,depthWrite:!1})}var Of=0,Rf=1,Lf=0,Df=1,Nf=2;function Zf(t){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),t}function Ff(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),t.isMultiMaterial=!0,t.materials=t,t.clone=function(){return t.slice()},t}function Uf(t,e){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Ul(t,e)}function Bf(t){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new il(t)}function zf(t,e){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Ul(t,e)}function qf(t){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Ll(t)}function Hf(t){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Ll(t)}function Gf(t){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Ll(t)}function Vf(t,e,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new ti(t,e,n)}function Wf(t,e){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Sr(t,e).setUsage(An)}function jf(t,e){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Ar(t,e)}function Yf(t,e){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Er(t,e)}function Qf(t,e){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Pr(t,e)}function Jf(t,e){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ir(t,e)}function Xf(t,e){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Or(t,e)}function $f(t,e){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Rr(t,e)}function Kf(t,e){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Lr(t,e)}function tp(t,e){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Nr(t,e)}function ep(t,e){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Zr(t,e)}function np(t){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new of(t)}function ip(t,e){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new tf(t,e)}function rp(t,e){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Ol(new tu(t.geometry),new kl({color:void 0!==e?e:16777215}))}function ap(t,e){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Ol(new qu(t.geometry),new kl({color:void 0!==e?e:16777215}))}function op(t){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new xc(t)}function sp(t){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new Tc(t)}function lp(t,e,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new ka(t,n)}function up(){console.error("THREE.CanvasRenderer has been removed")}function cp(){console.error("THREE.JSONLoader has been removed.")}Ac.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Ac.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Qc.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)},zd.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Ld.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},yc.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),_h.extractUrlBase(t)},yc.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Cd.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},Cd.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Cd.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},Cd.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)},ii.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},ii.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},ii.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},ii.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},ii.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)},yi.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Sa.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Sd.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},qn.random16=function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},qn.nearestPowerOfTwo=function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),qn.floorPowerOfTwo(t)},qn.nextPowerOfTwo=function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),qn.ceilPowerOfTwo(t)},Vn.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},Vn.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},Vn.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Vn.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},Vn.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Vn.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},Ai.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},Ai.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},Ai.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new ti).setFromMatrixColumn(this,3)},Ai.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},Ai.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Ai.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Ai.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Ai.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Ai.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},Ai.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Ai.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Ai.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Ai.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Ai.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Ai.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Ai.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Ai.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Ai.prototype.makeFrustum=function(t,e,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,a)},Ai.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},ir.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Kn.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Kn.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Si.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},Si.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},Si.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},pr.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},pr.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},pr.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},pr.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},pr.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)},pr.barycoordFromPoint=function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),pr.getBarycoord(t,e,n,i,r)},pr.normal=function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),pr.getNormal(t,e,n,i)},Jc.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},Jc.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Au(this,t)},Jc.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Du(this,t)},Hn.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},Hn.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},Hn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ti.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},ti.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},ti.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},ti.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},ti.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},ti.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},ti.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},ti.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},ti.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Jn.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},Jn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ki.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},Ki.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Ki.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},Ki.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Ki.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(Ki.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),da.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(da.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),Qe},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(sl.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(ml.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),fl.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ac.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),ba.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(Xc.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Sr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===An},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(An)}}}),Sr.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?An:Sn),this},Sr.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Sr.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Yr.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},Yr.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Sr(arguments[1],arguments[2])))},Yr.prototype.addDrawCall=function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},Yr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Yr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Yr.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},Yr.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(Yr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(yh.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(_d.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(Bs.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===An},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Bs.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?An:Sn),this},Bs.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Au.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},Au.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},Au.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Us.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Object.defineProperties(gd.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(vr.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new kr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=t===y}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(Yu.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(ju.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(_a.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Ds.prototype.clearTarget=function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},Ds.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},Ds.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Ds.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Ds.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Ds.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Ds.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Ds.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Ds.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Ds.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Ds.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Ds.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Ds.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Ds.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Ds.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},Ds.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Ds.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Ds.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Ds.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Ds.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Ds.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Ds.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Ds.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Ds.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Ds.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Ds.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?Ke:$e}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Ts.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Xn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Wh.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Rh).load(t,function(t){e.setBuffer(t)}),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),$h.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},xa.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},xa.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)},Wn.crossOrigin=void 0,Wn.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Sc;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},Wn.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Mc;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},Wn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Wn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var hp={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function dp(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:a}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=a)},9457:function(t,e){var n,i;void 0!==(i="function"==typeof(n=function(){"use strict";function e(t,e,n){var i=new XMLHttpRequest;i.open("GET",t),i.responseType="blob",i.onload=function(){o(i.response,e,n)},i.onerror=function(){console.error("could not download file")},i.send()}function n(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(n){}return 200<=e.status&&299>=e.status}function i(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(n){var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var r="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=r.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=r.saveAs||("object"!=typeof window||window!==r?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,a,o){var s=r.URL||r.webkitURL,l=document.createElement("a");l.download=a=a||t.name||"download",l.rel="noopener","string"==typeof t?(l.href=t,l.origin===location.origin?i(l):n(l.href)?e(t,a,o):i(l,l.target="_blank")):(l.href=s.createObjectURL(t),setTimeout(function(){s.revokeObjectURL(l.href)},4e4),setTimeout(function(){i(l)},0))}:"msSaveOrOpenBlob"in navigator?function(t,r,a){if(r=r||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,a),r);else if(n(t))e(t,r,a);else{var o=document.createElement("a");o.href=t,o.target="_blank",setTimeout(function(){i(o)})}}:function(t,n,i,o){if((o=o||open("","_blank"))&&(o.document.title=o.document.body.innerText="downloading..."),"string"==typeof t)return e(t,n,i);var s="application/octet-stream"===t.type,l=/constructor/i.test(r.HTMLElement)||r.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||s&&l||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var t=c.result;t=u?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=t:location=t,o=null},c.readAsDataURL(t)}else{var h=r.URL||r.webkitURL,d=h.createObjectURL(t);o?o.location=d:location.href=d,o=null,setTimeout(function(){h.revokeObjectURL(d)},4e4)}});r.saveAs=o.saveAs=o,t.exports=o})?n.apply(e,[]):n)&&(t.exports=i)},3710:function(t,e,n){n(2012),n(4176),n(771),t.exports=n(7698)},7698:function(t,e,n){var i=n(1704);t.exports=i,function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n=0,i=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(n){var i,r,a;for(a=0;null!=(r=n[a]);a++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(o){}e(n)}),t.widget=function(e,n,i){var r,a,o,s={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],a=t[l][e]=function(t,e){if(!this._createWidget)return new a(t,e);arguments.length&&this._createWidget(t,e)},t.extend(a,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(o=new n).options=t.widget.extend({},o.options),t.each(i,function(e,i){s[e]=t.isFunction(i)?function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,a=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=a,e}}():i}),a.prototype=t.widget.extend(o,{widgetEventPrefix:r&&o.widgetEventPrefix||e},s,{constructor:a,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete r._childConstructors):n._childConstructors.push(a),t.widget.bridge(e,a),a},t.widget.extend=function(e){for(var n,r,a=i.call(arguments,1),o=0,s=a.length;o<s;o++)for(n in a[o])r=a[o][n],a[o].hasOwnProperty(n)&&void 0!==r&&(e[n]=t.isPlainObject(r)?t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(a){var o="string"==typeof a,s=i.call(arguments,1),l=this;return o?this.length||"instance"!==a?this.each(function(){var n,i=t.data(this,r);return"instance"===a?(l=i,!1):i?t.isFunction(i[a])&&"_"!==a.charAt(0)?(n=i[a].apply(i,s))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+a+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+a+"'")}):l=void 0:(s.length&&(a=t.widget.extend.apply(null,[a].concat(s))),this.each(function(){var e=t.data(this,r);e?(e.option(a||{}),e._init&&e._init()):t.data(this,r,new n(a,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,a,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},i=e.split("."),e=i.shift(),i.length){for(r=o[e]=t.widget.extend({},this.options[e]),a=0;a<i.length-1;a++)r[i[a]]=r[i[a]]||{},r=r[i[a]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=n}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,a){var o,s;for(s=0;s<r.length;s++)o=i.classesElementLookup[r[s]]||t(),o=t(e.add?t.unique(o.get().concat(e.element.get())):o.not(e.element).get()),i.classesElementLookup[r[s]]=o,n.push(r[s]),a&&e.classes[r[s]]&&n.push(e.classes[r[s]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))})},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){var r="string"==typeof t||null===t,a={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i="boolean"==typeof i?i:n};return a.element.toggleClass(this._classes(a),i),this},_on:function(e,n,i){var r,a=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,o){function s(){if(e||!0!==a.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?a[o]:o).apply(a,arguments)}"string"!=typeof o&&(s.guid=o.guid=o.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+a.eventNamespace,c=l[2];c?r.on(u,c,s):n.on(u,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,a,o=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],a=n.originalEvent)for(r in a)r in n||(n[r]=a[r]);return this.element.trigger(n,i),!(t.isFunction(o)&&!1===o.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,a){"string"==typeof r&&(r={effect:r});var o,s=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),o=!t.isEmptyObject(r),r.complete=a,r.delay&&i.delay(r.delay),o&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,a):i.queue(function(n){t(this)[e](),a&&a.call(i[0]),n()})}}),function(){var e,n=Math.max,i=Math.abs,r=/left|center|right/,a=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,u=t.fn.position;function c(t,e,n){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?n/100:1)]}function h(e,n){return parseInt(t.css(e,n),10)||0}function d(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var n,i,r=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=r.children()[0];return t("body").append(r),n=a.offsetWidth,r.css("overflow","scroll"),n===(i=a.offsetWidth)&&(i=r[0].clientWidth),r.remove(),e=n-i},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:i||r?{left:0,top:0}:t(e).offset(),scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return u.apply(this,arguments);e=t.extend({},e);var l,f,p,g,v,m,_=t(e.of),y=t.position.getWithinInfo(e.within),b=t.position.getScrollInfo(y),x=(e.collision||"flip").split(" "),w={};return m=d(_),_[0].preventDefault&&(e.at="left top"),f=m.width,p=m.height,v=t.extend({},g=m.offset),t.each(["my","at"],function(){var t,n,i=(e[this]||"").split(" ");1===i.length&&(i=r.test(i[0])?i.concat(["center"]):a.test(i[0])?["center"].concat(i):["center","center"]),i[0]=r.test(i[0])?i[0]:"center",i[1]=a.test(i[1])?i[1]:"center",t=o.exec(i[0]),n=o.exec(i[1]),w[this]=[t?t[0]:0,n?n[0]:0],e[this]=[s.exec(i[0])[0],s.exec(i[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=f:"center"===e.at[0]&&(v.left+=f/2),"bottom"===e.at[1]?v.top+=p:"center"===e.at[1]&&(v.top+=p/2),l=c(w.at,f,p),v.left+=l[0],v.top+=l[1],this.each(function(){var r,a,o=t(this),s=o.outerWidth(),u=o.outerHeight(),d=h(this,"marginLeft"),m=h(this,"marginTop"),k=s+d+h(this,"marginRight")+b.width,C=u+m+h(this,"marginBottom")+b.height,M=t.extend({},v),T=c(w.my,o.outerWidth(),o.outerHeight());"right"===e.my[0]?M.left-=s:"center"===e.my[0]&&(M.left-=s/2),"bottom"===e.my[1]?M.top-=u:"center"===e.my[1]&&(M.top-=u/2),M.left+=T[0],M.top+=T[1],r={marginLeft:d,marginTop:m},t.each(["left","top"],function(n,i){t.ui.position[x[n]]&&t.ui.position[x[n]][i](M,{targetWidth:f,targetHeight:p,elemWidth:s,elemHeight:u,collisionPosition:r,collisionWidth:k,collisionHeight:C,offset:[l[0]+T[0],l[1]+T[1]],my:e.my,at:e.at,within:y,elem:o})}),e.using&&(a=function(t){var r=g.left-M.left,a=r+f-s,l=g.top-M.top,c=l+p-u,h={target:{element:_,left:g.left,top:g.top,width:f,height:p},element:{element:o,left:M.left,top:M.top,width:s,height:u},horizontal:a<0?"left":r>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};f<s&&i(r+a)<f&&(h.horizontal="center"),p<u&&i(l+c)<p&&(h.vertical="middle"),h.important=n(i(r),i(a))>n(i(l),i(c))?"horizontal":"vertical",e.using.call(this,t,h)}),o.offset(t.extend(M,{using:a}))})},t.ui.position={fit:{left:function(t,e){var i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,a=i.width,o=t.left-e.collisionPosition.marginLeft,s=r-o,l=o+e.collisionWidth-a-r;e.collisionWidth>a?s>0&&l<=0?t.left+=s-(t.left+s+e.collisionWidth-a-r):t.left=l>0&&s<=0?r:s>l?r+a-e.collisionWidth:r:s>0?t.left+=s:l>0?t.left-=l:t.left=n(t.left-o,t.left)},top:function(t,e){var i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,a=e.within.height,o=t.top-e.collisionPosition.marginTop,s=r-o,l=o+e.collisionHeight-a-r;e.collisionHeight>a?s>0&&l<=0?t.top+=s-(t.top+s+e.collisionHeight-a-r):t.top=l>0&&s<=0?r:s>l?r+a-e.collisionHeight:r:s>0?t.top+=s:l>0?t.top-=l:t.top=n(t.top-o,t.top)}},flip:{left:function(t,e){var n,r,a=e.within,o=a.width,s=a.isWindow?a.scrollLeft:a.offset.left,l=t.left-e.collisionPosition.marginLeft,u=l-s,c=l+e.collisionWidth-o-s,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,d="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];u<0?((n=t.left+h+d+f+e.collisionWidth-o-(a.offset.left+a.scrollLeft))<0||n<i(u))&&(t.left+=h+d+f):c>0&&((r=t.left-e.collisionPosition.marginLeft+h+d+f-s)>0||i(r)<c)&&(t.left+=h+d+f)},top:function(t,e){var n,r,a=e.within,o=a.height,s=a.isWindow?a.scrollTop:a.offset.top,l=t.top-e.collisionPosition.marginTop,u=l-s,c=l+e.collisionHeight-o-s,h="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,d="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];u<0?((r=t.top+h+d+f+e.collisionHeight-o-(a.offset.top+a.scrollTop))<0||r<i(u))&&(t.top+=h+d+f):c>0&&((n=t.top-e.collisionPosition.marginTop+h+d+f-s)>0||i(n)<c)&&(t.top+=h+d+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}(),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),t.ui.focusable=function(e,n){var i,r,a,o,s,l=e.nodeName.toLowerCase();return"area"===l?(r=(i=e.parentNode).name,!(!e.href||!r||"map"!==i.nodeName.toLowerCase())&&(a=t("img[usemap='#"+r+"']")).length>0&&a.is(":visible")):(/^(input|select|textarea|button|object)$/.test(l)?(o=!e.disabled)&&(s=t(e).closest("fieldset")[0])&&(o=!s.disabled):o="a"===l&&e.href||n,o&&t(e).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}}),t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}},"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function o(e,n,r,a){return t.each(i,function(){n-=parseFloat(t.css(e,"padding"+this))||0,r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),a&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}t.fn["inner"+n]=function(e){return void 0===e?a["inner"+n].call(this):this.each(function(){t(this).css(r,o(this,e)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(r,o(this,e,!0,i)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,n,i,r,a;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),(i=this.attr("id"))&&(a=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(a.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&a.length?a:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var r=!1;t(document).on("mouseup",function(){r=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!r){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,a=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!a&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),r=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,r=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,a=t.ui[e].prototype;for(r in i)a.plugins[r]=a.plugins[r]||[],a.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,a=t.plugins[e];if(a&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<a.length;r++)t.options[a[r][0]]&&a[r][1].apply(t.element,n)}},t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")},t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(e),!this.handle)||(this._blurActiveElement(e),this._blockFrames(!0===n.iframeFix?"iframe":n.iframeFix),0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==n._trigger("stop",e)&&n._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,a=this.document[0];this.relativeContainer=null,r.containment?"window"!==r.containment?"document"!==r.containment?r.containment.constructor!==Array?("parent"===r.containment&&(r.containment=this.helper[0].parentNode),(i=(n=t(r.containment))[0])&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n)):this.containment=r.containment:this.containment=[0,0,t(a).width()-this.helperProportions.width-this.margins.left,(t(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,a,o=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return(!s||!this.offset.scroll)&&(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),o.grid&&(r=o.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-o.grid[1]:r+o.grid[1]:r,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=n?a-this.offset.click.left>=n[0]||a-this.offset.click.left>n[2]?a:a-this.offset.click.left>=n[0]?a-o.grid[0]:a+o.grid[0]:a),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,a=this;a.positionAbs=i.positionAbs,a.helperProportions=i.helperProportions,a.offset.click=i.offset.click,a._intersectsWith(a.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&t.contains(a.element[0],this.element[0])&&(r=!1),r})),r?(a.isOver||(a.isOver=1,i._parent=n.helper.parent(),a.currentItem=n.helper.appendTo(a.element).data("ui-sortable-item",!0),a.options._helper=a.options.helper,a.options.helper=function(){return n.helper[0]},e.target=a.currentItem[0],a._mouseCapture(e,!0),a._mouseStart(e,!0,!0),a.offset.click.top=i.offset.click.top,a.offset.click.left=i.offset.click.left,a.offset.parent.left-=i.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=i.offset.parent.top-a.offset.parent.top,i._trigger("toSortable",e),i.dropped=a.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,a.fromOutside=i),a.currentItem&&(a._mouseDrag(e),n.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger("out",e,a._uiHash(a)),a._mouseStop(e,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),a=i.options;r.css("cursor")&&(a._cursor=r.css("cursor")),r.css("cursor",a.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),a=i.options;r.css("opacity")&&(a._opacity=r.css("opacity")),r.css("opacity",a.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,a=!1,o=i.scrollParentNotHidden[0],s=i.document[0];o!==s&&"HTML"!==o.tagName?((!r.axis||"x"!==r.axis)&&(i.overflowOffset.top+o.offsetHeight-e.pageY<r.scrollSensitivity?o.scrollTop=a=o.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-r.scrollSpeed)),(!r.axis||"y"!==r.axis)&&(i.overflowOffset.left+o.offsetWidth-e.pageX<r.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-r.scrollSpeed))):((!r.axis||"x"!==r.axis)&&(e.pageY-t(s).scrollTop()<r.scrollSensitivity?a=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(a=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),(!r.axis||"y"!==r.axis)&&(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?a=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(a=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),!1!==a&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,a,o,s,l,u,c,h,d,f,p=i.options,g=p.snapTolerance,v=n.offset.left,m=v+i.helperProportions.width,_=n.offset.top,y=_+i.helperProportions.height;for(d=i.snapElements.length-1;d>=0;d--)u=(l=i.snapElements[d].left-i.margins.left)+i.snapElements[d].width,h=(c=i.snapElements[d].top-i.margins.top)+i.snapElements[d].height,m<l-g||v>u+g||y<c-g||_>h+g||!t.contains(i.snapElements[d].item.ownerDocument,i.snapElements[d].item)?(i.snapElements[d].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(r=Math.abs(c-y)<=g,a=Math.abs(h-_)<=g,o=Math.abs(l-m)<=g,s=Math.abs(u-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:h,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),f=r||a||o||s,"outer"!==p.snapMode&&(r=Math.abs(c-_)<=g,a=Math.abs(h-y)<=g,o=Math.abs(l-v)<=g,s=Math.abs(u-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),a&&(n.position.top=i._convertPositionTo("relative",{top:h-i.helperProportions.height,left:0}).top),o&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[d].snapping&&(r||a||o||s||f)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[d].item})),i.snapElements[d].snapping=r||a||o||s||f)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,a=t.makeArray(t(i.options.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});!a.length||(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),a=i.options;r.css("zIndex")&&(a._zIndex=r.css("zIndex")),r.css("zIndex",a.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}}),t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){this._splice(t.ui.ddmanager.droppables[this.options.scope])},_setOption:function(e,n){"accept"===e?this.accept=t.isFunction(n)?n:function(t){return t.is(n)}:"scope"===e&&(this._splice(t.ui.ddmanager.droppables[this.options.scope]),this._addToManager(n)),this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;!n||(n.currentItem||n.element)[0]===this.element[0]||this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;!n||(n.currentItem||n.element)[0]===this.element[0]||this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0]||(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&a(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),r))&&!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var a=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var a=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,s=a+e.helperProportions.width,l=o+e.helperProportions.height,u=n.offset.left,c=n.offset.top,h=u+n.proportions().width,d=c+n.proportions().height;switch(i){case"fit":return u<=a&&s<=h&&c<=o&&l<=d;case"intersect":return u<a+e.helperProportions.width/2&&s-e.helperProportions.width/2<h&&c<o+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,u,n.proportions().width);case"touch":return(o>=c&&o<=d||l>=c&&l<=d||o<c&&l>d)&&(a>=u&&a<=h||s>=u&&s<=h||a<u&&s>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,n){var i,r,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<a.length;i++)if(!(a[i].options.disabled||e&&!a[i].accept.call(a[i].element[0],e.currentItem||e.element))){for(r=0;r<s.length;r++)if(s[r]===a[i].element[0]){a[i].proportions().height=0;continue t}a[i].visible="none"!==a[i].element.css("display"),a[i].visible&&("mousedown"===o&&a[i]._activate.call(a[i],n),a[i].offset=a[i].element.offset(),a[i].proportions({width:a[i].element[0].offsetWidth,height:a[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){!this.options||(!this.options.disabled&&this.visible&&a(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,s=a(e,this,this.options.tolerance,n),l=!s&&this.isover?"isout":s&&!this.isover?"isover":null;!l||(this.options.greedy&&(r=this.options.scope,(o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r})).length&&((i=t(o[0]).droppable("instance")).greedyChild="isover"===l)),i&&"isover"===l&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,n),i&&"isout"===l&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),this.originalElement.css({position:(e=this.element).css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,a,o=this.options,s=this;if(this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)r="ui-resizable-"+(e=t.trim(i[n])),a=t("<div>"),this._addClass(a,"ui-resizable-handle "+r),a.css({zIndex:o.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(a);this._renderAxis=function(e){var n,i,r,a;for(n in e=e||this.element,this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),a=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=a&&a[1]?a[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)((i=t(this.handles[n])[0])===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),a.containment&&(n+=t(a.containment).scrollLeft()||0,i+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,a=e.pageX-r.left||0,o=e.pageY-r.top||0,s=this._change[this.axis];return this._updatePrevProperties(),s&&(n=s.apply(this,[e,a,o]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var n,i,r,a,o,s,l,u=this.options,c=this;return this._helper&&(r=(i=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,a=i?0:c.sizeDiff.width,o={width:c.helper.width()-a,height:c.helper.height()-r},s=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(o,{top:l,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(i=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,r=a.maxWidth/this.aspectRatio,(e=a.minHeight*this.aspectRatio)>a.minWidth&&(a.minWidth=e),i>a.minHeight&&(a.minHeight=i),n<a.maxWidth&&(a.maxWidth=n),r<a.maxHeight&&(a.maxHeight=r)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return a&&(t.width=e.minWidth),o&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),a&&u&&(t.left=s-e.minWidth),i&&u&&(t.left=s-e.maxWidth),o&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?!t.width&&!t.height&&!t.top&&t.left&&(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.options;this.elementOffset=this.element.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(t,e,n){return{top:this.originalPosition.top+n,height:this.originalSize.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,a=r.length&&/textarea/i.test(r[0].nodeName),o=a&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s={width:n.size.width-(a?0:n.sizeDiff.width),height:n.size.height-o},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,u=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(s,u&&l?{top:u,left:l}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,a,o,s,l=t(this).resizable("instance"),u=l.element,c=l.options.containment,h=c instanceof t?c.get(0):/parent/.test(c)?u.parent().get(0):c;!h||(l.containerElement=t(h),/document/.test(c)||c===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,a=l.containerSize.width,o=l._hasScroll(h,"left")?h.scrollWidth:a,s=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:o,height:s}))},resize:function(e){var n,i,r,a,o=t(this).resizable("instance"),s=o.options,l=o.containerOffset,u=o.position,c=o._aspectRatio||e.shiftKey,h={top:0,left:0},d=o.containerElement,f=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-h.left),c&&(o.size.height=o.size.width/o.aspectRatio,f=!1),o.position.left=s.helper?l.left:0),u.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,f=!1),o.position.top=o._helper?l.top:0),r=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),r&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),n=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-h.left:o.offset.left-l.left)),i=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-h.top:o.offset.top-l.top)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,c&&(o.size.height=o.size.width/o.aspectRatio,f=!1)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,c&&(o.size.width=o.size.height*o.aspectRatio,f=!1)),f||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,a=e.containerElement,o=t(e.helper),s=o.offset(),l=o.outerWidth()-e.sizeDiff.width,u=o.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(a.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(a.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance");t(e.options.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.originalSize,a=i.originalPosition,o={height:i.size.height-r.height||0,width:i.size.width-r.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};t(i.options.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},a=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var n=(i[e]||0)+(o[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,a=n.originalSize,o=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,h=Math.round((r.width-a.width)/u)*u,d=Math.round((r.height-a.height)/c)*c,f=a.width+h,p=a.height+d,g=i.maxWidth&&i.maxWidth<f,v=i.maxHeight&&i.maxHeight<p,m=i.minWidth&&i.minWidth>f,_=i.minHeight&&i.minHeight>p;i.grid=l,m&&(f+=u),_&&(p+=c),g&&(f-=u),v&&(p-=c),/^(se|s|e)$/.test(s)?(n.size.width=f,n.size.height=p):/^(ne)$/.test(s)?(n.size.width=f,n.size.height=p,n.position.top=o.top-d):/^(sw)$/.test(s)?(n.size.width=f,n.size.height=p,n.position.left=o.left-h):((p-c<=0||f-u<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=o.top-d):(n.size.height=p=c-e.height,n.position.top=o.top+a.height-p),f-u>0?(n.size.width=f,n.position.left=o.left-h):(n.size.width=f=u-e.width,n.position.left=o.left+a.width-f))}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),!this.options.disabled&&(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,!e.metaKey&&!e.ctrlKey&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,a=this.opos[0],o=this.opos[1],s=e.pageX,l=e.pageY;return a>s&&(n=s,s=a,a=n),o>l&&(n=l,l=o,o=n),this.helper.css({left:a,top:o,width:s-a,height:l-o}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),u=!1,c={};!n||n.element===i.element[0]||(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?u=!(c.left>s||c.right<a||c.top>l||c.bottom<o):"fit"===r.tolerance&&(u=c.left>a&&c.right<s&&c.top>o&&c.bottom<l),u?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&!e.metaKey&&!e.ctrlKey&&!n.startselected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,a=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,a.widgetName+"-item")===a)return i=t(this),!1}),t.data(e.target,a.widgetName+"-item")===a&&(i=t(e.target)),!i)||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0))},_mouseStart:function(e,n,i){var r,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(a=this.document.find("body"),this.storedCursor=a.css("cursor"),a.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(a)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,a,o=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==s&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),(!this.options.axis||"y"!==this.options.axis)&&(this.helper[0].style.left=this.position.left+"px"),(!this.options.axis||"x"!==this.options.axis)&&(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(a=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===a?"next":"prev"]()[0]!==r&&!t.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!t.contains(this.element[0],r))){if(this.direction=1===a?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),a=this.options.axis,o={};(!a||"x"===a)&&(o.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),(!a||"y"===a)&&(o.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=this.positionAbs.top,i=t.left,r=i+t.width,a=t.top,o=a+t.height,s=this.offset.click.top,l=this.offset.click.left;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?("x"===this.options.axis||n+s>a&&n+s<o)&&("y"===this.options.axis||e+l>i&&e+l<r):i<e+this.helperProportions.width/2&&e+this.helperProportions.width-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&n+this.helperProportions.height-this.helperProportions.height/2<o},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!i||!r)&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,a,o=[],s=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(i=(r=t(l[n],this.document[0])).length-1;i>=0;i--)(a=t.data(r[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&s.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);function u(){o.push(this)}for(s.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(u);return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,a,o,s,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(r=t(d[n],this.document[0])).length-1;i>=0;i--)(a=t.data(r[i],this.widgetFullName))&&a!==this&&!a.options.disabled&&(h.push([t.isFunction(a.options.items)?a.options.items.call(a.element[0],e,{item:this.currentItem}):t(a.options.items,a.element),a]),this.containers.push(a));for(n=h.length-1;n>=0;n--)for(o=h[n][1],i=0,u=(s=h[n][0]).length;i<u;i++)(l=t(s[i])).data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,a;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)((i=this.items[n]).instance===this.currentContainer||!this.currentContainer||i.item[0]===this.currentItem[0])&&(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),a=r.offset(),i.left=a.left,i.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)a=this.containers[n].element.offset(),this.containers[n].containerCache.left=a.left,this.containers[n].containerCache.top=a.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;(!i.placeholder||i.placeholder.constructor===String)&&(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,a,o,s,l,u,c,h,d=null,f=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],f=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[f].containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1);else{for(r=1e4,a=null,o=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",s=c?"width":"height",h=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)!t.contains(this.containers[f].element[0],this.items[i].item[0])||this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[o],u=!1,e[h]-l>this.items[i][s]/2&&(u=!0),Math.abs(e[h]-l)<r&&(r=Math.abs(e[h]-l),a=this.items[i],this.direction=u?"up":"down"));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[f])return void(this.currentContainer.containerCache.over||(this.containers[f]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(e,a,null,!0):this._rearrange(e,null,this.containers[f].element,!0),this._trigger("change",e,this._uiHash()),this.containers[f]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[f],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[f]._trigger("over",e,this._uiHash(this)),this.containers[f].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,a=e.pageX,o=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"===this.cssPosition&&!(this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/r.grid[1])*r.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0],a=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!e&&i.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(i.push(function(t){this._trigger("remove",t,this._uiHash())}),i.push((function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}).call(this,this.currentContainer)),i.push((function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}).call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),!e.collapsible&&(!1===e.active||null==e.active)&&(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"===t&&!e&&!1===this.options.active&&this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),a=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:a=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:a=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:a=this.headers[0];break;case n.END:a=this.headers[i-1]}a&&(t(e.target).attr("tabIndex",-1),t(a).attr("tabIndex",0),t(a).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"===i||"fixed"===i||(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&this._eventHandler({target:n=n||this.active[0],currentTarget:n,preventDefault:t.noop})},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,a=this.active,o=t(e.currentTarget),s=o[0]===a[0],l=s&&r.collapsible,u=l?t():o.next(),c=a.next(),h={oldHeader:a,oldPanel:c,newHeader:l?t():o,newPanel:u};e.preventDefault(),(!s||r.collapsible)&&!1!==this._trigger("beforeActivate",e,h)&&(r.active=!l&&this.headers.index(o),this.active=s?t():o,this._toggle(h),this._removeClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=a.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),s||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=o.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,a,o=this,s=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},h=u&&c.down||c,d=function(){o._toggleComplete(n)};return"number"==typeof h&&(a=h),"string"==typeof h&&(r=h),r=r||h.easing||c.easing,a=a||h.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:a,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:a,easing:r,complete:d,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==o.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,a,r,d):t.animate(this.showProps,a,r,d)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,a,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,i=this.previousFilter||"",a=!1,r=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),r===i?a=!0:r=i+r,n=this._filterMenuItems(r),(n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n).length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,a=this,o=this.options.icons.submenu,s=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),n=s.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(i,"ui-menu-icon","ui-icon "+o),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(n,"ui-menu","ui-widget ui-widget-content ui-front"),(e=s.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),r=(i=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,"ui-menu-item")._addClass(r,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,a,o,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),s=e.outerHeight(),r<0?this.activeMenu.scrollTop(a+r):r+s>o&&this.activeMenu.scrollTop(a+r-o+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),(!i||!i.length||!this.active)&&(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var n,i,r;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(n=t(this)).offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),a="textarea"===r,o="input"===r;this.isMultiLine=a||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var a=t.ui.keyCode;switch(r.keyCode){case a.PAGE_UP:e=!0,this._move("previousPage",r);break;case a.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case a.UP:e=!0,this._keyEvent("previous",r);break;case a.DOWN:e=!0,this._keyEvent("next",r);break;case a.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case a.TAB:this.menu.active&&this.menu.select(r);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){if(i)return i=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),(i=n.item.attr("aria-label")||r.value)&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible");(!e||e&&!n&&!(t.altKey||t.ctrlKey||t.metaKey||t.shiftKey))&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),!this.options.disabled&&!this.cancelSearch&&(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});var o,s=/ui-corner-([a-z]){2,6}/g;function l(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=u(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function u(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,c)}function c(){t.datepicker._isDisabledDatepicker(o.inline?o.dpDiv.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function h(e,n){for(var i in t.extend(e,n),n)null==n[i]&&(e[i]=n[i]);return e}function d(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var a,o={};if(r){if("controlgroupLabel"===i)return(a=e.element.find(r)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(a,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(a.get()));!t.fn[i]||(o=e["_"+i+"Options"]?e["_"+i+"Options"]("middle"):{classes:{}},e.element.find(r).each(function(){var r=t(this),a=r[i]("instance"),s=t.widget.extend({},o);if("button"!==i||!r.parent(".ui-spinner").length){a||(a=r[i]()[i]("instance")),a&&(s.classes=e._resolveClassesValues(s.classes,a)),r[i](s);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",a||r[i]("instance")),n.push(l[0])}}))}}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this).data("ui-controlgroup-data");n&&n[e]&&n[e]()})},_updateCornerClass:function(t,e){var n=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,n)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(r){var a=n.options.classes[r]||"";a=t.trim(a.replace(s,"")),i[r]=(a+" "+e[r]).replace(/\s+/g," ")}),i},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var a=n["_"+r.widgetName+"Options"](1===e.length?"only":i);a.classes=n._resolveClassesValues(a.classes,r),r.element[r.widgetName](a)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}}),t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,("input"!==e||!/radio|checkbox/.test(this.type))&&t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,n="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(n):t(n).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),!this.options.showLabel&&!this.title&&this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,a="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),a?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){!(void 0===t.showLabel?this.options.showLabel:t.showLabel)&&!(void 0===t.icon?this.options.icon:t.icon)&&(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(l.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return h(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,a;r="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(a=this._newInst(t(e),r)).settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,a):r&&this._inlineDatepicker(e,a)},_newInst:function(e,n){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?u(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),!i.hasClass(this.markerClassName)&&(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,a,o=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),o&&(n.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[s?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),("focus"===(i=this._get(n,"showOn"))||"both"===i)&&e.on("focus",this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),a=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:a,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(a?t("<img/>").attr({src:a,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():(t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]&&t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,a=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(a.setMonth((e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i})(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),t.input.attr("size",this._formatDate(t,a).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,a){var o,s,l,u,c=this._dialogInst;return c||(this.uuid+=1,this._dialogInput=t("<input type='text' id='dp"+this.uuid+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(c=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",c)),h(c.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(c,n):n,this._dialogInput.val(n),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(o=document.documentElement.clientWidth,s=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[o/2-100+l,s/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),c.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",c),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");!i.hasClass(this.markerClassName)||(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),o===r&&(o=null))},_enableDatepicker:function(e){var n,i,r=t(e),a=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!1,a.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),a=t.data(e,"datepicker");!r.hasClass(this.markerClassName)||("input"===(n=e.nodeName.toLowerCase())?(e.disabled=!0,a.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&((i=r.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,a,o,s,l=this._getInst(e);if(2===arguments.length&&"string"==typeof n)return"defaults"===n?t.extend({},t.datepicker._defaults):l?"all"===n?t.extend({},l.settings):this._get(l,n):null;r=n||{},"string"==typeof n&&((r={})[n]=i),l&&(this._curInst===l&&this._hideDatepicker(),a=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(l,"min"),s=this._getMinMaxDate(l,"max"),h(l.settings,r),null!==o&&void 0!==r.dateFormat&&void 0===r.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==s&&void 0!==r.dateFormat&&void 0===r.maxDate&&(l.settings.maxDate=this._formatDate(l,s)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,a),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,a=t.datepicker._getInst(e.target),o=!0,s=a.dpDiv.is(".ui-datepicker-rtl");if(a._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return(r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",a.dpDiv))[0]&&t.datepicker._selectDay(e.target,a.selectedMonth,a.selectedYear,r[0]),(n=t.datepicker._get(a,"onSelect"))?(i=t.datepicker._formatDate(a),n.apply(a.input?a.input[0]:null,[i,a])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(a,"stepBigMonths"):-t.datepicker._get(a,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(a,"stepBigMonths"):+t.datepicker._get(a,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n))&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(i){}return!0},_showDatepicker:function(e){var n,i,r,a,o,s,l;"input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e||(n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(r=(i=t.datepicker._get(n,"beforeShow"))?i.apply(e,[e,n]):{})&&(h(n.settings,r),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return!(a|="fixed"===t(this).css("position"))}),o={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),o=t.datepicker._checkOffset(n,o,a),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),n.inline||(s=t.datepicker._get(n,"showAnim"),l=t.datepicker._get(n,"duration"),n.dpDiv.css("z-index",function(t){for(var e,n;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[s]?n.dpDiv.show(s,t.datepicker._get(n,"showOptions"),l):n.dpDiv[s||"show"](s?l:null),t.datepicker._shouldFocusInput(n)&&n.input.trigger("focus"),t.datepicker._curInst=n)))},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],a=e.dpDiv.find("."+this._dayOverClass+" a");a.length>0&&c.apply(a.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",17*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),a=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-o:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+a>u&&u>a?Math.abs(a+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return[(n=t(e).offset()).left,n.top]},_hideDatepicker:function(e){var n,i,r,a,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(o,"showAnim"),i=this._get(o,"duration"),r=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[n]||t.effects[n])?o.dpDiv.hide(n,t.datepicker._get(o,"showOptions"),i,r):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,(a=this._get(o,"onClose"))&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),a=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(a,n+("M"===i?this._get(a,"showCurrentAtPos"):0),i),this._updateDatepicker(a))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),a=this._getInst(r[0]);a["selected"+("M"===i?"Month":"Year")]=a["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(r)},_selectDay:function(e,n,i,r){var a,o=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((a=this._getInst(o[0])).selectedDay=a.currentDay=t("a",r).html(),a.selectedMonth=a.currentMonth=n,a.selectedYear=a.currentYear=i,this._selectDate(e,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),a=this._getInst(r[0]);n=null!=n?n:this._formatDate(a),a.input&&a.input.val(n),this._updateAlternate(a),(i=this._get(a,"onSelect"))?i.apply(a.input?a.input[0]:null,[n,a]):a.input&&a.input.trigger("change"),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],"object"!=typeof a.input[0]&&a.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,a=this._get(e,"altField");a&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(a).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var r,a,o,s,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,d=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,m=-1,_=-1,y=!1,b=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},x=function(t){var e=b(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r=new RegExp("^\\d{"+("y"===t?i:1)+","+i+"}"),a=n.substring(l).match(r);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},w=function(e,i,r){var a=-1,o=t.map(b(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var i=e[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return a=e[0],l+=i.length,!1}),-1!==a)return a+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(y)"'"!==e.charAt(r)||b("'")?k():y=!1;else switch(e.charAt(r)){case"d":m=x("d");break;case"D":w("D",h,d);break;case"o":_=x("o");break;case"m":v=x("m");break;case"M":v=w("M",f,p);break;case"y":g=x("y");break;case"@":g=(s=new Date(x("@"))).getFullYear(),v=s.getMonth()+1,m=s.getDate();break;case"!":g=(s=new Date((x("!")-this._ticksTo1970)/1e4)).getFullYear(),v=s.getMonth()+1,m=s.getDate();break;case"'":b("'")?k():y=!0;break;default:k()}if(l<n.length&&(o=n.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),_>-1)for(v=1,m=_;!(m<=(a=this._getDaysInMonth(g,v-1)));)v++,m-=a;if((s=this._daylightSavingAdjust(new Date(g,v-1,m))).getFullYear()!==g||s.getMonth()+1!==v||s.getDate()!==m)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,a=(n?n.dayNames:null)||this._defaults.dayNames,o=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},h="",d=!1;if(e)for(i=0;i<t.length;i++)if(d)"'"!==t.charAt(i)||l("'")?h+=t.charAt(i):d=!1;else switch(t.charAt(i)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),r,a);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),o,s);break;case"y":h+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(i)}return h},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),a=r,o=this._getFormatConfig(t);try{a=this.parseDate(n,i,o)||r}catch(s){i=e?"":i}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=i?a.getDate():0,t.currentMonth=i?a.getMonth():0,t.currentYear=i?a.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r,a,o=null==n||""===n?i:"string"==typeof n?function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(u){}for(var i=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=i.getFullYear(),a=i.getMonth(),o=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(r,a));break;case"y":case"Y":r+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(r,a))}l=s.exec(n)}return new Date(r,a,o)}(n):"number"==typeof n?isNaN(n)?i:(r=n,(a=new Date).setDate(a.getDate()+r),a):new Date(n.getTime());return(o=o&&"Invalid Date"===o.toString()?i:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,a=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),(r!==t.selectedMonth||a!==t.selectedYear)&&!n&&this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,a,o,s,l,u,c,h,d,f,p,g,v,m,_,y,b,x,w,k,C,M,T,S,A,E,P,I,O,R,L,D,N,Z,F,U,B=new Date,z=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),q=this._get(t,"isRTL"),H=this._get(t,"showButtonPanel"),G=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),W=this._getNumberOfMonths(t),j=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),Q=1!==W[0]||1!==W[1],J=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),$=this._getMinMaxDate(t,"max"),K=t.drawMonth-j,tt=t.drawYear;if(K<0&&(K+=12,tt--),$)for(e=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-W[0]*W[1]+1,$.getDate())),e=X&&e<X?X:e;this._daylightSavingAdjust(new Date(tt,K,1))>e;)--K<0&&(K=11,tt--);for(t.drawMonth=K,t.drawYear=tt,n=this._get(t,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,K-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,K)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>":G?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=V?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,K+Y,1)),this._getFormatConfig(t)):r,a=this._canAdjustMonth(t,1,tt,K)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>":G?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(q?"w":"e")+"'>"+r+"</span></a>",o=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?J:z,o=V?this.formatDate(o,s,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=H?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(q?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(q?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),f=this._get(t,"dayNamesMin"),p=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),v=this._get(t,"beforeShowDay"),m=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),y=this._getDefaultDate(t),b="",w=0;w<W[0];w++){for(k="",this.maxRows=4,C=0;C<W[1];C++){if(M=this._daylightSavingAdjust(new Date(tt,K,t.selectedDay)),T=" ui-corner-all",S="",Q){if(S+="<div class='ui-datepicker-group",W[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",T=" ui-corner-"+(q?"right":"left");break;case W[1]-1:S+=" ui-datepicker-group-last",T=" ui-corner-"+(q?"left":"right");break;default:S+=" ui-datepicker-group-middle",T=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===w?q?a:i:"")+(/all|right/.test(T)&&0===w?q?i:a:"")+this._generateMonthYearHeader(t,K,tt,X,$,w>0||C>0,p,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",x=0;x<7;x++)A+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[E=(x+c)%7]+"'>"+f[E]+"</span></th>";for(S+=A+"</tr></thead><tbody>",P=this._getDaysInMonth(tt,K),tt===t.selectedYear&&K===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,P)),I=(this._getFirstDayOfMonth(tt,K)-c+7)%7,O=Math.ceil((I+P)/7),this.maxRows=R=Q&&this.maxRows>O?this.maxRows:O,L=this._daylightSavingAdjust(new Date(tt,K,1-I)),D=0;D<R;D++){for(S+="<tr>",N=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(L)+"</td>":"",x=0;x<7;x++)Z=v?v.apply(t.input?t.input[0]:null,[L]):[!0,""],U=(F=L.getMonth()!==K)&&!_||!Z[0]||X&&L<X||$&&L>$,N+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(L.getTime()===M.getTime()&&K===t.selectedMonth&&t._keyEvent||y.getTime()===L.getTime()&&y.getTime()===M.getTime()?" "+this._dayOverClass:"")+(U?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!m?"":" "+Z[1]+(L.getTime()===J.getTime()?" "+this._currentClass:"")+(L.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(F&&!m||!Z[2]?"":" title='"+Z[2].replace(/'/g,"&#39;")+"'")+(U?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(F&&!m?"&#xa0;":U?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===z.getTime()?" ui-state-highlight":"")+(L.getTime()===J.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);S+=N+"</tr>"}++K>11&&(K=0,tt++),k+=S+="</tbody></table>"+(Q?"</div>"+(W[0]>0&&C===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=k}return b+=u,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,n,i,r,a,o,s){var l,u,c,h,d,f,p,g,v=this._get(t,"changeMonth"),m=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",b="";if(a||!v)b+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+s[c]+"</option>");b+="</select>"}if(_||(y+=b+(!a&&v&&m?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!m)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=(f=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),g=Math.max(p,f(h[1]||"")),p=i?Math.max(p,i.getFullYear()):p,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",y+=t.yearshtml,t.yearshtml=null}return y+=this._get(t,"yearSuffix"),_&&(y+=(!a&&v&&m?"":"&#xa0;")+b),y+"</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),a=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,a)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),a=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(t,a)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),a=this._getMinMaxDate(t,"max"),o=null,s=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),o=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(o+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!a||e.getTime()<=a.getTime())&&(!o||e.getFullYear()>=o)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new l,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1",t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;!this._isOpen||!1===this._trigger("beforeClose",e)||(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),a=Math.max.apply(null,r);return a>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",a+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?(e.target===i[0]||e.target===this.uiDialog[0])&&e.shiftKey&&(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,a;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,a={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel,icons:i.icons,text:i.text},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,delete i.icons,"boolean"==typeof i.text&&delete i.text,t("<button></button>",i).button(a).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,n=this.options;function i(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,r){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",n,i(r))},drag:function(t,n){e._trigger("drag",t,i(n))},stop:function(r,a){var o=a.offset.left-e.document.scrollLeft(),s=a.offset.top-e.document.scrollTop();n.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(s>=0?"+":"")+s,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",r,i(a))}})},_makeResizable:function(){var e=this,n=this.options,i=n.resizable,r=this.uiDialog.css("position"),a="string"==typeof i?i:"n,e,s,w,se,sw,ne,nw";function o(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,i){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",n,o(i))},resize:function(t,n){e._trigger("resize",t,o(n))},stop:function(i,r){var a=e.uiDialog.offset(),s=a.left-e.document.scrollLeft(),l=a.top-e.document.scrollTop();n.height=e.uiDialog.height(),n.width=e.uiDialog.width(),n.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",i,o(r))}}).css("position",r)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);-1!==n&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||this.document.data("ui-dialog-instances",t=[]),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,a=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((i=a.is(":data(ui-draggable)"))&&!n&&a.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((r=a.is(":data(ui-resizable)"))&&!n&&a.resizable("destroy"),r&&"string"==typeof n&&a.resizable("option","handles",n),!r&&!1!==n&&this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}}),t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){!this.isOpen||(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,a){var o;a.optgroup!==r&&(o=t("<li>",{text:a.optgroup}),i._addClass(o,"ui-selectmenu-optgroup","ui-menu-divider"+(a.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),o.appendTo(e),r=a.optgroup),i._renderItemData(e,a)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0)).length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;!this.range||(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){!this.isOpen||t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e)}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),(!e||!e[0])&&(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),a=[];for(r.length>(n=i.values&&i.values.length||1)&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)a.push("<span tabindex='0'></span>");this.handles=r.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),("min"===e.range||"max"===e.range)&&this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,a,o,s,l=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n=this._normValueFromMouse({x:e.pageX,y:e.pageY}),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var o=Math.abs(n-l.values(e));(i>o||i===o&&(e===l._lastChangedValue||l.values(e)===u.min))&&(i=o,r=t(this),a=e)}),!1!==this._start(e,a))&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),o=r.offset(),s=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-o.left-r.width()/2,top:e.pageY-o.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0)},_mouseStart:function(){return!0},_mouseDrag:function(t){var e=this._normValueFromMouse({x:t.pageX,y:t.pageY});return this._slide(t,this._handleIndex,e),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,a;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/e)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),a=this._valueMin()+i*r,this._trimAlignValue(a)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r=this.value(),a=this.values();this._hasMultipleValues()&&(i=this.values(e?0:1),r=this.values(e),2===this.options.values.length&&!0===this.options.range&&(n=0===e?Math.min(i,n):Math.max(i,n)),a[e]=n),n!==r&&!1!==this._trigger("slide",t,this._uiHash(e,n,a))&&(this._hasMultipleValues()?this.values(e,n):this.value(n))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){!this._keySliding&&!this._mouseSliding&&(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],a=0;a<i.length;a+=1)i[a]=this._trimAlignValue(r[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return this._trimAlignValue(t)},_values:function(t){var e,n;if(arguments.length)return this._trimAlignValue(this.options.values[t]);if(this._hasMultipleValues()){for(e=this.options.values.slice(),n=0;n<e.length;n+=1)e[n]=this._trimAlignValue(e[n]);return e}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step;(t=Math.round((t-e)/n)*n+e)>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,a,o=this.options.range,s=this.options,l=this,u=!this._animateOff&&s.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,s.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(i=this.value(),r=this._valueMin(),a=this._valueMax(),c["horizontal"===this.orientation?"left":"bottom"]=(n=a!==r?(i-r)/(a-r)*100:0)+"%",this.handle.stop(1,1)[u?"animate":"css"](c,s.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},s.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},s.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},s.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){var n,i,r,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,a)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:i=this._valueMin();break;case t.ui.keyCode.END:i=this._valueMax();break;case t.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(e,a,i)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var n;function i(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n}))}n=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active")){if(!1===this._start(e))return!1;this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)}},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t)||(this.counter||(this.counter=1),this.spinning=!0,0))},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),(!this.spinning||!1!==this._trigger("spin",e,{value:n}))&&(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return-1===n?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return n=t-(e=null!==i.min?i.min:0),t=e+(n=Math.round(n/i.step)*i.step),t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){!this.spinning||(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;if("culture"===t||"numberFormat"===t)return n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n));("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:d(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&null!==(n=this._parse(t))&&(e||(n=this._adjustValue(n)),t=this._format(n)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:d(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:d(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:d(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:d(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());d(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}}),t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(n.active):t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===e||-1===e)&&(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!n&&0),!n&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),!e.ctrlKey&&!e.metaKey&&(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){for(var i=this.tabs.length-1;-1!==t.inArray((e>i&&(e=0),e<0&&(e=i),e),this.options.disabled);)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),!e&&!1===this.options.active&&this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,a,o,s=t(i).uniqueId().attr("id"),l=t(i).closest("li"),u=l.attr("aria-controls");e._isLocal(i)?(o=(r=i.hash).substring(1),a=e.element.find(e._sanitizeSelector(r))):(o=l.attr("aria-controls")||t({}).uniqueId()[0].id,(a=e.element.find(r="#"+o)).length||(a=e._createPanel(o)).insertAfter(e.panels[n-1]||e.tablist),a.attr("aria-live","polite")),a.length&&(e.panels=e.panels.add(a)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":o,"aria-labelledby":s}),a.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),!0===e||-1!==t.inArray(r,e)?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"===i||"fixed"===i||(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget).closest("li"),a=r[0]===i[0],o=a&&n.collapsible,s=o?t():this._getPanelForTab(r),l=i.length?this._getPanelForTab(i):t(),u={oldTab:i,oldPanel:l,newTab:o?t():r,newPanel:s};e.preventDefault(),!(r.hasClass("ui-state-disabled")||r.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||!1===this._trigger("beforeActivate",e,u))&&(n.active=!o&&this.tabs.index(r),this.active=a?t():r,this.xhr&&this.xhr.abort(),!l.length&&!s.length&&t.error("jQuery UI Tabs: Mismatching fragment identifier."),s.length&&this.load(this.tabs.index(r),e),this._toggle(e,u))},_toggle:function(e,n){var i=this,r=n.newPanel,a=n.oldPanel;function o(){i.running=!1,i._trigger("activate",e,n)}function s(){i._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),r.length&&i.options.show?i._show(r,i.options.show,o):(r.show(),o())}this.running=!0,a.length&&this.options.hide?this._hide(a,this.options.hide,function(){i._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a.hide(),s()),a.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),r.length&&a.length?n.oldTab.attr("tabIndex",-1):r.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),r.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;!1!==n&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(!0!==n){if(void 0===e)n=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,n))return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),a=r.find(".ui-tabs-anchor"),o=this._getPanelForTab(r),s={tab:r,panel:o},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),o.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(a[0])||(this.xhr=t.ajax(this._ajaxSettings(a,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){o.html(t),i._trigger("load",n,s),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,a){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:a},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}}),t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);-1!==r&&i.splice(r,1),e.removeData("ui-tooltip-id"),(i=t.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);!i.length||i.data("ui-tooltip-id")||(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,a=e?e.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(e,t,i);(n=i.call(t[0],function(n){r._delay(function(){!t.data("ui-tooltip-open")||(e&&(e.type=a),this._open(e,t,n))})}))&&this._open(e,t,n)},_open:function(e,n,i){var r,a,o,s,l=t.extend({},this.options.position);function u(t){l.of=t,!a.is(":hidden")&&a.position(l)}i&&((r=this._find(n))?r.tooltip.find(".ui-tooltip-content").html(i):(n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),r=this._tooltip(n),this._addDescribedBy(n,(a=r.tooltip).attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),(s=t("<div>").html(a.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),s.removeAttr("id").find("[id]").removeAttr("id"),s.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:u}),u(e)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){a.is(":visible")&&(u(l.of),clearInterval(o))},t.fx.interval)),this._trigger("open",e,{tooltip:a})))},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),(!e||"mouseover"===e.type)&&(i.mouseleave="close"),(!e||"focusin"===e.type)&&(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),a=this._find(r);a?(n=a.tooltip,!a.closing&&(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),a.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),a.closing=!0,this._trigger("close",e,{tooltip:n}),a.hiding||(a.closing=!1))):r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),a=i.element;r.target=r.currentTarget=a[0],e.close(r,!0),t("#"+n).remove(),a.data("ui-tooltip-title")&&(a.attr("title")||a.attr("title",a.data("ui-tooltip-title")),a.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});var f="ui-effects-",p="ui-effects-style",g="ui-effects-animated",v=t;t.effects={effect:{}},function(t,e){var n,i=/^([\-+])=\s*(\d+\.?\d*)/,r=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],a=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},o={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},s={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=a.support={},u=t("<p>")[0],c=t.each;function h(t,e,n){var i=s[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function d(e){var i=a(),s=i._rgba=[];return e=e.toLowerCase(),c(r,function(t,n){var r,a=n.re.exec(e),l=a&&n.parse(a),u=n.space||"rgba";if(l)return r=i[u](l),i[o[u].cache]=r[o[u].cache],s=i._rgba=r._rgba,!1}),s.length?("0,0,0,0"===s.join()&&t.extend(s,n.transparent),i):n[e]}function f(t,e,n){return 6*(n=(n+1)%1)<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}u.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=u.style.backgroundColor.indexOf("rgba")>-1,c(o,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),a.fn=t.extend(a.prototype,{parse:function(i,r,s,l){if(i===e)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=t(i).css(r),r=e);var u=this,f=t.type(i),p=this._rgba=[];return r!==e&&(i=[i,r,s,l],f="array"),"string"===f?this.parse(d(i)||n._default):"array"===f?(c(o.rgba.props,function(t,e){p[e.idx]=h(i[e.idx],e)}),this):"object"===f?(c(o,i instanceof a?function(t,e){i[e.cache]&&(u[e.cache]=i[e.cache].slice())}:function(e,n){var r=n.cache;c(n.props,function(t,e){if(!u[r]&&n.to){if("alpha"===t||null==i[t])return;u[r]=n.to(u._rgba)}u[r][e.idx]=h(i[t],e,!0)}),u[r]&&t.inArray(null,u[r].slice(0,3))<0&&(u[r][3]=1,n.from&&(u._rgba=n.from(u[r])))}),this):void 0},is:function(t){var e=a(t),n=!0,i=this;return c(o,function(t,r){var a,o=e[r.cache];return o&&(a=i[r.cache]||r.to&&r.to(i._rgba)||[],c(r.props,function(t,e){if(null!=o[e.idx])return n=o[e.idx]===a[e.idx]})),n}),n},_space:function(){var t=[],e=this;return c(o,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var n=a(t),i=n._space(),r=o[i],l=0===this.alpha()?a("transparent"):this,u=l[r.cache]||r.to(l._rgba),d=u.slice();return n=n[r.cache],c(r.props,function(t,i){var r=i.idx,a=u[r],o=n[r],l=s[i.type]||{};null!==o&&(null===a?d[r]=o:(l.mod&&(o-a>l.mod/2?a+=l.mod:a-o>l.mod/2&&(a-=l.mod)),d[r]=h((o-a)*e+a,i)))}),this[i](d)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=a(e)._rgba;return a(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),a.fn.parse.prototype=a.fn,o.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n=t[0]/255,i=t[1]/255,r=t[2]/255,a=t[3],o=Math.max(n,i,r),s=Math.min(n,i,r),l=o-s,u=o+s,c=.5*u;return e=0===l?0:c<=.5?l/u:l/(2-u),[Math.round(s===o?0:n===o?60*(i-r)/l+360:i===o?60*(r-n)/l+120:60*(n-i)/l+240)%360,e,c,null==a?1:a]},o.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],r=t[3],a=i<=.5?i*(1+n):i+n-i*n,o=2*i-a;return[Math.round(255*f(o,a,e+1/3)),Math.round(255*f(o,a,e)),Math.round(255*f(o,a,e-1/3)),r]},c(o,function(n,r){var o=r.props,s=r.cache,l=r.to,u=r.from;a.fn[n]=function(n){if(l&&!this[s]&&(this[s]=l(this._rgba)),n===e)return this[s].slice();var i,r=t.type(n),d="array"===r||"object"===r?n:arguments,f=this[s].slice();return c(o,function(t,e){var n=d["object"===r?t:e.idx];null==n&&(n=f[e.idx]),f[e.idx]=h(n,e)}),u?((i=a(u(f)))[s]=f,i):a(f)},c(o,function(e,r){a.fn[e]||(a.fn[e]=function(a){var o,s=t.type(a),l="alpha"===e?this._hsla?"hsla":"rgba":n,u=this[l](),c=u[r.idx];return"undefined"===s?c:("function"===s&&(a=a.call(this,c),s=t.type(a)),null==a&&r.empty?this:("string"===s&&(o=i.exec(a))&&(a=c+parseFloat(o[2])*("+"===o[1]?1:-1)),u[r.idx]=a,this[l](u)))})})}),a.hook=function(e){var n=e.split(" ");c(n,function(e,n){t.cssHooks[n]={set:function(e,i){var r,o,s="";if("transparent"!==i&&("string"!==t.type(i)||(r=d(i)))){if(i=a(r||i),!l.rgba&&1!==i._rgba[3]){for(o="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&o&&o.style;)try{s=t.css(o,"backgroundColor"),o=o.parentNode}catch(u){}i=i.blend(s&&"transparent"!==s?s:"_default")}i=i.toRgbaString()}try{e.style[n]=i}catch(u){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=a(e.elem,n),e.end=a(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},a.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return c(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},n=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(v),function(){var e,n=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function r(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)"string"==typeof r[n=r[i]]&&(a[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(a[n]=r[n]);return a}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(v.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,a,o,s){var l=t.speed(a,o,s);return this.queue(function(){var a,o=t(this),s=o.attr("class")||"",u=l.children?o.find("*").addBack():o;u=u.map(function(){return{el:t(this),start:r(this)}}),(a=function(){t.each(n,function(t,n){e[n]&&o[n+"Class"](e[n])})})(),u=u.map(function(){return this.end=r(this.el[0]),this.diff=function(e,n){var r,a,o={};for(r in n)e[r]!==(a=n[r])&&(i[r]||(t.fx.step[r]||!isNaN(parseFloat(a)))&&(o[r]=a));return o}(this.start,this.end),this}),o.attr("class",s),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:(e=t.fn.addClass,function(n,i,r,a){return i?t.effects.animateClass.call(this,{add:n},i,r,a):e.apply(this,arguments)}),removeClass:function(e){return function(n,i,r,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,a):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,a,o){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,a,o):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,a)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,a){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,a)}})}(),function(){var e;function n(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function i(e){return!!(!e||"number"==typeof e||t.fx.speeds[e]||"string"==typeof e&&!t.effects.effect[e]||t.isFunction(e)||"object"==typeof e&&!e.effect)}function r(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=(e=t.expr.filters.animated,function(n){return!!t(n).data(g)||e(n)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data(f+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data(f+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},a=document.activeElement;return e.wrap(i),(e[0]===a||t.contains(e[0],a))&&t(a).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(p,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(p)||"",t.removeData(p)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(f+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=f+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var a=e.cssUnit(n);a[0]>0&&(r[n]=a[0]*i+a[1])}),r}}),t.fn.extend({effect:function(){var e=n.apply(this,arguments),i=t.effects.effect[e.effect],r=i.mode,a=e.queue,o=a||"fx",s=e.complete,l=e.mode,u=[],c=function(e){var n=t(this),i=t.effects.mode(n,l)||r;n.data(g,!0),u.push(i),r&&("show"===i||i===r&&"hide"===i)&&n.show(),(!r||"none"!==i)&&t.effects.saveStyle(n),t.isFunction(e)&&e()};if(t.fx.off||!i)return l?this[l](e.duration,s):this.each(function(){s&&s.call(this)});function h(n){var a=t(this);function o(){t.isFunction(s)&&s.call(a[0]),t.isFunction(n)&&n()}e.mode=u.shift(),!1===t.uiBackCompat||r?"none"===e.mode?(a[l](),o()):i.call(a[0],e,function(){a.removeData(g),t.effects.cleanUp(a),"hide"===e.mode&&a.hide(),o()}):(a.is(":hidden")?"hide"===l:"show"===l)?(a[l](),o()):i.call(a[0],e,o)}return!1===a?this.each(c).each(h):this.queue(o,c).queue(o,h)},show:function(t){return function(e){if(i(e))return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(e){if(i(e))return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(e){if(i(e)||"boolean"==typeof e)return t.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):r(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),a="fixed"===r.css("position"),o=t("body"),s=a?o.scrollTop():0,l=a?o.scrollLeft():0,u=r.offset(),c={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},h=i.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-s,left:h.left-l,height:i.innerHeight(),width:i.innerWidth(),position:a?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=r(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(-2*t+2)/2}})}(),t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),a=e.direction||"up",o=r.cssClip(),s={clip:t.extend({},o)},l=t.effects.createPlaceholder(r);s.clip[i[a][0]]=s.clip[i[a][1]],"show"===e.mode&&(r.cssClip(s.clip),l&&l.css(t.effects.clipToBox(s)),s.clip=o),l&&l.animate(t.effects.clipToBox(s),e.duration,e.easing),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,a,o=t(this),s=e.mode,l="hide"===s,u="show"===s,c=e.direction||"up",h=e.distance,d=e.times||5,f=2*d+(u||l?1:0),p=e.duration/f,g=e.easing,v="up"===c||"down"===c?"top":"left",m="up"===c||"left"===c,_=0,y=o.queue().length;for(t.effects.createPlaceholder(o),a=o.css(v),h||(h=o["top"===v?"outerHeight":"outerWidth"]()/3),u&&((r={opacity:1})[v]=a,o.css("opacity",0).css(v,m?2*-h:2*h).animate(r,p,g)),l&&(h/=Math.pow(2,d-1)),(r={})[v]=a;_<d;_++)(i={})[v]=(m?"-=":"+=")+h,o.animate(i,p,g).animate(r,p,g),h=l?2*h:h/2;l&&((i={opacity:0})[v]=(m?"-=":"+=")+h,o.animate(i,p,g)),o.queue(n),t.effects.unshift(o,y,f+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},a=t(this),o=e.direction||"vertical",s="both"===o,l=s||"horizontal"===o,u=s||"vertical"===o;i=a.cssClip(),r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(a),"show"===e.mode&&(a.cssClip(r.clip),r.clip=i),a.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),a="show"===e.mode,o=e.direction||"left",s="up"===o||"down"===o?"top":"left",l="up"===o||"left"===o?"-=":"+=",u="+="===l?"-=":"+=",c={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===s?"outerHeight":"outerWidth"](!0)/2,c[s]=l+i,a&&(r.css(c),c[s]=u+i,c.opacity=1),r.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){var i,r,a,o,s,l,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=u,h=t(this),d="show"===e.mode,f=h.show().css("visibility","hidden").offset(),p=Math.ceil(h.outerWidth()/c),g=Math.ceil(h.outerHeight()/u),v=[];function m(){v.push(this),v.length===u*c&&(h.css({visibility:"visible"}),t(v).remove(),n())}for(i=0;i<u;i++)for(o=f.top+i*g,l=i-(u-1)/2,r=0;r<c;r++)a=f.left+r*p,s=r-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-r*p,top:-i*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:g,left:a+(d?s*p:0),top:o+(d?l*g:0),opacity:d?0:1}).animate({left:a+(d?0:s*p),top:o+(d?0:l*g),opacity:d?1:0},e.duration||500,e.easing,m)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,a="show"===r,o="hide"===r,s=e.size||15,l=/([0-9]+)%/.exec(s),u=e.horizFirst?["right","bottom"]:["bottom","right"],c=e.duration/2,h=t.effects.createPlaceholder(i),d=i.cssClip(),f={clip:t.extend({},d)},p={clip:t.extend({},d)},g=[d[u[0]],d[u[1]]],v=i.queue().length;l&&(s=parseInt(l[1],10)/100*g[o?0:1]),f.clip[u[0]]=s,p.clip[u[0]]=s,p.clip[u[1]]=0,a&&(i.cssClip(p.clip),h&&h.css(t.effects.clipToBox(p)),p.clip=d),i.queue(function(n){h&&h.animate(t.effects.clipToBox(f),c,e.easing).animate(t.effects.clipToBox(p),c,e.easing),n()}).animate(f,c,e.easing).animate(p,c,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,a,o=t(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,h="effect"!==c,d=e.scale||"both",f=e.origin||["middle","center"],p=o.css("position"),g=o.position(),v=t.effects.scaledDimensions(o),m=e.from||v,_=e.to||t.effects.scaledDimensions(o,0);t.effects.createPlaceholder(o),"show"===c&&(a=m,m=_,_=a),r={from:{y:m.height/v.height,x:m.width/v.width},to:{y:_.height/v.height,x:_.width/v.width}},("box"===d||"both"===d)&&(r.from.y!==r.to.y&&(m=t.effects.setTransition(o,l,r.from.y,m),_=t.effects.setTransition(o,l,r.to.y,_)),r.from.x!==r.to.x&&(m=t.effects.setTransition(o,u,r.from.x,m),_=t.effects.setTransition(o,u,r.to.x,_))),("content"===d||"both"===d)&&r.from.y!==r.to.y&&(m=t.effects.setTransition(o,s,r.from.y,m),_=t.effects.setTransition(o,s,r.to.y,_)),f&&(i=t.effects.getBaseline(f,v),m.top=(v.outerHeight-m.outerHeight)*i.y+g.top,m.left=(v.outerWidth-m.outerWidth)*i.x+g.left,_.top=(v.outerHeight-_.outerHeight)*i.y+g.top,_.left=(v.outerWidth-_.outerWidth)*i.x+g.left),o.css(m),("content"===d||"both"===d)&&(l=l.concat(["marginTop","marginBottom"]).concat(s),u=u.concat(["marginLeft","marginRight"]),o.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),a={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},o={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(a=t.effects.setTransition(n,l,r.from.y,a),o=t.effects.setTransition(n,l,r.to.y,o)),r.from.x!==r.to.x&&(a=t.effects.setTransition(n,u,r.from.x,a),o=t.effects.setTransition(n,u,r.to.x,o)),h&&t.effects.saveStyle(n),n.css(a),n.animate(o,e.duration,e.easing,function(){h&&t.effects.restoreStyle(n)})})),o.animate(_,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=o.offset();0===_.opacity&&o.css("opacity",m.opacity),h||(o.css("position","static"===p?"relative":p).offset(e),t.effects.saveStyle(o)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)||"effect"!==r?0:100),o=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,a,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(o.from.opacity=1,o.to.opacity=0),t.effects.effect.size.call(this,o,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,a="show"===r,o=2*(e.times||5)+(a||"hide"===r?1:0),s=e.duration/o,l=0,u=1,c=i.queue().length;for((a||!i.is(":visible"))&&(i.css("opacity",0).show(),l=1);u<o;u++)i.animate({opacity:l},s,e.easing),l=1-l;i.animate({opacity:l},s,e.easing),i.queue(n),t.effects.unshift(i,c,o+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),a=e.direction||"left",o=e.distance||20,s=e.times||3,l=2*s+1,u=Math.round(e.duration/l),c="up"===a||"down"===a?"top":"left",h="up"===a||"left"===a,d={},f={},p={},g=r.queue().length;for(t.effects.createPlaceholder(r),d[c]=(h?"-=":"+=")+o,f[c]=(h?"+=":"-=")+2*o,p[c]=(h?"-=":"+=")+2*o,r.animate(d,u,e.easing);i<s;i++)r.animate(f,u,e.easing).animate(p,u,e.easing);r.animate(f,u,e.easing).animate(d,u/2,e.easing).queue(n),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,a=t(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h=e.distance||a["top"===u?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(a),i=a.cssClip(),r=a.position()[u],d[u]=(c?-1:1)*h+r,d.clip=a.cssClip(),d.clip[o[l][1]]=d.clip[o[l][0]],"show"===s&&(a.cssClip(d.clip),a.css(u,d[u]),d.clip=i,d[u]=r),a.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,n){t(this).transfer(e,n)})}(i)},1704:function(t,e){var n;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(i,r){"use strict";var a=[],o=Object.getPrototypeOf,s=a.slice,l=a.flat?function(t){return a.flat.call(t)}:function(t){return a.concat.apply([],t)},u=a.push,c=a.indexOf,h={},d=h.toString,f=h.hasOwnProperty,p=f.toString,g=p.call(Object),v={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},_=function(t){return null!=t&&t===t.window},y=i.document,b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var i,r,a=(n=n||y).createElement("script");if(a.text=t,e)for(i in b)(r=e[i]||e.getAttribute&&e.getAttribute(i))&&a.setAttribute(i,r);n.head.appendChild(a).parentNode.removeChild(a)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?h[d.call(t)]||"object":typeof t}var k=function t(e,n){return new t.fn.init(e,n)};function C(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!m(t)&&!_(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}k.fn=k.prototype={jquery:"3.6.0",constructor:k,length:0,toArray:function(){return s.call(this)},get:function(t){return null==t?s.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=k.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return k.each(this,t)},map:function(t){return this.pushStack(k.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(k.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(k.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:a.sort,splice:a.splice},k.extend=k.fn.extend=function(){var t,e,n,i,r,a,o=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[s]||{},s++),"object"!=typeof o&&!m(o)&&(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)i=t[e],"__proto__"!==e&&o!==i&&(u&&i&&(k.isPlainObject(i)||(r=Array.isArray(i)))?(n=o[e],a=r&&!Array.isArray(n)?[]:r||k.isPlainObject(n)?n:{},r=!1,o[e]=k.extend(u,a,i)):void 0!==i&&(o[e]=i));return o},k.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==d.call(t)||(e=o(t))&&("function"!=typeof(n=f.call(e,"constructor")&&e.constructor)||p.call(n)!==g))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){x(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(C(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){var n=e||[];return null!=t&&(C(Object(t))?k.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:c.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,a=t.length,o=!n;r<a;r++)!e(t[r],r)!==o&&i.push(t[r]);return i},map:function(t,e,n){var i,r,a=0,o=[];if(C(t))for(i=t.length;a<i;a++)null!=(r=e(t[a],a,n))&&o.push(r);else for(a in t)null!=(r=e(t[a],a,n))&&o.push(r);return l(o)},guid:1,support:v}),"function"==typeof Symbol&&(k.fn[Symbol.iterator]=a[Symbol.iterator]),k.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){h["[object "+e+"]"]=e.toLowerCase()});var M=function(t){var e,n,i,r,a,o,s,l,u,c,h,d,f,p,g,v,m,_,y,b="sizzle"+1*new Date,x=t.document,w=0,k=0,C=lt(),M=lt(),T=lt(),S=lt(),A=function(t,e){return t===e&&(h=!0),0},E={}.hasOwnProperty,P=[],I=P.pop,O=P.push,R=P.push,L=P.slice,D=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Z="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+Z+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\["+Z+"*("+F+")(?:"+Z+"*([*^$|!~]?=)"+Z+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+Z+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",z=new RegExp(Z+"+","g"),q=new RegExp("^"+Z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Z+"+$","g"),H=new RegExp("^"+Z+"*,"+Z+"*"),G=new RegExp("^"+Z+"*([>+~]|"+Z+")"+Z+"*"),V=new RegExp(Z+"|>"),W=new RegExp(B),j=new RegExp("^"+F+"$"),Y={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Z+"*(even|odd|(([+-]|)(\\d*)n|)"+Z+"*(?:([+-]|)"+Z+"*(\\d+)|))"+Z+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+Z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Z+"*((?:-\\d)?\\d*)"+Z+"*\\)|)(?=[^-]|$)","i")},Q=/HTML$/i,J=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\[\\da-fA-F]{1,6}"+Z+"?|\\\\([^\\r\\n\\f])","g"),nt=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},it=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,rt=function(t,e){return e?"\0"===t?"\ufffd":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},at=function(){d()},ot=bt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{R.apply(P=L.call(x.childNodes),x.childNodes)}catch(Mt){R={apply:P.length?function(t,e){O.apply(t,L.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function st(t,e,i,r){var a,s,u,c,h,p,m,_=e&&e.ownerDocument,x=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==x&&9!==x&&11!==x)return i;if(!r&&(d(e),e=e||f,g)){if(11!==x&&(h=K.exec(t)))if(a=h[1]){if(9===x){if(!(u=e.getElementById(a)))return i;if(u.id===a)return i.push(u),i}else if(_&&(u=_.getElementById(a))&&y(e,u)&&u.id===a)return i.push(u),i}else{if(h[2])return R.apply(i,e.getElementsByTagName(t)),i;if((a=h[3])&&n.getElementsByClassName&&e.getElementsByClassName)return R.apply(i,e.getElementsByClassName(a)),i}if(n.qsa&&!S[t+" "]&&(!v||!v.test(t))&&(1!==x||"object"!==e.nodeName.toLowerCase())){if(m=t,_=e,1===x&&(V.test(t)||G.test(t))){for(((_=tt.test(t)&&mt(e.parentNode)||e)!==e||!n.scope)&&((c=e.getAttribute("id"))?c=c.replace(it,rt):e.setAttribute("id",c=b)),s=(p=o(t)).length;s--;)p[s]=(c?"#"+c:":scope")+" "+yt(p[s]);m=p.join(",")}try{return R.apply(i,_.querySelectorAll(m)),i}catch(w){S(t,!0)}finally{c===b&&e.removeAttribute("id")}}}return l(t.replace(q,"$1"),e,i,r)}function lt(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function ut(t){return t[b]=!0,t}function ct(t){var e=f.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ht(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function dt(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function pt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function gt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ot(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function vt(t){return ut(function(e){return e=+e,ut(function(n,i){for(var r,a=t([],n.length,e),o=a.length;o--;)n[r=a[o]]&&(n[r]=!(i[r]=n[r]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},a=st.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!Q.test(t&&t.namespaceURI||e&&e.nodeName||"HTML")},d=st.setDocument=function(t){var e,r,o=t?t.ownerDocument||t:x;return o==f||9!==o.nodeType||!o.documentElement||(p=(f=o).documentElement,g=!a(f),x!=f&&(r=f.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",at,!1):r.attachEvent&&r.attachEvent("onunload",at)),n.scope=ct(function(t){return p.appendChild(t).appendChild(f.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),n.attributes=ct(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=ct(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=$.test(f.getElementsByClassName),n.getById=ct(function(t){return p.appendChild(t).id=b,!f.getElementsByName||!f.getElementsByName(b).length}),n.getById?(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n,i,r,a=e.getElementById(t);if(a){if((n=a.getAttributeNode("id"))&&n.value===t)return[a];for(r=e.getElementsByName(t),i=0;a=r[i++];)if((n=a.getAttributeNode("id"))&&n.value===t)return[a]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[r++];)1===n.nodeType&&i.push(n);return i}return a},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&g)return e.getElementsByClassName(t)},m=[],v=[],(n.qsa=$.test(f.querySelectorAll))&&(ct(function(t){var e;p.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+Z+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||v.push("\\["+Z+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+b+"-]").length||v.push("~="),(e=f.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||v.push("\\["+Z+"*name"+Z+"*="+Z+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||v.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]"),t.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ct(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&v.push("name"+Z+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=$.test(_=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ct(function(t){n.disconnectedMatch=_.call(t,"*"),_.call(t,"[s!='']:x"),m.push("!=",B)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),e=$.test(p.compareDocumentPosition),y=e||$.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},A=e?function(t,e){if(t===e)return h=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t==f||t.ownerDocument==x&&y(x,t)?-1:e==f||e.ownerDocument==x&&y(x,e)?1:c?D(c,t)-D(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return h=!0,0;var n,i=0,r=t.parentNode,a=e.parentNode,o=[t],s=[e];if(!r||!a)return t==f?-1:e==f?1:r?-1:a?1:c?D(c,t)-D(c,e):0;if(r===a)return dt(t,e);for(n=t;n=n.parentNode;)o.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;o[i]===s[i];)i++;return i?dt(o[i],s[i]):o[i]==x?-1:s[i]==x?1:0}),f},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if(d(t),n.matchesSelector&&g&&!S[e+" "]&&(!m||!m.test(e))&&(!v||!v.test(e)))try{var i=_.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){S(e,!0)}return st(e,f,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!=f&&d(t),y(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!=f&&d(t);var r=i.attrHandle[e.toLowerCase()],a=r&&E.call(i.attrHandle,e.toLowerCase())?r(t,e,!g):void 0;return void 0!==a?a:n.attributes||!g?t.getAttribute(e):(a=t.getAttributeNode(e))&&a.specified?a.value:null},st.escape=function(t){return(t+"").replace(it,rt)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,i=[],r=0,a=0;if(h=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(A),h){for(;e=t[a++];)e===t[a]&&(r=i.push(a));for(;r--;)t.splice(i[r],1)}return c=null,t},r=st.getText=function(t){var e,n="",i=0,a=t.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===a||4===a)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=st.selectors={cacheLength:50,createPseudo:ut,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&W.test(n)&&(e=o(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=C[t+" "];return e||(e=new RegExp("(^|"+Z+")"+t+"("+Z+"|$)"))&&C(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var r=st.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(z," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var a="nth"!==t.slice(0,3),o="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,f,p,g=a!==o?"nextSibling":"previousSibling",v=e.parentNode,m=s&&e.nodeName.toLowerCase(),_=!l&&!s,y=!1;if(v){if(a){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[o?v.firstChild:v.lastChild],o&&_){for(y=(f=(u=(c=(h=(d=v)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===w&&u[1])&&u[2],d=f&&v.childNodes[f];d=++f&&d&&d[g]||(y=f=0)||p.pop();)if(1===d.nodeType&&++y&&d===e){c[t]=[w,f,y];break}}else if(_&&(y=f=(u=(c=(h=(d=e)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===w&&u[1]),!1===y)for(;(d=++f&&d&&d[g]||(y=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++y||(_&&((c=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[w,y]),d!==e)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return r[b]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?ut(function(t,n){for(var i,a=r(t,e),o=a.length;o--;)t[i=D(t,a[o])]=!(n[i]=a[o])}):function(t){return r(t,0,n)}):r}},pseudos:{not:ut(function(t){var e=[],n=[],i=s(t.replace(q,"$1"));return i[b]?ut(function(t,e,n,r){for(var a,o=i(t,null,r,[]),s=t.length;s--;)(a=o[s])&&(t[s]=!(e[s]=a))}):function(t,r,a){return e[0]=t,i(e,null,a,n),e[0]=null,!n.pop()}}),has:ut(function(t){return function(e){return st(t,e).length>0}}),contains:ut(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||r(e)).indexOf(t)>-1}}),lang:ut(function(t){return j.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return J.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:vt(function(){return[0]}),last:vt(function(t,e){return[e-1]}),eq:vt(function(t,e,n){return[n<0?n+e:n]}),even:vt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:vt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:vt(function(t,e,n){for(var i=n<0?n+e:n>e?e:n;--i>=0;)t.push(i);return t}),gt:vt(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=pt(e);function _t(){}function yt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function bt(t,e,n){var i=e.dir,r=e.next,a=r||i,o=n&&"parentNode"===a,s=k++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r);return!1}:function(e,n,l){var u,c,h,d=[w,s];if(l){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||o)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[a])&&u[0]===w&&u[1]===s)return d[2]=u[2];if(c[a]=d,d[2]=t(e,n,l))return!0}return!1}}function xt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function wt(t,e,n,i,r){for(var a,o=[],s=0,l=t.length,u=null!=e;s<l;s++)(a=t[s])&&(!n||n(a,i,r))&&(o.push(a),u&&e.push(s));return o}function kt(t,e,n,i,r,a){return i&&!i[b]&&(i=kt(i)),r&&!r[b]&&(r=kt(r,a)),ut(function(a,o,s,l){var u,c,h,d=[],f=[],p=o.length,g=a||function(t,e,n){for(var i=0,r=e.length;i<r;i++)st(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),v=!t||!a&&e?g:wt(g,d,t,s,l),m=n?r||(a?t:p||i)?[]:o:v;if(n&&n(v,m,s,l),i)for(u=wt(m,f),i(u,[],s,l),c=u.length;c--;)(h=u[c])&&(m[f[c]]=!(v[f[c]]=h));if(a){if(r||t){if(r){for(u=[],c=m.length;c--;)(h=m[c])&&u.push(v[c]=h);r(null,m=[],u,l)}for(c=m.length;c--;)(h=m[c])&&(u=r?D(a,h):d[c])>-1&&(a[u]=!(o[u]=h))}}else m=wt(m===o?m.splice(p,m.length):m),r?r(null,o,m,l):R.apply(o,m)})}function Ct(t){for(var e,n,r,a=t.length,o=i.relative[t[0].type],s=o||i.relative[" "],l=o?1:0,c=bt(function(t){return t===e},s,!0),h=bt(function(t){return D(e,t)>-1},s,!0),d=[function(t,n,i){var r=!o&&(i||n!==u)||((e=n).nodeType?c(t,n,i):h(t,n,i));return e=null,r}];l<a;l++)if(n=i.relative[t[l].type])d=[bt(xt(d),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[b]){for(r=++l;r<a&&!i.relative[t[r].type];r++);return kt(l>1&&xt(d),l>1&&yt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(q,"$1"),n,l<r&&Ct(t.slice(l,r)),r<a&&Ct(t=t.slice(r)),r<a&&yt(t))}d.push(n)}return xt(d)}return _t.prototype=i.filters=i.pseudos,i.setFilters=new _t,o=st.tokenize=function(t,e){var n,r,a,o,s,l,u,c=M[t+" "];if(c)return e?0:c.slice(0);for(s=t,l=[],u=i.preFilter;s;){for(o in(!n||(r=H.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(a=[])),n=!1,(r=G.exec(s))&&(n=r.shift(),a.push({value:n,type:r[0].replace(q," ")}),s=s.slice(n.length)),i.filter)(r=Y[o].exec(s))&&(!u[o]||(r=u[o](r)))&&(n=r.shift(),a.push({value:n,type:o,matches:r}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):M(t,l).slice(0)},s=st.compile=function(t,e){var n,r=[],a=[],s=T[t+" "];if(!s){for(e||(e=o(t)),n=e.length;n--;)(s=Ct(e[n]))[b]?r.push(s):a.push(s);(s=T(t,function(t,e){var n=e.length>0,r=t.length>0,a=function(a,o,s,l,c){var h,p,v,m=0,_="0",y=a&&[],b=[],x=u,k=a||r&&i.find.TAG("*",c),C=w+=null==x?1:Math.random()||.1,M=k.length;for(c&&(u=o==f||o||c);_!==M&&null!=(h=k[_]);_++){if(r&&h){for(p=0,!o&&h.ownerDocument!=f&&(d(h),s=!g);v=t[p++];)if(v(h,o||f,s)){l.push(h);break}c&&(w=C)}n&&((h=!v&&h)&&m--,a&&y.push(h))}if(m+=_,n&&_!==m){for(p=0;v=e[p++];)v(y,b,o,s);if(a){if(m>0)for(;_--;)y[_]||b[_]||(b[_]=I.call(l));b=wt(b)}R.apply(l,b),c&&!a&&b.length>0&&m+e.length>1&&st.uniqueSort(l)}return c&&(w=C,u=x),y};return n?ut(a):a}(a,r))).selector=t}return s},l=st.select=function(t,e,n,r){var a,l,u,c,h,d="function"==typeof t&&t,f=!r&&o(t=d.selector||t);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&g&&i.relative[l[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(a=Y.needsContext.test(t)?0:l.length;a--&&!i.relative[c=(u=l[a]).type];)if((h=i.find[c])&&(r=h(u.matches[0].replace(et,nt),tt.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(a,1),!(t=r.length&&yt(l)))return R.apply(n,r),n;break}}return(d||s(t,f))(r,e,!g,n,!e||tt.test(t)&&mt(e.parentNode)||e),n},n.sortStable=b.split("").sort(A).join("")===b,n.detectDuplicates=!!h,d(),n.sortDetached=ct(function(t){return 1&t.compareDocumentPosition(f.createElement("fieldset"))}),ct(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ht("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),(!n.attributes||!ct(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))&&ht("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),ct(function(t){return null==t.getAttribute("disabled")})||ht(N,function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),st}(i);k.find=M,(k.expr=M.selectors)[":"]=k.expr.pseudos,k.uniqueSort=k.unique=M.uniqueSort,k.text=M.getText,k.isXMLDoc=M.isXML,k.contains=M.contains,k.escapeSelector=M.escape;var T=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&k(t).is(n))break;i.push(t)}return i},S=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},A=k.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function I(t,e,n){return m(e)?k.grep(t,function(t,i){return!!e.call(t,i,t)!==n}):e.nodeType?k.grep(t,function(t){return t===e!==n}):"string"!=typeof e?k.grep(t,function(t){return c.call(e,t)>-1!==n}):k.filter(e,t,n)}k.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?k.find.matchesSelector(i,t)?[i]:[]:k.find.matches(t,k.grep(e,function(t){return 1===t.nodeType}))},k.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(k(t).filter(function(){for(e=0;e<i;e++)if(k.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)k.find(t,r[e],n);return i>1?k.uniqueSort(n):n},filter:function(t){return this.pushStack(I(this,t||[],!1))},not:function(t){return this.pushStack(I(this,t||[],!0))},is:function(t){return!!I(this,"string"==typeof t&&A.test(t)?k(t):t||[],!1).length}});var O,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(k.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||O,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:R.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(k.merge(this,k.parseHTML(i[1],(e=e instanceof k?e[0]:e)&&e.nodeType?e.ownerDocument||e:y,!0)),P.test(i[1])&&k.isPlainObject(e))for(i in e)m(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=y.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==n.ready?n.ready(t):t(k):k.makeArray(t,this)}).prototype=k.fn,O=k(y);var L=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function N(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}k.fn.extend({has:function(t){var e=k(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(k.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,a=[],o="string"!=typeof t&&k(t);if(!A.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&k.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?k.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?c.call(k(t),this[0]):c.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(k.uniqueSort(k.merge(this.get(),k(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),k.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return T(t,"parentNode")},parentsUntil:function(t,e,n){return T(t,"parentNode",n)},next:function(t){return N(t,"nextSibling")},prev:function(t){return N(t,"previousSibling")},nextAll:function(t){return T(t,"nextSibling")},prevAll:function(t){return T(t,"previousSibling")},nextUntil:function(t,e,n){return T(t,"nextSibling",n)},prevUntil:function(t,e,n){return T(t,"previousSibling",n)},siblings:function(t){return S((t.parentNode||{}).firstChild,t)},children:function(t){return S(t.firstChild)},contents:function(t){return null!=t.contentDocument&&o(t.contentDocument)?t.contentDocument:(E(t,"template")&&(t=t.content||t),k.merge([],t.childNodes))}},function(t,e){k.fn[t]=function(n,i){var r=k.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=k.filter(i,r)),this.length>1&&(D[t]||k.uniqueSort(r),L.test(t)&&r.reverse()),this.pushStack(r)}});var Z=/[^\x20\t\r\n\f]+/g;function F(t){return t}function U(t){throw t}function B(t,e,n,i){var r;try{t&&m(r=t.promise)?r.call(t).done(e).fail(n):t&&m(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(a){n.apply(void 0,[a])}}k.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return k.each(t.match(Z)||[],function(t,n){e[n]=!0}),e}(t):k.extend({},t);var e,n,i,r,a=[],o=[],s=-1,l=function(){for(r=r||t.once,i=e=!0;o.length;s=-1)for(n=o.shift();++s<a.length;)!1===a[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=a.length,n=!1);t.memory||(n=!1),e=!1,r&&(a=n?[]:"")},u={add:function(){return a&&(n&&!e&&(s=a.length-1,o.push(n)),function e(n){k.each(n,function(n,i){m(i)?(!t.unique||!u.has(i))&&a.push(i):i&&i.length&&"string"!==w(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return k.each(arguments,function(t,e){for(var n;(n=k.inArray(e,a,n))>-1;)a.splice(n,1),n<=s&&s--}),this},has:function(t){return t?k.inArray(t,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=o=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=o=[],!n&&!e&&(a=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],o.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},k.extend({Deferred:function(t){var e=[["notify","progress",k.Callbacks("memory"),k.Callbacks("memory"),2],["resolve","done",k.Callbacks("once memory"),k.Callbacks("once memory"),0,"resolved"],["reject","fail",k.Callbacks("once memory"),k.Callbacks("once memory"),1,"rejected"]],n="pending",r={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return k.Deferred(function(n){k.each(e,function(e,i){var r=m(t[i[4]])&&t[i[4]];a[i[1]](function(){var t=r&&r.apply(this,arguments);t&&m(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(t,n,r){var a=0;function o(t,e,n,r){return function(){var s=this,l=arguments,u=function(){var i,u;if(!(t<a)){if((i=n.apply(s,l))===e.promise())throw new TypeError("Thenable self-resolution");m(u=i&&("object"==typeof i||"function"==typeof i)&&i.then)?r?u.call(i,o(a,e,F,r),o(a,e,U,r)):(a++,u.call(i,o(a,e,F,r),o(a,e,U,r),o(a,e,F,e.notifyWith))):(n!==F&&(s=void 0,l=[i]),(r||e.resolveWith)(s,l))}},c=r?u:function(){try{u()}catch(i){k.Deferred.exceptionHook&&k.Deferred.exceptionHook(i,c.stackTrace),t+1>=a&&(n!==U&&(s=void 0,l=[i]),e.rejectWith(s,l))}};t?c():(k.Deferred.getStackHook&&(c.stackTrace=k.Deferred.getStackHook()),i.setTimeout(c))}}return k.Deferred(function(i){e[0][3].add(o(0,i,m(r)?r:F,i.notifyWith)),e[1][3].add(o(0,i,m(t)?t:F)),e[2][3].add(o(0,i,m(n)?n:U))}).promise()},promise:function(t){return null!=t?k.extend(t,r):r}},a={};return k.each(e,function(t,i){var o=i[2],s=i[5];r[i[1]]=o.add,s&&o.add(function(){n=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),o.add(i[3].fire),a[i[0]]=function(){return a[i[0]+"With"](this===a?void 0:this,arguments),this},a[i[0]+"With"]=o.fireWith}),r.promise(a),t&&t.call(a,a),a},when:function(t){var e=arguments.length,n=e,i=Array(n),r=s.call(arguments),a=k.Deferred(),o=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?s.call(arguments):n,--e||a.resolveWith(i,r)}};if(e<=1&&(B(t,a.done(o(n)).resolve,a.reject,!e),"pending"===a.state()||m(r[n]&&r[n].then)))return a.then();for(;n--;)B(r[n],o(n),a.reject);return a.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;k.Deferred.exceptionHook=function(t,e){i.console&&i.console.warn&&t&&z.test(t.name)&&i.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},k.readyException=function(t){i.setTimeout(function(){throw t})};var q=k.Deferred();function H(){y.removeEventListener("DOMContentLoaded",H),i.removeEventListener("load",H),k.ready()}k.fn.ready=function(t){return q.then(t).catch(function(t){k.readyException(t)}),this},k.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--k.readyWait:k.isReady)||(k.isReady=!0,!(!0!==t&&--k.readyWait>0)&&q.resolveWith(y,[k]))}}),k.ready.then=q.then,"complete"===y.readyState||"loading"!==y.readyState&&!y.documentElement.doScroll?i.setTimeout(k.ready):(y.addEventListener("DOMContentLoaded",H),i.addEventListener("load",H));var G=function t(e,n,i,r,a,o,s){var l=0,u=e.length,c=null==i;if("object"===w(i))for(l in a=!0,i)t(e,n,l,i[l],!0,o,s);else if(void 0!==r&&(a=!0,m(r)||(s=!0),c&&(s?(n.call(e,r),n=null):(c=n,n=function(t,e,n){return c.call(k(t),n)})),n))for(;l<u;l++)n(e[l],i,s?r:r.call(e[l],l,n(e[l],i)));return a?e:c?n.call(e):u?n(e[0],i):o},V=/^-ms-/,W=/-([a-z])/g;function j(t,e){return e.toUpperCase()}function Y(t){return t.replace(V,"ms-").replace(W,j)}var Q=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=k.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Q(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[Y(e)]=n;else for(i in e)r[Y(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][Y(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e)for((n=(e=Array.isArray(e)?e.map(Y):(e=Y(e))in i?[e]:e.match(Z)||[]).length);n--;)delete i[e[n]];(void 0===e||k.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!k.isEmptyObject(e)}};var X=new J,$=new J,K=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tt=/[A-Z]/g;function et(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(tt,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:K.test(t)?JSON.parse(t):t)}(n)}catch(r){}$.set(t,e,n)}else n=void 0;return n}k.extend({hasData:function(t){return $.hasData(t)||X.hasData(t)},data:function(t,e,n){return $.access(t,e,n)},removeData:function(t,e){$.remove(t,e)},_data:function(t,e,n){return X.access(t,e,n)},_removeData:function(t,e){X.remove(t,e)}}),k.fn.extend({data:function(t,e){var n,i,r,a=this[0],o=a&&a.attributes;if(void 0===t){if(this.length&&(r=$.get(a),1===a.nodeType&&!X.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(i=o[n].name).indexOf("data-")&&(i=Y(i.slice(5)),et(a,i,r[i]));X.set(a,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){$.set(this,t)}):G(this,function(e){var n;if(a&&void 0===e)return void 0!==(n=$.get(a,t))||void 0!==(n=et(a,t))?n:void 0;this.each(function(){$.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){$.remove(this,t)})}}),k.extend({queue:function(t,e,n){var i;if(t)return i=X.get(t,e=(e||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=X.access(t,e,k.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){var n=k.queue(t,e=e||"fx"),i=n.length,r=n.shift(),a=k._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete a.stop,r.call(t,function(){k.dequeue(t,e)},a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return X.get(t,n)||X.access(t,n,{empty:k.Callbacks("once memory").add(function(){X.remove(t,[e+"queue",n])})})}}),k.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?k.queue(this[0],t):void 0===e?this:this.each(function(){var n=k.queue(this,t,e);k._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&k.dequeue(this,t)})},dequeue:function(t){return this.each(function(){k.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=k.Deferred(),a=this,o=this.length,s=function(){--i||r.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(n=X.get(a[o],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),rt=["Top","Right","Bottom","Left"],at=y.documentElement,ot=function(t){return k.contains(t.ownerDocument,t)},st={composed:!0};at.getRootNode&&(ot=function(t){return k.contains(t.ownerDocument,t)||t.getRootNode(st)===t.ownerDocument});var lt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&ot(t)&&"none"===k.css(t,"display")};function ut(t,e,n,i){var r,a,o=20,s=i?function(){return i.cur()}:function(){return k.css(t,e,"")},l=s(),u=n&&n[3]||(k.cssNumber[e]?"":"px"),c=t.nodeType&&(k.cssNumber[e]||"px"!==u&&+l)&&it.exec(k.css(t,e));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;o--;)k.style(t,e,c+u),(1-a)*(1-(a=s()/l||.5))<=0&&(o=0),c/=a;k.style(t,e,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ct={};function ht(t){var e,n=t.ownerDocument,i=t.nodeName,r=ct[i];return r||(e=n.body.appendChild(n.createElement(i)),r=k.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ct[i]=r,r)}function dt(t,e){for(var n,i,r=[],a=0,o=t.length;a<o;a++)(i=t[a]).style&&(n=i.style.display,e?("none"===n&&(r[a]=X.get(i,"display")||null,r[a]||(i.style.display="")),""===i.style.display&&lt(i)&&(r[a]=ht(i))):"none"!==n&&(r[a]="none",X.set(i,"display",n)));for(a=0;a<o;a++)null!=r[a]&&(t[a].style.display=r[a]);return t}k.fn.extend({show:function(){return dt(this,!0)},hide:function(){return dt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){lt(this)?k(this).show():k(this).hide()})}});var ft,pt,gt=/^(?:checkbox|radio)$/i,vt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,mt=/^$|^module$|\/(?:java|ecma)script/i;ft=y.createDocumentFragment().appendChild(y.createElement("div")),(pt=y.createElement("input")).setAttribute("type","radio"),pt.setAttribute("checked","checked"),pt.setAttribute("name","t"),ft.appendChild(pt),v.checkClone=ft.cloneNode(!0).cloneNode(!0).lastChild.checked,ft.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ft.cloneNode(!0).lastChild.defaultValue,ft.innerHTML="<option></option>",v.option=!!ft.lastChild;var _t={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function yt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&E(t,e)?k.merge([t],n):n}function bt(t,e){for(var n=0,i=t.length;n<i;n++)X.set(t[n],"globalEval",!e||X.get(e[n],"globalEval"))}_t.tbody=_t.tfoot=_t.colgroup=_t.caption=_t.thead,_t.th=_t.td,v.option||(_t.optgroup=_t.option=[1,"<select multiple='multiple'>","</select>"]);var xt=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var a,o,s,l,u,c,h=e.createDocumentFragment(),d=[],f=0,p=t.length;f<p;f++)if((a=t[f])||0===a)if("object"===w(a))k.merge(d,a.nodeType?[a]:a);else if(xt.test(a)){for(o=o||h.appendChild(e.createElement("div")),s=(vt.exec(a)||["",""])[1].toLowerCase(),o.innerHTML=(l=_t[s]||_t._default)[1]+k.htmlPrefilter(a)+l[2],c=l[0];c--;)o=o.lastChild;k.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(e.createTextNode(a));for(h.textContent="",f=0;a=d[f++];)if(i&&k.inArray(a,i)>-1)r&&r.push(a);else if(u=ot(a),o=yt(h.appendChild(a),"script"),u&&bt(o),n)for(c=0;a=o[c++];)mt.test(a.type||"")&&n.push(a);return h}var kt=/^([^.]*)(?:\.(.+)|)/;function Ct(){return!0}function Mt(){return!1}function Tt(t,e){return t===function(){try{return y.activeElement}catch(t){}}()==("focus"===e)}function St(t,e,n,i,r,a){var o,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)St(t,s,n,i,e[s],a);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Mt;else if(!r)return t;return 1===a&&(o=r,(r=function(t){return k().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=k.guid++)),t.each(function(){k.event.add(this,e,r,i,n)})}function At(t,e,n){n?(X.set(t,e,!1),k.event.add(t,e,{namespace:!1,handler:function(t){var i,r,a=X.get(this,e);if(1&t.isTrigger&&this[e]){if(a.length)(k.event.special[e]||{}).delegateType&&t.stopPropagation();else if(a=s.call(arguments),X.set(this,e,a),i=n(this,e),this[e](),a!==(r=X.get(this,e))||i?X.set(this,e,!1):r={},a!==r)return t.stopImmediatePropagation(),t.preventDefault(),r&&r.value}else a.length&&(X.set(this,e,{value:k.event.trigger(k.extend(a[0],k.Event.prototype),a.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===X.get(t,e)&&k.event.add(t,e,Ct)}k.event={global:{},add:function(t,e,n,i,r){var a,o,s,l,u,c,h,d,f,p,g,v=X.get(t);if(Q(t))for(n.handler&&(n=(a=n).handler,r=a.selector),r&&k.find.matchesSelector(at,r),n.guid||(n.guid=k.guid++),(l=v.events)||(l=v.events=Object.create(null)),(o=v.handle)||(o=v.handle=function(e){return void 0!==k&&k.event.triggered!==e.type?k.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(Z)||[""]).length;u--;)f=g=(s=kt.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f&&(h=k.event.special[f]||{},h=k.event.special[f=(r?h.delegateType:h.bindType)||f]||{},c=k.extend({type:f,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&k.expr.match.needsContext.test(r),namespace:p.join(".")},a),(d=l[f])||((d=l[f]=[]).delegateCount=0,(!h.setup||!1===h.setup.call(t,i,p,o))&&t.addEventListener&&t.addEventListener(f,o)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),k.event.global[f]=!0)},remove:function(t,e,n,i,r){var a,o,s,l,u,c,h,d,f,p,g,v=X.hasData(t)&&X.get(t);if(v&&(l=v.events)){for(u=(e=(e||"").match(Z)||[""]).length;u--;)if(f=g=(s=kt.exec(e[u])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=k.event.special[f]||{},d=l[f=(i?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=d.length;a--;)c=d[a],(r||g===c.origType)&&(!n||n.guid===c.guid)&&(!s||s.test(c.namespace))&&(!i||i===c.selector||"**"===i&&c.selector)&&(d.splice(a,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));o&&!d.length&&((!h.teardown||!1===h.teardown.call(t,p,v.handle))&&k.removeEvent(t,f,v.handle),delete l[f])}else for(f in l)k.event.remove(t,f+e[u],n,i,!0);k.isEmptyObject(l)&&X.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,a,o,s=new Array(arguments.length),l=k.event.fix(t),u=(X.get(this,"events")||Object.create(null))[l.type]||[],c=k.event.special[l.type]||{};for(s[0]=l,e=1;e<arguments.length;e++)s[e]=arguments[e];if(l.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,l)){for(o=k.event.handlers.call(this,l,u),e=0;(r=o[e++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!l.isImmediatePropagationStopped();)(!l.rnamespace||!1===a.namespace||l.rnamespace.test(a.namespace))&&(l.handleObj=a,l.data=a.data,void 0!==(i=((k.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,s))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,l),l.result}},handlers:function(t,e){var n,i,r,a,o,s=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(a=[],o={},n=0;n<l;n++)void 0===o[r=(i=e[n]).selector+" "]&&(o[r]=i.needsContext?k(r,this).index(u)>-1:k.find(r,this,null,[u]).length),o[r]&&a.push(i);a.length&&s.push({elem:u,handlers:a})}return u=this,l<e.length&&s.push({elem:u,handlers:e.slice(l)}),s},addProp:function(t,e){Object.defineProperty(k.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[k.expando]?t:new k.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return gt.test(e.type)&&e.click&&E(e,"input")&&At(e,"click",Ct),!1},trigger:function(t){var e=this||t;return gt.test(e.type)&&e.click&&E(e,"input")&&At(e,"click"),!0},_default:function(t){var e=t.target;return gt.test(e.type)&&e.click&&E(e,"input")&&X.get(e,"click")||E(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},k.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},(k.Event=function(t,e){if(!(this instanceof k.Event))return new k.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ct:Mt,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&k.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[k.expando]=!0}).prototype={constructor:k.Event,isDefaultPrevented:Mt,isPropagationStopped:Mt,isImmediatePropagationStopped:Mt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ct,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ct,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ct,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},k.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},k.event.addProp),k.each({focus:"focusin",blur:"focusout"},function(t,e){k.event.special[t]={setup:function(){return At(this,t,Tt),!1},trigger:function(){return At(this,t),!0},_default:function(){return!0},delegateType:e}}),k.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){k.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,a=t.handleObj;return(!r||r!==i&&!k.contains(i,r))&&(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}}),k.fn.extend({on:function(t,e,n,i){return St(this,t,e,n,i)},one:function(t,e,n,i){return St(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,k(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=Mt),this.each(function(){k.event.remove(this,t,n,e)})}});var Et=/<script|<style|<link/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Ot(t,e){return E(t,"table")&&E(11!==e.nodeType?e:e.firstChild,"tr")&&k(t).children("tbody")[0]||t}function Rt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Lt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Dt(t,e){var n,i,r,a,o,s;if(1===e.nodeType){if(X.hasData(t)&&(s=X.get(t).events))for(r in X.remove(e,"handle events"),s)for(n=0,i=s[r].length;n<i;n++)k.event.add(e,r,s[r][n]);$.hasData(t)&&(a=$.access(t),o=k.extend({},a),$.set(e,o))}}function Nt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&gt.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function Zt(t,e,n,i){e=l(e);var r,a,o,s,u,c,h=0,d=t.length,f=d-1,p=e[0],g=m(p);if(g||d>1&&"string"==typeof p&&!v.checkClone&&Pt.test(p))return t.each(function(r){var a=t.eq(r);g&&(e[0]=p.call(this,r,a.html())),Zt(a,e,n,i)});if(d&&(a=(r=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=a),a||i)){for(s=(o=k.map(yt(r,"script"),Rt)).length;h<d;h++)u=r,h!==f&&(u=k.clone(u,!0,!0),s&&k.merge(o,yt(u,"script"))),n.call(t[h],u,h);if(s)for(c=o[o.length-1].ownerDocument,k.map(o,Lt),h=0;h<s;h++)mt.test((u=o[h]).type||"")&&!X.access(u,"globalEval")&&k.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?k._evalUrl&&!u.noModule&&k._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},c):x(u.textContent.replace(It,""),u,c))}return t}function Ft(t,e,n){for(var i,r=e?k.filter(e,t):t,a=0;null!=(i=r[a]);a++)!n&&1===i.nodeType&&k.cleanData(yt(i)),i.parentNode&&(n&&ot(i)&&bt(yt(i,"script")),i.parentNode.removeChild(i));return t}k.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,r,a,o,s=t.cloneNode(!0),l=ot(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||k.isXMLDoc(t)))for(o=yt(s),i=0,r=(a=yt(t)).length;i<r;i++)Nt(a[i],o[i]);if(e)if(n)for(a=a||yt(t),o=o||yt(s),i=0,r=a.length;i<r;i++)Dt(a[i],o[i]);else Dt(t,s);return(o=yt(s,"script")).length>0&&bt(o,!l&&yt(t,"script")),s},cleanData:function(t){for(var e,n,i,r=k.event.special,a=0;void 0!==(n=t[a]);a++)if(Q(n)){if(e=n[X.expando]){if(e.events)for(i in e.events)r[i]?k.event.remove(n,i):k.removeEvent(n,i,e.handle);n[X.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),k.fn.extend({detach:function(t){return Ft(this,t,!0)},remove:function(t){return Ft(this,t)},text:function(t){return G(this,function(t){return void 0===t?k.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return Zt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Ot(this,t).appendChild(t)})},prepend:function(){return Zt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Ot(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Zt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(k.cleanData(yt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return k.clone(this,t,e)})},html:function(t){return G(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Et.test(t)&&!_t[(vt.exec(t)||["",""])[1].toLowerCase()]){t=k.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(k.cleanData(yt(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Zt(this,arguments,function(e){var n=this.parentNode;k.inArray(this,t)<0&&(k.cleanData(yt(this)),n&&n.replaceChild(e,this))},t)}}),k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){k.fn[t]=function(t){for(var n,i=[],r=k(t),a=r.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),k(r[o])[e](n),u.apply(i,n.get());return this.pushStack(i)}});var Ut=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),Bt=function(t){var e=t.ownerDocument.defaultView;return(!e||!e.opener)&&(e=i),e.getComputedStyle(t)},zt=function(t,e,n){var i,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in i=n.call(t),e)t.style[r]=a[r];return i},qt=new RegExp(rt.join("|"),"i");function Ht(t,e,n){var i,r,a,o,s=t.style;return(n=n||Bt(t))&&(""===(o=n.getPropertyValue(e)||n[e])&&!ot(t)&&(o=k.style(t,e)),!v.pixelBoxStyles()&&Ut.test(o)&&qt.test(e)&&(i=s.width,r=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=i,s.minWidth=r,s.maxWidth=a)),void 0!==o?o+"":o}function Gt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(u).appendChild(c);var t=i.getComputedStyle(c);n="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",o=36===e(t.right),r=36===e(t.width),c.style.position="absolute",a=12===e(c.offsetWidth/3),at.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var n,r,a,o,s,l,u=y.createElement("div"),c=y.createElement("div");!c.style||(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,k.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),o},pixelPosition:function(){return t(),n},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),a},reliableTrDimensions:function(){var t,e,n,r;return null==s&&(t=y.createElement("table"),e=y.createElement("tr"),n=y.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",at.appendChild(t).appendChild(e).appendChild(n),r=i.getComputedStyle(e),s=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===e.offsetHeight,at.removeChild(t)),s}}))}();var Vt=["Webkit","Moz","ms"],Wt=y.createElement("div").style,jt={};function Yt(t){return k.cssProps[t]||jt[t]||(t in Wt?t:jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Vt.length;n--;)if((t=Vt[n]+e)in Wt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,Jt=/^--/,Xt={position:"absolute",visibility:"hidden",display:"block"},$t={letterSpacing:"0",fontWeight:"400"};function Kt(t,e,n){var i=it.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function te(t,e,n,i,r,a){var o="width"===e?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;o<4;o+=2)"margin"===n&&(l+=k.css(t,n+rt[o],!0,r)),i?("content"===n&&(l-=k.css(t,"padding"+rt[o],!0,r)),"margin"!==n&&(l-=k.css(t,"border"+rt[o]+"Width",!0,r))):(l+=k.css(t,"padding"+rt[o],!0,r),"padding"!==n?l+=k.css(t,"border"+rt[o]+"Width",!0,r):s+=k.css(t,"border"+rt[o]+"Width",!0,r));return!i&&a>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-a-l-s-.5))||0),l}function ee(t,e,n){var i=Bt(t),r=(!v.boxSizingReliable()||n)&&"border-box"===k.css(t,"boxSizing",!1,i),a=r,o=Ht(t,e,i),s="offset"+e[0].toUpperCase()+e.slice(1);if(Ut.test(o)){if(!n)return o;o="auto"}return(!v.boxSizingReliable()&&r||!v.reliableTrDimensions()&&E(t,"tr")||"auto"===o||!parseFloat(o)&&"inline"===k.css(t,"display",!1,i))&&t.getClientRects().length&&(r="border-box"===k.css(t,"boxSizing",!1,i),(a=s in t)&&(o=t[s])),(o=parseFloat(o)||0)+te(t,e,n||(r?"border":"content"),a,i,o)+"px"}function ne(t,e,n,i,r){return new ne.prototype.init(t,e,n,i,r)}k.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Ht(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,a,o,s=Y(e),l=Jt.test(e),u=t.style;if(l||(e=Yt(s)),o=k.cssHooks[e]||k.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(r=o.get(t,!1,i))?r:u[e];if("string"==(a=typeof n)&&(r=it.exec(n))&&r[1]&&(n=ut(t,e,r),a="number"),null==n||n!=n)return;"number"===a&&!l&&(n+=r&&r[3]||(k.cssNumber[s]?"":"px")),!v.clearCloneStyle&&""===n&&0===e.indexOf("background")&&(u[e]="inherit"),(!o||!("set"in o)||void 0!==(n=o.set(t,n,i)))&&(l?u.setProperty(e,n):u[e]=n)}},css:function(t,e,n,i){var r,a,o,s=Y(e);return Jt.test(e)||(e=Yt(s)),(o=k.cssHooks[e]||k.cssHooks[s])&&"get"in o&&(r=o.get(t,!0,n)),void 0===r&&(r=Ht(t,e,i)),"normal"===r&&e in $t&&(r=$t[e]),""===n||n?(a=parseFloat(r),!0===n||isFinite(a)?a||0:r):r}}),k.each(["height","width"],function(t,e){k.cssHooks[e]={get:function(t,n,i){if(n)return!Qt.test(k.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):zt(t,Xt,function(){return ee(t,e,i)})},set:function(t,n,i){var r,a=Bt(t),o=!v.scrollboxSize()&&"absolute"===a.position,s=(o||i)&&"border-box"===k.css(t,"boxSizing",!1,a),l=i?te(t,e,i,s,a):0;return s&&o&&(l-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(a[e])-te(t,e,"border",!1,a)-.5)),l&&(r=it.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=k.css(t,e)),Kt(0,n,l)}}}),k.cssHooks.marginLeft=Gt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ht(t,"marginLeft"))||t.getBoundingClientRect().left-zt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),k.each({margin:"",padding:"",border:"Width"},function(t,e){k.cssHooks[t+e]={expand:function(n){for(var i=0,r={},a="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+rt[i]+e]=a[i]||a[i-2]||a[0];return r}},"margin"!==t&&(k.cssHooks[t+e].set=Kt)}),k.fn.extend({css:function(t,e){return G(this,function(t,e,n){var i,r,a={},o=0;if(Array.isArray(e)){for(i=Bt(t),r=e.length;o<r;o++)a[e[o]]=k.css(t,e[o],!1,i);return a}return void 0!==n?k.style(t,e,n):k.css(t,e)},t,e,arguments.length>1)}}),k.Tween=ne,(ne.prototype={constructor:ne,init:function(t,e,n,i,r,a){this.elem=t,this.prop=n,this.easing=r||k.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(k.cssNumber[n]?"":"px")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.pos=e=this.options.duration?k.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}}).init.prototype=ne.prototype,(ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=k.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){k.fx.step[t.prop]?k.fx.step[t.prop](t):1!==t.elem.nodeType||!k.cssHooks[t.prop]&&null==t.elem.style[Yt(t.prop)]?t.elem[t.prop]=t.now:k.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},k.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},(k.fx=ne.prototype.init).step={};var ie,re,ae=/^(?:toggle|show|hide)$/,oe=/queueHooks$/;function se(){re&&(!1===y.hidden&&i.requestAnimationFrame?i.requestAnimationFrame(se):i.setTimeout(se,k.fx.interval),k.fx.tick())}function le(){return i.setTimeout(function(){ie=void 0}),ie=Date.now()}function ue(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=rt[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ce(t,e,n){for(var i,r=(he.tweeners[e]||[]).concat(he.tweeners["*"]),a=0,o=r.length;a<o;a++)if(i=r[a].call(n,e,t))return i}function he(t,e,n){var i,r,a=0,o=he.prefilters.length,s=k.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=ie||le(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),a=0,o=u.tweens.length;a<o;a++)u.tweens[a].run(i);return s.notifyWith(t,[u,i,n]),i<1&&o?n:(o||s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:k.extend({},e),opts:k.extend(!0,{specialEasing:{},easing:k.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||le(),duration:n.duration,tweens:[],createTween:function(e,n){var i=k.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(function(t,e){var n,i,r,a,o;for(n in t)if(r=e[i=Y(n)],a=t[n],Array.isArray(a)&&(r=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),(o=k.cssHooks[i])&&"expand"in o)for(n in a=o.expand(a),delete t[i],a)n in t||(t[n]=a[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);a<o;a++)if(i=he.prefilters[a].call(u,t,c,u.opts))return m(i.stop)&&(k._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return k.map(c,ce,u),m(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),k.fx.timer(k.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}k.Animation=k.extend(he,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ut(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(Z);for(var n,i=0,r=t.length;i<r;i++)(he.tweeners[n=t[i]]=he.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var i,r,a,o,s,l,u,c,h="width"in e||"height"in e,d=this,f={},p=t.style,g=t.nodeType&&lt(t),v=X.get(t,"fxshow");for(i in n.queue||(null==(o=k._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,s=o.empty.fire,o.empty.fire=function(){o.unqueued||s()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,k.queue(t,"fx").length||o.empty.fire()})})),e)if(ae.test(r=e[i])){if(delete e[i],a=a||"toggle"===r,r===(g?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;g=!0}f[i]=v&&v[i]||k.style(t,i)}if((l=!k.isEmptyObject(e))||!k.isEmptyObject(f))for(i in h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=v&&v.display)&&(u=X.get(t,"display")),"none"===(c=k.css(t,"display"))&&(u?c=u:(dt([t],!0),u=t.style.display||u,c=k.css(t,"display"),dt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===k.css(t,"float")&&(l||(d.done(function(){p.display=u}),null==u&&(u="none"===(c=p.display)?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(v?"hidden"in v&&(g=v.hidden):v=X.access(t,"fxshow",{display:u}),a&&(v.hidden=!g),g&&dt([t],!0),d.done(function(){for(i in g||dt([t]),X.remove(t,"fxshow"),f)k.style(t,i,f[i])})),l=ce(g?v[i]:0,i,d),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?he.prefilters.unshift(t):he.prefilters.push(t)}}),k.speed=function(t,e,n){var i=t&&"object"==typeof t?k.extend({},t):{complete:n||!n&&e||m(t)&&t,duration:t,easing:n&&e||e&&!m(e)&&e};return k.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in k.fx.speeds?k.fx.speeds[i.duration]:k.fx.speeds._default),(null==i.queue||!0===i.queue)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){m(i.old)&&i.old.call(this),i.queue&&k.dequeue(this,i.queue)},i},k.fn.extend({fadeTo:function(t,e,n,i){return this.filter(lt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=k.isEmptyObject(t),a=k.speed(e,n,i),o=function(){var e=he(this,k.extend({},t),a);(r||X.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",a=k.timers,o=X.get(this);if(r)o[r]&&o[r].stop&&i(o[r]);else for(r in o)o[r]&&o[r].stop&&oe.test(r)&&i(o[r]);for(r=a.length;r--;)a[r].elem===this&&(null==t||a[r].queue===t)&&(a[r].anim.stop(n),e=!1,a.splice(r,1));(e||!n)&&k.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=X.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],a=k.timers,o=i?i.length:0;for(n.finish=!0,k.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),k.each(["toggle","show","hide"],function(t,e){var n=k.fn[e];k.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,i,r)}}),k.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){k.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),k.timers=[],k.fx.tick=function(){var t,e=0,n=k.timers;for(ie=Date.now();e<n.length;e++)!(t=n[e])()&&n[e]===t&&n.splice(e--,1);n.length||k.fx.stop(),ie=void 0},k.fx.timer=function(t){k.timers.push(t),k.fx.start()},k.fx.interval=13,k.fx.start=function(){re||(re=!0,se())},k.fx.stop=function(){re=null},k.fx.speeds={slow:600,fast:200,_default:400},k.fn.delay=function(t,e){return t=k.fx&&k.fx.speeds[t]||t,this.queue(e=e||"fx",function(e,n){var r=i.setTimeout(e,t);n.stop=function(){i.clearTimeout(r)}})},function(){var t=y.createElement("input"),e=y.createElement("select").appendChild(y.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=y.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var de,fe=k.expr.attrHandle;k.fn.extend({attr:function(t,e){return G(this,k.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){k.removeAttr(this,t)})}}),k.extend({attr:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===t.getAttribute?k.prop(t,e,n):((1!==a||!k.isXMLDoc(t))&&(r=k.attrHooks[e.toLowerCase()]||(k.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void k.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=k.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&E(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Z);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?k.removeAttr(t,n):t.setAttribute(n,n),n}},k.each(k.expr.match.bool.source.match(/\w+/g),function(t,e){var n=fe[e]||k.find.attr;fe[e]=function(t,e,i){var r,a,o=e.toLowerCase();return i||(a=fe[o],fe[o]=r,r=null!=n(t,e,i)?o:null,fe[o]=a),r}});var pe=/^(?:input|select|textarea|button)$/i,ge=/^(?:a|area)$/i;function ve(t){return(t.match(Z)||[]).join(" ")}function me(t){return t.getAttribute&&t.getAttribute("class")||""}function _e(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(Z)||[]}k.fn.extend({prop:function(t,e){return G(this,k.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[k.propFix[t]||t]})}}),k.extend({prop:function(t,e,n){var i,r,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return(1!==a||!k.isXMLDoc(t))&&(r=k.propHooks[e=k.propFix[e]||e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=k.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||ge.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(k.propHooks.selected={get:function(t){return null},set:function(t){}}),k.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){k.propFix[this.toLowerCase()]=this}),k.fn.extend({addClass:function(t){var e,n,i,r,a,o,s,l=0;if(m(t))return this.each(function(e){k(this).addClass(t.call(this,e,me(this)))});if((e=_e(t)).length)for(;n=this[l++];)if(r=me(n),i=1===n.nodeType&&" "+ve(r)+" "){for(o=0;a=e[o++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");r!==(s=ve(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,a,o,s,l=0;if(m(t))return this.each(function(e){k(this).removeClass(t.call(this,e,me(this)))});if(!arguments.length)return this.attr("class","");if((e=_e(t)).length)for(;n=this[l++];)if(r=me(n),i=1===n.nodeType&&" "+ve(r)+" "){for(o=0;a=e[o++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");r!==(s=ve(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):m(t)?this.each(function(n){k(this).toggleClass(t.call(this,n,me(this),e),e)}):this.each(function(){var e,r,a,o;if(i)for(r=0,a=k(this),o=_e(t);e=o[r++];)a.hasClass(e)?a.removeClass(e):a.addClass(e);else(void 0===t||"boolean"===n)&&((e=me(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":X.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ve(me(n))+" ").indexOf(e)>-1)return!0;return!1}});var ye=/\r/g;k.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=m(t),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,k(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=k.map(r,function(t){return null==t?"":t+""})),(!(e=k.valHooks[this.type]||k.valHooks[this.nodeName.toLowerCase()])||!("set"in e)||void 0===e.set(this,r,"value"))&&(this.value=r))})):r?(e=k.valHooks[r.type]||k.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(ye,""):null==n?"":n:void 0}}),k.extend({valHooks:{option:{get:function(t){var e=k.find.attr(t,"value");return null!=e?e:ve(k.text(t))}},select:{get:function(t){var e,n,i,r=t.options,a=t.selectedIndex,o="select-one"===t.type,s=o?null:[],l=o?a+1:r.length;for(i=a<0?l:o?a:0;i<l;i++)if(((n=r[i]).selected||i===a)&&!n.disabled&&(!n.parentNode.disabled||!E(n.parentNode,"optgroup"))){if(e=k(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,a=k.makeArray(e),o=r.length;o--;)((i=r[o]).selected=k.inArray(k.valHooks.option.get(i),a)>-1)&&(n=!0);return n||(t.selectedIndex=-1),a}}}}),k.each(["radio","checkbox"],function(){k.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=k.inArray(k(t).val(),e)>-1}},v.checkOn||(k.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in i;var be=/^(?:focusinfocus|focusoutblur)$/,xe=function(t){t.stopPropagation()};k.extend(k.event,{trigger:function(t,e,n,r){var a,o,s,l,u,c,h,d,p=[n||y],g=f.call(t,"type")?t.type:t,v=f.call(t,"namespace")?t.namespace.split("."):[];if(o=d=s=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!be.test(g+k.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),u=g.indexOf(":")<0&&"on"+g,(t=t[k.expando]?t:new k.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:k.makeArray(e,[t]),h=k.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(n,e))){if(!r&&!h.noBubble&&!_(n)){for(be.test((l=h.delegateType||g)+g)||(o=o.parentNode);o;o=o.parentNode)p.push(o),s=o;s===(n.ownerDocument||y)&&p.push(s.defaultView||s.parentWindow||i)}for(a=0;(o=p[a++])&&!t.isPropagationStopped();)d=o,t.type=a>1?l:h.bindType||g,(c=(X.get(o,"events")||Object.create(null))[t.type]&&X.get(o,"handle"))&&c.apply(o,e),(c=u&&o[u])&&c.apply&&Q(o)&&(t.result=c.apply(o,e),!1===t.result&&t.preventDefault());return t.type=g,!r&&!t.isDefaultPrevented()&&(!h._default||!1===h._default.apply(p.pop(),e))&&Q(n)&&u&&m(n[g])&&!_(n)&&((s=n[u])&&(n[u]=null),k.event.triggered=g,t.isPropagationStopped()&&d.addEventListener(g,xe),n[g](),t.isPropagationStopped()&&d.removeEventListener(g,xe),k.event.triggered=void 0,s&&(n[u]=s)),t.result}},simulate:function(t,e,n){var i=k.extend(new k.Event,n,{type:t,isSimulated:!0});k.event.trigger(i,null,e)}}),k.fn.extend({trigger:function(t,e){return this.each(function(){k.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return k.event.trigger(t,e,n,!0)}}),v.focusin||k.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){k.event.simulate(e,t.target,k.event.fix(t))};k.event.special[e]={setup:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,e);r||i.addEventListener(t,n,!0),X.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=X.access(i,e)-1;r?X.access(i,e,r):(i.removeEventListener(t,n,!0),X.remove(i,e))}}});var we=i.location,ke={guid:Date.now()},Ce=/\?/;k.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new i.DOMParser).parseFromString(t,"text/xml")}catch(r){}return n=e&&e.getElementsByTagName("parsererror")[0],(!e||n)&&k.error("Invalid XML: "+(n?k.map(n.childNodes,function(t){return t.textContent}).join("\n"):t)),e};var Me=/\[\]$/,Te=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,Ae=/^(?:input|select|textarea|keygen)/i;function Ee(t,e,n,i){var r;if(Array.isArray(e))k.each(e,function(e,r){n||Me.test(t)?i(t,r):Ee(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==w(e))i(t,e);else for(r in e)Ee(t+"["+r+"]",e[r],n,i)}k.param=function(t,e){var n,i=[],r=function(t,e){var n=m(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!k.isPlainObject(t))k.each(t,function(){r(this.name,this.value)});else for(n in t)Ee(n,t[n],e,r);return i.join("&")},k.fn.extend({serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=k.prop(this,"elements");return t?k.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!k(this).is(":disabled")&&Ae.test(this.nodeName)&&!Se.test(t)&&(this.checked||!gt.test(t))}).map(function(t,e){var n=k(this).val();return null==n?null:Array.isArray(n)?k.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}});var Pe=/%20/g,Ie=/#.*$/,Oe=/([?&])_=[^&]*/,Re=/^(.*?):[ \t]*([^\r\n]*)$/gm,Le=/^(?:GET|HEAD)$/,De=/^\/\//,Ne={},Ze={},Fe="*/".concat("*"),Ue=y.createElement("a");function Be(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,a=e.toLowerCase().match(Z)||[];if(m(n))for(;i=a[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function ze(t,e,n,i){var r={},a=t===Ze;function o(s){var l;return r[s]=!0,k.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||r[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),l}return o(e.dataTypes[0])||!r["*"]&&o("*")}function qe(t,e){var n,i,r=k.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&k.extend(!0,t,i),t}Ue.href=we.href,k.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:we.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(we.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":k.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?qe(qe(t,k.ajaxSettings),e):qe(k.ajaxSettings,t)},ajaxPrefilter:Be(Ne),ajaxTransport:Be(Ze),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var n,r,a,o,s,l,u,c,h,d,f=k.ajaxSetup({},e=e||{}),p=f.context||f,g=f.context&&(p.nodeType||p.jquery)?k(p):k.event,v=k.Deferred(),m=k.Callbacks("once memory"),_=f.statusCode||{},b={},x={},w="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(u){if(!o)for(o={};e=Re.exec(a);)o[e[1].toLowerCase()+" "]=(o[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=o[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return u?a:null},setRequestHeader:function(t,e){return null==u&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==u&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(u)C.always(t[C.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||w;return n&&n.abort(e),M(0,e),this}};if(v.promise(C),f.url=((t||f.url||we.href)+"").replace(De,we.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Z)||[""],null==f.crossDomain){l=y.createElement("a");try{l.href=f.url,l.href=l.href,f.crossDomain=Ue.protocol+"//"+Ue.host!=l.protocol+"//"+l.host}catch(T){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=k.param(f.data,f.traditional)),ze(Ne,f,e,C),u)return C;for(h in(c=k.event&&f.global)&&0==k.active++&&k.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Le.test(f.type),r=f.url.replace(Ie,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Pe,"+")):(d=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Ce.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Oe,"$1"),d=(Ce.test(r)?"&":"?")+"_="+ke.guid+++d),f.url=r+d),f.ifModified&&(k.lastModified[r]&&C.setRequestHeader("If-Modified-Since",k.lastModified[r]),k.etag[r]&&C.setRequestHeader("If-None-Match",k.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&C.setRequestHeader("Content-Type",f.contentType),C.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Fe+"; q=0.01":""):f.accepts["*"]),f.headers)C.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(p,C,f)||u))return C.abort();if(w="abort",m.add(f.complete),C.done(f.success),C.fail(f.error),n=ze(Ze,f,e,C)){if(C.readyState=1,c&&g.trigger("ajaxSend",[C,f]),u)return C;f.async&&f.timeout>0&&(s=i.setTimeout(function(){C.abort("timeout")},f.timeout));try{u=!1,n.send(b,M)}catch(T){if(u)throw T;M(-1,T)}}else M(-1,"No Transport");function M(t,e,o,l){var h,y,b,x,w,M=e;u||(u=!0,s&&i.clearTimeout(s),n=void 0,a=l||"",C.readyState=t>0?4:0,h=t>=200&&t<300||304===t,o&&(x=function(t,e,n){for(var i,r,a,o,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}o||(o=r)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(f,C,o)),!h&&k.inArray("script",f.dataTypes)>-1&&k.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),x=function(t,e,n,i){var r,a,o,s,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=u[l+" "+a]||u["* "+a]))for(r in u)if((s=r.split(" "))[1]===a&&(o=u[l+" "+s[0]]||u["* "+s[0]])){!0===o?o=u[r]:!0!==u[r]&&(a=s[0],c.unshift(s[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(d){return{state:"parsererror",error:o?d:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}(f,x,C,h),h?(f.ifModified&&((w=C.getResponseHeader("Last-Modified"))&&(k.lastModified[r]=w),(w=C.getResponseHeader("etag"))&&(k.etag[r]=w)),204===t||"HEAD"===f.type?M="nocontent":304===t?M="notmodified":(M=x.state,y=x.data,h=!(b=x.error))):(b=M,(t||!M)&&(M="error",t<0&&(t=0))),C.status=t,C.statusText=(e||M)+"",h?v.resolveWith(p,[y,M,C]):v.rejectWith(p,[C,M,b]),C.statusCode(_),_=void 0,c&&g.trigger(h?"ajaxSuccess":"ajaxError",[C,f,h?y:b]),m.fireWith(p,[C,M]),c&&(g.trigger("ajaxComplete",[C,f]),--k.active||k.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return k.get(t,e,n,"json")},getScript:function(t,e){return k.get(t,void 0,e,"script")}}),k.each(["get","post"],function(t,e){k[e]=function(t,n,i,r){return m(n)&&(r=r||i,i=n,n=void 0),k.ajax(k.extend({url:t,type:e,dataType:r,data:n,success:i},k.isPlainObject(t)&&t))}}),k.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),k._evalUrl=function(t,e,n){return k.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){k.globalEval(t,e,n)}})},k.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=k(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return m(t)?this.each(function(e){k(this).wrapInner(t.call(this,e))}):this.each(function(){var e=k(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=m(t);return this.each(function(n){k(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){k(this).replaceWith(this.childNodes)}),this}}),k.expr.pseudos.hidden=function(t){return!k.expr.pseudos.visible(t)},k.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},k.ajaxSettings.xhr=function(){try{return new i.XMLHttpRequest}catch(Ve){}};var He={0:200,1223:204},Ge=k.ajaxSettings.xhr();v.cors=!!Ge&&"withCredentials"in Ge,v.ajax=Ge=!!Ge,k.ajaxTransport(function(t){var e,n;if(v.cors||Ge&&!t.crossDomain)return{send:function(r,a){var o,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)s[o]=t.xhrFields[o];for(o in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),!t.crossDomain&&!r["X-Requested-With"]&&(r["X-Requested-With"]="XMLHttpRequest"),r)s.setRequestHeader(o,r[o]);e=function(t){return function(){e&&(e=n=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?a(0,"error"):a(s.status,s.statusText):a(He[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),n=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=n:s.onreadystatechange=function(){4===s.readyState&&i.setTimeout(function(){e&&n()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(l){if(e)throw l}},abort:function(){e&&e()}}}),k.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),k.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return k.globalEval(t),t}}}),k.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),k.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(i,r){e=k("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),y.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ve,We=[],je=/(=)\?(?=&|$)|\?\?/;k.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=We.pop()||k.expando+"_"+ke.guid++;return this[t]=!0,t}}),k.ajaxPrefilter("json jsonp",function(t,e,n){var r,a,o,s=!1!==t.jsonp&&(je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&je.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=m(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(je,"$1"+r):!1!==t.jsonp&&(t.url+=(Ce.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||k.error(r+" was not called"),o[0]},t.dataTypes[0]="json",a=i[r],i[r]=function(){o=arguments},n.always(function(){void 0===a?k(i).removeProp(r):i[r]=a,t[r]&&(t.jsonpCallback=e.jsonpCallback,We.push(r)),o&&m(a)&&a(o[0]),o=a=void 0}),"script"}),v.createHTMLDocument=((Ve=y.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ve.childNodes.length),k.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=y.implementation.createHTMLDocument("")).createElement("base")).href=y.location.href,e.head.appendChild(i)):e=y),a=!n&&[],(r=P.exec(t))?[e.createElement(r[1])]:(r=wt([t],e,a),a&&a.length&&k(a).remove(),k.merge([],r.childNodes)));var i,r,a},k.fn.load=function(t,e,n){var i,r,a,o=this,s=t.indexOf(" ");return s>-1&&(i=ve(t.slice(s)),t=t.slice(0,s)),m(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&k.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){a=arguments,o.html(i?k("<div>").append(k.parseHTML(t)).find(i):t)}).always(n&&function(t,e){o.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},k.expr.pseudos.animated=function(t){return k.grep(k.timers,function(e){return t===e.elem}).length},k.offset={setOffset:function(t,e,n){var i,r,a,o,s,l,u=k.css(t,"position"),c=k(t),h={};"static"===u&&(t.style.position="relative"),s=c.offset(),a=k.css(t,"top"),l=k.css(t,"left"),("absolute"===u||"fixed"===u)&&(a+l).indexOf("auto")>-1?(o=(i=c.position()).top,r=i.left):(o=parseFloat(a)||0,r=parseFloat(l)||0),m(e)&&(e=e.call(t,n,k.extend({},s))),null!=e.top&&(h.top=e.top-s.top+o),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):c.css(h)}},k.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){k.offset.setOffset(this,t,e)});var e,n,i=this[0];return i?i.getClientRects().length?{top:(e=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:e.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===k.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===k.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=k(t).offset()).top+=k.css(t,"borderTopWidth",!0),r.left+=k.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-k.css(i,"marginTop",!0),left:e.left-r.left-k.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===k.css(t,"position");)t=t.offsetParent;return t||at})}}),k.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;k.fn[t]=function(i){return G(this,function(t,i,r){var a;if(_(t)?a=t:9===t.nodeType&&(a=t.defaultView),void 0===r)return a?a[e]:t[i];a?a.scrollTo(n?a.pageXOffset:r,n?r:a.pageYOffset):t[i]=r},t,i,arguments.length)}}),k.each(["top","left"],function(t,e){k.cssHooks[e]=Gt(v.pixelPosition,function(t,n){if(n)return n=Ht(t,e),Ut.test(n)?k(t).position()[e]+"px":n})}),k.each({Height:"height",Width:"width"},function(t,e){k.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){k.fn[i]=function(r,a){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===a?"margin":"border");return G(this,function(e,n,r){var a;return _(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(a=e.documentElement,Math.max(e.body["scroll"+t],a["scroll"+t],e.body["offset"+t],a["offset"+t],a["client"+t])):void 0===r?k.css(e,n,s):k.style(e,n,r,s)},e,o?r:void 0,o)}})}),k.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){k.fn[e]=function(t){return this.on(e,t)}}),k.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),k.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){k.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}});var Ye=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;k.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),m(t))return i=s.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(s.call(arguments)))}).guid=t.guid=t.guid||k.guid++,r},k.holdReady=function(t){t?k.readyWait++:k.ready(!0)},k.isArray=Array.isArray,k.parseJSON=JSON.parse,k.nodeName=E,k.isFunction=m,k.isWindow=_,k.camelCase=Y,k.type=w,k.now=Date.now,k.isNumeric=function(t){var e=k.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},k.trim=function(t){return null==t?"":(t+"").replace(Ye,"")},void 0!==(n=(function(){return k}).apply(e,[]))&&(t.exports=n);var Qe=i.jQuery,Je=i.$;return k.noConflict=function(t){return i.$===k&&(i.$=Je),t&&i.jQuery===k&&(i.jQuery=Qe),k},void 0===r&&(i.jQuery=i.$=k),k})},520:function(t,e,n){"use strict";var i=n(1417);function r(t){if(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0;for(var e=0;e<this.data.length;e++)t[e]=255&t[e]}}(r.prototype=new i).byteAt=function(t){return this.data[this.zero+t]},r.prototype.lastIndexOfSignature=function(t){for(var e=t.charCodeAt(0),n=t.charCodeAt(1),i=t.charCodeAt(2),r=t.charCodeAt(3),a=this.length-4;a>=0;--a)if(this.data[a]===e&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===r)return a-this.zero;return-1},r.prototype.readData=function(t){if(this.checkOffset(t),0===t)return[];var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},8713:function(t,e){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";e.encode=function(t,e){for(var i,r,a,o,s,l,u,c="",h=0;h<t.length;)o=(i=t.charCodeAt(h++))>>2,s=(3&i)<<4|(r=t.charCodeAt(h++))>>4,l=(15&r)<<2|(a=t.charCodeAt(h++))>>6,u=63&a,isNaN(r)?l=u=64:isNaN(a)&&(u=64),c=c+n.charAt(o)+n.charAt(s)+n.charAt(l)+n.charAt(u);return c},e.decode=function(t,e){var i,r,a,o,s,l,u="",c=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<t.length;)a=n.indexOf(t.charAt(c++)),i=(15&(o=n.indexOf(t.charAt(c++))))<<4|(s=n.indexOf(t.charAt(c++)))>>2,r=(3&s)<<6|(l=n.indexOf(t.charAt(c++))),u+=String.fromCharCode(a<<2|o>>4),64!=s&&(u+=String.fromCharCode(i)),64!=l&&(u+=String.fromCharCode(r));return u}},9522:function(t){"use strict";function e(){this.compressedSize=0,this.uncompressedSize=0,this.crc32=0,this.compressionMethod=null,this.compressedContent=null}e.prototype={getContent:function(){return null},getCompressedContent:function(){return null}},t.exports=e},8332:function(t,e,n){"use strict";e.STORE={magic:"\0\0",compress:function(t,e){return t},uncompress:function(t){return t},compressInputType:null,uncompressInputType:null},e.DEFLATE=n(2496)},2334:function(t,e,n){"use strict";var i=n(1319),r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];t.exports=function(t,e){if(void 0===t||!t.length)return 0;var n="string"!==i.getTypeOf(t);void 0===e&&(e=0);var a=0;e^=-1;for(var o=0,s=t.length;o<s;o++)a=n?t[o]:t.charCodeAt(o),e=e>>>8^r[255&(e^a)];return-1^e}},1417:function(t,e,n){"use strict";var i=n(1319);function r(t){this.data=null,this.length=0,this.index=0,this.zero=0}r.prototype={checkOffset:function(t){this.checkIndex(this.index+t)},checkIndex:function(t){if(this.length<this.zero+t||t<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+t+"). Corrupted zip ?")},setIndex:function(t){this.checkIndex(t),this.index=t},skip:function(t){this.setIndex(this.index+t)},byteAt:function(t){},readInt:function(t){var e,n=0;for(this.checkOffset(t),e=this.index+t-1;e>=this.index;e--)n=(n<<8)+this.byteAt(e);return this.index+=t,n},readString:function(t){return i.transformTo("string",this.readData(t))},readData:function(t){},lastIndexOfSignature:function(t){},readDate:function(){var t=this.readInt(4);return new Date(1980+(t>>25&127),(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(31&t)<<1)}},t.exports=r},6261:function(t,e){"use strict";e.base64=!1,e.binary=!1,e.dir=!1,e.createFolders=!1,e.date=null,e.compression=null,e.compressionOptions=null,e.comment=null,e.unixPermissions=null,e.dosPermissions=null},2886:function(t,e,n){"use strict";var i=n(1319);e.string2binary=function(t){return i.string2binary(t)},e.string2Uint8Array=function(t){return i.transformTo("uint8array",t)},e.uint8Array2String=function(t){return i.transformTo("string",t)},e.string2Blob=function(t){var e=i.transformTo("arraybuffer",t);return i.arrayBuffer2Blob(e)},e.arrayBuffer2Blob=function(t){return i.arrayBuffer2Blob(t)},e.transformTo=function(t,e){return i.transformTo(t,e)},e.getTypeOf=function(t){return i.getTypeOf(t)},e.checkSupport=function(t){return i.checkSupport(t)},e.MAX_VALUE_16BITS=i.MAX_VALUE_16BITS,e.MAX_VALUE_32BITS=i.MAX_VALUE_32BITS,e.pretty=function(t){return i.pretty(t)},e.findCompression=function(t){return i.findCompression(t)},e.isRegExp=function(t){return i.isRegExp(t)}},2496:function(t,e,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=n(5105);e.uncompressInputType=i?"uint8array":"array",e.compressInputType=i?"uint8array":"array",e.magic="\b\0",e.compress=function(t,e){return r.deflateRaw(t,{level:e.level||-1})},e.uncompress=function(t){return r.inflateRaw(t)}},5076:function(t,e,n){"use strict";var i=n(8713);function r(t,e){if(!(this instanceof r))return new r(t,e);this.files={},this.comment=null,this.root="",t&&this.load(t,e),this.clone=function(){var t=new r;for(var e in this)"function"!=typeof this[e]&&(t[e]=this[e]);return t}}(r.prototype=n(5682)).load=n(3121),r.support=n(6659),r.defaults=n(6261),r.utils=n(2886),r.base64={encode:function(t){return i.encode(t)},decode:function(t){return i.decode(t)}},r.compressions=n(8332),t.exports=r},3121:function(t,e,n){"use strict";var i=n(8713),r=n(7512),a=n(1319),o=n(9379);t.exports=function(t,e){var n,s,l,u;for((e=a.extend(e||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:r.utf8decode})).base64&&(t=i.decode(t)),n=(s=new o(t,e)).files,l=0;l<n.length;l++)this.file((u=n[l]).fileNameStr,u.decompressed,{binary:!0,optimizedBinaryString:!0,date:u.date,dir:u.dir,comment:u.fileCommentStr.length?u.fileCommentStr:null,unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions,createFolders:e.createFolders});return s.zipComment.length&&(this.comment=s.zipComment),this}},8994:function(t){"use strict";t.exports=function(t,e){return new Buffer(t,e)},t.exports.test=function(t){return Buffer.isBuffer(t)}},8368:function(t,e,n){"use strict";var i=n(5674);function r(t){this.data=t,this.length=this.data.length,this.index=0,this.zero=0}(r.prototype=new i).readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},5682:function(t,e,n){"use strict";var i=n(6659),r=n(1319),a=n(2334),o=n(4267),s=n(6261),l=n(8713),u=n(8332),c=n(9522),h=n(8994),d=n(7512),f=n(8041),p=n(63),g=function(t){if(t._data instanceof c&&(t._data=t._data.getContent(),t.options.binary=!0,t.options.base64=!1,"uint8array"===r.getTypeOf(t._data))){var e=t._data;t._data=new Uint8Array(e.length),0!==e.length&&t._data.set(e,0)}return t._data},v=function(t){var e=g(t);return"string"===r.getTypeOf(e)?!t.options.binary&&i.nodebuffer?h(e,"utf-8"):t.asBinary():e},m=function(t){var e=g(this);return null==e?"":(this.options.base64&&(e=l.decode(e)),e=t&&this.options.binary?T.utf8decode(e):r.transformTo("string",e),!t&&!this.options.binary&&(e=r.transformTo("string",T.utf8encode(e))),e)},_=function(t,e,n){this.name=t,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=e,this.options=n,this._initialMetadata={dir:n.dir,date:n.date}};_.prototype={asText:function(){return m.call(this,!0)},asBinary:function(){return m.call(this,!1)},asNodeBuffer:function(){var t=v(this);return r.transformTo("nodebuffer",t)},asUint8Array:function(){var t=v(this);return r.transformTo("uint8array",t)},asArrayBuffer:function(){return this.asUint8Array().buffer}};var y=function(t,e){var n,i="";for(n=0;n<e;n++)i+=String.fromCharCode(255&t),t>>>=8;return i},b=function(t,e,n){var i,a=r.getTypeOf(e);if("string"==typeof(n=function(t){return!0===(t=t||{}).base64&&null==t.binary&&(t.binary=!0),(t=r.extend(t,s)).date=t.date||new Date,null!==t.compression&&(t.compression=t.compression.toUpperCase()),t}(n)).unixPermissions&&(n.unixPermissions=parseInt(n.unixPermissions,8)),n.unixPermissions&&16384&n.unixPermissions&&(n.dir=!0),n.dosPermissions&&16&n.dosPermissions&&(n.dir=!0),n.dir&&(t=w(t)),n.createFolders&&(i=x(t))&&k.call(this,i,!0),n.dir||null==e)n.base64=!1,n.binary=!1,e=null,a=null;else if("string"===a)n.binary&&!n.base64&&!0!==n.optimizedBinaryString&&(e=r.string2binary(e));else{if(n.base64=!1,n.binary=!0,!(a||e instanceof c))throw new Error("The data of '"+t+"' is in an unsupported format !");"arraybuffer"===a&&(e=r.transformTo("uint8array",e))}var o=new _(t,e,n);return this.files[t]=o,o},x=function(t){"/"==t.slice(-1)&&(t=t.substring(0,t.length-1));var e=t.lastIndexOf("/");return e>0?t.substring(0,e):""},w=function(t){return"/"!=t.slice(-1)&&(t+="/"),t},k=function(t,e){return e=void 0!==e&&e,t=w(t),this.files[t]||b.call(this,t,null,{dir:!0,createFolders:e}),this.files[t]},C=function(t,e,n){var i,o=new c;return t._data instanceof c?(o.uncompressedSize=t._data.uncompressedSize,o.crc32=t._data.crc32,0===o.uncompressedSize||t.dir?(e=u.STORE,o.compressedContent="",o.crc32=0):t._data.compressionMethod===e.magic?o.compressedContent=t._data.getCompressedContent():(i=t._data.getContent(),o.compressedContent=e.compress(r.transformTo(e.compressInputType,i),n))):((!(i=v(t))||0===i.length||t.dir)&&(e=u.STORE,i=""),o.uncompressedSize=i.length,o.crc32=a(i),o.compressedContent=e.compress(r.transformTo(e.compressInputType,i),n)),o.compressedSize=o.compressedContent.length,o.compressionMethod=e.magic,o},M=function(t,e,n,i,s,l){var u,c,h,f,p=l!==d.utf8encode,g=r.transformTo("string",l(e.name)),v=r.transformTo("string",d.utf8encode(e.name)),m=e.comment||"",_=r.transformTo("string",l(m)),b=r.transformTo("string",d.utf8encode(m)),x=v.length!==e.name.length,w=b.length!==m.length,k=e.options,C="",M="",T="";f=e._initialMetadata.date!==e.date?e.date:k.date;var S=0,A=0;(h=e._initialMetadata.dir!==e.dir?e.dir:k.dir)&&(S|=16),"UNIX"===s?(A=798,S|=function(t,e){var n=t;return t||(n=e?16893:33204),(65535&n)<<16}(e.unixPermissions,h)):(A=20,S|=function(t,e){return 63&(t||0)}(e.dosPermissions)),u=f.getHours(),u<<=6,u|=f.getMinutes(),u<<=5,u|=f.getSeconds()/2,c=f.getFullYear()-1980,c<<=4,c|=f.getMonth()+1,c<<=5,c|=f.getDate(),x&&(M=y(1,1)+y(a(g),4)+v,C+="up"+y(M.length,2)+M),w&&(T=y(1,1)+y(this.crc32(_),4)+b,C+="uc"+y(T.length,2)+T);var E="";return E+="\n\0",E+=p||!x&&!w?"\0\0":"\0\b",E+=n.compressionMethod,E+=y(u,2),E+=y(c,2),E+=y(n.crc32,4),E+=y(n.compressedSize,4),E+=y(n.uncompressedSize,4),E+=y(g.length,2),E+=y(C.length,2),{fileRecord:o.LOCAL_FILE_HEADER+E+g+C,dirRecord:o.CENTRAL_FILE_HEADER+y(A,2)+E+y(_.length,2)+"\0\0\0\0"+y(S,4)+y(i,4)+g+C+_,compressedObject:n}},T={load:function(t,e){throw new Error("Load method is not defined. Is the file jszip-load.js included ?")},filter:function(t){var e,n,i,a,o=[];for(e in this.files)!this.files.hasOwnProperty(e)||(a=new _((i=this.files[e]).name,i._data,r.extend(i.options)),n=e.slice(this.root.length,e.length),e.slice(0,this.root.length)===this.root&&t(n,a)&&o.push(a));return o},file:function(t,e,n){if(1===arguments.length){if(r.isRegExp(t)){var i=t;return this.filter(function(t,e){return!e.dir&&i.test(t)})}return this.filter(function(e,n){return!n.dir&&e===t})[0]||null}return b.call(this,t=this.root+t,e,n),this},folder:function(t){if(!t)return this;if(r.isRegExp(t))return this.filter(function(e,n){return n.dir&&t.test(e)});var e=k.call(this,this.root+t),n=this.clone();return n.root=e.name,n},remove:function(t){var e=this.files[t=this.root+t];if(e||("/"!=t.slice(-1)&&(t+="/"),e=this.files[t]),e&&!e.dir)delete this.files[t];else for(var n=this.filter(function(e,n){return n.name.slice(0,t.length)===t}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(t){t=r.extend(t||{},{base64:!0,compression:"STORE",compressionOptions:null,type:"base64",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:d.utf8encode}),r.checkSupport(t.type),("darwin"===t.platform||"freebsd"===t.platform||"linux"===t.platform||"sunos"===t.platform)&&(t.platform="UNIX"),"win32"===t.platform&&(t.platform="DOS");var e,n,i,a=[],s=0,c=0,h=r.transformTo("string",t.encodeFileName(t.comment||this.comment||""));for(var g in this.files)if(this.files.hasOwnProperty(g)){var v=this.files[g],m=v.options.compression||t.compression.toUpperCase(),_=u[m];if(!_)throw new Error(m+" is not a valid compression method !");var b=C.call(this,v,_,v.options.compressionOptions||t.compressionOptions||{}),x=M.call(this,g,v,b,s,t.platform,t.encodeFileName);s+=x.fileRecord.length+b.compressedSize,c+=x.dirRecord.length,a.push(x)}i=o.CENTRAL_DIRECTORY_END+"\0\0\0\0"+y(a.length,2)+y(a.length,2)+y(c,4)+y(s,4)+y(h.length,2)+h;var w=t.type.toLowerCase();for(e="uint8array"===w||"arraybuffer"===w||"blob"===w||"nodebuffer"===w?new p(s+c+i.length):new f(s+c+i.length),n=0;n<a.length;n++)e.append(a[n].fileRecord),e.append(a[n].compressedObject.compressedContent);for(n=0;n<a.length;n++)e.append(a[n].dirRecord);e.append(i);var k=e.finalize();switch(t.type.toLowerCase()){case"uint8array":case"arraybuffer":case"nodebuffer":return r.transformTo(t.type.toLowerCase(),k);case"blob":return r.arrayBuffer2Blob(r.transformTo("arraybuffer",k),t.mimeType);case"base64":return t.base64?l.encode(k):k;default:return k}},crc32:function(t,e){return a(t,e)},utf8encode:function(t){return r.transformTo("string",d.utf8encode(t))},utf8decode:function(t){return d.utf8decode(t)}};t.exports=T},4267:function(t,e){"use strict";e.LOCAL_FILE_HEADER="PK\x03\x04",e.CENTRAL_FILE_HEADER="PK\x01\x02",e.CENTRAL_DIRECTORY_END="PK\x05\x06",e.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",e.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",e.DATA_DESCRIPTOR="PK\x07\b"},8183:function(t,e,n){"use strict";var i=n(1417),r=n(1319);function a(t,e){this.data=t,e||(this.data=r.string2binary(this.data)),this.length=this.data.length,this.index=0,this.zero=0}(a.prototype=new i).byteAt=function(t){return this.data.charCodeAt(this.zero+t)},a.prototype.lastIndexOfSignature=function(t){return this.data.lastIndexOf(t)-this.zero},a.prototype.readData=function(t){this.checkOffset(t);var e=this.data.slice(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=a},8041:function(t,e,n){"use strict";var i=n(1319),r=function(){this.data=[]};r.prototype={append:function(t){t=i.transformTo("string",t),this.data.push(t)},finalize:function(){return this.data.join("")}},t.exports=r},6659:function(t,e){"use strict";if(e.base64=!0,e.array=!0,e.string=!0,e.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,e.nodebuffer="undefined"!=typeof Buffer,e.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)e.blob=!1;else{var n=new ArrayBuffer(0);try{e.blob=0===new Blob([n],{type:"application/zip"}).size}catch(r){try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);i.append(n),e.blob=0===i.getBlob("application/zip").size}catch(a){e.blob=!1}}}},5674:function(t,e,n){"use strict";var i=n(520);function r(t){t&&(this.data=t,this.length=this.data.length,this.index=0,this.zero=0)}(r.prototype=new i).readData=function(t){if(this.checkOffset(t),0===t)return new Uint8Array(0);var e=this.data.subarray(this.zero+this.index,this.zero+this.index+t);return this.index+=t,e},t.exports=r},63:function(t,e,n){"use strict";var i=n(1319),r=function(t){this.data=new Uint8Array(t),this.index=0};r.prototype={append:function(t){0!==t.length&&(t=i.transformTo("uint8array",t),this.data.set(t,this.index),this.index+=t.length)},finalize:function(){return this.data}},t.exports=r},7512:function(t,e,n){"use strict";for(var i=n(1319),r=n(6659),a=n(8994),o=new Array(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;o[254]=o[254]=1;var l=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+o[t[n]]>e?n:e},u=function(t){var e,n,r,a,s=t.length,l=new Array(2*s);for(n=0,e=0;e<s;)if((r=t[e++])<128)l[n++]=r;else if((a=o[r])>4)l[n++]=65533,e+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&e<s;)r=r<<6|63&t[e++],a--;a>1?l[n++]=65533:r<65536?l[n++]=r:(l[n++]=55296|(r-=65536)>>10&1023,l[n++]=56320|1023&r)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)};e.utf8encode=function(t){return r.nodebuffer?a(t,"utf-8"):function(t){var e,n,i,a,o,s=t.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=r.uint8array?new Uint8Array(l):new Array(l),o=0,a=0;o<l;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e}(t)},e.utf8decode=function(t){if(r.nodebuffer)return i.transformTo("nodebuffer",t).toString("utf-8");for(var e=[],n=0,a=(t=i.transformTo(r.uint8array?"uint8array":"array",t)).length;n<a;){var o=l(t,Math.min(n+65536,a));e.push(u(r.uint8array?t.subarray(n,o):t.slice(n,o))),n=o}return e.join("")}},1319:function(t,e,n){"use strict";var i=n(6659),r=n(8332),a=n(8994);function o(t){return t}function s(t,e){for(var n=0;n<t.length;++n)e[n]=255&t.charCodeAt(n);return e}function l(t){var n=65536,i=[],r=t.length,o=e.getTypeOf(t),s=0,l=!0;try{switch(o){case"uint8array":String.fromCharCode.apply(null,new Uint8Array(0));break;case"nodebuffer":String.fromCharCode.apply(null,a(0))}}catch(h){l=!1}if(!l){for(var u="",c=0;c<t.length;c++)u+=String.fromCharCode(t[c]);return u}for(;s<r&&n>1;)try{i.push(String.fromCharCode.apply(null,"array"===o||"nodebuffer"===o?t.slice(s,Math.min(s+n,r)):t.subarray(s,Math.min(s+n,r)))),s+=n}catch(h){n=Math.floor(n/2)}return i.join("")}function u(t,e){for(var n=0;n<t.length;n++)e[n]=t[n];return e}e.string2binary=function(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n));return e},e.arrayBuffer2Blob=function(t,n){e.checkSupport("blob"),n=n||"application/zip";try{return new Blob([t],{type:n})}catch(r){try{var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder);return i.append(t),i.getBlob(n)}catch(a){throw new Error("Bug : can't construct the Blob.")}}},e.applyFromCharCode=l;var c={};c.string={string:o,array:function(t){return s(t,new Array(t.length))},arraybuffer:function(t){return c.string.uint8array(t).buffer},uint8array:function(t){return s(t,new Uint8Array(t.length))},nodebuffer:function(t){return s(t,a(t.length))}},c.array={string:l,array:o,arraybuffer:function(t){return new Uint8Array(t).buffer},uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a(t)}},c.arraybuffer={string:function(t){return l(new Uint8Array(t))},array:function(t){return u(new Uint8Array(t),new Array(t.byteLength))},arraybuffer:o,uint8array:function(t){return new Uint8Array(t)},nodebuffer:function(t){return a(new Uint8Array(t))}},c.uint8array={string:l,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return t.buffer},uint8array:o,nodebuffer:function(t){return a(t)}},c.nodebuffer={string:l,array:function(t){return u(t,new Array(t.length))},arraybuffer:function(t){return c.nodebuffer.uint8array(t).buffer},uint8array:function(t){return u(t,new Uint8Array(t.length))},nodebuffer:o},e.transformTo=function(t,n){if(n||(n=""),!t)return n;e.checkSupport(t);var i=e.getTypeOf(n);return c[i][t](n)},e.getTypeOf=function(t){return"string"==typeof t?"string":"[object Array]"===Object.prototype.toString.call(t)?"array":i.nodebuffer&&a.test(t)?"nodebuffer":i.uint8array&&t instanceof Uint8Array?"uint8array":i.arraybuffer&&t instanceof ArrayBuffer?"arraybuffer":void 0},e.checkSupport=function(t){if(!i[t.toLowerCase()])throw new Error(t+" is not supported by this browser")},e.MAX_VALUE_16BITS=65535,e.MAX_VALUE_32BITS=-1,e.pretty=function(t){var e,n,i="";for(n=0;n<(t||"").length;n++)i+="\\x"+((e=t.charCodeAt(n))<16?"0":"")+e.toString(16).toUpperCase();return i},e.findCompression=function(t){for(var e in r)if(r.hasOwnProperty(e)&&r[e].magic===t)return r[e];return null},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.extend=function(){var t,e,n={};for(t=0;t<arguments.length;t++)for(e in arguments[t])arguments[t].hasOwnProperty(e)&&void 0===n[e]&&(n[e]=arguments[t][e]);return n}},9379:function(t,e,n){"use strict";var i=n(8183),r=n(8368),a=n(5674),o=n(520),s=n(1319),l=n(4267),u=n(3188),c=n(6659);function h(t,e){this.files=[],this.loadOptions=e,t&&this.load(t)}n(5682),h.prototype={checkSignature:function(t){var e=this.reader.readString(4);if(e!==t)throw new Error("Corrupted zip or bug : unexpected signature ("+s.pretty(e)+", expected "+s.pretty(t)+")")},isSignature:function(t,e){var n=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===e;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),e=s.transformTo(c.uint8array?"uint8array":"array",t);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.versionMadeBy=this.reader.readString(2),this.versionNeeded=this.reader.readInt(2),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,e,n,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),e=this.reader.readInt(4),n=this.reader.readString(e),this.zip64ExtensibleData[t]={id:t,length:e,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,e;for(t=0;t<this.files.length;t++)this.reader.setIndex((e=this.files[t]).localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),e.readLocalPart(this.reader),e.handleUTF8(),e.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readString(4)===l.CENTRAL_FILE_HEADER;)(t=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip : can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see http://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var e=t;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip : can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=e-n;if(i>0)this.isSignature(e,l.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){var e=s.getTypeOf(t);if(s.checkSupport(e),"string"!==e||c.uint8array)if("nodebuffer"===e)this.reader=new r(t);else if(c.uint8array)this.reader=new a(s.transformTo("uint8array",t));else{if(!c.array)throw new Error("Unexpected error: unsupported type '"+e+"'");this.reader=new o(s.transformTo("array",t))}else this.reader=new i(t,this.loadOptions.optimizedBinaryString)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},3188:function(t,e,n){"use strict";var i=n(8183),r=n(1319),a=n(9522),o=n(5682),s=n(6659);function l(t,e){this.options=t,this.loadOptions=e}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},prepareCompressedContent:function(t,e,n){return function(){var i=t.index;t.setIndex(e);var r=t.readData(n);return t.setIndex(i),r}},prepareContent:function(t,e,n,i,a){return function(){var t=r.transformTo(i.uncompressInputType,this.getCompressedContent()),e=i.uncompress(t);if(e.length!==a)throw new Error("Bug : uncompressed data size mismatch");return e}},readLocalPart:function(t){var e,n;if(t.skip(22),this.fileNameLength=t.readInt(2),n=t.readInt(2),this.fileName=t.readData(this.fileNameLength),t.skip(n),-1==this.compressedSize||-1==this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");if(null===(e=r.findCompression(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");if(this.decompressed=new a,this.decompressed.compressedSize=this.compressedSize,this.decompressed.uncompressedSize=this.uncompressedSize,this.decompressed.crc32=this.crc32,this.decompressed.compressionMethod=this.compressionMethod,this.decompressed.getCompressedContent=this.prepareCompressedContent(t,t.index,this.compressedSize,e),this.decompressed.getContent=this.prepareContent(t,t.index,this.compressedSize,e,this.uncompressedSize),this.loadOptions.checkCRC32&&(this.decompressed=r.transformTo("string",this.decompressed.getContent()),o.crc32(this.decompressed)!==this.crc32))throw new Error("Corrupted zip : CRC32 mismatch")},readCentralPart:function(t){if(this.versionMadeBy=t.readInt(2),this.versionNeeded=t.readInt(2),this.bitFlag=t.readInt(2),this.compressionMethod=t.readString(2),this.date=t.readDate(),this.crc32=t.readInt(4),this.compressedSize=t.readInt(4),this.uncompressedSize=t.readInt(4),this.fileNameLength=t.readInt(2),this.extraFieldsLength=t.readInt(2),this.fileCommentLength=t.readInt(2),this.diskNumberStart=t.readInt(2),this.internalFileAttributes=t.readInt(2),this.externalFileAttributes=t.readInt(4),this.localHeaderOffset=t.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");this.fileName=t.readData(this.fileNameLength),this.readExtraFields(t),this.parseZIP64ExtraField(t),this.fileComment=t.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var t=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===t&&(this.dosPermissions=63&this.externalFileAttributes),3===t&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&"/"===this.fileNameStr.slice(-1)&&(this.dir=!0)},parseZIP64ExtraField:function(t){if(this.extraFields[1]){var e=new i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(t){var e,n,i,r=t.index;for(this.extraFields=this.extraFields||{};t.index<r+this.extraFieldsLength;)e=t.readInt(2),n=t.readInt(2),i=t.readString(n),this.extraFields[e]={id:e,length:n,value:i}},handleUTF8:function(){var t=s.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var e=this.findExtraFieldUnicodePath();if(null!==e)this.fileNameStr=e;else{var n=r.transformTo(t,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=r.transformTo(t,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var t=this.extraFields[28789];if(t){var e=new i(t.value);return 1!==e.readInt(1)||o.crc32(this.fileName)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null},findExtraFieldUnicodeComment:function(){var t=this.extraFields[25461];if(t){var e=new i(t.value);return 1!==e.readInt(1)||o.crc32(this.fileComment)!==e.readInt(4)?null:o.utf8decode(e.readString(t.length-5))}return null}},t.exports=l},5105:function(t,e,n){"use strict";var i={};(0,n(9510).assign)(i,n(2868),n(6963),n(6582)),t.exports=i},2868:function(t,e,n){"use strict";var i=n(1593),r=n(9510),a=n(3456),o=n(6587),s=n(9518),l=Object.prototype.toString;function u(t){if(!(this instanceof u))return new u(t);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(o[n]);if(e.header&&i.deflateSetHeader(this.strm,e.header),e.dictionary){var c;if(c="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=i.deflateSetDictionary(this.strm,c)))throw new Error(o[n]);this._dict_set=!0}}function c(t,e){var n=new u(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}u.prototype.push=function(t,e){var n,o,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,s.input="string"==typeof t?a.string2buf(t):"[object ArrayBuffer]"===l.call(t)?new Uint8Array(t):t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=i.deflate(s,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;(0===s.avail_out||0===s.avail_in&&(4===o||2===o))&&this.onData("string"===this.options.to?a.buf2binstring(r.shrinkBuf(s.output,s.next_out)):r.shrinkBuf(s.output,s.next_out))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):(2===o&&(this.onEnd(0),s.avail_out=0),!0)},u.prototype.onData=function(t){this.chunks.push(t)},u.prototype.onEnd=function(t){0===t&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=u,e.deflate=c,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,c(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,c(t,e)}},6963:function(t,e,n){"use strict";var i=n(8786),r=n(9510),a=n(3456),o=n(6582),s=n(6587),l=n(9518),u=n(6909),c=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,e.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new u,i.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=i.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(s[n])}function d(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,l,u,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,d.input="string"==typeof t?a.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?new Uint8Array(t):t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new r.Buf8(f),d.next_out=0,d.avail_out=f),(n=i.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&p&&(n=i.inflateSetDictionary(this.strm,p)),n===o.Z_BUF_ERROR&&!0===g&&(n=o.Z_OK,g=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0===d.avail_out||n===o.Z_STREAM_END||0===d.avail_in&&(s===o.Z_FINISH||s===o.Z_SYNC_FLUSH))&&("string"===this.options.to?(l=a.utf8border(d.output,d.next_out),u=d.next_out-l,h=a.buf2string(d.output,l),d.next_out=u,d.avail_out=f-u,u&&r.arraySet(d.output,d.output,l,u,0),this.onData(h)):this.onData(r.shrinkBuf(d.output,d.next_out))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):(s===o.Z_SYNC_FLUSH&&(this.onEnd(o.Z_OK),d.avail_out=0),!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===o.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=d,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},e.ungzip=d},9510:function(t,e){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(t[r]=n[r])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var r={arraySet:function(t,e,n,i,r){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+i),r);else for(var a=0;a<i;a++)t[r+a]=e[n+a]},flattenChunks:function(t){var e,n,i,r,a,o;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(o=new Uint8Array(i),r=0,e=0,n=t.length;e<n;e++)o.set(a=t[e],r),r+=a.length;return o}},a={arraySet:function(t,e,n,i,r){for(var a=0;a<i;a++)t[r+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,r)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,a))},e.setTyped(n)},3456:function(t,e,n){"use strict";var i=n(9510),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(u){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){a=!1}for(var o=new i.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(t,e));for(var n="",o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n}o[254]=o[254]=1,e.string2buf=function(t){var e,n,r,a,o,s=t.length,l=0;for(a=0;a<s;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),l+=n<128?1:n<2048?2:n<65536?3:4;for(e=new i.Buf8(l),o=0,a=0;o<l;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(r=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},e.buf2binstring=function(t){return l(t,t.length)},e.binstring2buf=function(t){for(var e=new i.Buf8(t.length),n=0,r=e.length;n<r;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,i,r,a,s=e||t.length,u=new Array(2*s);for(i=0,n=0;n<s;)if((r=t[n++])<128)u[i++]=r;else if((a=o[r])>4)u[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;a>1&&n<s;)r=r<<6|63&t[n++],a--;a>1?u[i++]=65533:r<65536?u[i++]=r:(u[i++]=55296|(r-=65536)>>10&1023,u[i++]=56320|1023&r)}return l(u,i)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+o[t[n]]>e?n:e}},8013:function(t){"use strict";t.exports=function(t,e,n,i){for(var r=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(r=r+e[i++]|0)|0}while(--o);r%=65521,a%=65521}return r|a<<16|0}},6582:function(t){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8264:function(t){"use strict";var e=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,n,i,r){var a=e,o=r+i;t^=-1;for(var s=r;s<o;s++)t=t>>>8^a[255&(t^n[s])];return-1^t}},1593:function(t,e,n){"use strict";var i,r=n(9510),a=n(9903),o=n(8013),s=n(8264),l=n(6587),u=-2,c=262;function h(t,e){return t.msg=l[e],e}function d(t){return(t<<1)-(t>4?9:0)}function f(t){for(var e=t.length;--e>=0;)t[e]=0}function p(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(r.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function g(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,p(t.strm)}function v(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function _(t,e,n,i){var a=t.avail_in;return a>i&&(a=i),0===a?0:(t.avail_in-=a,r.arraySet(e,t.input,t.next_in,a,n),1===t.state.wrap?t.adler=o(t.adler,e,a,n):2===t.state.wrap&&(t.adler=s(t.adler,e,a,n)),t.next_in+=a,t.total_in+=a,a)}function y(t,e){var n,i,r=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,l=t.strstart>t.w_size-c?t.strstart-(t.w_size-c):0,u=t.window,h=t.w_mask,d=t.prev,f=t.strstart+258,p=u[a+o-1],g=u[a+o];t.prev_length>=t.good_match&&(r>>=2),s>t.lookahead&&(s=t.lookahead);do{if(u[(n=e)+o]===g&&u[n+o-1]===p&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<f);if(i=258-(f-a),a=f-258,i>o){if(t.match_start=e,o=i,i>=s)break;p=u[a+o-1],g=u[a+o]}}}while((e=d[e&h])>l&&0!=--r);return o<=t.lookahead?o:t.lookahead}function b(t){var e,n,i,a,o,s=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-c)){r.arraySet(t.window,t.window,s,s,0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=s?i-s:0}while(--n);e=n=s;do{i=t.prev[--e],t.prev[e]=i>=s?i-s:0}while(--n);a+=s}if(0===t.strm.avail_in)break;if(n=_(t.strm,t.window,t.strstart+t.lookahead,a),t.lookahead+=n,t.lookahead+t.insert>=3)for(t.ins_h=t.window[o=t.strstart-t.insert],t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[o+3-1])&t.hash_mask,t.prev[o&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=o,o++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<c&&0!==t.strm.avail_in)}function x(t,e){for(var n,i;;){if(t.lookahead<c){if(b(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-c&&(t.match_length=y(t,n)),t.match_length>=3)if(i=a._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}function w(t,e){for(var n,i,r;;){if(t.lookahead<c){if(b(t),t.lookahead<c&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-c&&(t.match_length=y(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(g(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=a._tr_tally(t,0,t.window[t.strstart-1]))&&g(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}function k(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),f(this.dyn_ltree),f(this.dyn_dtree),f(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),f(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),f(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,a._tr_init(e),0):h(t,u)}function T(t){var e=M(t);return 0===e&&function(t){t.window_size=2*t.w_size,f(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0}(t.state),e}function S(t,e,n,i,a,o){if(!t)return u;var s=1;if(-1===e&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),a<1||a>9||8!==n||i<8||i>15||e<0||e>9||o<0||o>4)return h(t,u);8===i&&(i=9);var l=new C;return t.state=l,l.strm=t,l.wrap=s,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=a+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new r.Buf8(2*l.w_size),l.head=new r.Buf16(l.hash_size),l.prev=new r.Buf16(l.w_size),l.lit_bufsize=1<<a+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new r.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=e,l.strategy=o,l.method=n,T(t)}i=[new k(0,0,0,0,function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(b(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,g(t,!1),0===t.strm.avail_out)||t.strstart-t.block_start>=t.w_size-c&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(g(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&g(t,!1),1)}),new k(4,4,8,4,x),new k(4,5,16,8,x),new k(4,6,32,32,x),new k(4,4,16,16,w),new k(8,16,32,32,w),new k(8,16,128,128,w),new k(8,32,128,256,w),new k(32,128,258,1024,w),new k(32,258,258,4096,w)],e.deflateInit=function(t,e){return S(t,e,8,15,8,0)},e.deflateInit2=S,e.deflateReset=T,e.deflateResetKeep=M,e.deflateSetHeader=function(t,e){return t&&t.state&&2===t.state.wrap?(t.state.gzhead=e,0):u},e.deflate=function(t,e){var n,r,o,l;if(!t||!t.state||e>5||e<0)return t?h(t,u):u;if(r=t.state,!t.output||!t.input&&0!==t.avail_in||666===r.status&&4!==e)return h(t,0===t.avail_out?-5:u);if(r.strm=t,n=r.last_flush,r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,v(r,31),v(r,139),v(r,8),r.gzhead?(v(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),v(r,255&r.gzhead.time),v(r,r.gzhead.time>>8&255),v(r,r.gzhead.time>>16&255),v(r,r.gzhead.time>>24&255),v(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),v(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(v(r,255&r.gzhead.extra.length),v(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=s(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(v(r,0),v(r,0),v(r,0),v(r,0),v(r,0),v(r,9===r.level?2:r.strategy>=2||r.level<2?4:0),v(r,3),r.status=113);else{var c=8+(r.w_bits-8<<4)<<8;c|=(r.strategy>=2||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(c|=32),c+=31-c%31,r.status=113,m(r,c),0!==r.strstart&&(m(r,t.adler>>>16),m(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),p(t),o=r.pending,r.pending!==r.pending_buf_size));)v(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),p(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),p(t),o=r.pending,r.pending===r.pending_buf_size)){l=1;break}l=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,v(r,l)}while(0!==l);r.gzhead.hcrc&&r.pending>o&&(t.adler=s(t.adler,r.pending_buf,r.pending-o,o)),0===l&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&p(t),r.pending+2<=r.pending_buf_size&&(v(r,255&t.adler),v(r,t.adler>>8&255),t.adler=0,r.status=113)):r.status=113),0!==r.pending){if(p(t),0===t.avail_out)return r.last_flush=-1,0}else if(0===t.avail_in&&d(e)<=d(n)&&4!==e)return h(t,-5);if(666===r.status&&0!==t.avail_in)return h(t,-5);if(0!==t.avail_in||0!==r.lookahead||0!==e&&666!==r.status){var _=2===r.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(b(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}(r,e):3===r.strategy?function(t,e){for(var n,i,r,o,s=t.window;;){if(t.lookahead<=258){if(b(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){o=t.strstart+258;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<o);t.match_length=258-(o-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=a._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(g(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(g(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(g(t,!1),0===t.strm.avail_out)?1:2}(r,e):i[r.level].func(r,e);if((3===_||4===_)&&(r.status=666),1===_||3===_)return 0===t.avail_out&&(r.last_flush=-1),0;if(2===_&&(1===e?a._tr_align(r):5!==e&&(a._tr_stored_block(r,0,0,!1),3===e&&(f(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),p(t),0===t.avail_out))return r.last_flush=-1,0}return 4!==e?0:r.wrap<=0?1:(2===r.wrap?(v(r,255&t.adler),v(r,t.adler>>8&255),v(r,t.adler>>16&255),v(r,t.adler>>24&255),v(r,255&t.total_in),v(r,t.total_in>>8&255),v(r,t.total_in>>16&255),v(r,t.total_in>>24&255)):(m(r,t.adler>>>16),m(r,65535&t.adler)),p(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?h(t,u):(t.state=null,113===e?h(t,-3):0):u},e.deflateSetDictionary=function(t,e){var n,i,a,s,l,c,h,d,p=e.length;if(!t||!t.state||2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return u;for(1===s&&(t.adler=o(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(f(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new r.Buf8(n.w_size),r.arraySet(d,e,p-n.w_size,n.w_size,0),e=d,p=n.w_size),l=t.avail_in,c=t.next_in,h=t.input,t.avail_in=p,t.next_in=0,t.input=e,b(n);n.lookahead>=3;){i=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--a);n.strstart=i,n.lookahead=2,b(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=h,t.avail_in=l,n.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},6909:function(t){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},512:function(t){"use strict";t.exports=function(t,e){var n,i,r,a,o,s,l,u,c,h,d,f,p,g,v,m,_,y,b,x,w,k,C,M,T;M=t.input,r=(i=t.next_in)+(t.avail_in-5),T=t.output,o=(a=t.next_out)-(e-t.avail_out),s=a+(t.avail_out-257),l=(n=t.state).dmax,u=n.wsize,c=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,v=n.distcode,m=(1<<n.lenbits)-1,_=(1<<n.distbits)-1;t:do{p<15&&(f+=M[i++]<<p,f+=M[i++]<<(p+=8),p+=8),y=g[f&m];e:for(;;){if(f>>>=b=y>>>24,p-=b,0==(b=y>>>16&255))T[a++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=g[(65535&y)+(f&(1<<b)-1)];continue e}if(32&b){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}x=65535&y,(b&=15)&&(p<b&&(f+=M[i++]<<p,p+=8),x+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=M[i++]<<p,f+=M[i++]<<(p+=8),p+=8),y=v[f&_];n:for(;;){if(f>>>=b=y>>>24,p-=b,!(16&(b=y>>>16&255))){if(0==(64&b)){y=v[(65535&y)+(f&(1<<b)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(w=65535&y,p<(b&=15)&&(f+=M[i++]<<p,(p+=8)<b&&(f+=M[i++]<<p,p+=8)),(w+=f&(1<<b)-1)>l){t.msg="invalid distance too far back",n.mode=30;break t}if(f>>>=b,p-=b,w>(b=a-o)){if((b=w-b)>c&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(k=0,C=d,0===h){if(k+=u-b,b<x){x-=b;do{T[a++]=d[k++]}while(--b);k=a-w,C=T}}else if(h<b){if(k+=u+h-b,(b-=h)<x){x-=b;do{T[a++]=d[k++]}while(--b);if(k=0,h<x){x-=b=h;do{T[a++]=d[k++]}while(--b);k=a-w,C=T}}}else if(k+=h-b,b<x){x-=b;do{T[a++]=d[k++]}while(--b);k=a-w,C=T}for(;x>2;)T[a++]=C[k++],T[a++]=C[k++],T[a++]=C[k++],x-=3;x&&(T[a++]=C[k++],x>1&&(T[a++]=C[k++]))}else{k=a-w;do{T[a++]=T[k++],T[a++]=T[k++],T[a++]=T[k++],x-=3}while(x>2);x&&(T[a++]=T[k++],x>1&&(T[a++]=T[k++]))}break}}break}}while(i<r&&a<s);f&=(1<<(p-=(x=p>>3)<<3))-1,t.next_in=i-=x,t.next_out=a,t.avail_in=i<r?r-i+5:5-(i-r),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=f,n.bits=p}},8786:function(t,e,n){"use strict";var i=n(9510),r=n(8013),a=n(8264),o=n(512),s=n(5024);function l(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function c(t){var e;return t&&t.state?(t.total_in=t.total_out=(e=t.state).total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new i.Buf32(852),e.distcode=e.distdyn=new i.Buf32(592),e.sane=1,e.back=-1,0):-2}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,c(t)):-2}function d(t,e){var n,i;return!t||!t.state||(i=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15))?-2:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,h(t))}function f(t,e){var n,i;return t?(i=new u,t.state=i,i.window=null,0!==(n=d(t,e))&&(t.state=null),n):-2}var p,g,v=!0;function m(t){if(v){var e;for(p=new i.Buf32(512),g=new i.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,p,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,g,0,t.work,{bits:5}),v=!1}t.lencode=p,t.lenbits=9,t.distcode=g,t.distbits=5}function _(t,e,n,r){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),r>=o.wsize?(i.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>r&&(a=r),i.arraySet(o.window,e,n-r,a,o.wnext),(r-=a)?(i.arraySet(o.window,e,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}e.inflateReset=h,e.inflateReset2=d,e.inflateResetKeep=c,e.inflateInit=function(t){return f(t,15)},e.inflateInit2=f,e.inflate=function(t,e){var n,u,c,h,d,f,p,g,v,y,b,x,w,k,C,M,T,S,A,E,P,I,O,R,L=0,D=new i.Buf8(4),N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),d=t.next_out,c=t.output,h=t.next_in,u=t.input,g=n.hold,v=n.bits,y=f=t.avail_in,b=p=t.avail_out,I=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if(2&n.wrap&&35615===g){n.check=0,D[0]=255&g,D[1]=g>>>8&255,n.check=a(n.check,D,2,0),g=0,v=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&g)<<8)+(g>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&g)){t.msg="unknown compression method",n.mode=30;break}if(v-=4,P=8+(15&(g>>>=4)),0===n.wbits)n.wbits=P;else if(P>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<P,t.adler=n.check=1,n.mode=512&g?10:12,g=0,v=0;break;case 2:for(;v<16;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if(n.flags=g,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=g>>8&1),512&n.flags&&(D[0]=255&g,D[1]=g>>>8&255,n.check=a(n.check,D,2,0)),g=0,v=0,n.mode=3;case 3:for(;v<32;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}n.head&&(n.head.time=g),512&n.flags&&(D[0]=255&g,D[1]=g>>>8&255,D[2]=g>>>16&255,D[3]=g>>>24&255,n.check=a(n.check,D,4,0)),g=0,v=0,n.mode=4;case 4:for(;v<16;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}n.head&&(n.head.xflags=255&g,n.head.os=g>>8),512&n.flags&&(D[0]=255&g,D[1]=g>>>8&255,n.check=a(n.check,D,2,0)),g=0,v=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}n.length=g,n.head&&(n.head.extra_len=g),512&n.flags&&(D[0]=255&g,D[1]=g>>>8&255,n.check=a(n.check,D,2,0)),g=0,v=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((x=n.length)>f&&(x=f),x&&(n.head&&(P=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,u,h,x,P)),512&n.flags&&(n.check=a(n.check,u,x,h)),f-=x,h+=x,n.length-=x),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===f)break t;x=0;do{P=u[h+x++],n.head&&P&&n.length<65536&&(n.head.name+=String.fromCharCode(P))}while(P&&x<f);if(512&n.flags&&(n.check=a(n.check,u,x,h)),f-=x,h+=x,P)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===f)break t;x=0;do{P=u[h+x++],n.head&&P&&n.length<65536&&(n.head.comment+=String.fromCharCode(P))}while(P&&x<f);if(512&n.flags&&(n.check=a(n.check,u,x,h)),f-=x,h+=x,P)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if(g!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}g=0,v=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}t.adler=n.check=l(g),g=0,v=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=d,t.avail_out=p,t.next_in=h,t.avail_in=f,n.hold=g,n.bits=v,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){g>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}switch(n.last=1&g,v-=1,3&(g>>>=1)){case 0:n.mode=14;break;case 1:if(m(n),n.mode=20,6===e){g>>>=2,v-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}g>>>=2,v-=2;break;case 14:for(g>>>=7&v,v-=7&v;v<32;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if((65535&g)!=(g>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&g,g=0,v=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(x=n.length){if(x>f&&(x=f),x>p&&(x=p),0===x)break t;i.arraySet(c,u,h,x,d),f-=x,h+=x,p-=x,d+=x,n.length-=x;break}n.mode=12;break;case 17:for(;v<14;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if(n.nlen=257+(31&g),v-=5,n.ndist=1+(31&(g>>>=5)),v-=5,n.ncode=4+(15&(g>>>=5)),g>>>=4,v-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}n.lens[N[n.have++]]=7&g,g>>>=3,v-=3}for(;n.have<19;)n.lens[N[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I=s(0,n.lens,0,19,n.lencode,0,n.work,O={bits:n.lenbits}),n.lenbits=O.bits,I){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;M=(L=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,T=65535&L,!((C=L>>>24)<=v);){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if(T<16)g>>>=C,v-=C,n.lens[n.have++]=T;else{if(16===T){for(R=C+2;v<R;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if(g>>>=C,v-=C,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}P=n.lens[n.have-1],x=3+(3&g),g>>>=2,v-=2}else if(17===T){for(R=C+3;v<R;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}v-=C,P=0,x=3+(7&(g>>>=C)),g>>>=3,v-=3}else{for(R=C+7;v<R;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}v-=C,P=0,x=11+(127&(g>>>=C)),g>>>=7,v-=7}if(n.have+x>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=P}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,O={bits:n.lenbits}),n.lenbits=O.bits,I){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,O={bits:n.distbits}),n.distbits=O.bits,I){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(f>=6&&p>=258){t.next_out=d,t.avail_out=p,t.next_in=h,t.avail_in=f,n.hold=g,n.bits=v,o(t,b),d=t.next_out,c=t.output,p=t.avail_out,h=t.next_in,u=t.input,f=t.avail_in,g=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;M=(L=n.lencode[g&(1<<n.lenbits)-1])>>>16&255,T=65535&L,!((C=L>>>24)<=v);){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if(M&&0==(240&M)){for(S=C,A=M,E=T;M=(L=n.lencode[E+((g&(1<<S+A)-1)>>S)])>>>16&255,T=65535&L,!(S+(C=L>>>24)<=v);){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}g>>>=S,v-=S,n.back+=S}if(g>>>=C,v-=C,n.back+=C,n.length=T,0===M){n.mode=26;break}if(32&M){n.back=-1,n.mode=12;break}if(64&M){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&M,n.mode=22;case 22:if(n.extra){for(R=n.extra;v<R;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}n.length+=g&(1<<n.extra)-1,g>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;M=(L=n.distcode[g&(1<<n.distbits)-1])>>>16&255,T=65535&L,!((C=L>>>24)<=v);){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if(0==(240&M)){for(S=C,A=M,E=T;M=(L=n.distcode[E+((g&(1<<S+A)-1)>>S)])>>>16&255,T=65535&L,!(S+(C=L>>>24)<=v);){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}g>>>=S,v-=S,n.back+=S}if(g>>>=C,v-=C,n.back+=C,64&M){t.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&M,n.mode=24;case 24:if(n.extra){for(R=n.extra;v<R;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}n.offset+=g&(1<<n.extra)-1,g>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===p)break t;if(n.offset>(x=b-p)){if((x=n.offset-x)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}w=x>n.wnext?n.wsize-(x-=n.wnext):n.wnext-x,x>n.length&&(x=n.length),k=n.window}else k=c,w=d-n.offset,x=n.length;x>p&&(x=p),p-=x,n.length-=x;do{c[d++]=k[w++]}while(--x);0===n.length&&(n.mode=21);break;case 26:if(0===p)break t;c[d++]=n.length,p--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===f)break t;f--,g|=u[h++]<<v,v+=8}if(t.total_out+=b-=p,n.total+=b,b&&(t.adler=n.check=n.flags?a(n.check,c,b,d-b):r(n.check,c,b,d-b)),b=p,(n.flags?g:l(g))!==n.check){t.msg="incorrect data check",n.mode=30;break}g=0,v=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===f)break t;f--,g+=u[h++]<<v,v+=8}if(g!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}g=0,v=0}n.mode=29;case 29:I=1;break t;case 30:I=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=d,t.avail_out=p,t.next_in=h,t.avail_in=f,n.hold=g,n.bits=v,(n.wsize||b!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&_(t,t.output,t.next_out,b-t.avail_out)?(n.mode=31,-4):(b-=t.avail_out,t.total_in+=y-=t.avail_in,t.total_out+=b,n.total+=b,n.wrap&&b&&(t.adler=n.check=n.flags?a(n.check,c,b,t.next_out-b):r(n.check,c,b,t.next_out-b)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===y&&0===b||4===e)&&0===I&&(I=-5),I)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state&&0!=(2&(n=t.state).wrap)?(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,i=e.length;return t&&t.state&&(0===(n=t.state).wrap||11===n.mode)?11===n.mode&&r(1,e,i,0)!==n.check?-3:_(t,e,i,i)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},5024:function(t,e,n){"use strict";var i=n(9510),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,l,u,c,h,d){var f,p,g,v,m,_,y,b,x,w=d.bits,k=0,C=0,M=0,T=0,S=0,A=0,E=0,P=0,I=0,O=0,R=null,L=0,D=new i.Buf16(16),N=new i.Buf16(16),Z=null,F=0;for(k=0;k<=15;k++)D[k]=0;for(C=0;C<l;C++)D[e[n+C]]++;for(S=w,T=15;T>=1&&0===D[T];T--);if(S>T&&(S=T),0===T)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(M=1;M<T&&0===D[M];M++);for(S<M&&(S=M),P=1,k=1;k<=15;k++)if(P<<=1,(P-=D[k])<0)return-1;if(P>0&&(0===t||1!==T))return-1;for(N[1]=0,k=1;k<15;k++)N[k+1]=N[k]+D[k];for(C=0;C<l;C++)0!==e[n+C]&&(h[N[e[n+C]]++]=C);if(0===t?(R=Z=h,_=19):1===t?(R=r,L-=257,Z=a,F-=257,_=256):(R=o,Z=s,_=-1),O=0,C=0,k=M,m=c,A=S,E=0,g=-1,v=(I=1<<S)-1,1===t&&I>852||2===t&&I>592)return 1;for(;;){y=k-E,h[C]<_?(b=0,x=h[C]):h[C]>_?(b=Z[F+h[C]],x=R[L+h[C]]):(b=96,x=0),f=1<<k-E,M=p=1<<A;do{u[m+(O>>E)+(p-=f)]=y<<24|b<<16|x|0}while(0!==p);for(f=1<<k-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,C++,0==--D[k]){if(k===T)break;k=e[n+h[C]]}if(k>S&&(O&v)!==g){for(0===E&&(E=S),m+=M,P=1<<(A=k-E);A+E<T&&!((P-=D[A+E])<=0);)A++,P<<=1;if(I+=1<<A,1===t&&I>852||2===t&&I>592)return 1;u[g=O&v]=S<<24|A<<16|m-c|0}}return 0!==O&&(u[m+O]=k-E<<24|64<<16|0),d.bits=S,0}},6587:function(t){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},9903:function(t,e,n){"use strict";var i=n(9510);function r(t){for(var e=t.length;--e>=0;)t[e]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);r(u);var c=new Array(60);r(c);var h=new Array(512);r(h);var d=new Array(256);r(d);var f=new Array(29);r(f);var p,g,v,m=new Array(30);function _(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function b(t){return t<256?h[t]:h[256+(t>>>7)]}function x(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function w(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,x(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function k(t,e,n){w(t,n[2*e],n[2*e+1])}function C(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function M(t,e,n){var i,r,a=new Array(16),o=0;for(i=1;i<=15;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=e;r++){var s=t[2*r+1];0!==s&&(t[2*r]=C(a[s]++,s))}}function T(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function S(t){t.bi_valid>8?x(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function A(t,e,n,i){var r=2*e,a=2*n;return t[r]<t[a]||t[r]===t[a]&&i[e]<=i[n]}function E(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&A(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!A(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i}function P(t,e,n){var i,r,s,l,u=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*u]<<8|t.pending_buf[t.d_buf+2*u+1],r=t.pending_buf[t.l_buf+u],u++,0===i?k(t,r,e):(k(t,(s=d[r])+256+1,e),0!==(l=a[s])&&w(t,r-=f[s],l),k(t,s=b(--i),n),0!==(l=o[s])&&w(t,i-=m[s],l))}while(u<t.last_lit);k(t,256,e)}function I(t,e){var n,i,r,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,l=e.stat_desc.elems,u=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<l;n++)0!==a[2*n]?(t.heap[++t.heap_len]=u=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(r=t.heap[++t.heap_len]=u<2?++u:0)]=1,t.depth[r]=0,t.opt_len--,s&&(t.static_len-=o[2*r+1]);for(e.max_code=u,n=t.heap_len>>1;n>=1;n--)E(t,a,n);r=l;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],E(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,a[2*r]=a[2*n]+a[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,a[2*n+1]=a[2*i+1]=r,t.heap[1]=r++,E(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,a,o,s,l=e.dyn_tree,u=e.max_code,c=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,f=e.stat_desc.extra_base,p=e.stat_desc.max_length,g=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(l[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(a=l[2*l[2*(i=t.heap[n])+1]+1]+1)>p&&(a=p,g++),l[2*i+1]=a,!(i>u)&&(t.bl_count[a]++,o=0,i>=f&&(o=d[i-f]),t.opt_len+=(s=l[2*i])*(a+o),h&&(t.static_len+=s*(c[2*i+1]+o)));if(0!==g){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(a=p;0!==a;a--)for(i=t.bl_count[a];0!==i;)!((r=t.heap[--n])>u)&&(l[2*r+1]!==a&&(t.opt_len+=(a-l[2*r+1])*l[2*r],l[2*r+1]=a),i--)}}(t,e),M(a,u,t.bl_count)}function O(t,e,n){var i,r,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=e[2*(i+1)+1],!(++s<l&&r===o)&&(s<u?t.bl_tree[2*r]+=s:0!==r?(r!==a&&t.bl_tree[2*r]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4))}function R(t,e,n){var i,r,a=-1,o=e[1],s=0,l=7,u=4;for(0===o&&(l=138,u=3),i=0;i<=n;i++)if(r=o,o=e[2*(i+1)+1],!(++s<l&&r===o)){if(s<u)do{k(t,r,t.bl_tree)}while(0!=--s);else 0!==r?(r!==a&&(k(t,r,t.bl_tree),s--),k(t,16,t.bl_tree),w(t,s-3,2)):s<=10?(k(t,17,t.bl_tree),w(t,s-3,3)):(k(t,18,t.bl_tree),w(t,s-11,7));s=0,a=r,0===o?(l=138,u=3):r===o?(l=6,u=3):(l=7,u=4)}}r(m);var L=!1;function D(t,e,n,r){w(t,0+(r?1:0),3),function(t,e,n,r){S(t),x(t,n),x(t,~n),i.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n)}e._tr_init=function(t){L||(function(){var t,e,n,i,r,l=new Array(16);for(n=0,i=0;i<28;i++)for(f[i]=n,t=0;t<1<<a[i];t++)d[n++]=i;for(d[n-1]=i,r=0,i=0;i<16;i++)for(m[i]=r,t=0;t<1<<o[i];t++)h[r++]=i;for(r>>=7;i<30;i++)for(m[i]=r<<7,t=0;t<1<<o[i]-7;t++)h[256+r++]=i;for(e=0;e<=15;e++)l[e]=0;for(t=0;t<=143;)u[2*t+1]=8,t++,l[8]++;for(;t<=255;)u[2*t+1]=9,t++,l[9]++;for(;t<=279;)u[2*t+1]=7,t++,l[7]++;for(;t<=287;)u[2*t+1]=8,t++,l[8]++;for(M(u,287,l),t=0;t<30;t++)c[2*t+1]=5,c[2*t]=C(t,5);p=new _(u,a,257,286,15),g=new _(c,o,0,30,15),v=new _(new Array(0),s,0,19,7)}(),L=!0),t.l_desc=new y(t.dyn_ltree,p),t.d_desc=new y(t.dyn_dtree,g),t.bl_desc=new y(t.bl_tree,v),t.bi_buf=0,t.bi_valid=0,T(t)},e._tr_stored_block=D,e._tr_flush_block=function(t,e,n,i){var r,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),I(t,t.l_desc),I(t,t.d_desc),o=function(t){var e;for(O(t,t.dyn_ltree,t.l_desc.max_code),O(t,t.dyn_dtree,t.d_desc.max_code),I(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*l[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),(a=t.static_len+3+7>>>3)<=(r=t.opt_len+3+7>>>3)&&(r=a)):r=a=n+5,n+4<=r&&-1!==e?D(t,e,n,i):4===t.strategy||a===r?(w(t,2+(i?1:0),3),P(t,u,c)):(w(t,4+(i?1:0),3),function(t,e,n,i){var r;for(w(t,e-257,5),w(t,n-1,5),w(t,i-4,4),r=0;r<i;r++)w(t,t.bl_tree[2*l[r]+1],3);R(t,t.dyn_ltree,e-1),R(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),P(t,t.dyn_ltree,t.dyn_dtree)),T(t),i&&S(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(d[n]+256+1)]++,t.dyn_dtree[2*b(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){w(t,2,3),k(t,256,u),function(t){16===t.bi_valid?(x(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},9518:function(t){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},2037:function(t,e,n){t.exports=n(7062)},1187:function(t,e,n){var i,r,a,o,s=s||n(1704);a=(r=(i=s).paramquery).pqGrid.regional.en={strLocal:"en",strAdd:"Add",strBlanks:"(Blanks)",strDelete:"Delete",strEdit:"Edit",strCondition:"Condition:",strConditions:{"":"--None--",begin:"Begins with",between:"In between",contain:"Contains",equal:"Equals",empty:"Empty",end:"Ends With",great:"Greater than",gte:"Greater than or equal",less:"Less than",lte:"Less than or equal",notbegin:"Not begins with",notcontain:"Not contains",notequal:"Not equals",notempty:"Not empty",notend:"Not ends with",range:"[ Range ]",regexp:"Regular expression"},strOk:"Ok",strClear:"Clear",strTabRemove:"{0} would be deleted permanently.\r\n Are you sure?",strTabName:"sheet{0}",strTabAdd:"New sheet",strTabClose:"Remove sheet",strGroup_header:"Drag a column here to group by that column",strGroup_merge:"Merge cells",strGroup_fixCols:"Fix columns",strGroup_grandSummary:"Grand summary",strTP_aggPane:"Aggregates",strTP_colPane:"Group columns",strTP_pivot:"Pivot mode",strTP_rowPane:"Group rows",strTP_aggPH:"Drop columns for computing aggregate values",strTP_colPH:"Drop columns here for grouping along column or x axis",strTP_rowPH:"Drop columns here for grouping along row or y axis",strLoading:"Loading",strNextResult:"Next Result",strNoRows:"No rows to display.",strNothingFound:"Nothing found",strPrevResult:"Previous Result",strSearch:"Search",strSelectAll:"Select All",strSelectedmatches:"Selected {0} of {1} match(es)",strFormulas:{ABS:["ABS(number)","Returns the absolute value of a number. The absolute value of a number is the number without its sign."],ACOS:["ACOS(number)","Returns the arccosine, or inverse cosine, of a number. The arccosine is the angle whose cosine is number. The returned angle is given in radians in the range 0 (zero) to pi."],AND:["AND(logical1, [logical2], ...)","Returns TRUE if all its arguments evaluate to TRUE, and returns FALSE if one or more arguments evaluate to FALSE."],ASIN:["ASIN(number)","Returns the arcsine, or inverse sine, of a number. The arcsine is the angle whose sine is number. The returned angle is given in radians in the range -pi/2 to pi/2."],ATAN:["ATAN(number)","Returns the arctangent, or inverse tangent, of a number. The arctangent is the angle whose tangent is number. The returned angle is given in radians in the range -pi/2 to pi/2."],AVERAGE:["AVERAGE(number1, [number2], ...)","Returns the average (arithmetic mean) of the arguments. For example, if the range A1:A20 contains numbers, the formula =AVERAGE(A1:A20) returns the average of those numbers."],AVERAGEIF:["AVERAGEIF(range, criteria, [average_range])","Returns the average (arithmetic mean) of all the cells in a range that meet a given criteria."],AVERAGEIFS:["AVERAGEIFS(average_range, criteria_range1, criteria1, [criteria_range2, criteria2], ...)","Returns the average (arithmetic mean) of all cells that meet multiple criteria."],CEILING:["CEILING(number, significance)","Returns number rounded up, away from zero, to the nearest multiple of significance. For example, if you want to avoid using pennies in your prices and your product is priced at $4.42, use the formula =CEILING(4.42,0.05) to round prices up to the nearest nickel."],CHAR:["CHAR(number)","Returns the character specified by a number."],CHOOSE:["CHOOSE(index_num, value1, [value2], ...)","If index_num is 1, CHOOSE returns value1; if it is 2, CHOOSE returns value2; and so on."],CODE:["CODE(text)","Returns a numeric code for the first character in a text string."],COLUMN:["COLUMN()","Returns reference of the cell in which the COLUMN function appears."],COLUMNS:["COLUMNS(array)","Returns the number of columns in an array or reference."],CONCATENATE:["CONCATENATE(text1, [text2], ...)","join two or more text strings into one string."],COS:["COS(number)","Returns the cosine of the given angle(in radians)."],COUNT:["COUNT(value1, [value2], ...)","Counts the number of cells that contain numbers, and counts numbers within the list of arguments."],COUNTA:["COUNTA(value1, [value2], ...)","The COUNTA function counts the number of cells that are not empty in a range."],COUNTBLANK:["COUNTBLANK(range)","Counts empty cells in a specified range of cells."],COUNTIF:["COUNTIF(range, criteria)","counts the number of cells that meet a criterion; for example, to count the number of times a particular city appears in a customer list."],COUNTIFS:["COUNTIFS(criteria_range1, criteria1, [criteria_range2, criteria2]\u2026)","Applies criteria to cells across multiple ranges and counts the number of times all criteria are met."],DATE:["DATE(year,month,day)","returns the sequential serial number that represents a particular date."],DATEDIF:["DATEDIF(start_date,end_date,unit)","Calculates the number of days, months, or years between two dates. Unit can be 'Y', 'M' or 'D'."],DATEVALUE:["DATEVALUE(date_text)",'converts a date that is stored as text to a serial number that Excel recognizes as a date. For example, the formula =DATEVALUE("1/1/2008") returns 39448.'],DAY:["DAY(serial_number)","Returns the day of a date, represented by a serial number."],DAYS:["DAYS(end_date, start_date)","Returns the number of days between two dates."],DEGREES:["DEGREES(angle)","Converts radians into degrees."],EOMONTH:["EOMONTH(start_date, months)","Returns the serial number for the last day of the month that is the indicated number of months before or after start_date."],EXP:["EXP(number)","Returns e raised to the power of number. "],FIND:["FIND(find_text, within_text, [start_num])","Locates one text string within a second text string, and return the number of the starting position of the first text string from the first character of the second text string."],FLOOR:["FLOOR(number, significance)","Rounds number down, toward zero, to the nearest multiple of significance."],HLOOKUP:["HLOOKUP(lookup_value, table_array, row_index_num, [range_lookup])","Searches for a value in the top row of a table or an array of values, and then returns a value in the same column from a row you specify in the table or array."],HOUR:["HOUR(serial_number)","Returns the hour of a time value. The hour is given as an integer, ranging from 0 (12:00 A.M.) to 23 (11:00 P.M.)."],IF:["IF(logical_test, value_if_true, [value_if_false])","returns one value if a condition is true and another value if it's false."],INDEX:["INDEX(array, row_num, [column_num])","Returns the value of an element in a table or an array, selected by the row and column number indexes."],INDIRECT:["INDIRECT(ref_text, [a1])","Returns the reference specified by a text string. References are immediately evaluated to display their contents."],ISBLANK:["ISBLANK(value)","Returns TRUE if the value is blank"],LARGE:["LARGE(array, k)","Returns the k-th largest value in a data set."],LEFT:["LEFT(text, [num_chars])","returns the first character or characters in a text string, based on the number of characters you specify."],LEN:["LEN(text)","returns the number of characters in a text string."],LOOKUP:["LOOKUP(lookup_value, lookup_vector, [result_vector])","Looks in a one-row or one-column range (known as a vector) for a value and returns a value from the same position in a second one-row or one-column range."],LOWER:["LOWER(text)","Converts all uppercase letters in a text string to lowercase."],MATCH:["MATCH(lookup_value, lookup_array, [match_type])","Searches for a specified item in a range of cells, and then returns the relative position of that item in the range. match_type can be: 0 for exact match with option to use wildcards; 1 ( default ) for less than, The values in the lookup_array argument must be placed in ascending order; -1 for greater than, values in the lookup_array argument must be placed in descending order."],MAX:["MAX(number1, [number2], ...)","Returns the largest value in a set of values."],MEDIAN:["MEDIAN(number1, [number2], ...)","Returns the median of the given numbers. The median is the number in the middle of a set of numbers."],MID:["MID(text, start_num, num_chars)","returns a specific number of characters from a text string, starting at the position you specify, based on the number of characters you specify."],MIN:["MIN(number1, [number2], ...)","Returns the smallest number in a set of values."],MODE:["MODE(number1,[number2],...)","Returns the most frequently occurring, or repetitive, value in an array or range of data."],MONTH:["MONTH(serial_number)","Returns the month of a date represented by a serial number. The month is given as an integer, ranging from 1 (January) to 12 (December)."],OR:["OR(logical1, [logical2], ...)","returns TRUE if any of its arguments evaluate to TRUE, and returns FALSE if all of its arguments evaluate to FALSE."],PI:["PI()","Returns the number 3.14159265358979, the mathematical constant pi."],POWER:["POWER(number, power)","Returns the result of a number raised to a power."],PRODUCT:["PRODUCT(number1, [number2], ...)","multiplies all the numbers given as arguments and returns the product. PRODUCT(A1:A3, C1:C3) is equivalent to =A1 * A2 * A3 * C1 * C2 * C3."],PROPER:["PROPER(text)","Capitalizes the first letter in each word of a text value."],RADIANS:["RADIANS(angle)","Converts degrees into radians."],RAND:["RAND()","Returns an evenly distributed random real number greater than or equal to 0 and less than 1."],RANK:["RANK(number,ref,[order])","Returns the rank of a number in a list of numbers."],RATE:["",""],REPLACE:["REPLACE(old_text, start_num, num_chars, new_text)","replaces part of a text string, based on the number of characters you specify, with a different text string."],REPT:["REPT(text, number_times)","Repeats text a given number of times."],RIGHT:["RIGHT(text,[num_chars])","returns the last character or characters in a text string, based on the number of characters you specify."],ROUND:["ROUND(number, num_digits)","rounds a number to a specified number of digits."],ROUNDDOWN:["ROUNDDOWN(number, num_digits)","Rounds a number down, toward zero."],ROUNDUP:["ROUNDUP(number, num_digits)","Rounds a number up, away from 0 (zero)."],ROW:["ROW()","Returns the reference of the cell in which the ROW function appears."],ROWS:["ROWS(array)","Returns the number of rows in a reference or array."],SEARCH:["SEARCH(find_text,within_text,[start_num])","locate one text string within a second text string, and return the number of the starting position of the first text string from the first character of the second text string."],SIN:["SIN(number)","Returns the sine of the given angle(in radians)."],SMALL:["SMALL(array, k)","Returns the k-th smallest value in a data set."],SQRT:["SQRT(number)","Returns a positive square root."],STDEV:["STDEV(number1,[number2],...)","Estimates standard deviation based on a sample. The standard deviation is a measure of how widely values are dispersed from the average value (the mean)."],STDEVP:["STDEVP(number1,[number2],...)","Calculates standard deviation based on the entire population given as arguments."],SUBSTITUTE:["SUBSTITUTE(text, old_text, new_text, [instance_num])","Substitutes new_text for old_text in a text string."],SUM:["SUM(number1,[number2],...)","Adds its arguments. You can add individual values, cell references or ranges or a mix of all three."],SUMIF:["SUMIF(range, criteria, [sum_range])","adds the values in a range that meet criteria that you specify"],SUMIFS:["SUMIFS(sum_range, criteria_range1, criteria1, [criteria_range2, criteria2], ...)","adds all of its arguments that meet multiple criteria."],SUMPRODUCT:["SUMPRODUCT(array1, [array2], [array3], ...)","Multiplies corresponding components in the given arrays, and returns the sum of those products."],TAN:["TAN(number)","Returns the tangent of the given angle(in radians)."],TEXT:['TEXT(Value you want to format, "Format code you want to apply")',"The TEXT function lets you change the way a number appears by applying formatting to it with format codes."],TIME:["TIME(hour, minute, second)","Returns the decimal number for a particular time."],TIMEVALUE:["TIMEVALUE(time_text)","Returns the decimal number of the time represented by a text string. The decimal number is a value ranging from 0 (zero) to 0.99988426, representing the times from 0:00:00 (12:00:00 AM) to 23:59:59 (11:59:59 P.M.)."],TODAY:["TODAY()","Returns the serial number of the current date."],TRIM:["TRIM(text)","Removes all spaces from text except for single spaces between words."],TRUNC:["TRUNC(number, [num_digits])","Truncates a number to an integer by removing the fractional part of the number."],UPPER:["UPPER(text)","Converts text to uppercase."],VALUE:["VALUE(text)","Converts a text string that represents a number to a number."],VAR:["VAR(number1,[number2],...)","Estimates variance based on a sample."],VARP:["VARP(number1,[number2],...)","Calculates variance based on the entire population."],VLOOKUP:["VLOOKUP (lookup_value, table_array, col_index_num, [range_lookup])","look up a value in a table or a range by row. For example, look up a price of an automotive part by the part number."],YEAR:["YEAR(serial_number)","Returns the year corresponding to a date. The year is returned as an integer in the range 1900-9999."]}},o=r.pqPager.regional.en={strDisplay:"Displaying {0} to {1} of {2} items.",strFirstPage:"First Page",strLastPage:"Last Page",strNextPage:"Next Page",strPage:"Page {0} of {1}",strPrevPage:"Previous Page",strRefresh:"Refresh",strRpp:"Records per page: {0}"},i.extend(r.pqGrid.defaults,a),i.extend(r.pqPager.defaults,o)},4146:function(t,e,n){var i,r,a,o,s=s||n(1704);a=(r=(i=s).paramquery).pqGrid.regional.ja={strLocal:"ja",strAdd:"\u8ffd\u52a0",strBlanks:"(Blanks)",strDelete:"\u524a\u9664",strEdit:"\u7de8\u96c6",strCondition:"Condition:",strConditions:{"":"--None--",begin:"Begins with",between:"In between",contain:"Contains",equal:"Equals",empty:"Empty",end:"Ends With",great:"Greater than",gte:"Greater than or equal",less:"Less than",lte:"Less than or equal",notbegin:"Not begins with",notcontain:"Not contains",notequal:"Not equals",notempty:"Not empty",notend:"Not ends with",range:"[ Range ]",regexp:"Regular expression"},strOk:"Ok",strClear:"Clear",strTabRemove:"{0} would be deleted permanently.\r\n Are you sure?",strTabName:"sheet{0}",strTabAdd:"New sheet",strTabClose:"Remove sheet",strGroup_header:"Drag a column here to group by that column",strGroup_merge:"Merge cells",strGroup_fixCols:"Fix columns",strGroup_grandSummary:"Grand summary",strTP_aggPane:"Aggregates",strTP_colPane:"Group columns",strTP_pivot:"Pivot mode",strTP_rowPane:"Group rows",strTP_aggPH:"Drop columns for computing aggregate values",strTP_colPH:"Drop columns here for grouping along column or x axis",strTP_rowPH:"Drop columns here for grouping along row or y axis",strLoading:"\u30ed\u30fc\u30c9\u4e2d",strNextResult:"\u6b21\u306e\u7d50\u679c",strNoRows:"\u8868\u793a\u3059\u308b\u884c\u304c\u3042\u308a\u307e\u305b\u3093\u3002",strNothingFound:"\u898b\u3064\u304b\u308a\u307e\u305b\u3093\u3067\u3057\u305f\u3002",strPrevResult:"\u524d\u306e\u7d50\u679c",strSearch:"\u691c\u7d22",strSelectAll:"Select All",strSelectedmatches:"",strFormulas:{ABS:["ABS(number)","Returns the absolute value of a number. The absolute value of a number is the number without its sign."],ACOS:["ACOS(number)","Returns the arccosine, or inverse cosine, of a number. The arccosine is the angle whose cosine is number. The returned angle is given in radians in the range 0 (zero) to pi."],AND:["AND(logical1, [logical2], ...)","Returns TRUE if all its arguments evaluate to TRUE, and returns FALSE if one or more arguments evaluate to FALSE."],ASIN:["ASIN(number)","Returns the arcsine, or inverse sine, of a number. The arcsine is the angle whose sine is number. The returned angle is given in radians in the range -pi/2 to pi/2."],ATAN:["ATAN(number)","Returns the arctangent, or inverse tangent, of a number. The arctangent is the angle whose tangent is number. The returned angle is given in radians in the range -pi/2 to pi/2."],AVERAGE:["AVERAGE(number1, [number2], ...)","Returns the average (arithmetic mean) of the arguments. For example, if the range A1:A20 contains numbers, the formula =AVERAGE(A1:A20) returns the average of those numbers."],AVERAGEIF:["AVERAGEIF(range, criteria, [average_range])","Returns the average (arithmetic mean) of all the cells in a range that meet a given criteria."],AVERAGEIFS:["AVERAGEIFS(average_range, criteria_range1, criteria1, [criteria_range2, criteria2], ...)","Returns the average (arithmetic mean) of all cells that meet multiple criteria."],CEILING:["CEILING(number, significance)","Returns number rounded up, away from zero, to the nearest multiple of significance. For example, if you want to avoid using pennies in your prices and your product is priced at $4.42, use the formula =CEILING(4.42,0.05) to round prices up to the nearest nickel."],CHAR:["CHAR(number)","Returns the character specified by a number."],CHOOSE:["CHOOSE(index_num, value1, [value2], ...)","If index_num is 1, CHOOSE returns value1; if it is 2, CHOOSE returns value2; and so on."],CODE:["CODE(text)","Returns a numeric code for the first character in a text string."],COLUMN:["COLUMN()","Returns reference of the cell in which the COLUMN function appears."],COLUMNS:["COLUMNS(array)","Returns the number of columns in an array or reference."],CONCATENATE:["CONCATENATE(text1, [text2], ...)","join two or more text strings into one string."],COS:["COS(number)","Returns the cosine of the given angle(in radians)."],COUNT:["COUNT(value1, [value2], ...)","Counts the number of cells that contain numbers, and counts numbers within the list of arguments."],COUNTA:["COUNTA(value1, [value2], ...)","The COUNTA function counts the number of cells that are not empty in a range."],COUNTBLANK:["COUNTBLANK(range)","Counts empty cells in a specified range of cells."],COUNTIF:["COUNTIF(range, criteria)","counts the number of cells that meet a criterion; for example, to count the number of times a particular city appears in a customer list."],COUNTIFS:["COUNTIFS(criteria_range1, criteria1, [criteria_range2, criteria2]\u2026)","Applies criteria to cells across multiple ranges and counts the number of times all criteria are met."],DATE:["DATE(year,month,day)","returns the sequential serial number that represents a particular date."],DATEDIF:["DATEDIF(start_date,end_date,unit)","Calculates the number of days, months, or years between two dates. Unit can be 'Y', 'M' or 'D'."],DATEVALUE:["DATEVALUE(date_text)",'converts a date that is stored as text to a serial number that Excel recognizes as a date. For example, the formula =DATEVALUE("1/1/2008") returns 39448.'],DAY:["DAY(serial_number)","Returns the day of a date, represented by a serial number."],DAYS:["DAYS(end_date, start_date)","Returns the number of days between two dates."],DEGREES:["DEGREES(angle)","Converts radians into degrees."],EOMONTH:["EOMONTH(start_date, months)","Returns the serial number for the last day of the month that is the indicated number of months before or after start_date."],EXP:["EXP(number)","Returns e raised to the power of number. "],FIND:["FIND(find_text, within_text, [start_num])","Locates one text string within a second text string, and return the number of the starting position of the first text string from the first character of the second text string."],FLOOR:["FLOOR(number, significance)","Rounds number down, toward zero, to the nearest multiple of significance."],HLOOKUP:["HLOOKUP(lookup_value, table_array, row_index_num, [range_lookup])","Searches for a value in the top row of a table or an array of values, and then returns a value in the same column from a row you specify in the table or array."],HOUR:["HOUR(serial_number)","Returns the hour of a time value. The hour is given as an integer, ranging from 0 (12:00 A.M.) to 23 (11:00 P.M.)."],IF:["IF(logical_test, value_if_true, [value_if_false])","returns one value if a condition is true and another value if it's false."],INDEX:["INDEX(array, row_num, [column_num])","Returns the value of an element in a table or an array, selected by the row and column number indexes."],INDIRECT:["INDIRECT(ref_text, [a1])","Returns the reference specified by a text string. References are immediately evaluated to display their contents."],ISBLANK:["ISBLANK(value)","Returns TRUE if the value is blank"],LARGE:["LARGE(array, k)","Returns the k-th largest value in a data set."],LEFT:["LEFT(text, [num_chars])","returns the first character or characters in a text string, based on the number of characters you specify."],LEN:["LEN(text)","returns the number of characters in a text string."],LOOKUP:["LOOKUP(lookup_value, lookup_vector, [result_vector])","Looks in a one-row or one-column range (known as a vector) for a value and returns a value from the same position in a second one-row or one-column range."],LOWER:["LOWER(text)","Converts all uppercase letters in a text string to lowercase."],MATCH:["MATCH(lookup_value, lookup_array, [match_type])","Searches for a specified item in a range of cells, and then returns the relative position of that item in the range. match_type can be: 0 for exact match with option to use wildcards; 1 ( default ) for less than, The values in the lookup_array argument must be placed in ascending order; -1 for greater than, values in the lookup_array argument must be placed in descending order."],MAX:["MAX(number1, [number2], ...)","Returns the largest value in a set of values."],MEDIAN:["MEDIAN(number1, [number2], ...)","Returns the median of the given numbers. The median is the number in the middle of a set of numbers."],MID:["MID(text, start_num, num_chars)","returns a specific number of characters from a text string, starting at the position you specify, based on the number of characters you specify."],MIN:["MIN(number1, [number2], ...)","Returns the smallest number in a set of values."],MODE:["MODE(number1,[number2],...)","Returns the most frequently occurring, or repetitive, value in an array or range of data."],MONTH:["MONTH(serial_number)","Returns the month of a date represented by a serial number. The month is given as an integer, ranging from 1 (January) to 12 (December)."],OR:["OR(logical1, [logical2], ...)","returns TRUE if any of its arguments evaluate to TRUE, and returns FALSE if all of its arguments evaluate to FALSE."],PI:["PI()","Returns the number 3.14159265358979, the mathematical constant pi."],POWER:["POWER(number, power)","Returns the result of a number raised to a power."],PRODUCT:["PRODUCT(number1, [number2], ...)","multiplies all the numbers given as arguments and returns the product. PRODUCT(A1:A3, C1:C3) is equivalent to =A1 * A2 * A3 * C1 * C2 * C3."],PROPER:["PROPER(text)","Capitalizes the first letter in each word of a text value."],RADIANS:["RADIANS(angle)","Converts degrees into radians."],RAND:["RAND()","Returns an evenly distributed random real number greater than or equal to 0 and less than 1."],RANK:["RANK(number,ref,[order])","Returns the rank of a number in a list of numbers."],RATE:["",""],REPLACE:["REPLACE(old_text, start_num, num_chars, new_text)","replaces part of a text string, based on the number of characters you specify, with a different text string."],REPT:["REPT(text, number_times)","Repeats text a given number of times."],RIGHT:["RIGHT(text,[num_chars])","returns the last character or characters in a text string, based on the number of characters you specify."],ROUND:["ROUND(number, num_digits)","rounds a number to a specified number of digits."],ROUNDDOWN:["ROUNDDOWN(number, num_digits)","Rounds a number down, toward zero."],ROUNDUP:["ROUNDUP(number, num_digits)","Rounds a number up, away from 0 (zero)."],ROW:["ROW()","Returns the reference of the cell in which the ROW function appears."],ROWS:["ROWS(array)","Returns the number of rows in a reference or array."],SEARCH:["SEARCH(find_text,within_text,[start_num])","locate one text string within a second text string, and return the number of the starting position of the first text string from the first character of the second text string."],SIN:["SIN(number)","Returns the sine of the given angle(in radians)."],SMALL:["SMALL(array, k)","Returns the k-th smallest value in a data set."],SQRT:["SQRT(number)","Returns a positive square root."],STDEV:["STDEV(number1,[number2],...)","Estimates standard deviation based on a sample. The standard deviation is a measure of how widely values are dispersed from the average value (the mean)."],STDEVP:["STDEVP(number1,[number2],...)","Calculates standard deviation based on the entire population given as arguments."],SUBSTITUTE:["SUBSTITUTE(text, old_text, new_text, [instance_num])","Substitutes new_text for old_text in a text string."],SUM:["SUM(number1,[number2],...)","Adds its arguments. You can add individual values, cell references or ranges or a mix of all three."],SUMIF:["SUMIF(range, criteria, [sum_range])","adds the values in a range that meet criteria that you specify"],SUMIFS:["SUMIFS(sum_range, criteria_range1, criteria1, [criteria_range2, criteria2], ...)","adds all of its arguments that meet multiple criteria."],SUMPRODUCT:["SUMPRODUCT(array1, [array2], [array3], ...)","Multiplies corresponding components in the given arrays, and returns the sum of those products."],TAN:["TAN(number)","Returns the tangent of the given angle(in radians)."],TEXT:['TEXT(Value you want to format, "Format code you want to apply")',"The TEXT function lets you change the way a number appears by applying formatting to it with format codes."],TIME:["TIME(hour, minute, second)","Returns the decimal number for a particular time."],TIMEVALUE:["TIMEVALUE(time_text)","Returns the decimal number of the time represented by a text string. The decimal number is a value ranging from 0 (zero) to 0.99988426, representing the times from 0:00:00 (12:00:00 AM) to 23:59:59 (11:59:59 P.M.)."],TODAY:["TODAY()","Returns the serial number of the current date."],TRIM:["TRIM(text)","Removes all spaces from text except for single spaces between words."],TRUNC:["TRUNC(number, [num_digits])","Truncates a number to an integer by removing the fractional part of the number."],UPPER:["UPPER(text)","Converts text to uppercase."],VALUE:["VALUE(text)","Converts a text string that represents a number to a number."],VAR:["VAR(number1,[number2],...)","Estimates variance based on a sample."],VARP:["VARP(number1,[number2],...)","Calculates variance based on the entire population."],VLOOKUP:["VLOOKUP (lookup_value, table_array, col_index_num, [range_lookup])","look up a value in a table or a range by row. For example, look up a price of an automotive part by the part number."],YEAR:["YEAR(serial_number)","Returns the year corresponding to a date. The year is returned as an integer in the range 1900-9999."]}},o=r.pqPager.regional.ja={strDisplay:" {2} \u9805\u76ee\u4e2d\u3000{0} \u304b\u3089 {1}\u3000\u3092\u3000\u8868\u793a",strFirstPage:"\u6700\u521d",strLastPage:"\u6700\u5f8c",strNextPage:"\u6b21",strPage:"{0}\u3000/ {1}  \u30da\u30fc\u30b8",strPrevPage:"\u524d",strRefresh:"\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5",strRpp:"\uff11\u30da\u30fc\u30b8\u3042\u305f\u308a\u306e\u30ec\u30b3\u30fc\u30c9: {0}"},i.extend(r.pqGrid.defaults,a),i.extend(r.pqPager.defaults,o)},7062:function _(module,__unused_webpack_exports,__webpack_require__){(function(_a,_b){var jQuery=__webpack_require__(3710),pq={},JSZip=__webpack_require__(5076),jQuery,pq,JSZip,oe,ie;module.exports=pq,ie=pq.mixin={},ie.render={getRenderVal:function(t,e,n){var i=t.column,r=i[_b(0)];return(e&&!1!==r||r)&&(i.render||i._render||i.format||i._renderG)?n.renderCell(t):[t.rowData[t.dataIndx],""]},getTitle:function(t,e){var n=t.title;return null!=n?"function"==typeof n&&(n=n.call(this.that,{colIndx:e,column:t,dataIndx:t.dataIndx,Export:!0})):n="",n}},ie.GrpTree={buildCache:function(){for(var t,e,n=this,i=n.isTree,r=i?n.that.options.dataModel.data:n.that.pdata,a=n.cache={},o=n.id,s=0,l=r.length;l>s;s++)if(t=r[s],i||t.pq_gtitle){if(null==(e=t[o]))throw"unknown id of row";a[e]=t}},cascadeInit:function(){if(this[_b(1)]()){for(var t,e=this,n=[],i=e.cbId,r=e.Model.select,a=e.that.pdata,o=0,s=a.length;s>o;o++)(t=a[o])[i]?e.isEditable(t)?(n.push(t),delete t[i]):r&&(t[_b(2)]=!0):null===t[i]&&delete t[i];n.length&&e.checkNodes(n,null,null,!0)}},cascadeNest:function(t){for(var e,n,i,r=this,a=r.cbId,o=r.prop,s=r.childstr,l=t.length,u=0;l>u;u++)(n=t[u])[o]&&(e=!0,r.eachChild(n,r[_b(3)](a,n[a],o)),delete n[o]),(i=n[s])&&i.length&&r[_b(4)](i);e&&r.hasParent(n)&&r.eachParent(n,r[_b(5)](a))},checkAll:function(t,e){return this.checkNodes(this.that.pdata,t=null==t||t,e,null,!0)},checkNodes:function(t,e,n,i,r){null==e&&(e=!0);for(var a,o,s,l=0,u=t.length,c=[],h={check:e},d=this,f=d.that,p=f.riOffset,g=d.cbId,v=d.prop,m=d.Model,_=!r&&d.isCascade(m),y=i&&m[_b(6)]||!i,b=m.select;u>l;l++)this.isEditable(a=t[l])&&c.push({rowData:a,rowIndx:o=a.pq_ri,rowIndxPage:o-p});if(h.rows=c,h.dataIndx=d.colUI.dataIndx,i&&(h.init=i),y&&(s=f._trigger("beforeCheck",n,h)),!1!==s&&(u=(c=h.rows).length)){var x=this.chkRows=[];for(l=0;u>l;l++)a=c[l].rowData,_&&(a[v]=!0),x.push({rd:a,val:e,oldVal:a[g]}),a[g]=e;_&&d[_b(4)](d.getRoots()),b&&this.selectRows(),_&&(h[_b(7)]=d[_b(7)](d)),y&&f._trigger("check",n,h),x.length=0}d.setValCBox(),i||f.refresh({header:!1})},chkEachChild:function(t,e,n){return function(i){if(this.isEditable(i)&&(!n||!i[n])){var r=i[t];null!==e&&r!==e&&(this.chkRows.push({rd:i,val:e,oldVal:r}),i[t]=e)}}},chkEachParent:function(t){var e=this.childstr;return function(n){if(this.isEditable(n)){for(var i,r,a,o=n[e],s=0,l=0,u=n[t],c=0,h=o.length;h>c;c++)if(this.isEditable(i=o[c])){if(a=i[t])s++;else{if(null===a){r=null;break}l++}if(s&&l){r=null;break}}void 0===r&&(r=!!s),u!==r&&(this.chkRows.push({rd:n,val:r,oldVal:u}),n[t]=r)}}},eachChild:function(t,e,n){e.call(this,t,n);for(var i,r=this.childstr,a=t[r]||[],o=0,s=a.length;s>o;o++)(i=a[o])[r]?this.eachChild(i,e,t):e.call(this,i,t)},eachParent:function(t,e){for(;t=this.getParent(t);)e.call(this,t)},_flatten:function(t,e,n,i){for(var r,a,o=this,s=t.length,l=o.id,u=o.parentId,c=0,h=o.childstr;s>c;c++)(r=t[c]).pq_level=n,i.push(r),e&&(r[u]=l?e[l]:e),(a=r[h])&&o._flatten(a,r,n+1,i)},flatten:function(t){var e=[];return this._flatten(t,null,0,e),e},getCascadeInit:function(){var t=this[_b(8)];return this[_b(8)]=!0,t},getNode:function(t){return this.cache[t]},getParent:function(t){return this.cache[t[this.parentId]]},fillState:function(t){var e,n,i=this.childstr,r=this.cache;for(e in r)(n=r[e])[i]&&(t[e]=n.pq_close||!1);return t},hasParent:function(t){return null!=t[this.parentId]},getRoots:function(t){for(var e,n=t||this.that.pdata||[],i=n.length,r=0,a=[];i>r;r++)0!==(e=n[r]).pq_level||e[_b(9)]||a.push(e);return i&&!a.length&&(a=n),a},setCascadeInit:function(t){this[_b(8)]=t},getCascadeList:function(t){var e=[];return function(){if(!e.length)for(var n=t.chkRows,i=0,r=t.cbId,a=n.length;a>i;i++){var o=n[i],s=o.rd,l=s.pq_ri,u={},c={};u[r]=o.val,c[r]=o.oldVal,e.push({rowIndx:l,rowData:s,newRow:u,oldRow:c})}return e}},getChildren:function(t){return(t?t[this.childstr]:this.getRoots())||[]},getSummary:function(t){return t[_b(10)]},isAncestor:function(t,e){for(var n=t;n=this.getParent(n);)if(n==e)return!0},isEmpty:function(t){return!(t[this.childstr]||[]).length},isCascade:function(t){return t.cascade&&t.checkbox&&!t.maxCheck},isEditable:function(t){if(t[_b(9)])return!1;var e,n=this.colCB;return!n||!(e=n.editable)||("function"==typeof e?e.call(this.that,{rowData:t}):e)},isFolder:function(t){return null!=t.pq_close||!!t[this.childstr]},onCheckbox:function(t,e){return function(n,i){e.checkbox&&t.colUI==i.column&&t.checkNodes([i.rowData],i.input.checked,n)}},onCMInit:function(){var t,e,n,i=this,r=i.that,a=r.columns,o=i.isTree,s=r.colModel,l=i.Model;l[_b(11)]&&s&&(n=s.find(function(t){return!t.hidden}),l.titleIndx=n.dataIndx=(null==n.dataIndx?Math.random():n.dataIndx).toString()),l.checkbox&&a&&((e=a[l.cbId]||{dataIndx:l.cbId}).cb={check:!0,uncheck:!1,select:l.select,header:l[_b(12)],maxCheck:l.maxCheck},t=o?a[l.dataIndx]:a[l.titleIndx]),i.colCB=e,i.colUI=t,a&&o&&i[_b(13)]()},onCustomSortTree:function(t,e){var n=this,i=n.getRoots(e.data);return n.sort(i,e[_b(14)]),e.data=n.flatten(i),!1},onRefresh:function(t,e){return function(){if(e.checkbox)for(var t=this.$cont.find(".pq_indeter"),n=t.length;n--;)t[n][_b(15)]=!0}},refreshView:function(t){this.that[_b(16)]({header:!1,source:t})},renderCB:function(t,e,n){if(e[_b(9)])return"";var i,r="",a="",o="";return"function"==typeof t&&(t=t.call(this.that,e)),t?(e[n]&&(r="checked"),this.isEditable(e)||(a="disabled",i="pq_disable"),null===e[n]&&(o="class='pq_indeter'"),[_a(0)+o+" "+r+" "+a+"/>",i]):void 0},selectRows:function(){for(var t=0,e=this.chkRows,n=e.length;n>t;t++){var i=e[t],r=i.val;i.rd[_b(2)]=r}},sort:function(t,e){var n=this.childstr,i=function(t){return"function"==typeof e?e:e[t]};!function t(e,r){var a,o=e.length,s=0;if(o)for(r&&e.sort(r),r=i(e[0].pq_level+1);o>s;s++)(a=e[s][n])&&t(a,r)}(t,i(0))},copyArray:function(t,e){for(var n=0,i=e.length;i>n;n++)t.push(e[n])},_summaryT:function(t,e,n,i,r,a,o){for(var s,l,u,c,h,d=this,f=d.childstr,p=d.isGroup,g=d.isTree,v=a[_b(17)],m=a[_b(18)],_=!a[_b(19)],y=a.titleIndx,b=0,x=t.length,w=0,k={},C={},M=d.id,T=d.parentId,S=p&&o?a.dataIndx[o.pq_level]:"",A=[],E=n.length,P=pq.aggregate;E>w;w++)k[h=n[w]]=[];for(;x>b;b++){if(s=null,e.push(l=t[b]),u=l[f]){for(s=d._summaryT(u,e,n,i,r,a,l),w=0;E>w;w++)d.copyArray(k[h=n[w]],s[1][h]);d.copyArray(A,s[2])}if(g&&(!v||!d.isFolder(l))||p&&!l.pq_gtitle){for(w=0;E>w;w++)k[h=n[w]].push(l[h]);A.push(l)}}for(C.pq_level=o?o.pq_level:0,a[_b(20)]&&(C[_b(21)]=!0),o&&(g&&!v||p&&m[o.pq_level])&&(C[T]=o[M],(_||x>1)&&e.push(C),o[_b(10)]=C,C.pq_hidden=o.pq_close),w=0;E>w;w++)C[h=n[w]]=P[c=(c=i[w])[S]||c.type](k[h],r[w],A,C),v&&o&&h!=y&&(o[h]=C[h]);return C[_b(9)]=!0,[C,k,A]},summaryT:function(){for(var t,e,n,i=this,r=i.that,a=r.options,o=i.Model,s=i.getRoots(),l=[],u=[],c=[],h=[],d=0,f=r.colModel,p=f.length;p>d;d++)(e=(t=f[d]).summary)&&e.type&&(c.push(t.dataIndx),h.push(t),u.push(e));n=i._summaryT(s,l,c,u,h,o)[0],o[_b(20)]?i[_b(22)]=a[_b(22)]=[n]:(i[_b(22)]||[]).length=0,r.pdata=l}},function(t){var e=pq.mixin,n=!0;t(document).one("pq:ready",function(){var e=t(_a(1)).appendTo(document.body);e[0][_b(15)]=!0,e.on("change",function(){n=!1}),e.click(),e.remove()}),e.ChkGrpTree={getCheckedNodes:function(t){var e,n=this.that,i=t?n.getData():n.options.dataModel.data,r=i.length,a=0,o=[],s=this.colCB||{},l=(s.cb||{}).check,u=s.dataIndx;if(null!=u)for(;r>a;a++)(e=i[a])[u]===l&&o.push(e);return o},hasCboxHead:function(){return((this.colCB||{}).cb||{}).header},isHeadChecked:function(){return this.inpVal},onBeforeCheck:function(t,e){if(e.check&&this.colCB){var n=this.colCB,i=n.cb,r=i.select,a=i.maxCheck;if(a&&this.colUI.dataIndx==e.dataIndx){var o=e.rows.slice(0,a),s=o.length,l=n.dataIndx,u=this[_b(23)](!0),c=s+u.length-a;c>0&&u.slice(0,c).forEach(function(t){t[l]=i.uncheck,r&&delete t[_b(2)]}),e.rows=o}}},onHeaderChange:function(t){!1===this.checkAll(t.target.checked,t)&&this[_b(24)]()},onRefreshHeader:function(){var t=this,e=t.that;if(t[_b(25)]()){if("groupModel"==t.model&&!e.options[t.model].on)return;var i=e[_b(26)]({dataIndx:t.colUI.dataIndx}),r=i.find("input");r.length||(i.find(".pq-title-span").prepend(_a(2)),r=i.find("input")),t.$inp&&r[0]==t.$inp[0]||(t.$inp=r,t[_b(24)](),n&&r.on("click",function(e){null==r.data("pq_value")&&(r[0].checked=!0,r.data("pq_value",!0),t[_b(27)](e))}),r.on("change",function(e){t[_b(27)](e)}))}},refreshHeadVal:function(){this.$inp&&this.$inp.pqval({val:this.inpVal})},setValCBox:function(){if(this[_b(25)]()){var t,e,n=this.that,i=n.options,r=this.colCB,a=r.dataIndx,o=n.colIndxs[a],s=r.cb,l=s.all,u="remote"!=i.pageModel.type&&l?0:n.riOffset,c=l?i.dataModel.data:n.pdata,h=null,d=0,f=0,p=0;if(c){for(var g=0,v=c.length;v>g;g++)e=g+u,(t=c[g])[_b(9)]||t.pq_gtitle||!this.isEditable(t,r,e,o,a)||(f++,t[a]===s.check?d++:p++);d==f&&f?h=!0:p==f&&(h=!1),this.inpVal=h,this[_b(24)]()}}},unCheckAll:function(){this.checkAll(!1)},unCheckNodes:function(t,e){this.checkNodes(t,!1,e)}}}(jQuery),function(t){var e=t.paramquery=t.paramquery||{},n=function(t,e,n,i){for(var r=e.slice(),a=0,o=r.length,s=[];o>a;a++){var l=r[a],u=l.cb,c=l.one;if(c){if(l._oncerun)continue;l._oncerun=!0}if(!1===u.call(t,n,i)&&(n[_b(28)](),n[_b(29)]()),c&&s.push(a),n[_b(30)]())break}if(o=s.length)for(a=o-1;a>=0;a--)r.splice(s[a],1)};e._trigger=function(e,i,r){var a,o,s=this,l=s.listeners,u=l[e],c=s.options,h=c.allEvents,d=c.bubble,f=s.element,p=c[e];if(r=r||{},(i=t.Event(i)).type=s.widgetName+":"+e,i.target=f[0],o=i[_b(31)])for(a in o)a in i||(i[a]=o[a]);return h&&"function"==typeof h&&h.call(s,i,r),u&&u.length&&(n(s,u,i,r),i[_b(30)]())||c.trigger&&(f[d?"trigger":"triggerHandler"](i,r),i[_b(30)]())||(p&&!1===p.call(s,i,r)&&(i[_b(28)](),i[_b(29)]()),(u=l[e+"Done"])&&u.length&&n(s,u,i,r)),!i[_b(32)]()};var i=function(t,e,n,i,r){var a=t.listeners[e];a||(a=t.listeners[e]=[]),a[r?"unshift":"push"]({cb:n,one:i})};e.on=function(){var t=arguments;if("boolean"==typeof t[0])var e=t[0],n=t[1],r=t[2],a=t[3];else n=t[0],r=t[1],a=t[2];for(var o=n.split(" "),s=0;s<o.length;s++){var l=o[s];l&&i(this,l,r,a,e)}return this},e.one=function(){for(var t=arguments.length,e=[],n=0;t>n;n++)e[n]=arguments[n];return e[t]=!0,this.on.apply(this,e)};var r=function(t,e,n){if(n){var i=t.listeners[e];if(i){for(var r=[],a=0,o=i.length;o>a;a++)n==i[a].cb&&r.push(a);if(r.length)for(a=r.length-1;a>=0;a--)i.splice(r[a],1)}}else delete t.listeners[e]};e.off=function(t,e){for(var n=t.split(" "),i=0;i<n.length;i++){var a=n[i];a&&r(this,a,e)}return this};var a={options:{items:_a(3),position:{my:"center top",at:"center bottom"},content:function(){var e=t(this),n=e.closest(".pq-grid").pqGrid("instance"),i=n[_b(33)]({$td:e}),r=n.data({rowIndx:i.rowIndx,dataIndx:i.dataIndx,data:"pq_valid"}).data;if(r){var a=r.icon,o=r.msg;return o=null!=o?o:"",(""==a?"":_a(4)+a+_a(5))+o}return e.attr("title")}},_create:function(){this._super();var e=this.element,n=this[_b(34)];e.on("pqtooltipopen"+n,function(e,n){var i=t(e.target),r=t(e[_b(31)].target);if(r.on("remove.pqtt",function(t){i.pqTooltip("close",t,!0)}),i.is(".pq-grid")){var a,o=i.pqGrid("instance"),s=o[_b(33)]({$td:r}),l=s.dataIndx;if((a=o.getRowData({rowIndx:s.rowIndx}))&&(a=a[_b(35)])&&(a=a[l])&&(a=a.pq_valid)){var u=a.style;n.tooltip.addClass(a.cls);var c=n.tooltip.attr("style");n.tooltip.attr("style",c+";"+u)}}}),e.on("pqtooltipclose"+n,function(e,n){(t(e.target),t(e[_b(31)].target)).off(".pqtt")})}};t.widget("paramquery.pqTooltip",t.ui.tooltip,a)}(jQuery),function(t){function e(t){return t.charCodeAt(0)-64}var n,i=t.paramquery,r=Array.prototype;!r.find&&(r.find=function(t,e){for(var n,i=0,r=this.length;r>i;i++)if(t.call(e,n=this[i],i,this))return n}),!r.findIndex&&(r.findIndex=function(t,e){for(var n=0,i=this.length;i>n;n++)if(t.call(e,this[n],n,this))return n;return-1}),t.extend(pq,{arrayUnique:function(t,e){var n,i,r,a=[],o=t.length,s={};for(n=0;o>n;n++)i=t[n],1!=s[r=e?i[e]:i]&&(s[r]=1,a.push(i));return a},cap1:function(t){return t&&t.length?t[0][_b(36)]()+t.slice(1):""},elementFromXY:function(e){var n,i=e.clientX,r=e.clientY,a=t(document[_b(37)](i,r));return a.closest(_a(6)).length&&((n=a).hide(),a=t(document[_b(37)](i,r)),n.show()),a},escapeHtml:function(t){return t.replace(/&/g,"&amp;").replace(/<([a-z,A-Z]+)/g,"&lt;$1")},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;")},excelToJui:(n={},function(t){var e=n[t];return e||(e=t.replace(/yy/g,"y").replace(/dddd/g,"DD").replace(/ddd/g,"D").replace(/mmmm/g,"MM").replace(/mmm/g,"M"),n[t]=e),e}),excelToNum:function(){var t={};return function(e){var n=t[e];return n||(n=e.replace(/\\/g,""),t[e]=n),n}}(),extend:function(t,e,n){var i=function(){};i.prototype=t.prototype;var r,a=e.prototype=new i,o=t.prototype;for(r in n){var s=o[r],l=n[r];a[r]=s?function(t,e){return function(){var n,i=this._super;return this._super=function(){return t.apply(this,arguments)},n=e.apply(this,arguments),this._super=i,n}}(s,l):l}a.constructor=e,a._base=t,a._bp=function(t){var e=arguments;return Array.prototype.shift.call(e),o[t].apply(this,e)}},copyObj:function(e,n,i){var r,a,o=pq.objectify(i);for(r in n)o[r]||(a=n[r],e[r]=t[_b(38)](a)?t.extend(!0,{},a):a);return e},extendT:function(e,n){var i,r,a;for(i in n)if(void 0===e[i]){if((a=Object[_b(39)](n,i)).get||a.set){Object[_b(40)](e,i,a);continue}e[i]=(r=n[i])&&"object"==typeof r?t.extend(!0,{},r):r}return e},flatten:function(t,e){var n,i=0,r=t.length;for(e=e||[];r>i;i++)null!=(n=t[i])&&(n.push?pq.flatten(n,e):e.push(n));return e},toRC:function(t){var e,n=t.match(/([A-Z]*)(\d*)/),i=pq.toNumber(n[1]);return n[2]&&(e=n[2]-1),[e,i]},formatEx:function(t,e,n,i){return n&&(i=i||pq[_b(41)](t),pq.filter.conditions[n][i])?this.format(t,e,i):e},format:function(e,n,i){var r=e.format;if(r&&null!=n){if("function"==typeof r)return r(n);if("date"==(i=i||pq[_b(41)](e)))try{var a=new Date(n);a&&!isNaN(a.getTime())&&(n=t.datepicker.formatDate(r,a))}catch(o){}else n=pq[_b(42)](n,r)}return n},onResize:function(e,n){e[_b(43)]?e[_b(43)]("onresize",n):window[_b(44)]?new(window[_b(44)])(n).observe(e):window[_b(45)]?window[_b(45)](e,n):t(e).resize(n)},fileRead:function(t,e,n){var i=new FileReader;i[e](t),i.onload=function(){n(i.result)}},fileToBase:function(t,e){pq.fileRead(t,"readAsDataURL",e)},xmlhttp:function(t,e,n){var i=new XMLHttpRequest;i.onload=function(){n(i.response)},i.open("GET",t),i[_b(46)]=e,i.send()},urlToBase:function(t,e){pq.xmlhttp(t,"blob",function(t){pq.fileToBase(t,e)})},objectAttr:function(t){t&&(t=t.split(" "))},deFormat:function(e,n,i){if(n){var r,a,o=e.format;if(o&&(a=pq[_b(41)](e),!i||pq.filter.conditions[i][a]))try{"function"==typeof o?n=e.deFormat(n):"date"==a?(r=e.formatRaw||"mm/dd/yy")!=o&&(n=t.datepicker.parseDate(o,n),n=t.datepicker.formatDate(r,n)):n=pq[_b(47)](n,o)}catch(s){n=null}}return n},fakeEvent:function(t,e,n){if("timeout"==e){var i,r="keyup change";t.off(r).on(r,function(){clearTimeout(i),i=setTimeout(function(){t[_b(48)]("timeout")},n)})}},getAddress:function(t){var e,n,i=t.split(":"),r=this.toRC(i[0]),a=r[0],o=r[1],s=this.toRC(i[1]||i[0]),l=s[0],u=s[1];return isNaN(l)||(e=l-a+1),isNaN(u)||(n=u-o+1),{r1:a,c1:o,rc:e,cc:n,r2:l,c2:u}},getClsVal:function(t,e){var n=t.match(new RegExp("\\b"+e+"(\\S+)\\b"));return n?n[1]:null},getDataType:function(t){var e,n=t.dataType;return"bool"==n?e="bool":"float"==n||"integer"==n?e="number":"date"==n&&(e="date"),e||"string"},getFn:function(){var t={};return function(e){var n=e;return"string"==typeof e&&((n=t[e])||(n=window,e.split(".").forEach(function(t){n=n[t]}),t[e]=n)),n}}(),isCtrl:function(t){return t.ctrlKey||t.metaKey},isDateFormat:function(){var t={};return function(e){var n=t[e];return null==n&&(n=t[e]=/^[mdy\s-\/\.,]*$/i.test(e)),n}}(),isEmpty:function(t){for(var e in t)return!1;return!0},isObject:function(t){return"[object Object]"===Object.prototype.toString.call(t)},juiToExcel:function(){var t={};return function(e){var n=t[e];return n||(n=e.replace(/y/g,"yy").replace(/DD/g,"dddd").replace(/D/g,"ddd").replace(/MM/g,"mmmm").replace(/M/g,"mmm"),t[e]=n),n}}(),makePopup:function(e,n,i){var r=(Math.random()+"").replace(".",""),a="mousedown.pq"+r+" keydown.pq"+r,o=n?(n.nodeName||"")[_b(49)]():"",s="input"==o||"textarea"==o,l=function(e){e&&s&&document.body.contains(n)?u.hide():(u.remove(),t(document).off(a),i&&i())},u=t(e);u.addClass("pq-popup").on("keydown",function(e){e.keyCode==t.ui.keyCode.ESCAPE&&l(!0)}),t(n).one("remove",function(){l()}),requestAnimationFrame(function(){t(document).on(a,function(i){var r=t(i.target);e.contains(r[0])||pq.isCtrl(i)||r.closest(".ui-datepicker").length||r.closest(n).length||l(!0)})})},moveItem:function(t,e,n,i){return n>i?(e.splice(n,1),e.splice(i++,0,t)):n==i?i++:(e.splice(i,0,t),e.splice(n,1)),i},newLine:function(t){return isNaN(t)&&"string"==typeof t?t.replace(/(\r\n|\r|\n)/g,"<br>"):t},numToExcel:function(){var t={};return function(e){var n=t[e];return n||(n=e.replace(/[^#0,.@%]/g,function(t){return"\\"+t}),t[e]=n),n}}(),objectify:function(t){for(var e={},n=t.length;n--;)e[t[n]]=1;return e},styleObj:function(t){if("string"==typeof t){var e=t.split(";");t={},e.forEach(function(n){n&&(e=n.split(":"))[0]&&e[1]&&(t[e[0].trim()]=e[1].trim())})}return t},styleStr:function(t){if("string"!=typeof t){var e,n,i=[];for(e in t)(n=t[e])&&i.push(e+":"+n);t=i.length?i.join(";")+";":""}return t},unescapeXml:function(){var t={amp:"&",lt:"<",gt:">",quot:'"',apos:"'"};return function(e){return e.replace(/&(amp|lt|gt|quot|apos);/g,function(e,n){return t[n]})}}()}),i.select=function(t){var e,n,i,r=t.options,a=t.groupIndx,o=t.labelIndx,s=t.valueIndx,l=null!=o&&null!=s,u=null!=a,c=t.prepend,h=t.dataMap,d=function(){for(var t={},e=0;e<h.length;e++){var n=h[e];t[n]=m[n]}return"data-map='"+JSON.stringify(t)+"'"},f=["<select ",t.attr," >"];if(c)for(var p in c)f.push('<option value="',p,'">',c[p],"</option>");if(r&&r.length){for(var g=0,v=r.length;v>g;g++){var m=r[g];if(l){var _=m[s],y=m[_b(50)]?'disabled="disabled" ':"",b=m[_b(51)]?'selected="selected" ':"";if(null==_)continue;if(i=h?d():"",u){var x=m[_b(52)]?'disabled="disabled" ':"";n!=(e=m[a])&&(null!=n&&f.push("</optgroup>"),f.push('<optgroup label="',e,'" ',x," >"),n=e)}o==s?f.push("<option ",b,y,i,">",_,"</option>"):f.push("<option ",b,y,i,' value="',_,'">',m[o],"</option>")}else if("object"==typeof m)for(var p in m)f.push('<option value="',p,'">',m[p],"</option>");else f.push("<option>",m,"</option>")}u&&f.push("</optgroup>")}return f.push("</select>"),f.join("")},t.fn.pqval=function(t){if(t){if(t.incr){var e=this.data("pq_value");return this.prop("indeterminate",!1),e?(e=!1,this.prop("checked",!1)):!1===e?(e=null,this.prop("indeterminate",!0),this.prop("checked",!1)):(e=!0,this.prop("checked",!0)),this.data("pq_value",e),e}return this.data("pq_value",e=t.val),this.prop("indeterminate",!1),null===e?(this.prop("indeterminate",!0),this.prop("checked",!1)):this.prop("checked",!!e),this}return this.data("pq_value")},i.xmlToArray=function(e,n){var i=n.itemParent,r=n.itemNames,a=[];return t(e).find(i).each(function(e,n){var i=t(n),o=[];t(r).each(function(t,e){o.push(i.find(e).text().replace(/\r|\n|\t/g,""))}),a.push(o)}),a},i.xmlToJson=function(e,n){var i=n.itemParent,r=n.itemNames,a=[];return t(e).find(i).each(function(e,n){for(var i=t(n),o={},s=0,l=r.length;l>s;s++){var u=r[s];o[u]=i.find(u).text().replace(/\r|\n|\t/g,"")}a.push(o)}),a},i[_b(53)]=function(e){var n=t(e),i=[],r=[],a=n.children("tbody").children("tr"),o=a.length?t(a[0]):t(),s=a.length>1?t(a[1]):t();return o.children("th,td").each(function(e,n){var r=t(n),a=r.html(),o=r.width(),l="left";s.length&&(l=s.find("td:eq("+e+")").attr("align")||l),i.push({title:a,width:o,dataType:"string",align:l,dataIndx:e})}),a.each(function(e,n){if(0!=e){var i=t(n),a=[];i.children("td").each(function(e,n){a.push(t.trim(t(n).html()))}),r.push(a)}}),{data:r,colModel:i}};var a=function(){var t,e={};return function(n,i){var r,a,o;if(n){if(a=n.split(":"),r=e[n=i&&a.length>1?a[1]:a[0]])return r;t||(t=/^([^#0]*|&#[^#0]*)?[\,\.#0]*?([\,\s\.]?)([#0]*)(([\,\s\.])([0]+))?([^#^0]*|&#[^#]*)?$/),(o=n.match(t))&&o.length&&(e[n]=r={symbol:o[1]||"",thouSep:o[2],thousand:o[3].length,decSep:o[5]||"",decimal:(o[6]||[]).length,symbolEnd:o[7]||""})}return r||{symbol:"",symbolEnd:"",thouSep:",",thousand:3,decSep:".",decimal:2}}}();i[_b(54)]=function(t,e){if(!e||"@"==e)return t+"";var n=parseFloat(t);if(!isNaN(n)&&"Infinity"!=n){(e||"").indexOf("%")>0&&(n*=100);for(var i=0>n,r=a(e,i),o=r.symbol,s=r.symbolEnd,l=r.thousand,u=r.thouSep,c=r.decSep,h=r.decimal,d=(n=n.toFixed(h)).length,f=h+c.length,p=n.substring(0,d-f),g=n.substring(d-f+c.length,d),v=p.match(/\d/g).reverse(),m=[],_=0;_<v.length;_++)_>0&&_%l==0&&m.push(u),m.push(v[_]);return(i?"-":"")+o+(p=(m=m.reverse()).join(""))+c+g+s}},pq[_b(42)]=i[_b(54)],pq[_b(47)]=function(t,e){var n=a(e,0>t),i=n.symbolEnd,r=n.thouSep,o=n.decSep;return r="."===r?"\\.":r,t=t.replace(n.symbol,"").replace(i,"").replace(new RegExp(r,"g"),""),o&&(t=1*t.replace(o,".")),t},pq.valid={isFloat:function(t){var e=1*t;return!isNaN(e)&&e==t},isInt:function(t){var e=parseInt(t);return!isNaN(e)&&e==t},isDate:function(t){return!isNaN(Date.parse(t))}};var o=[],s={},l=pq.toLetter=function(t){var e=o[t];if(!e){var n=++t%26,i=t/26|0,r=n?String[_b(55)](64+n):(--i,"Z");e=i?l(i-1)+r:r,t--,o[t]=e,s[e]=t}return e};pq.toNumber=function(t){var n,i,r=s[t];if(null==r&&t){for(n=t.length,r=-1,i=0;n>i;i++)r+=e(t[i])*Math.pow(26,n-i-1);o[r]=t,s[t]=r}return r},pq[_b(56)]=function(t,e){for(var n=[],i=0;e>i;i++)n[i]=l(i);var r=[];for(i=0;t>i;i++)for(var a=r[i]=[],o=0;e>o;o++)a[o]=n[o]+(i+1);return r},function(){function e(e){var n=e.rtl;return null==n&&(n=e.rtl="rtl"==t(e).css("direction")),n}var n="w",i="scrollLeft";t(document).one("pq:ready",function(){var e=t(_a(7)).appendTo("body"),r=e[0];0==r[i]&&(r[i]=100,n=0==r[i]?"g":"i"),e.remove()}),pq.scrollTop=function(t){return t.scrollTop},pq[i+"Val"]=function(t,i){return e(t)?"w"==n?t[_b(57)]-t[_b(58)]-i:"g"==n?-1*i:i:i},pq[i]=function(t,r){var a,o=e(t);if(null==r){if(a=t[i],o){if("w"==n)return t[_b(57)]-t[_b(58)]-a;if("g"==n)return-1*a}return a}t[i]=pq[i+"Val"](t,r)}}()}(jQuery),function(t){pq[_b(59)]={minLen:function(t,e,n){return t=n(t),e=n(e),t.length>=e||void 0},nonEmpty:function(t){return null!=t&&""!==t||void 0},maxLen:function(t,e,n){return t=n(t),e=n(e),t.length<=e||void 0},gt:function(t,e,n){return(t=n(t))>(e=n(e))||void 0},gte:function(t,e,n){return(t=n(t))>=(e=n(e))||void 0},lt:function(t,e,n){return t=n(t),(e=n(e))>t||void 0},lte:function(t,e,n){return t=n(t),(e=n(e))>=t||void 0},neq:function(t,e,n){return(t=n(t))!==(e=n(e))||void 0},regexp:function(t,e){return!!new RegExp(e).test(t)||void 0}};var e=t.paramquery;e.cValid=function(t){this.that=t},e.cValid.prototype={_isValidCell:function(t){var e=this.that,n=t.column,i=n[_b(59)];if(!i||!i.length)return{valid:!0};var r,a=t.value,o=n.dataType,s=function(t){return e[_b(60)](t,o,!0)},l=t.rowData;if(!l)throw"rowData required.";for(var u=0;u<i.length;u++){var c=i[u],h=c.type,d=!1,f=c.msg,p=c.value;if(!1!==c.on){if(r=pq[_b(59)][h])d=null!=a&&r(a,p,s);else if(h){var g={column:n,value:a,rowData:l,msg:f};!1===e.callFn(h,g)?(d=!1,f=g.msg):d=!0}else d=!0;if(!d)return{valid:!1,msg:f,column:n,warn:c.warn,dataIndx:n.dataIndx,validation:c}}}return{valid:!0}},onScrollCell:function(t,e,n,i,r,a){var o,s=this.that,l=s.options.bootstrap;if(t||(o=s[_b(61)]())&&o.$cell){var u=t||o.$cell;u.attr("title",e);var c="tooltip",h="open";l.on&&l.tooltip&&(c=l.tooltip,h="show");try{u[c]("destroy")}catch(d){}u[c]({trigger:"manual",position:{my:"left center+5",at:"right center"},content:function(){return(""==n?"":_a(4)+n+_a(5))+e},open:function(t,e){var n=e.tooltip;if(i&&n.addClass(i),a){var o=n.attr("style");n.attr("style",o+";"+a)}r&&n.tooltip.css(r)}})[c](h)}},isValidCell:function(e){var n=this,i=n.that,r=e.rowData,a=e.rowIndx,o=e.value,s=e.valueDef,l=e.column,u=e[_b(62)],c=i.options,h=e[_b(63)],d=l.dataIndx,f=c.validation,p=c.warning,g=c.editModel,v=g[_b(64)],m=g.warnClass,_=document[_b(65)];if(e[_b(66)]&&0==i.isEditable({rowIndx:a,rowData:r,column:l,dataIndx:d}))return{valid:!0};var y=this[_b(67)]({column:l,value:o,rowData:r}),b=y.valid,x=y.warn,w=y.msg;if(b)i.data({rowData:r,dataIndx:d,data:"pq_valid"})&&(i[_b(68)]({rowData:r,rowIndx:a,dataIndx:d,cls:m+" "+v}),i.removeData({rowData:r,dataIndx:d,data:"pq_valid"}));else var k=t.extend({},x?p:f,y.validation),C=k.css,M=k.cls,T=k.icon,S=k.style;if(h||x)return b?{valid:!0}:(i.addClass({rowData:r,rowIndx:a,dataIndx:d,cls:x?m:v}),i.data({rowData:r,dataIndx:d,data:{pq_valid:{css:C,icon:T,style:S,msg:w,cls:M}}}),y);if(!b){if(null==a){var A=i.getRowIndx({rowData:r,dataUF:!0});if(null==(a=A.rowIndx)||A.uf)return y.uf=A.uf,y}if(u){var E;if(s){if(t(_).hasClass("pq-editor-focus")){var P=c.editModel.indices;if(P){var I=P.rowIndx,O=P.dataIndx;if(null!=a&&a!=I)throw _a(8)+a;if(d!=O)throw _a(9)+d;i.editCell({rowIndx:I,dataIndx:d})}}}else{i.goToPage({rowIndx:a});var R=i.normalize(R={rowIndx:a,dataIndx:d});E=i.getCell(R),i.scrollCell(R,function(){n[_b(69)](E,w,T,M,C,S),i.focus(R)})}this[_b(69)](E,w,T,M,C,S)}return y}if(s){var L=i[_b(61)]();if(L&&L.$cell){var D=L.$cell;D.removeAttr("title");try{D.tooltip("destroy")}catch(N){}}}return{valid:!0}},isValid:function(t){var e=this.that,n=(t=t||{})[_b(63)],i=t[_b(62)],r=t[_b(66)];if(n=null!=n&&n,null!=(f=t.dataIndx)){var a=e.columns[f],o=t.rowData||e.getRowData(t),s=t.hasOwnProperty("value"),l=s?t.value:o[f];return(p=this[_b(70)]({rowData:o,checkEditable:r,rowIndx:t.rowIndx,value:l,valueDef:s,column:a,allowInvalid:n,focusInvalid:i})).valid||p.warn?{valid:!0}:p}if(null!=t.rowIndx||null!=t[_b(71)]||null!=t.rowData){o=t.rowData||e.getRowData(t);for(var u=e.colModel,c=[],h=0,d=u.length;d>h;h++){var f,p;if(!(a=u[h]).hidden&&(l=o[f=a.dataIndx],!(p=this[_b(70)]({rowData:o,value:l,column:a,rowIndx:t.rowIndx,checkEditable:r,allowInvalid:n,focusInvalid:i})).valid&&!p.warn)){if(!n)return p;c.push({rowData:o,dataIndx:f,column:a})}}return n&&c.length?{cells:c,valid:!1}:{valid:!0}}var g=t.data?t.data:e.options.dataModel.data;if(c=[],!g)return null;for(h=0,d=g.length;d>h;h++){var v=this.isValid({rowData:o=g[h],rowIndx:void 0,checkEditable:r,allowInvalid:n,focusInvalid:i}),m=v.cells;if(!1===n){if(!v.valid)return v}else m&&m.length&&(c=c.concat(m))}return n&&c.length?{cells:c,valid:!1}:{valid:!0}}}}(jQuery),function(t){var e={options:{curPage:0,totalPages:0,totalRecords:0,msg:"",rPPOptions:[10,20,30,40,50,100],rPP:20,layout:["first","prev","|","strPage","|","next","last","|","strRpp","|","refresh","|","strDisplay"]},_create:function(){var t=this,e=t.options,n=e.rtl,i=t.element,r={first:t.initButton(e[_b(72)],"seek-"+(n?"end":"first"),"first"),"|":_a(10),next:t.initButton(e[_b(73)],"seek-"+(n?"prev":"next"),"next"),prev:t.initButton(e[_b(74)],"seek-"+(n?"next":"prev"),"prev"),last:t.initButton(e[_b(75)],"seek-"+(n?"first":"end"),"last"),strPage:t.getPageOf(),strRpp:t[_b(76)](),refresh:t.initButton(e.strRefresh,"refresh","refresh"),strDisplay:_a(11)+t.getDisplay()+"</span></td>"},a=e.layout.map(function(t){return r[t]}).join("");t.listeners={},i.html(_a(12)+a+"</tr></table>"),i.addClass("pq-pager"),t.$first=i.find(".pq-page-first"),t.bindButton(t.$first,function(n){e.curPage>1&&t.onChange(n,1)}),t.$prev=i.find(".pq-page-prev"),t.bindButton(t.$prev,function(n){e.curPage>1&&t.onChange(n,e.curPage-1)}),t.$next=i.find(".pq-page-next"),t.bindButton(t.$next,function(n){e.curPage<e.totalPages&&t.onChange(n,e.curPage+1)}),t.$last=i.find(".pq-page-last"),t.bindButton(t.$last,function(n){e.curPage!==e.totalPages&&t.onChange(n,e.totalPages)}),t.$refresh=i.find(".pq-page-refresh"),t.bindButton(t.$refresh,function(e){return!1!==t._trigger("beforeRefresh",e)&&void t._trigger("refresh",e)}),t.$display=i.find(".pq-page-display"),t.$select=i.find(".pq-page-select").val(e.rPP).on("change",t[_b(77)].bind(t)),t[_b(78)]=i.find(".pq-page-total"),t.$curPage=i.find(".pq-page-current"),t[_b(79)](t.$curPage)},_destroy:function(){this.element.empty()[_b(68)]("pq-pager")[_b(80)](),this._trigger("destroy")},_setOption:function(t,e){"curPage"!=t&&"totalPages"!=t||(e*=1),this._super(t,e)}};e[_b(81)]=function(e){var n,i=!1,r=this.options;for(n in e){var a=e[n],o=typeof a;"string"==o||"number"==o?a!=r[n]&&(this._setOption(n,a),i=!0):"function"==typeof a.splice||t[_b(38)](a)?JSON.stringify(a)!=JSON.stringify(r[n])&&(this._setOption(n,a),i=!0):a!=r[n]&&(this._setOption(n,a),i=!0)}return i&&this._refresh(),this},t.widget("paramquery.pqPager",e),pq.pager=function(e,n){var i=t(e).pqPager(n);return i.data("paramqueryPqPager")||i.data("paramquery-pqPager")};var n=t.paramquery,i=n.pqPager;i.regional={},i.defaults=i.prototype.options,t.extend(i.prototype,{bindButton:function(e,n){e.bind("click keydown",function(e){return"keydown"!=e.type||e.keyCode==t.ui.keyCode.ENTER?n.call(this,e):void 0})},bindCurPage:function(e){var n=this,i=this.options;e.bind("keydown",function(e){e.keyCode===t.ui.keyCode.ENTER&&t(this).trigger("change")}).bind("change",function(e){var r=t(this),a=r.val();return isNaN(a)||1>a||(a=parseInt(a))!==i.curPage&&(a>i.totalPages||!1===n.onChange(e,a))?(r.val(i.curPage),!1):void 0})},initButton:function(t,e,n){return _a(13)+n+_a(14)+t+_a(15)+e+_a(16)},onChange:function(t,e){var n={curPage:e};return!1!==this._trigger("beforeChange",t,n)&&(this.options.curPage=e,void this._trigger("change",t,n))},onChangeSelect:function(e){var n=t(e.target),i=this,r=1*n.val(),a={rPP:r};return!1===i._trigger("beforeChange",e,a)?(n.val(i.options.rPP),!1):(i.options.rPP=r,void i._trigger("change",e,a))},refresh:function(){this._destroy(),this._create()},format:function(t){var e=t.format;return function(t){return e?pq[_b(42)](t,e):t}},_refresh:function(){var t=this,e=t.options,n=e.curPage>=e.totalPages;t.setDisable(t.$next,n),t.setDisable(t.$last,n),t.setDisable(t.$first,n=e.curPage<=1),t.setDisable(t.$prev,n),t[_b(78)].text(t.format(e)(e.totalPages)),t.$curPage.val(e.curPage),t.$select.val(e.rPP),t.$display.html(this.getDisplay()),t._trigger("refreshView")},getDisplay:function(){var t=this.options,e=this.format(t);if(t[_b(82)]>0){var n=t.rPP,i=t.strDisplay||"",r=t.curPage,a=t[_b(82)],o=r*n;o>a&&(o=a),i=(i=(i=i.replace("{0}",e((r-1)*n+1))).replace("{1}",e(o))).replace("{2}",e(a))}else i="";return i},getPageOf:function(){var t=this.options;return"<td><span>"+(t.strPage||"").replace("{0}",_a(17)+t.curPage+_a(18)).replace("{1}",_a(19)+this.format(t)(t.totalPages)+"</span>")+"</span></td>"},getRppOptions:function(){var t,e,n,i,r,a=this.options,o=a.rPPOptions,s=0,l=o.length,u=this.format(a),c=a.strRpp||"";if(c&&-1!=c.indexOf("{0}")){for(r=[_a(20)];l>s;s++)e=1*(n=o[s])==n?u(t=n):n[t=Object.keys(n)[0]],r.push('<option value="',t,'">',e,"</option>");r.push("</select>"),i=r.join(""),c=c.replace("{0}",i)+"</span>"}return _a(21)+c+"</span></td>"},getInstance:function(){return{pager:this}},_trigger:n._trigger,on:n.on,one:n.one,off:n.off,setDisable:function(t,e){t[e?"addClass":"removeClass"]("disabled").css("pointer-events",e?"none":"").attr("tabindex",e?"":"0")}})}(jQuery),function(t){function e(t){return _a(22)+t+"' ></span>"}function n(t){return _a(23)+t+"'></span></span>"}var i=function(){};i.prototype={belongs:function(t){return t.target==this.that.element[0]||void 0},setTimer:function(t,e){clearTimeout(this._timeID),this._timeID=setTimeout(function(){t()},e)}};var r=t.paramquery;r.cClass=i;var a={widgetEventPrefix:"pqgrid"};a[_b(83)]=function(e,n){return this[_b(84)]=e,t(document)[_b(48)]("pq:ready"),t.Widget.prototype[_b(83)].apply(this,arguments)},a._create=function(){var e=this,n=e.options,i=e.element,a=e[_b(34)],o=n.bootstrap,s=o.on,l=n[_b(85)]&&!s,u=n[_b(86)],c=_a(24),h=n.ui;t(document)[_b(48)]("pqGrid:bootup",{instance:this}),e.BS_on=s,n[_b(87)]||(n[_b(87)]={on:!1,collapsed:!1}),n.flexHeight&&(n.height="flex"),n.flexWidth&&(n.width="flex"),e.iRefresh=new r.cRefresh(e),e.iKeyNav=new r.cKeyNav(e),e.iValid=new r.cValid(e),e.tables=[],e.$tbl=null,e.iCols=new r.cColModel(e),e.iSort=new r.cSort(e),i.on("scroll"+a,function(){this.scrollLeft=0,this.scrollTop=0}).on("mousedown"+a,e._mouseDown.bind(e));var d=s?o.grid:h.grid,f=s?"":h.header_o,p=s?"":h.bottom,g=s?o.top:h.top;i.empty().attr({role:"grid",dir:n.rtl?"rtl":"ltr"}).addClass("pq-grid pq-theme "+d+" "+(l?" ui-corner-all":"")).html([_a(25),g," ",l?" ui-corner-top":"","'>",_a(26),l?" ui-corner-top":"","'>&nbsp;</div>","</div>",_a(27),_a(28),n.toolPanel.show?"":"none",";'></div>",_a(29),n[_b(88)].show?"":"none",";'></div>",_a(30),_a(31),f,"'></div>",u?c:"",_a(32),u?"":c,"</div>",_a(33),"</div>",_a(34),p," ",l?" ui-corner-bottom":"","'>",_a(35),"</div>"].join("")),e.setLocale(),e.$bottom=t(".pq-grid-bottom",i),e.$summary=t(".pq-summary-outer",i),e.$toolPanel=i.find(".pq-tool-panel"),e[_b(89)]=i.find(".pq-tool-panel-rules"),e.$top=t("div.pq-grid-top",i),n.showTop||e.$top.css("display","none"),e.$title=t("div.pq-grid-title",i),n.showTitle||e.$title.css("display","none");var v=e[_b(90)]=t(".pq-grid-center",i).on("scroll",function(){this.scrollTop=0}),m=e.$header=t(".pq-header-outer",v).on("scroll",function(){this.scrollTop=0,this.scrollLeft=0});e.iHeader=new r.cHeader(e,m),e.$footer=t(".pq-grid-footer",i);var _=e.$cont=t(".pq-body-outer",v);v.on("mousedown",e[_b(91)].bind(e)),e.iRenderB=new(pq[_b(92)])(e,{$center:v,$b:_,$sum:e.$summary,header:!0,$h:e.$header}),e._trigger("render",null,{dataModel:e.options.dataModel,colModel:e.colModel}),"ontouchend"in document&&(e.addTouch(),e.contextIOS(i)),i.on("contextmenu"+a,e.onContext.bind(e)),_.on("click",_a(36),function(n){return!0!==t.data(n.target,e.widgetName+".preventClickEvent")&&e.evtBelongs(n)?e[_b(93)](n):void 0}).on("dblclick",".pq-grid-cell",function(t){return e.evtBelongs(t)?e[_b(94)](t):void 0}),_.on("focusout",function(){e.onblur()}).on("focus",function(t){e.onfocus(t)}).on("mousedown",e[_b(95)].bind(e)).on("change",e._onChange(e)).on("mouseenter",_a(36),e[_b(96)](e)).on("mouseenter",".pq-grid-row",e[_b(97)](e)).on("mouseleave",".pq-grid-cell",e[_b(98)](e)).on("mouseleave",".pq-grid-row",e[_b(99)](e)).on("keyup",e._onKeyUp(e)),n[_b(100)].native||this[_b(101)](),v.bind("keydown.pq-grid",e[_b(102)](e)),this[_b(103)](),e.iRows=new r.cRows(e),e[_b(104)](),e._initPager(),e[_b(105)](),e[_b(106)](),e[_b(107)]=new(r[_b(108)])(e),this._mouseInit()},a.contextIOS=function(e){var n,i,r,a="contextmenu";e.on("touchstart",function(o){n=1,setTimeout(function(){if(n&&1==(r=o[_b(31)].touches).length){var e=t.Event(a,r[0]);t(o.target).trigger(e),i=1}},600),e.one(a,function(){n=0})}).on("touchmove touchend",function(t){n=0,i&&(i=0,t[_b(28)]())})},a.addTouch=function(){var e,n,i=this[_b(90)][0];i[_b(109)]("touchstart",function(t){var i=t.target,r=t[_b(110)][0];if(e){if(i&&i==e.target){var a=e.x-r.pageX,o=e.y-r.pageY;12>=Math.sqrt(a*a+o*o)&&(n=e,setTimeout(function(){n=null},500))}}else e={x:r.pageX,y:r.pageY,target:i},setTimeout(function(){e=null},400)},!0),i[_b(109)]("touchend",function(e){var i=e.target;n&&i==n.target&&t(i).trigger("dblclick",e)})},a._mouseDown=function(e){var n=this;return t(e.target).closest(".pq-editor-focus").length?(this[_b(111)]=!0,void window.setTimeout(function(){n[_b(111)]=!1},0)):void 0},a.destroy=function(){for(var e in this._trigger("destroy"),this._super(),t(window).off("resize"+this[_b(34)]),this)delete this[e];this.options=void 0,t.fragments={}},a.setLocale=function(){var e=this.options,n=e.locale;e.strLocal!=n&&(t.extend(!0,e,r.pqGrid.regional[n]),t.extend(e.pageModel,r.pqPager.regional[n]))},a._setOption=function(t,e){var n,i=this,r=i.options,a=i.pageI,o=function(){r[t]=e},s=i.iRenderB,l=i.iRenderSum,u=i[_b(112)],c=function(t){return t?"addClass":"removeClass"},h=r.dataModel;if(!i.$title)return o(),i;if("height"===t)o(),i[_b(105)]();else if("locale"==t||"pageModel"==t)o(),"locale"==t&&i.setLocale(),a&&a.destroy();else if("width"===t)o(),i[_b(105)]();else if("title"==t)o(),i[_b(103)]();else if("roundCorners"==t){o();var d=c(e);i.element[d]("ui-corner-all"),i.$top[d]("ui-corner-top"),i.$bottom[d]("ui-corner-bottom")}else if("freezeCols"==t)e=parseInt(e),!isNaN(e)&&e>=0&&e<=i.colModel.length-2&&o();else if("freezeRows"==t)e=parseInt(e),!isNaN(e)&&e>=0&&o();else if("resizable"==t)o(),i[_b(105)]();else if("draggable"==t)o(),i[_b(106)]();else if("dataModel"==t)e.data!==h.data&&h.dataUF&&(h.dataUF.length=0),o();else{if("groupModel"==t)throw _a(37);if("treeModel"==t)throw _a(38);"colModel"===t||"columnTemplate"==t?(o(),i.iCols.init()):"disabled"===t?(i._super(t,e),!0===e?i._disable():i._enable()):"strLoading"===t?(o(),i[_b(113)]()):"showTop"===t?(o(),i.$top.css("display",e?"":"none")):"showTitle"===t?(o(),i.$title.css("display",e?"":"none")):"showToolbar"===t?(o(),i._toolbar.widget().css("display",e?"":"none")):"collapsible"===t?(o(),i[_b(114)]()):"showBottom"===t?(o(),i.$bottom.css("display",e?"":"none")):"wrap"==t||"hwrap"==t?(o(),("wrap"==t?s.$tbl.add(l.$tbl):u.$tbl)[c(!e)]("pq-no-wrap")):"rowBorders"===t?(o(),d=c(e),s.$tbl[d](n="pq-td-border-top"),l.$tbl[d](n)):"columnBorders"===t?(o(),d=c(e),s.$tbl[d](n="pq-td-border-right"),l.$tbl[d](n)):"strNoRows"===t?(o(),i.$cont.find(".pq-grid-norows").text(e)):o()}return i},a.options={cancel:_a(39),trigger:!1,bootstrap:{on:!1,thead:_a(40),tbody:_a(41),grid:"panel panel-default",top:"",btn:"btn btn-default",groupModel:{icon:[_a(42),_a(43)]},header_active:"active"},ui:{on:!0,grid:_a(44),top:"ui-widget-header",bottom:"ui-widget-header",header_o:"ui-widget-header",header:"ui-state-default",header_active:""},format:function(t,e,n,i){var r="format";return n[r]||i[r]||e[r]},cellDatatype:function(t,e){return e.dataType},collapsible:{on:!0,toggle:!0,collapsed:!1,_collapsed:!1,refreshAfterExpand:!0,css:{zIndex:1e3}},colModel:null,columnBorders:!0,dataModel:{data:[],dataUF:[],cache:!1,dataType:"JSON",location:"local",sorting:"local",sortDir:"up",method:"GET"},direction:"",draggable:!1,editable:!0,editModel:{pressToEdit:!0,charsAllow:["0123456789.-=eE+","0123456789-=eE+"],clicksToEdit:2,filterKeys:!0,reInt:/^([-]?[1-9][0-9]*|[-]?[0-9]?)(e[-+]?)?[0-9]*$/i,reFloat:/^[-]?[0-9]*\.?[0-9]*(e[-+]?)?[0-9]*$/i,onBlur:"validate",saveKey:t.ui.keyCode.ENTER,onSave:"nextFocus",onTab:"nextFocus",allowInvalid:!1,invalidClass:_a(45),warnClass:_a(46),validate:!0},editor:{select:!1,type:"textarea"},summaryOptions:{number:_a(47),date:"count,max,min",string:"count"},summaryTitle:{avg:"Avg: {0}",count:"Count: {0}",max:"Max: {0}",min:"Min: {0}",stdev:"Stdev: {0}",stdevp:"Stdevp: {0}",sum:"Sum: {0}"},validation:{icon:"ui-icon-alert",cls:"ui-state-error",style:"padding:3px 10px;"},warning:{icon:"ui-icon-info",cls:"",style:"padding:3px 10px;"},freezeCols:0,freezeRows:0,freezeBorders:!0,calcDataIndxFromColIndx:!0,height:400,hoverMode:"null",locale:"en",maxColWidth:2e3,minColWidth:50,minWidth:100,menuUI:{tabs:["hideCols","filter"],buttons:["clear","ok"],gridOptions:{autoRow:!1,copyModel:{render:!0},editable:function(t){return!t.rowData[_b(50)]},fillHandle:"",filterModel:{header:!0,on:!0},hoverMode:"row",hwrap:!1,rowBorders:!1,rowHt:24,rowHtHead:23,scrollModel:{autoFit:!0},showTop:!1,height:300,wrap:!1}},mergeCells:[],numberCell:{width:30,title:"",resizable:!0,minWidth:30,maxWidth:100,show:!0},pageModel:{curPage:1,totalPages:0,rPP:10,rPPOptions:[10,20,50,100]},resizable:!1,roundCorners:!0,rowBorders:!0,rowResize:!0,autoRow:!0,scrollModel:{autoFit:!1},selectionModel:{column:!0,type:"cell",onTab:"nextFocus",row:!0,mode:"block"},showBottom:!0,showHeader:!0,showTitle:!0,showToolbar:!0,showTop:!0,sortable:!0,sql:!1,stringify:!0,stripeRows:!0,title:"&nbsp;",toolPanelRules:{},treeModel:null,width:"auto",wrap:!0,hwrap:!0},t.widget("paramquery._pqGrid",t.ui.mouse,a);var o=r._pqGrid.prototype;o.setData=function(t){var e=this,n=e.options,i=n.groupModel.pivot,r=n.reactive,a=e.Group();i&&a.option({pivot:!1}),e.option("dataModel.data",t),r||e[_b(115)](),i&&a.option({pivot:!0})},o.refreshCM=function(t,e){t&&(this.options.colModel=t),this.iCols.init(e)},o.evtBelongs=function(e){return t(e.target).closest(".pq-grid")[0]==this.element[0]},o.readCell=function(t,e,n,i,r){return n&&!1===n.isRootCell(i,r,"o")?void 0:t[e.dataIndx]},o.saveCell=function(t,e,n){t[e.dataIndx]=n},o[_b(116)]=function(){var t=this.element,e=t.data();(e.resizable||e[_b(117)]||e["ui-resizable"])&&t.resizable("destroy")},o._disable=function(){null==this.$disable&&(this.$disable=t(_a(48)).css("opacity",.2).appendTo(this.element))},o._enable=function(){this.$disable&&(this.element[0][_b(118)](this.$disable[0]),this.$disable=null)},o._destroy=function(){var e=this[_b(34)];this.loading&&this.xhr.abort(),this[_b(116)](),this[_b(119)](),this.element.off(e),t(window).unbind(e),t(document).unbind(e),this.element.empty().css("height","").css("width","")[_b(68)](_a(49)).removeData()},o._onKeyUp=function(t){return function(e){t.evtBelongs(e)&&t._trigger("keyUp",e,null)}},o[_b(120)]=function(e){var n=this;return t(e.target).closest(".pq-header-outer").length?n._trigger("headerKeyDown",e,null):void(!1!==n.iKeyNav[_b(121)](e)&&n._trigger("keyDown",e,null))},o[_b(102)]=function(t){return function(e){t.evtBelongs(e)&&t[_b(120)](e,t)}},o.collapse=function(t){t=t||{};var e=this,n=e.element,i=e.options[_b(87)],r=i.$collapse.children("span"),a=function(){n.css("overflow","hidden"),r.addClass(_a(50))[_b(68)](_a(51)),n.hasClass("ui-resizable")&&n.resizable("destroy"),e._toolbar&&e._toolbar.disable(),i.collapsed=i._collapsed=!0,i.animating=!1,e._trigger("collapse")};return!i._collapsed&&(i.htCapture=n.height(),void(!1===t.animate?(n.height(23),a()):(i.animating=!0,e.disable(),n.animate({height:"23px"},function(){a()}))))},o.expand=function(t){var e=this,n=e.element,i=e.options[_b(87)],r=i.htCapture,a=i.$collapse.children("span"),o=function(){n.css("overflow",""),i._collapsed=i.collapsed=!1,e[_b(105)](),i[_b(122)]&&e.refresh(),a.addClass(_a(51))[_b(68)](_a(50)),e._toolbar&&e._toolbar.enable(),e.enable(),i.animating=!1,e._trigger("expand")};return t=t||{},!1!==i._collapsed&&void(!1===t.animate?(n.height(r),o()):(i.animating=!0,n.animate({height:r},function(){o()})))},o[_b(114)]=function(){var i=this,r=this.$top,a=this.BS_on,o=this.options[_b(87)];if(!o.$stripe){var s=t([_a(52),"</div>"].join("")).appendTo(r);o.$stripe=s}o.on?o.$collapse||(o.$collapse=t(a?e("collapse-down"):n("circle-triangle-n")).appendTo(o.$stripe).click(function(){o.collapsed?i.expand():i.collapse()})):o.$collapse&&(o.$collapse.remove(),delete o.$collapse),o.collapsed&&!o._collapsed?i.collapse({animate:!1}):!o.collapsed&&o._collapsed&&i.expand({animate:!1}),o.toggle?o.$toggle||(o.$toggle=t(a?e("fullscreen"):n("arrow-4-diag")).prependTo(o.$stripe).click(function(){i.toggle()})):o.$toggle&&(o.$toggle.remove(),delete o.$toggle),o.toggled&&!o.state&&this.toggle()},o.toggle=function(e){e=e||{};var n=this.options,i=n[_b(87)],r=this.element,a=i.state,o=a?"min":"max",s=t("html"),l=t(window),u=t(document.body);if(!1===this._trigger("beforeToggle",null,{state:o}))return!1;if("min"==o){var c=a.grid,h=a.doc;this.option({height:c.height,width:c.width,maxHeight:c.maxHeight,maxWidth:c.maxWidth}),r[0].style.cssText=c.cssText,u[0].style.cssText=h.cssText,s.css({overflow:"visible"}),window.scrollTo(h.scrollLeft,h.scrollTop),i.state=null}else c={height:n.height,width:n.width,cssText:r[0].style.cssText,maxHeight:n.maxHeight,maxWidth:n.maxWidth},this.option({height:"100%",width:"100%",maxHeight:null,maxWidth:null}),r.css(t.extend({position:"fixed",left:0,top:0,margin:0},i.css)),h={scrollLeft:l.scrollLeft(),scrollTop:l.scrollTop(),cssText:u[0].style.cssText},u.css({height:0,width:0,overflow:"hidden",position:"static"}),s.css({overflow:"hidden"}),window.scrollTo(0,0),i.state={grid:c,doc:h};i.toggled=!!i.state,e.refresh||(this._trigger("toggle",null,{state:o}),this[_b(105)](),this.refresh(),l.trigger("resize",{$grid:r,state:o}))},o[_b(94)]=function(e){var n=this,i=t(e[_b(123)]),r=n[_b(33)]({$td:i});r.$td=i,0!=n._trigger("cellDblClick",e,r)&&(n.options.editModel[_b(124)]>1&&n.isEditable(r)&&n.editCell(r),r.$tr=i.closest(".pq-grid-row"),n._trigger("rowDblClick",e,r))},o[_b(60)]=function(e,n,i){if("="==(e+"")[0])return e;var r;if("date"==n)return r=Date.parse(e),isNaN(r)?void 0:i?r:e;if("integer"==n)r=parseInt(e);else{if("float"!=n)return"bool"==n?null==e?e:0==(r=t.trim(e)[_b(49)]()).length?null:"true"==r||"yes"==r||"1"==r||"false"!=r&&"no"!=r&&"0"!=r&&Boolean(r):"object"==n||null==e?e:t.trim(e);r=parseFloat(e)}return isNaN(r)||null==r?null==e?e:null:r},o.isValid=function(t){return this.iValid.isValid(t)},o[_b(125)]=function(t){t=t||{};var e=this.getChanges(),n=e.updateList.concat(e.addList);return t.data=n,this.isValid(t)},o[_b(126)]=function(t){var e,n,i,r=t,a=t.rowData;return t.column&&a||(a=(r=this.normalize(t)).rowData),a&&(i=a[_b(127)])&&(n=(i[r.dataIndx]||{}).edit),null==n&&null!=(e=r.column.editable)&&("function"==typeof e?(r=r||this.normalize(t),n=this.callFn(e,r)):n=e),n},o[_b(128)]=function(t){var e=this.options.editable,n=t.rowData,i=n&&(n.pq_rowprop||{}).edit;return null==i&&(i="function"==typeof e?e.call(this,this.normalize(t)):e),i},o.isEditable=function(t){var e=this[_b(126)](t);return null==e?this[_b(128)](t):e},o[_b(129)]=function(){var t,e;(t=this.pdata)&&t.length||((e=this.$cont[0])[_b(130)]("tabindex",0),e.focus())},o[_b(91)]=function(){var e=this;e[_b(131)]=function(n){t(document).unbind("mouseup"+e[_b(34)],e[_b(131)]),e._trigger("mousePQUp",n,null)},t(document).bind("mouseup"+e[_b(34)],e[_b(131)])},o[_b(95)]=function(e){var n=this;if((!e.which||1==e.which)&&n.evtBelongs(e)){var i,r=t(e.target),a=r.closest(_a(36));if(r.is("a")||(a.length&&(e[_b(123)]=a[0],n[_b(132)](e)),e[_b(133)]())||((i=r.closest(".pq-grid-row")).length&&(e[_b(123)]=i[0],n[_b(134)](e)),e[_b(133)]()))return;n[_b(129)](e)}},o[_b(132)]=function(e){var n,i=t(e[_b(123)]),r=this[_b(33)]({$td:i});null!=r.rowIndx&&((n=this.iMerge[_b(135)](r.rowIndx,r.colIndx,!0)).$td=i,this._trigger("cellMouseDown",e,n))},o[_b(134)]=function(e){var n=t(e[_b(123)]),i=this.getRowIndx({$tr:n});i.$tr=n,this._trigger("rowMouseDown",e,i)},o[_b(96)]=function(e){return function(n){if(e.evtBelongs(n)){var i=t(this),r=e.options,a=e[_b(33)]({$td:i});return null==a.rowIndx||null==a.colIndx||!1===e._trigger("cellMouseEnter",n,a)?void 0:("cell"==r.hoverMode&&e[_b(136)](i),!0)}}},o._onChange=function(e){function n(){if(i&&r&&r.target==i.target){var t;for(t in{ctrlKey:0,metaKey:0,shiftKey:0,altKey:0})r[t]=i[t];e._trigger("valChange",r,a),r=i=void 0}}var i,r,a;return e.on("cellClickDone",function(t){i=t[_b(31)],n()}),function(i){if(e.evtBelongs(i)){var o=t(i.target),s=o.closest(".pq-grid-cell");s.length&&(a=e[_b(33)]({$td:s}),(a=e.normalize(a)).input=o[0],r=i,n())}}},o[_b(97)]=function(e){return function(n){if(e.evtBelongs(n)){var i=t(this),r=e.options,a=e.getRowIndx({$tr:i}),o=a[_b(71)];return!1===e._trigger("rowMouseEnter",n,a)?void 0:("row"==r.hoverMode&&e[_b(137)](o),!0)}}},o[_b(98)]=function(e){return function(n){if(e.evtBelongs(n)){var i=t(this);"cell"==e.options.hoverMode&&e[_b(138)](i)}}},o[_b(99)]=function(e){return function(n){if(e.evtBelongs(n)){var i=t(this),r=e.getRowIndx({$tr:i}),a=r[_b(71)];if(!1===e._trigger("rowMouseLeave",n,{$tr:i,rowIndx:r.rowIndx,rowIndxPage:a}))return;"row"==e.options.hoverMode&&e[_b(139)](a)}}},o[_b(80)]=function(){this.element[_b(68)]("pq-disable-select").off("selectstart"+this[_b(34)])},o[_b(101)]=function(){this.element.addClass("pq-disable-select").on("selectstart"+this[_b(34)],function(e){if(e.target){var n=t(e.target);return!(!n.is(_a(53))&&!n.closest(".pq-native-select").length)||void e[_b(28)]()}})},o[_b(93)]=function(e){var n=this,i=n.options.editModel,r=t(e[_b(123)]),a=n[_b(33)]({$td:r}),o=n.normalize(a),s=o.colIndx;o.$td=r,o.evt=e,0!=n._trigger("beforeCellClick",e,o)&&(n._trigger("cellClick",e,o),null==s||0>s||(1==i[_b(124)]&&n.isEditable(o)&&n.editCell(o),o.$tr=r.closest(".pq-grid-row"),n._trigger("rowClick",e,o)))},o[_b(140)]=function(t){var e=this.iRenderB[_b(141)](t),n=e[0],i=e[1],r=this[_b(142)];return{ri:n,colIndx:i,column:(r[n]||r[n-1])[i],filterRow:!r[n]}},o.onContext=function(e){var n,i,r,a,o=this,s=e.target,l=function(t){o._trigger(t,e,a)};if(o.evtBelongs(e)){i=s;do{if(r=t(i),a={ele:i},r.is(".pq-grid")){a={},l("context");break}if(r.is("img")?(a.type="img",n=1):r.is(_a(36))?(a=o[_b(33)]({$td:r})).rowData&&(a.type=a.column?"cell":"num",a.$td=r,n=1,l("cellRightClick")):r.is(".pq-tab-item")?(a.id=o.iTab.getId(r),a.type="tab",n=1):r.is(".pq-grid-col")&&((a=o[_b(140)](i)).type="head",a.$th=r,n=1,l("headRightClick")),n){l("context");break}}while(i=i.parentNode)}},o[_b(136)]=function(t){t.addClass(_a(54))},o[_b(138)]=function(t){t[_b(68)](_a(54))},o[_b(137)]=function(t){if(!isNaN(t)){var e=this.getRow({rowIndxPage:t});e&&e.addClass(_a(55))}},o[_b(139)]=function(t){if(!isNaN(t)){var e=this.getRow({rowIndxPage:t});e&&e[_b(68)](_a(55))}},o[_b(143)]=function(){return{dataModel:this.options.dataModel,data:this.pdata,colModel:this.options.colModel}},o._initPager=function(){var e=this,n=e.options,i=n.pageModel;if(i.type){var r={bootstrap:n.bootstrap,change:function(t,n){e.blurEditor({force:!0});var i=e.options.pageModel;null!=n.curPage&&(i.prevPage=i.curPage,i.curPage=n.curPage),null!=n.rPP&&(i.rPP=n.rPP),"remote"==i.type?e[_b(144)]({callback:function(){e[_b(145)]({apply:!0,header:!1})}}):e[_b(16)]({header:!1,source:"pager"})},refresh:function(){e[_b(115)]()}};(r=t.extend(r,i)).rtl=n.rtl,e.pageI=pq.pager(i.appendTo?i.appendTo:this.$footer,r).on("destroy",function(){delete e.pageI})}},o[_b(104)]=function(){this.$loading&&this.$loading.remove(),this.$loading=t(_a(56)).appendTo(this.element),t([_a(57),this.options.strLoading,"...</div></div>"].join("")).appendTo(this.$loading),this.$loading.find("div.pq-loading-bg").css("opacity",.2)},o[_b(113)]=function(){this.$loading.find("div.pq-loading-mask").children("div").html(this.options.strLoading)},o[_b(146)]=function(){null==this[_b(147)]&&(this[_b(147)]=0),this[_b(147)]++,this.$loading.show()},o[_b(148)]=function(){this[_b(147)]>0&&this[_b(147)]--,this[_b(147)]||this.$loading.hide()},o[_b(149)]=function(){var t=this.options,e=t.dataModel,n=e.data||[],i=e.dataUF||[],r=t.pageModel;return"remote"==r.location?r[_b(82)]:n.length+i.length},o[_b(150)]=function(t){t=t||{};var e,n,i,r,a,o=this,s=o.options,l=s.pageModel,u=s.dataModel.data,c=l.type,h=o[_b(151)];for(var d in h){var f=h[d];delete h[d],o._trigger(d,f.evt,f.ui)}o._trigger("beforeRefreshData",null,{}),"local"==c?(r=l[_b(82)]=u.length,l.totalPages=i=Math.ceil(r/l.rPP),l.curPage>i&&(l.curPage=i),i&&!l.curPage&&(l.curPage=1),(n=l.curPage*l.rPP)>u.length&&(n=u.length),o.pdata=u.slice(e=(e=(l.curPage-1)*l.rPP)>=0?e:0,n),a=e):"remote"==c?(l.totalPages=i=Math.ceil(l[_b(82)]/l.rPP),l.curPage>i&&(l.curPage=i),i&&!l.curPage&&(l.curPage=1),(n=l.rPP)>u.length&&(n=u.length),o.pdata=u.slice(0,n),a=l.rPP*(l.curPage-1)):o.pdata=s[_b(152)]?u.slice(0):u,o.riOffset=a>=0?a:0,o._trigger("dataReady",null,{source:t.source}),o._trigger("dataReadyAfter",null,{source:t.source})},o[_b(153)]=function(){return""},o[_b(144)]=function(e){this.loading&&this.xhr.abort(),e=e||{};var n=this,i="",r="",a=this.options,o=!1,s=this.colModel,l=a.dataModel,u=a.sortModel,c=a[_b(154)],h=a.pageModel;if("function"==typeof l.getUrl){var d=l.getUrl.call(this,{colModel:s,dataModel:l,sortModel:u,groupModel:a.groupModel,pageModel:h,filterModel:c});d&&d.url&&(i=d.url),d&&d.data&&(r=d.data)}else if("string"==typeof l.url){i=l.url;var f,p={},g={},v={};if("remote"==u.type){e.initBySort||this.sort({initByRemote:!0});var m=this.iSort[_b(155)]();m&&(p={pq_sort:m})}"remote"==h.type&&(v={pq_curpage:h.curPage,pq_rpp:h.rPP}),"local"!=c.type&&(f=this[_b(156)][_b(157)]())&&(o=!0,g={pq_filter:f});var _=l.postData,y=l[_b(158)];_&&"function"==typeof _&&(_=_.call(this,{colModel:s,dataModel:l})),r=t.extend({pq_datatype:l.dataType},g,v,p,_,y)}i&&(this.loading=!0,this[_b(146)](),this.xhr=t.ajax({url:i,dataType:l.dataType,async:null==l.async||l.async,cache:l.cache,contentType:l[_b(159)],type:l.method,data:r,beforeSend:function(t,e){return"function"==typeof l.beforeSend?l.beforeSend.call(n,t,e):void 0},success:function(t,i,r){n[_b(160)](t,i,r,o,e)},error:function(t,e,i){if(n[_b(148)](),n.loading=!1,"function"==typeof l.error)l.error.call(n,t,e,i);else if("abort"!=i)throw"Error : "+i}}))},o[_b(160)]=function(t,e,n,i,r){var a,o=this,s=o.options,l=o.colModel,u=s.pageModel,c=s.dataModel;a="function"==typeof c.getData?c.getData.call(o,t,e,n):t,c.data=a.data,"remote"==u.type&&(null!=a.curPage&&(u.curPage=a.curPage),null!=a[_b(82)]&&(u[_b(82)]=a[_b(82)])),o[_b(148)](),o.loading=!1,o._trigger("load",null,{dataModel:c,colModel:l}),i&&(o[_b(151)].filter={ui:{}}),r.callback&&r.callback()},o[_b(103)]=function(){this.$title.html(this.options.title)},o[_b(119)]=function(){var t=this.element,e=t.parent(".pq-wrapper");e.length&&e.data("draggable")&&(e.draggable("destroy"),this.$title[_b(68)](_a(58)),t.unwrap(".pq-wrapper"))},o[_b(106)]=function(){var t=this.element,e=this.$title;this.options.draggable?(e.addClass(_a(58)),t.parent(".pq-wrapper").length||t.wrap(_a(59)),t.parent(".pq-wrapper").draggable({handle:e})):this[_b(119)]()},o[_b(105)]=function(){var e=this,n=this.element,i=this.options,r=(i.width+"").indexOf("%")>-1,a=(i.height+"").indexOf("%")>-1,o="auto"==i.width,s="flex"==i.width,l="flex"==i.height;if(!i.resizable||(l||a)&&(s||r||o))this[_b(116)]();else{var u="e,s,se";l||a?u="e":(s||r||o)&&(u="s");var c=!0;n.hasClass("ui-resizable")&&(u==n.resizable("option","handles")?c=!1:this[_b(116)]()),c&&n.resizable({helper:"ui-state-default",handles:u,minWidth:i.minWidth,minHeight:i.minHeight?i.minHeight:100,delay:0,start:function(e,n){t(n.helper).css({opacity:.5,background:"#ccc",border:"1px solid steelblue"})},stop:function(){var n=e.element,r=n[0],a=i.width,o=i.height,s=(a+"").indexOf("%")>-1,l=(o+"").indexOf("%")>-1,u="auto"==a,c="flex"==a,h="flex"==o,d=!1;r.style.width=r[_b(161)]+3+"px",r.style.height=r[_b(162)]+3+"px",l||h||(d=!0,i.height=r[_b(162)]),s||u||c||(d=!0,i.width=r[_b(161)]),e.refresh({soft:!0}),n.css("position","relative"),d&&t(window).trigger("resize")}})}},o.refresh=function(t){this.iRefresh.refresh(t)},o[_b(16)]=function(t){null!=this.options.editModel.indices&&this.blurEditor({force:!0}),this[_b(150)](t),this.refresh(t)},o[_b(163)]=function(){var t=this,e=t.options,n=e.pageModel,i=!!n.type,r=n.rPP,a=n[_b(82)];i?(t.pageI||t._initPager(),t.pageI.option(n),a>r?t.$bottom.css("display",""):e.showBottom||t.$bottom.css("display","none")):(t.pageI&&t.pageI.destroy(),t.$bottom.css("display",e.showBottom?"":"none"))},o[_b(164)]=function(){return{grid:this}},o[_b(115)]=function(t){var e=this.options.dataModel;if(this.pdata=[],"remote"==e.location){var n=this;this[_b(144)]({callback:function(){n[_b(145)](t)}})}else this[_b(145)](t)},o.getColIndx=function(t){var e,n=t.dataIndx,i=t.column,r=this.colModel,a=r.length,o=0;if(i){for(;a>o;o++)if(r[o]==i)return o}else{if(null==n)throw"dataIndx / column NA";if(null!=(e=this.colIndxs[n]))return e}return-1},o.getColumn=function(t){var e=t.dataIndx;if(null==e)throw"dataIndx N/A";return this.columns[e]||this.iGroup[_b(165)]()[e]},o[_b(166)]=function(){var e,n=this.options.editModel;this.$div_focus||(n.inline?(e=this.getCell(n.indices)).css("padding",0).empty():e=this.element,this.$div_focus=t([_a(60),_a(61),"</div>","</div>"].join("")).appendTo(e))},o[_b(167)]=function(){if(this.$div_focus){var e=this.$div_focus.find(".pq-editor-focus");if((a=e).hasClass("hasDatepicker")&&a.datepicker("hide").datepicker("destroy"),e[0]==document[_b(65)]){var n=this[_b(111)];this[_b(111)]=!0,e.blur(),this[_b(111)]=n}this.$div_focus.remove(),delete this.$div_focus;var i=this.options.editModel,r=t.extend({},i.indices);i.indices=null,r.rowData=void 0,this[_b(168)](r)}var a},o.scrollX=function(t,e){var n=this;return n.iRenderB.scrollX(t,function(){e&&e.call(n)})},o.scrollY=function(t,e){var n=this;return n.iRenderB.scrollY(t,function(){e&&e.call(n)})},o.scrollXY=function(t,e,n){var i=this;return i.iRenderB.scrollXY(t,e,function(){n&&n.call(i)})},o.scrollRow=function(t,e){var n=this;n.iRenderB.scrollRow(n.normalize(t)[_b(71)],function(){e&&e.call(n)})},o[_b(169)]=function(t,e){var n=this;n.iRenderB[_b(169)](n.normalize(t).colIndx,function(){e&&e.call(n)})},o.scrollCell=function(t,e){var n=this,i=n.normalize(t);n.iRenderB.scrollCell(i[_b(71)],i.colIndx,function(){e&&e.call(n),n._trigger("scrollCell")})},o.blurEditor=function(t){if(this.$div_focus){var e=this.$div_focus.find(".pq-editor-focus");if(!t||!t[_b(170)])return e[_b(48)]("blur",t);document[_b(65)]==e[0]&&e.blur()}},o.Selection=function(){return this.iSelection},o.goToPage=function(t){var e=this.options.pageModel;if("local"==e.type||"remote"==e.type){var n=null==t.page?Math.ceil((t.rowIndx+1)/e.rPP):t.page;n!=e.curPage&&(e.curPage=n,"local"==e.type?this[_b(16)]():this[_b(115)]())}},o[_b(171)]=function(t,e){if(null==t)return this.iSelection.removeAll(),this.iRows.removeAll({all:!0}),!0;var n=this,i=n.pdata,r=function(){null!=o&&!1!==t.focus&&n.focus({rowIndxPage:o,colIndx:null==s?n[_b(172)]():s}),e&&e.call(n)};i&&i.length||r();var a=(t=this.normalize(t)).rowIndx,o=t[_b(71)],s=t.colIndx;(null==a||0>a||0>s||s>=this.colModel.length)&&r(),this.goToPage(t),n.scrollRow({rowIndxPage:o=a-this.riOffset},function(){null==s?(n.iRows.add({rowIndx:a}),r()):n[_b(169)]({colIndx:s},function(){n.Range({r1:a,c1:s}).select(),r()})})},o[_b(173)]=function(){return this.colModel},o[_b(174)]=function(){return this.iGroup[_b(174)]()},o[_b(175)]=function(){return this.iGroup[_b(175)]()},o[_b(176)]=function(e){var n=this.options,i=n.editModel;if(!i.indices)return null;var r,a=t.extend({},i.indices),o=e?e.evt:null,s=this.riOffset,l=a.colIndx,u=a[_b(71)],c=u+s,h=this.colModel[l],d=h.dataIndx,f=this.pdata[u],p=n.dataModel;if(null==f)return null;if(null!=u){var g=this[_b(177)]();if(t[_b(38)](g))for(var v in r={},g)r[v]=f[v];else r=this.readCell(f,h);"<br>"==g&&(g=""),null==r&&""===g&&(g=null);var m={rowIndx:c,rowIndxPage:u,dataIndx:d,column:h,newVal:g,value:g,oldVal:r,rowData:f,dataModel:p};if(!1===this._trigger("cellBeforeSave",o,m))return!1;var _={};return t[_b(38)](g)?_=g:_[d]=g,!1!==this.updateRow({row:_,rowIndx:c,silent:!0,source:"edit",checkEditable:!1})&&(this._trigger("cellSave",o,m),!0)}},o[_b(178)]=function(t,e,n,i,r,a,o,s,l){var u,c,h=this[_b(60)],d=this.columns,f=this.colIndxs;for(u in t)if(c=d[u]){if(a&&!1===this.isEditable({rowIndx:n,rowData:i,colIndx:f[u],column:c})){delete t[u],e&&delete e[u];continue}var p=c.dataType,g=h(t[u],p),v=e?e[u]:void 0;if(v=void 0!==v?h(v,p):void 0,t[u]=g,o&&c[_b(59)])if("edit"==l&&!1===s){var m=this.isValid({focusInvalid:!0,dataIndx:u,rowIndx:n,value:g});if(0==m.valid&&!m.warn)return!1}else{var _="add"==r?t:i;!1===(m=this.iValid[_b(70)]({column:c,rowData:_,allowInvalid:s,value:g})).valid&&(!1!==s||m.warn||delete t[u])}if("update"==r&&g===v){delete t[u],delete e[u];continue}}return"update"!=r||!pq.isEmpty(t)||void 0},o[_b(179)]=function(t){if(t.rowList)throw"not supported";if(A=t.addList=t.addList||[],t.updateList=t.updateList||[],t.deleteList=t.deleteList||[],A.length&&A[0].rowData)throw"rd in addList";if(!1===this._trigger("beforeValidate",null,t))return!1;var e,n,i,r,a=this,o=a.options,s=o.editModel,l=o.dataModel,u=l.data||[],c=l.dataUF||[],h=o.colModel,d=o.pageModel,f=o[_b(180)],p=h.map(function(t){return t.dataIndx}),g=null==t.validate?s.validate:t.validate,v="remote"==d.type,m=null==t[_b(63)]?s[_b(63)]:t[_b(63)],_=o.trackModel,y=t.track,b=null==t.history?f.on:t.history,x=this.iHistory,w=this.iUCData,k=null==t[_b(66)]||t[_b(66)],C=null==t[_b(181)]?k:t[_b(181)],M=t.source,T=a.iRefresh,S=this.riOffset,A=t.addList,E=t.updateList,P=t.deleteList,I=[],O=[];for(y=null==y?null==o.track?_.on:o.track:y,i=0,r=E.length;r>i;i++){var R,L=E[i],D=L.newRow,N=L.rowData,Z=L[_b(66)],F=L.rowIndx,U=L.oldRow;if(null==Z&&(Z=k),!U)throw _a(62);if(!1===(R=this[_b(178)](D,U,F,N,"update",Z,g,m,M)))return!1;R&&O.push(L)}for(i=0,r=A.length;r>i;i++){if(D=(L=A[i]).newRow,Z=L[_b(66)],F=L.rowIndx,null==Z&&(Z=C),p.forEach(function(t){D[t]=D[t]}),!1===(R=this[_b(178)](D,U,F,N,"add",Z,g,m,M)))return!1;R&&I.push(L)}return A=t.addList=I,E=t.updateList=O,n=P.length,(e=A.length)||E.length||n?(b&&(x.increment(),x.push(t)),a[_b(182)](E,w,y),n&&(a[_b(183)](P,w,y,u,c,d,v,S),T.addRowIndx()),e&&(a._digestAdd(A,w,y,u,d,v,S),T.addRowIndx()),a._trigger("change",null,t),!0):"edit"==M&&null},o[_b(182)]=function(t,e,n){for(var i,r=0,a=t.length,o=this.columns,s=this.saveCell;a>r;r++){var l=t[r],u=l.newRow,c=l.rowData;for(i in n&&e.update({rowData:c,row:u,refresh:!1}),u)s(c,o[i],u[i])}},o._digestAdd=function(t,e,n,i,r,a,o){var s=0,l=t.length;for(t.sort(function(t,e){return t.rowIndx-e.rowIndx});l>s;s++){var u=t[s],c=u.newRow,h=u.rowIndx;n&&e.add({rowData:c}),null==h?i.push(c):i.splice(a?h-o:h,0,c),u.rowData=c,a&&r[_b(82)]++}},o[_b(183)]=function(t,e,n,i,r,a,o,s){for(var l,u=0,c=t.length;c>u;u++){var h=t[u],d=h.rowData,f=!1,p=i.indexOf(d);-1==p?(p=r.indexOf(d))>=0&&(f=!0):h.rowIndx=o?p+s:p,h.uf=f,h.indx=p}for(t.sort(function(t,e){return e.rowIndx-t.rowIndx}),u=0;c>u;u++)d=(h=t[u]).rowData,f=h.uf,p=h.indx,n&&e.delete({rowIndx:h.rowIndx,rowData:d}),f?r.splice(p,1):(l=i.splice(p,1))&&l.length&&o&&a[_b(82)]--},o[_b(184)]=function(t){var e=this,n=e.normalize(t),i=e.iRenderB;n.skip=!0,i.eachV(function(t,i){n[_b(71)]=i,e[_b(168)](n)}),e._trigger("refreshColumn",null,n)},o[_b(168)]=function(t){var e=this,n=e.normalize(t),i=e._focusEle,r=n[_b(71)],a=n.colIndx;e.iRenderB[_b(168)](r,a,n.rowData,n.column)&&(i&&i[_b(71)]==r&&e.focus(),n.skip||(e.refresh({soft:!0}),e._trigger("refreshCell",null,n)))},o[_b(185)]=function(t){var e=this.normalize(t),n=this[_b(142)],i=n.length-1,r=n[i];this[_b(112)][_b(168)](i,e.colIndx,r,e.column)},o.refreshRow=function(t){if(this.pdata){var e,n=this,i=n.normalize(t),r=i.rowIndx,a=i[_b(71)],o=i.rowData;return o?(n.iRenderB.refreshRow(a),n.refresh({soft:!0}),(e=n._focusEle)&&e[_b(71)]==a&&n.focus(),n._trigger("refreshRow",null,{rowData:o,rowIndx:r,rowIndxPage:a}),!0):null}},o[_b(186)]=function(t){if(!this[_b(187)]){var e=!1,n=!1,i=!1,r=this.options.editModel,a=r.indices,o=void 0;this[_b(187)]=!0,t&&(e=t.old,n=t.silent,i=t.fireOnly,o=t.evt),a&&(n||e||this._trigger("editorEnd",o,a),i||(this[_b(167)](t),r.indices=null)),this[_b(187)]=null}},o[_b(188)]=function(){return{beginIndx:this.initV,endIndx:this.finalV}},o[_b(189)]=function(){var t=this.iRenderB;return{initV:t.initV,finalV:t.finalV,initH:t.initH,finalH:t.finalH}},o[_b(190)]=function(){return this.riOffset},o[_b(61)]=function(){var t=this.options.editModel;if(t.indices){var e=this.getCell(t.indices),n=this.$div_focus.children(".pq-editor-inner"),i=n.find(".pq-editor-focus");return{$td:e,$cell:n,$editor:i}}return{}},o.editCell=function(t){var e,n,i=this,r=i.normalize(t),a=i.iMerge,o=r.rowIndx,s=r.colIndx;return(!a[_b(191)](o,s)||(e=a[_b(135)](o,s)).rowIndx==r.rowIndx&&e.colIndx==r.colIndx)&&void i.scrollCell(r,function(){return(n=i.getCell(r))&&n.length?i._editCell(r):void 0})},o[_b(192)]=function(t){if(null==t.rowIndx)throw"rowIndx NA";for(var e=this.colModel,n=0;n<e.length;n++)if(!e[n].hidden&&(t.colIndx=n,this.isEditable(t)))return n;return-1},o[_b(193)]=function(t){var e=this.normalize(t).rowIndx,n=this[_b(192)]({rowIndx:e});-1!=n&&this.editCell({rowIndx:e,colIndx:n})},o._editCell=function(e){var n=this,i=n.normalize(e),a=i.evt,s=i[_b(71)],l=i.colIndx,u=n.pdata;if(!u||s>=u.length)return!1;var c=n.options,h=c.editModel,d=u[s],f=i.rowIndx,p=n.colModel[l],g=p.dataIndx,v=n.readCell(d,p),m={rowIndx:f,rowIndxPage:s,cellData:v,rowData:d,dataIndx:g,colIndx:l,column:p},_=p.editor,y=n,b=typeof _;if(void 0===(_="function"==b||"string"==b?y.callFn(_,m):_)&&"function"==typeof c.geditor&&(_=c.geditor.call(y,m)),!1!==_){_&&_.getData&&(h._getData=_.getData);var x=c.editor,w=_?t.extend({},x,_):x,k=!1;if(h.indices){var C=h.indices;if(C[_b(71)]==s&&C.colIndx==l){var M=n.$div_focus.find(".pq-editor-focus");return M[0].focus(),document[_b(65)]!=M[0]&&window.setTimeout(function(){M.focus()},0),!1}if(!1===n.blurEditor({evt:a}))return!1;n[_b(186)]({evt:a})}h.indices={rowIndxPage:s,rowIndx:f,colIndx:l,column:p,dataIndx:g},n[_b(166)]();var T=n.$div_focus.children(".pq-editor-inner");T.addClass("pq-align-"+(p.align||"left")),m.$cell=T;var S,A,E,P=w.type,I=null==i.select?w.select:i.select,O=w.valueIndx,R=w.dataMap,L=w.mapIndices||{},D="pq-editor-focus "+(A="function"==typeof(A=w.cls||"")?A.call(y,m):A),N=D+" pq-cell-editor ",Z="function"==typeof(Z=w.attr||"")?Z.call(y,m):Z,F=(E="function"==typeof(E=w.style||"")?E.call(y,m):E)?"style='"+E+"'":"",U=F,B=F;if(m.cls=D,m.attr=Z,"function"==typeof P&&(S=P.call(y,m))&&(P=S),x._type=P,"checkbox"==P){var z=w.subtype;S="<input "+(v?"checked='checked'":"")+" class='"+N+"' "+Z+" "+B+_a(63)+g+"' />",T.html(S);var q=T.children("input");"triple"==z&&(q.pqval({val:v}),T.click(function(){t(this).children("input").pqval({incr:!0})}))}else if("textarea"==P||"select"==P||"textbox"==P){if("textarea"==P)S="<textarea class='"+N+"' "+Z+" "+U+" name='"+g+"' ></textarea>";else if("select"==P){var H=w.options||[];H.constructor!==Array&&(H=n.callFn(H,m));var G=[Z," class='",N,"' ",U," name='",g,"'"].join("");S=r.select({options:H,attr:G,prepend:w.prepend,labelIndx:w.labelIndx,valueIndx:O,groupIndx:w.groupIndx,dataMap:R})}else S="<input class='"+N+"' "+Z+" "+U+" type=text name='"+g+"' />";t(S).appendTo(T).val("select"==P&&null!=O&&(L[O]||this.columns[O])?L[O]?d[L[O]]:d[O]:v)}else P&&"contenteditable"!=P||(S=_a(64)+F+" "+Z+" class='"+N+"'></div>",T.html(S),T.children().html(v),k=!0);m.$editor=T.children(".pq-editor-focus"),M=T.children(".pq-editor-focus");var V=h.filterKeys,W=n.getCell(h.indices),j=p.editModel;j&&void 0!==j.filterKeys&&(V=j.filterKeys),"textarea"!=P&&W.empty();var Y={$cell:T,$editor:M,$td:W,dataIndx:g,column:p,colIndx:l,rowIndx:f,rowIndxPage:s,rowData:d};if(n._trigger("editorBegin",a,Y),h.indices=Y,(M=T.children(".pq-editor-focus")).data({FK:V}).on("click",function(){t(this).focus(),n._trigger("editorClick",null,Y)}).on("keydown",function(t){n.iKeyNav[_b(194)](t)}).on("keypress",function(t){return n.iKeyNav[_b(195)](t,{FK:V})}).on("keyup",function(t){return n.iKeyNav[_b(196)](t,{FK:V})}).on("blur",o._onBlur=function(e,i){var r=c.editModel,a=r.onBlur,o="save"==a,s=document[_b(65)],l=t(e.target),u="validate"==a,h=r[_b(197)],d=!!i&&i.force;if(!n[_b(187)]&&!n[_b(111)]&&r.indices){if(!d){if(!1===n._trigger("editorBlur",e,Y)||!a||l[0]==s||h&&l.hasClass(h))return;if(l.hasClass("pq-autocomplete-text")){if(t("."+l.data("id")).is(":visible"))return}else if(l.hasClass("hasDatepicker")){if(l.datepicker("widget").is(":visible"))return!1}else if(l.hasClass(_a(65))){if(l[_b(198)]("widget").is(":visible"))return}else if(l.hasClass("ui-multiselect")){if(t(".ui-multiselect-menu").is(":visible")||t(s).closest(".ui-multiselect-menu").length)return}else if(l.hasClass("pq-select-button")&&(t(".pq-select-menu").is(":visible")||t(s).closest(".pq-select-menu").length))return}n[_b(111)]=!0;var f=d||o||!u;if(!n[_b(176)]({evt:e,silent:f})&&!d&&u)return n[_b(199)](),!1;n[_b(186)]({evt:e}),n[_b(199)]()}}).on("focus",function(t){n._trigger("editorFocus",t,Y)}),M.focus(),window.setTimeout(function(){!1===t(document[_b(65)]).hasClass("pq-editor-focus")&&(n.element?n.element.find(".pq-editor-focus"):t()).focus()}),I)if(k)try{var Q=M[0],J=document[_b(200)]();J[_b(201)](Q);var X=window[_b(202)]();X[_b(203)](),X.addRange(J)}catch($){}else M.select()}},o[_b(199)]=function(t){var e=this;t=t||{},e[_b(111)]&&(t.timer?window.setTimeout(function(){delete e[_b(111)]},0):delete e[_b(111)])},o.getRow=function(t){var e=this.normalize(t)[_b(71)];return this.iRenderB.get$Row(e)},o.getCell=function(e){e.vci>=0&&(e.colIndx=this.iCols.getci(e.vci));var n=this.normalize(e),i=n[_b(71)],r=this.iRenderB.getCell(i,n.colIndx);return t(r)},o[_b(26)]=function(e){e.vci>=0&&(e.colIndx=this.iCols.getci(e.vci));var n=this.normalize(e),i=n.colIndx,r=n.ri,a=r>=0?r:this[_b(142)].length-1,o=this[_b(112)].getCell(a,i);return t(o)},o[_b(204)]=function(t){return t.ri=this[_b(142)].length,this[_b(26)](t)},o[_b(205)]=function(){var e=this.options.editModel.indices;return e?t.extend({},e):null},o[_b(177)]=function(){var e=this.options,n=e.editModel,i=n.indices;if(!i)return null;var r,a=i.colIndx,o=(_b(71),this.colModel[a]),s=o.editor,l=e.editor,u=s?t.extend({},l,s):l,c=u.valueIndx,h=u.labelIndx,d=u.mapIndices||{},f=o.dataIndx,p=this.$div_focus.children(".pq-editor-inner"),g=n._getData||u.getData;if(n._getData=void 0,g)r=this.callFn(g,n.indices);else{var v=l._type;if("checkbox"==v){var m=p.children();r="triple"==u.subtype?m.pqval():!!m.is(":checked")}else if("contenteditable"==v)r=p.children().html();else{var _;if((_=p.find('*[name="'+f+'"]'))&&_.length)if("select"==v&&null!=c)if(d[c]||this.columns[c]){(r={})[d[c]?d[c]:c]=_.val(),r[d[h]?d[h]:h]=_.find("option:selected").text();var y=u.dataMap;if(y){var b=_.find("option:selected").data("map");if(b)for(var x=0;x<y.length;x++){var w=y[x];r[d[w]?d[w]:w]=b[w]}}}else r=_.val();else r=_.val();else(_=p.find(".pq-editor-focus"))&&_.length&&(r=_.val())}}return r},o[_b(33)]=function(t){var e,n,i=t.$td,r={};return i&&i.length&&i.closest(".pq-body-outer")[0]==this.$cont[0]&&(e=this.iRenderB[_b(141)](i[0]))&&(n=e[0]+this.riOffset,r=this.iMerge[_b(135)](n,e[1],!0)),r},o[_b(206)]=function(t){var e=this.options,n="remote"==e.pageModel.type,i=this.riOffset,r=e.dataModel.data,a=[];if(null==r)return a;for(var o=0,s=r.length;s>o;o++){var l=r[o];if(l.pq_rowcls&&(t.rowData=l,this.hasClass(t))){var u={rowData:l},c=n?o+i:o,h=c-i;u.rowIndx=c,u[_b(71)]=h,a.push(u)}}return a},o[_b(207)]=function(t){var e=this.options,n="remote"==e.pageModel.type,i=this.riOffset,r=e.dataModel.data,a=[];if(null==r)return a;for(var o=0,s=r.length;s>o;o++){var l=r[o],u=n?o+i:o,c=l.pq_cellcls;if(c)for(var h in c){var d={rowData:l,rowIndx:u,dataIndx:h,cls:t.cls};if(this.hasClass(d)){var f=this.normalize(d);a.push(f)}}}return a},o.data=function(e){var n=e.colIndx,i=null!=n?this.colModel[n].dataIndx:e.dataIndx,r=e.data,a=null==r||"string"==typeof r,o=e.rowData||this.getRowData(e);if(!o)return{data:null};if(null==i){var s,l=o.pq_rowdata;if(a)return null!=l&&(s=null==r?l:l[r]),{data:s};var u=t.extend(!0,o.pq_rowdata,r);o.pq_rowdata=u}else{var c=o[_b(35)];if(a){if(null!=c){var h=c[i];s=null==r||null==h?h:h[r]}return{data:s}}c||(o[_b(35)]={}),u=t.extend(!0,o[_b(35)][i],r),o[_b(35)][i]=u}},o.attr=function(e){var n,i,r=e.rowIndx,a=e.colIndx,o=null!=a?this.colModel[a].dataIndx:e.dataIndx,s=e.attr,l=null==s||"string"==typeof s,u=e.refresh,c=e.rowData||this.getRowData(e);if(!c)return{attr:null};if(l||!1===u||null!=r||(r=this.getRowIndx({rowData:c}).rowIndx),null==o){var h=c.pq_rowattr;if(l)return null!=h&&(i=null==s?h:h[s]),{attr:i};n=t.extend(!0,c.pq_rowattr,s),c.pq_rowattr=n,!1!==u&&null!=r&&this.refreshRow({rowIndx:r})}else{var d=c[_b(208)];if(l){if(null!=d){var f=d[o];i=null==s||null==f?f:f[s]}return{attr:i}}d||(c[_b(208)]={}),n=t.extend(!0,c[_b(208)][o],s),c[_b(208)][o]=n,!1!==u&&null!=r&&this[_b(168)]({rowIndx:r,dataIndx:o})}},o[_b(209)]=function(t,e){var n,i,r="";if("string"==typeof t)r=t;else if(t)for(n in t)if(i=t[n]){if("title"==n)i=i.replace(/"/g,"&quot;");else{if("style"==n){e&&e.push(i);continue}"object"==typeof i&&(i=JSON.stringify(i))}r+=n+'="'+i+'"'}return r},o.removeData=function(e){var n,i=e.colIndx,r=null!=i?this.colModel[i].dataIndx:e.dataIndx,a="string"==typeof(n=null==(n=e.data)?[]:n)?n.split(" "):n,o=a.length,s=e.rowData||this.getRowData(e);if(s)if(null==r){var l=s.pq_rowdata;if(l){if(o)for(var u=0;o>u;u++)delete l[a[u]];o&&!t[_b(210)](l)||delete s.pq_rowdata}}else{var c=s[_b(35)];if(c&&c[r]){var h=c[r];if(o)for(u=0;o>u;u++)delete h[a[u]];o&&!t[_b(210)](h)||delete c[r]}}},o.removeAttr=function(e){var n,i=e.rowIndx,r=e.dataIndx,a=e.colIndx,o=(r=null!=a?this.colModel[a].dataIndx:r,"string"==typeof(n=null==(n=e.attr)?[]:n)?n.split(" "):n),s=o.length,l=i-this.riOffset,u=e.refresh,c=e.rowData||this.getRowData(e);if(c)if(!1!==u&&null==i&&(i=this.getRowIndx({rowData:c}).rowIndx),null==r){var h=c.pq_rowattr;if(h){if(s)for(var d=0;s>d;d++){var f=o[d];delete h[f]}else for(f in h)o.push(f);s&&!t[_b(210)](h)||delete c.pq_rowattr}if(!1!==u&&null!=i&&o.length){n=o.join(" ");var p=this.getRow({rowIndxPage:l});p&&p.removeAttr(n)}}else{var g=c[_b(208)];if(g&&g[r]){var v=g[r];if(s)for(d=0;s>d;d++)delete v[f=o[d]];else for(f in v)o.push(f);s&&!t[_b(210)](v)||delete g[r]}if(!1!==u&&null!=i&&o.length){n=o.join(" ");var m=this.getCell({rowIndxPage:l,dataIndx:r});m&&m.removeAttr(n)}}},o.normalize=function(t,e){var n,i,r,a={};for(r in t)a[r]=t[r];var o=a.rowIndx,s=a[_b(71)],l=a.dataIndx,u=a.colIndx;return null==s&&null==o||(n=this.riOffset,o=null==o?1*s+n:o,s=null==s?1*o-n:s,a.rowIndx=o,a[_b(71)]=s,a.rowData=a.rowData||e&&e[o]||this.getRowData(a)),null==u&&null==l||(i=this.colModel,l=null==l?i[u]?i[u].dataIndx:void 0:l,a.column=i[u=null==u?this.colIndxs[l]:u],a.colIndx=u,a.dataIndx=l),a},o[_b(211)]=function(t){var e=this,n=e.get_p_data();return t.map(function(t){return e.normalize(t,n)})},o.addClass=function(t){var e,n=this.normalize(t),i=n[_b(71)],r=n.dataIndx,a=pq[_b(212)],o=n.cls,s=n.refresh,l=n.rowData;if(l)if(!1!==s&&null==i&&(i=this.getRowIndx({rowData:l})[_b(71)]),null==r){var u=l.pq_rowcls;if(e=a((e=u?u+" "+o:o).split(/\s+/)).join(" "),l.pq_rowcls=e,!1!==s&&null!=i&&this.SelectRow().inViewRow(i)){var c=this.getRow({rowIndxPage:i});c&&c.addClass(o)}}else{var h=[];"function"!=typeof r.push?h.push(r):h=r;var d=l.pq_cellcls;d||(d=l.pq_cellcls={});for(var f=0,p=h.length;p>f;f++){var g=d[r=h[f]];if(e=a((e=g?g+" "+o:o).split(/\s+/)).join(" "),d[r]=e,!1!==s&&null!=i&&this.SelectRow().inViewRow(i)){var v=this.getCell({rowIndxPage:i,dataIndx:r});v&&v.addClass(o)}}}},o[_b(68)]=function(t){var e=this.normalize(t),n=e.rowIndx,i=e.rowData,r=e.dataIndx,a=e.cls,o=e.refresh;if(i){var s=i.pq_cellcls,l=i.pq_rowcls;if(!1!==o&&null==n&&(n=this.getRowIndx({rowData:i}).rowIndx),null==r){if(l&&(i.pq_rowcls=this[_b(213)](l,a),null!=n&&!1!==o)){var u=this.getRow({rowIndx:n});u&&u[_b(68)](a)}}else if(s){var c=[];"function"!=typeof r.push?c.push(r):c=r;for(var h=0,d=c.length;d>h;h++){var f=s[r=c[h]];if(f&&(i.pq_cellcls[r]=this[_b(213)](f,a),null!=n&&!1!==o)){var p=this.getCell({rowIndx:n,dataIndx:r});p&&p[_b(68)](a)}}}}},o.hasClass=function(t){var e,n=t.dataIndx,i=t.cls,r=this.getRowData(t),a=new RegExp("\\b"+i+"\\b");if(r){if(null==n)return!(!(e=r.pq_rowcls)||!a.test(e));var o=r.pq_cellcls;return!!(o&&o[n]&&a.test(o[n]))}return null},o[_b(213)]=function(t,e){if(t&&e){for(var n=t.split(/\s+/),i=e.split(/\s+/),r=[],a=0,o=n.length;o>a;a++){for(var s=n[a],l=!1,u=0,c=i.length;c>u;u++)if(s===i[u]){l=!0;break}l||r.push(s)}return r.length>1?r.join(" "):1===r.length?r[0]:null}},o.getRowIndx=function(t){var e,n,i=t.$tr,r=t.rowData,a=this.riOffset;if(r){if(null!=(n=r.pq_ri))return{rowData:r,rowIndx:n,rowIndxPage:n-a};var o=this.get_p_data(),s=!1,l=t.dataUF?this.options.dataModel.dataUF:null,u=!1;if(o)for(var c=0,h=o.length;h>c;c++)if(o[c]==r){u=!0;break}if(!u&&l)for(s=!0,c=0,h=l.length;h>c;c++)if(l[c]==r){u=!0;break}return u?(e=c-a,{rowIndxPage:s?void 0:e,uf:s,rowIndx:c,rowData:r}):{}}return null==i||0==i.length||null==(e=this.iRenderB.getRowIndx(i[0])[0])?{}:{rowIndxPage:e,rowIndx:e+a}},o.search=function(t){for(var e=this.options,n=t.row,i=t.first,r=[],a=this.riOffset,o="remote"==e.pageModel.type,s=e.dataModel.data,l=0,u=s.length;u>l;l++){var c=s[l],h=!0;for(var d in n)n[d]!==c[d]&&(h=!1);if(h){var f=this.normalize({rowIndx:o?l+a:l});if(r.push(f),i)break}}return r},o[_b(214)]=function(t,e,n,i,r){for(var a=0,o=this.options[n],s=t?this.iRenderB[i]:o,l=(e=this[e]).length;l>a;a++)if(a==o&&(a=s),!e[a][r])return a},o[_b(215)]=function(t){return this[_b(214)](t,"pdata","freezeRows","initV","pq_hidden")},o[_b(172)]=function(t){return this[_b(214)](t,"colModel","freezeCols","initH","hidden")},o[_b(216)]=function(){for(var t=this.pdata,e=t.length-1;e>=0;e--)if(!t[e].pq_hidden)return e;return null},o[_b(217)]=function(){return this.iCols[_b(217)]()},o[_b(218)]=function(t){return this.iCols[_b(218)](t)},o[_b(219)]=function(t){return this.iCols[_b(219)](t)},o[_b(220)]=function(t){return this.iKeys[_b(220)](t)},o[_b(221)]=function(t){return this.iKeys[_b(221)](t)},o[_b(222)]=function(t,e){var n,i=0,r=this.options.numberCell,a=this.colModel;-1==t&&(r.show&&(i+=1*r.width),t=0);for(var o=t;e>o;o++)if((n=a[o])&&!n.hidden){if(!n._width)throw"assert failed";i+=n._width}return i}}(jQuery),oe=jQuery,(oe.paramquery.cKeyNav=function(t){this.that=t}).prototype={bodyKeyPressDown:function(t){var e,n=this,i=n.that,r=i.riOffset,a=i.options,o=a.rtl,s=a[_b(223)],l=i.iMerge,u=i._focusEle,c=i.colModel,h=a[_b(100)],d=a.editModel,f=document[_b(65)],p=pq.isCtrl(t),g=oe.ui.keyCode,v=g.LEFT,m=g.RIGHT,_=g.TAB,y=t.keyCode;if(d.indices)i.$div_focus.find(".pq-cell-focus").focus();else{if((e=oe(t.target)).hasClass("pq-grid-cell"))u=i[_b(33)]({$td:e});else if("pq-grid-excel"!=f.id&&"pq-body-outer"!=f.className)return;if(y==g.SPACE&&e[0]==i.$cont[0])return!1;var b,x,w,k=i.normalize(u),C=k[_b(71)],M=k.colIndx,T=i.pdata,S=k,A=!0;if(null!=(w=k.rowIndx)&&null!=M&&null!=k.rowData){if(l[_b(191)](w,M)&&(C=(k=S=l[_b(135)](w,M))[_b(71)],w=k.rowIndx,M=k.colIndx,[g.PAGE_UP,g.PAGE_DOWN,g.HOME,g.END].indexOf(y)>=0&&(b=l.getData(w,M,"proxy_cell"))&&(T[x=b.rowIndx-r].pq_hidden||(w=(C=x)+r)),c[M].hidden&&(M=i[_b(218)](M))),0==i._trigger("beforeCellKeyDown",t,S))return!1;if(i._trigger("cellKeyDown",t,S),y==v||y==m||y==g.UP||y==g.DOWN||h.onTab&&y==_){var E=null;y==v&&!o||y==m&&o||y==_&&t.shiftKey?E=this.incrIndx(C,M,!1):y==m&&!o||y==v&&o||y==_&&!t.shiftKey?E=this.incrIndx(C,M,!0):y==g.UP?E=this[_b(224)](C,M,!1):y==g.DOWN&&(E=this[_b(224)](C,M,!0)),E&&(w=E[_b(71)]+r,this.select({rowIndx:w,colIndx:E.colIndx,evt:t}))}else if(y==g.PAGE_DOWN||y==g.PAGE_UP)i.iRenderB[y==g.PAGE_UP?"pageUp":"pageDown"](C,function(e){n.select({rowIndx:w=e+r,colIndx:M,evt:t})});else if(y==g.HOME)p?w=i[_b(215)]()+r:M=i[_b(172)](),this.select({rowIndx:w,colIndx:M,evt:t});else if(y==g.END)p?w=i[_b(216)]()+r:M=i[_b(217)](),this.select({rowIndx:w,colIndx:M,evt:t});else if(y==g.ENTER){var P=i.getCell(S);if(P&&P.length>0)if(i.isEditable(S))i.editCell(S);else{var I=P.find("button");I.length&&oe(I[0]).click()}}else if(p&&"65"==y){var O=i.iSelection;"row"==h.type&&"single"!=h.mode?i.iRows.toggleAll({all:h.all}):"cell"==h.type&&"single"!=h.mode&&O.selectAll({type:"cell",all:h.all})}else d[_b(225)]&&(this.isEditKey(y)||s.on&&187==y)&&!p?46==y?i.clear():(C=S[_b(71)],M=S.colIndx,(P=i.getCell(S))&&P.length&&i.isEditable(S)&&i.editCell({rowIndxPage:C,colIndx:M,select:!0}),A=!1):A=!1;A&&t[_b(28)]()}}},getPrevVisibleRIP:function(t){for(var e=this.that.pdata,n=t-1;n>=0;n--)if(!e[n].pq_hidden)return n;return t},setDataMergeCell:function(t,e){var n,i=this.that.iMerge;i[_b(191)](t,e)&&(n=i[_b(135)](t,e),i.setData(n.rowIndx,n.colIndx,{proxy_cell:{rowIndx:t,colIndx:e}}))},getValText:function(t){var e=t[0].nodeName[_b(49)](),n="text";return-1!=oe.inArray(e,["input","textarea","select"])&&(n="val"),n},getNextVisibleRIP:function(t){for(var e=this.that.pdata,n=t+1,i=e.length;i>n;n++)if(!e[n].pq_hidden)return n;return t},incrEditIndx:function(t,e,n){var i,r=this.that,a=r.colModel,o=a.length,s=r.iMerge,l=r.riOffset,u=r[n?"getLastVisibleRIP":"getFirstVisibleRIP"]();do{var c,h=t+l;if(s[_b(191)](h,e)){c=s[_b(226)](h,e);var d=s.getData(h,e,"proxy_edit_cell");d&&(t=(h=d.rowIndx)-l),e=n?e+c.o_cc:e-1}else e=n?e+1:e-1;if(n&&e>=o||!n&&0>e){if(t==u)return null;t=this[n?"getNextVisibleRIP":"getPrevVisibleRIP"](t),e=n?0:o-1}h=t+l,s[_b(191)](h,e)&&(c=s[_b(135)](h,e),s.setData(c.rowIndx,c.colIndx,{proxy_edit_cell:{rowIndx:h,colIndx:e}}),h=c.rowIndx,e=c.colIndx),i=a[e];var f=r.isEditable({rowIndx:h,colIndx:e}),p="function"==typeof(p=i.editor)?p.call(r,r.normalize({rowIndx:h,colIndx:e})):p;t=h-l}while(i&&(i.hidden||0==f||!1===p));return{rowIndxPage:t,colIndx:e}},incrIndx:function(t,e,n){var i,r,a,o,s,l=this.that,u=l.iMerge,c=l.pdata,h=l.riOffset,d=l[n?"getLastVisibleRIP":"getFirstVisibleRIP"](),f=l[n?"getLastVisibleCI":"getFirstVisibleCI"](),p=l.colModel,g=p.length;if(null==e)return t==d?null:{rowIndxPage:t=this[n?"getNextVisibleRIP":"getPrevVisibleRIP"](t)};if(e==f)return{rowIndxPage:t,colIndx:e};do{a=t+h,u[_b(191)](a,e)&&(i=u[_b(226)](a,e),!s&&(r=u.getData(i.o_ri,i.o_ci,"proxy_cell"))&&(c[o=r.rowIndx-h].pq_hidden||(t=o)),c[t].pq_hidden&&(t=u[_b(227)](a,e)[_b(71)]),!s&&n&&(e=i.o_ci+(i.o_cc?i.o_cc-1:0))),n?g-1>e&&e++:e>0&&e--,s=p[e]}while(s&&s.hidden);return{rowIndxPage:t,colIndx:e}},incrRowIndx:function(t,e,n){var i,r,a=this.that,o=a.riOffset,s=t+o,l=a.iMerge;return l[_b(191)](s,e)&&(i=l[_b(226)](s,e),r=l.getData(i.o_ri,i.o_ci,"proxy_cell"),n&&(t=i.o_ri-o+i.o_rc-1),e=r?r.colIndx:i.v_ci),{rowIndxPage:t=this[n?"getNextVisibleRIP":"getPrevVisibleRIP"](t),colIndx:e}},isEditKey:function(t){return t>=32&&127>=t||189==t||190==t},keyDownInEdit:function(t){var e=this.that,n=e.options,i=n.editModel.indices;if(i){var r=oe(t.target),a=oe.ui.keyCode,o=n.editModel,s=oe.extend({},i),l=s[_b(71)],u=s.colIndx,c=s.column.editModel,h=c?oe.extend({},o,c):o,d=this.getValText(r);if(r.data("oldVal",r[d]()),0==e._trigger("editorKeyDown",t,s))return!1;if(t.keyCode==a.TAB||t.keyCode==h.saveKey&&!t.altKey){var f=t.keyCode==a.TAB?h.onTab:h.onSave;return s="downFocus"==f?this[_b(224)](l,u,!t.shiftKey):{rowIndxPage:l,colIndx:u,incr:!!f,edit:"nextEdit"==f},r.hasClass(_a(65))&&r[_b(198)]("widget").is(":visible")?void 0:this[_b(228)](s,t)}return t.keyCode==a.ESCAPE?(e[_b(186)]({evt:t}),e.focus({rowIndxPage:l,colIndx:u}),t[_b(28)](),!1):t.keyCode==a.PAGE_UP||t.keyCode==a.PAGE_DOWN?(t[_b(28)](),!1):!h.keyUpDown||t.altKey||t.keyCode!=a.DOWN&&t.keyCode!=a.UP?void 0:(s=this[_b(224)](l,u,t.keyCode==a.DOWN),this[_b(228)](s,t))}},keyPressInEdit:function(t,e){var n=this.that,i=n.options.editModel,r=i.indices,a=(e||{}).FK,o=r.column,s=oe.ui.keyCode,l=["BACKSPACE","LEFT","RIGHT","UP","DOWN","DELETE","HOME","END"].map(function(t){return s[t]}),u=o.dataType;if(oe.inArray(t.keyCode,l)>=0)return!0;if(!1===n._trigger("editorKeyPress",t,oe.extend({},r)))return!1;if(a&&("float"==u||"integer"==u)){var c=r.$editor.val(),h=i.charsAllow["float"==u?0:1],d=t.charCode||t.keyCode,f=String[_b(55)](d);if("="!==c[0]&&f&&-1==h.indexOf(f))return!1}return!0},keyUpInEdit:function(t,e){var n=this.that,i=(e||{}).FK,r=n.options.editModel,a=r.indices;n._trigger("editorKeyUp",t,oe.extend({},a));var o=a.column.dataType;if(i&&("float"==o||"integer"==o)){var s=oe(t.target),l="integer"==o?r.reInt:r.reFloat,u=this.getValText(s),c=s.data("oldVal"),h=s[u]();if(0==l.test(h)&&"="!==h[0])if(l.test(c))s[u](c);else{var d="float"==o?parseFloat(c):parseInt(c);isNaN(d)?s[u](0):s[u](d)}}},saveAndMove:function(t,e){if(null==t)return e[_b(28)](),!1;var n,i=this,r=i.that,a=t[_b(71)],o=t.colIndx;return r[_b(111)]=!0,!1!==r[_b(176)]({evt:e})&&r.pdata?(r[_b(186)](e),t.incr&&(n=i[t.edit?"incrEditIndx":"incrIndx"](a,o,!e.shiftKey),a=n?n[_b(71)]:a,o=n?n.colIndx:o),r.scrollCell({rowIndxPage:a,colIndx:o},function(){i.select({rowIndx:a+r.riOffset,colIndx:o,evt:e}),t.edit&&r._editCell({rowIndxPage:a,colIndx:o})}),r[_b(199)]({timer:!0,msg:"saveAndMove"}),e[_b(28)](),!1):(r.pdata||r[_b(186)](e),r[_b(199)]({timer:!0,msg:_a(66)}),e[_b(28)](),!1)},select:function(t){var e=this.that,n=t.rowIndx,i=t.colIndx,r=n-e.riOffset,a=t.evt,o=(this[_b(229)](n,i),e.options),s=e.iSelection,l=o[_b(100)],u=l.type,c="row"==u,h="cell"==u;e.scrollCell({rowIndx:n,colIndx:i},function(){var t=s.address();if(a.shiftKey&&a.keyCode!==oe.ui.keyCode.TAB&&l.type&&"single"!=l.mode&&(t.length||c))if(c)e.iRows.extend({rowIndx:n,evt:a});else{var o=t[t.length-1],u=o.firstR,d=o.firstC,f=o.type;"column"==f?(o.c1=d,o.c2=i,o.r1=o.r2=o.type=o.cc=o.rc=void 0,e.Range(t,!1).select()):"row"==f?s[_b(230)]({r1:u,r2:n,firstR:u,firstC:d}):s[_b(230)]({r1:u,c1:d,r2:n,c2:i,firstR:u,firstC:d})}else c||h&&e.Range({r1:n,c1:i,firstR:n,firstC:i}).select();e.focus({rowIndxPage:r,colIndx:i})})}},function(t){var e,n;(t.paramquery[_b(231)]=function(){}).prototype={autoFitCols:function(){var t=this.that,e=t.colModel,n=e.length,i=this.dims,r=t[_b(222)](-1,n,!0),a=this.getSBWd(),o=i.wdCenter-a;if(r!==o){for(var s,l=r-o,u=[],c=0;n>c;c++){var h=(f=e[c])._resized;f.hidden||f._percent||h||(0>l?(g=f._maxWidth-f._width)&&u.push({availWd:-1*g,colIndx:c}):(g=f._width-f._minWidth)&&u.push({availWd:g,colIndx:c})),h&&(s=f,delete f._resized)}u.sort(function(t,e){return t.availWd>e.availWd?1:t.availWd<e.availWd?-1:0}),c=0;for(var d=u.length;d>c;c++){var f,p=u[c],g=p.availWd,v=p.colIndx,m=Math.round(l/(d-c)),_=(f=e[v])._width;Math.abs(g)>Math.abs(m)?(y=_-m,l-=m):(y=_-g,l-=g),f.width=f._width=y}var y;0!=l&&s&&((y=s._width-l)>s._maxWidth?y=s._maxWidth:y<s._minWidth&&(y=s._minWidth),s.width=s._width=y)}},numericVal:function(t,e){var n;return n=(t+"").indexOf("%")>-1?parseInt(t)*e/100:parseInt(t),Math.round(n)},refreshColumnWidths:function(t){t=t||{};var e=this.that,n=e.options,i=n.numberCell,r="flex"===n.width,a=e.colModel,o=this.autoFit,s=this.dims.wdCenter,l=a.length,u=n[_b(232)],c=n[_b(233)],h=0;i.show&&(i.width<i.minWidth&&(i.width=i.minWidth),h=i.outerWidth=i.width);var d=r?null:s-0-h,f=(u=Math.floor(this.numericVal(u,d)),c=Math.ceil(this.numericVal(c,d)),0);if(!r&&5>d||isNaN(d)){if(n.debug)throw"availWidth N/A"}else{delete e[_b(234)];for(var p=0;l>p;p++){var g=a[p];if(!g.hidden){var v,m=g.width,_=(m+"").indexOf("%")>-1||null,y=g.maxWidth;if((v=(v=g.minWidth)?this.numericVal(v,d):u)>(y=y?this.numericVal(y,d):c)&&(y=v),null!=m){var b,x=0;!r&&_?(e[_b(234)]=!0,g.resizable=!1,g._percent=!0,(f+=(b=this.numericVal(m,d)-0)-(x=Math.floor(b)))>=1&&(x+=1,f-=1)):m&&(x=1*m),v>x?x=v:x>y&&(x=y),g._width=x}else g._width=v;_||(g.width=g._width),g._minWidth=v,g._maxWidth=r?1e3:y}}!1===r&&!1!==t[_b(235)]&&o&&this[_b(236)]()}},format:(e=t.datepicker,n=pq[_b(42)],function(t,i){return"function"==typeof i?i(t):pq[_b(237)](i)?t==parseInt(t)?pq.formulas.TEXT(t,pq.juiToExcel(i)):isNaN(Date.parse(t))?void 0:e.formatDate(i,new Date(t)):t==parseFloat(t)?n(t,i):void 0}),renderCell:function(t){var e,n,i,r,a,o,s,l,u,c=this.that,h=t.attr||[],d=t.style||[],f=t.Export,p=c.options,g=t.cls||[],v=t.rowData,m=t.column,_=m.dataType,y=t.colIndx,b=pq.styleStr,x=c[_b(209)],w=m.dataIndx,k=m.style||{},C=v[_b(238)],M=(v[_b(127)]||{})[w]||{},T=v.pq_rowprop||{},S=p.freezeCols,A=p[_b(239)];if(v){f||(k&&d.push(b(k)),C&&d.push(b(C)),(o=(v[_b(240)]||{})[w])&&d.push(b(o)),y==S-1&&A&&g.push("pq-last-frozen-col"),m.cls&&g.push(m.cls),p.editModel[_b(241)]&&!1===c.isEditable(t)&&g.push("pq-cell-disable"));var E,P="string"==typeof(P=v[w])&&"html"!=_?pq.escapeHtml(P):P,I=p.format.call(c,v,m,M,T),O=I?this.format(P,I,_):P;return t.dataIndx=w,t.cellData=P,t.formatVal=O,(u=m.render)&&(E=c.callFn(u,t))&&"string"!=typeof E&&((e=E.attr)&&h.push(x(e)),r=E.prop,(i=E.cls)&&g.push(i),(n=E.style)&&d.push(b(n)),E=E.text),null==E&&(u=m._renderG||m._render)&&(E=u.call(c,t)),E&&"string"!=typeof E&&((e=E.attr)&&h.push(e),(i=E.cls)&&g.push(i),(n=E.style)&&d.push(b(n)),E=E.text),null==E&&(E=O||P),f?[E,n,r,(e||{}).title]:((a=(r=r||{}).align||M.align||T.align||m.align)&&g.push("pq-align-"+a),(a=r.valign||M.valign||T.valign||m.valign)&&g.push("pq-valign-"+a),(l=(v.pq_cellcls||{})[w])&&g.push(l),(s=(v[_b(208)]||{})[w])&&h.push(x(s,d)),d=d.length?" style='"+d.join("")+"' ":"",E=pq.newLine(E),["<div class='",g.join(" "),"' ",h.join(" "),d," ><div>",E,"</div></div>"].join(""))}}}}(jQuery),function(t){var e=t.paramquery,n=e._pqGrid.prototype;n[_b(242)]=function(t){var e,n,i,r=this[_b(112)][_b(141)](t[0]),a=r[0],o=r[1];return null!=o&&null!=a&&((n=this[_b(142)][a])&&(n=n[o]),n&&(i=n.colModel)),i&&i.length&&(e=!0),{col:n||this.colModel[o],ci:o,ri:a,isParent:e}},n.flex=function(t){var e=this.colIndxs;t&&t.dataIndx&&(t.colIndx=t.dataIndx.map(function(t){return e[t]})),this[_b(107)].flex(t)},e.cHeader=function(t,e){},e.cHeader.prototype={colCollapse:function(t,e){var n=this.that,i={column:t},r=t[_b(87)];!1!==n._trigger("beforeColumnCollapse",e,i)&&(r.on=!r.on,!1!==n._trigger("columnCollapse",e,i)&&n.refresh({colModel:!0}))},onHeaderClick:function(e){var n,i,r,a,o=this,s=o.that,l=s[_b(243)];if(s._trigger("headerClick",e),!l||"stop"==l.status){if((a=t(e.target)).is("input,label"))return!0;if((n=a.closest(".pq-grid-col")).length)if(i=(r=s[_b(242)](n)).col,a.hasClass("pq-col-collapse"))o[_b(244)](i,e);else if(!r.isParent)return o[_b(245)](i,r.ci,e)}},getTitle:function(t,e){var n=t.title;return"function"==typeof n?n.call(this.that,{column:t,colIndx:e,dataIndx:t.dataIndx}):n},createHeaderCell:function(t){var e,n,i=this,r=i.that,a=r.options,o=t.cls,s=t.style,l=t.attr,u=t.column,c=t.colIndx,h=i[_b(246)](a.sortModel),d=u[_b(87)],f=pq.styleStr,p=u.halign||u.align,g=u.hvalign,v=u.cls,m=u.colModel,_=i.hasMenuH(a,u),y=null!=(y=i.getTitle(u,c))?y:u.dataIndx;return p&&o.push("pq-align-"+p),g&&o.push("pq-valign-"+g),(n=u.styleHead)&&s.push(f(n)),(n=u.attrHead)&&l.push(r[_b(209)](n)),v&&o.push(v),o.push(u.clsHead),_&&o.push("pq-has-menu"),m&&m.length?d&&(o.push("pq-collapsible-th"),e=[_a(67),d.on?"plus":"minus","'></span>"].join("")):o.push("pq-grid-col-leaf"),l.push("pq-row-indx="+t.rowIndx+" pq-col-indx="+t.colIndx),u.pq_title=y,["<div ",l.join(" ")," "," class='",o.join(" "),"' style='",s.join(""),"' >",_a(68),e,_a(69),y,"</span>",h,"</div>",_?"<span class='pq-menu-icon'></span>":"","</div>"].join("")},getSortSpaceSpans:function(t){var e=t.space?" pq-space":"";return[_a(70),e,"'></span>",t.number?_a(71)+e+"'></span>":""].join("")},hasMenuH:function(t,e){var n=e.colModel;if(n&&n.length)return!1;var i=t.menuIcon,r=e.menuIcon;return i&&!1!==r||!1!==i&&r},onHeaderCellClick:function(e,n,i){var r=this.that,a=r.options,o=a.sortModel,s=e.dataIndx;if(!1!==r._trigger("headerCellClick",i,{column:e,colIndx:n,dataIndx:s}))if(a[_b(100)].column&&-1==i.target.className.indexOf("pq-title-span")){var l={c1:n,firstC:n,firstR:r[_b(215)]()},u=r.iSelection,c=u.address(),h=c.length;if(pq.isCtrl(i))u.add(l);else{if(i.shiftKey){if(h&&"column"==c[h-1].type){var d=c[h-1];d.c1=d.firstC,d.c2=n,d.r1=d.r2=d.type=d.cc=void 0}l=c}r.Range(l,!1).select()}r.focus({rowIndxPage:r[_b(215)](!0),colIndx:n}),r._trigger("mousePQUp")}else if(o.on&&(o.wholeCell||t(i.target).hasClass("pq-title-span"))){if(0==e.sortable)return;r.sort({sorter:[{dataIndx:s,sortIndx:e.sortIndx}],addon:!0,skipCustomSort:pq.isCtrl(i),tempMultiple:o.multiKey&&i[o.multiKey],evt:i})}},refreshHeaderSortIcons:function(){var e=this.that,n=e.options,i=n.bootstrap,r=n.ui,a=e[_b(142)].length-1;if(e.$header){var o=e.iSort.getSorter(),s=o.length,l=!1;e.options.sortModel.number&&s>1&&(l=!0);for(var u=0;s>u;u++){var c=o[u],h=e.getColIndx({dataIndx:c.dataIndx}),d=c.dir;if(h>=0){var f=i.on?i[_b(247)]:r[_b(247)]+" pq-col-sort-"+("up"==d?"asc":"desc"),p=i.on?_a(72)+d:_a(73)+("up"==d?"n":"s"),g=t(e[_b(112)].getCell(a,h));g.addClass(f),g.find(".pq-col-sort-icon").addClass(p),l&&g.find(".pq-col-sort-count").html(u+1)}}}}},e[_b(108)]=function(e){var n=this;n.that=e,e.$header.on({mousedown:function(e){if(!e[_b(248)]){var i=t(e.target);n[_b(249)](e),e[_b(248)]=!0;var r=t.Event("mousedown",e);i.trigger(r)}},dblclick:function(t){n[_b(250)](t)}},_a(74));var i=e.options,r=i.flex;n.rtl=i.rtl?"right":"left",r.on&&r.one&&e.one("ready",function(){n.flex()})},e[_b(108)].prototype={doubleClick:function(e){var n=this.that.options,i=n.flex,r=t(e.target),a=parseInt(r.attr("pq-col-indx"));isNaN(a)||i.on&&this.flex(i.all&&!n[_b(251)].autoFit?{}:{colIndx:[a]})},flex:function(t){this.that.iRenderB.flex(t)},setDraggables:function(e){var n,i,r=t(e.target),a=this,o=a.rtl;r.draggable({axis:"x",helper:function(e,n){var i=t(e.target),r=parseInt(i.attr("pq-col-indx"));return a[_b(252)](r),a[_b(253)](e,n),i},start:function(t,e){n=t.clientX,i=parseInt(a.$cl[0].style[o])},drag:function(t,e){var r=t.clientX-n;"right"==a.rtl&&(r*=-1),a.$cl[0].style[o]=i+r+"px"},stop:function(t,e){return a.resizeStop(t,e,n)}})},_getDragHelper:function(e){var n=this.that,i=1*n.options.freezeCols,r=t(e.target),a=n[_b(90)],o=n[_b(112)],s=1*r.attr("pq-col-indx"),l=i>s?0:o.scrollX(),u=a[_b(254)](),c=o.getLeft(s)-l,h=o.getLeft(s+1)-l,d="style='height:"+u+"px;"+this.rtl+":";this.$clleft=t(_a(75)+d+c+"px;'></div>").appendTo(a),this.$cl=t(_a(75)+d+h+"px;'></div>").appendTo(a)},_setDragLimits:function(e){if(!(0>e)){var n=this.that,i=n[_b(112)],r=n.colModel[e],a=i.getLeft(e)+r._minWidth,o=a+r._maxWidth-r._minWidth,s=t(i._resizeDiv(e));s.draggable("instance")&&s.draggable("option","containment",[a,0,o,0])}},resizeStop:function(e,n,i){var r=this,a=r.that,o=a.colModel,s=a.options,l=s.numberCell;r.$clleft.remove(),r.$cl.remove();var u,c=e.clientX-i,h=1*t(n.helper).attr("pq-col-indx");if(s.rtl&&(c*=-1),-1==h){u=null;var d=parseInt(l.width);l.width=d+c}else u=o[h],d=parseInt(u.width),u.width=d+c,u._resized=!0;a._trigger("columnResize",e,{colIndx:h,column:u,dataIndx:u?u.dataIndx:null,oldWidth:d,newWidth:u?u.width:l.width}),a.refresh({soft:!0})}}}(jQuery),function(t){var e=t.paramquery;e[_b(255)]=function(e){var n=this,i=e.options,r=i[_b(256)],a=function(n,i){return t(_a(76)+n+" ui-icon "+i+"'></div>").appendTo(e.element)};n.that=e,n[_b(257)]=null,n.rtl=i.rtl,n.status="stop",n.$arrowTop=a("down",r.topIcon),n[_b(258)]=a("up",r.bottomIcon),n.hideArrows(),r&&r.enabled&&e.$header.on("mousedown",".pq-grid-col",n[_b(259)](n,e))},e[_b(255)].prototype={dragHelper:function(e,n,i){var r=n.options[_b(256)].rejectIcon;return function(){e.status="helper",n.$header.find(_a(74)).hide();var a=t(_a(77)+r+_a(78)+i.pq_title+"</div>");return e[_b(257)]=a,a[0]}},getRowIndx:function(t,e,n){for(;n&&t[n][e]==t[n-1][e];)n--;return n},hideArrows:function(){this.$arrowTop.hide(),this[_b(258)].hide()},_columnIndexOf:function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]==e)return n;return-1},moveColumn:function(t,e,n,i,r){var a=this,o=a.that,s="colModel",l=o.options[s],u=o[_b(142)],c=o.depth-1,h=(i=null==i?a.getRowIndx(u,t,c):i,r=null==r?a.getRowIndx(u,e,c):r,u[i][t]),d=u[r][e],f=h.parent,p=d.parent,g=p?p[s]:l,v=(f?f[s]:l).indexOf(h),m=n?0:1,_=g.indexOf(d);return o.iCols.move(1,v,_+m,f,p,"dnd")[0]},onColMouseDown:function(e,n){return function(i){var r,a,o,s,l=t(this),u=t(i.target);if(!i[_b(248)]){if(u.is(_a(79))||u.parent().hasClass(_a(80))||(o=(a=(r=n[_b(242)](l)).col)?a.parent:null,!a||a.nodrag||a._nodrag||o&&1==o.colSpan))return;e[_b(260)](i,a,r)&&(i[_b(248)]=!0,s=t.Event("mousedown",i),u.trigger(s))}}},onDrop:function(){var e=this,n=e.that;return function(i,r){var a,o=1*r.draggable.attr("pq-col-indx"),s=1*r.draggable.attr("pq-row-indx"),l=t(this),u=1*l.attr("pq-col-indx"),c=1*l.attr("pq-row-indx"),h=e.leftDrop;e.rtl&&(h=!h),!1!==n._trigger("beforeColumnOrder",null,{colIndxDrag:o,colIndxDrop:u,left:h})&&(a=e.moveColumn(o,u,h,s,c))&&n._trigger("columnOrder",null,{dataIndx:a.dataIndx,column:a,oldcolIndx:o,colIndx:n.getColIndx({column:a})})}},onStart:function(t,e,n,i){return function(r){return!1!==e._trigger("columnDrag",r[_b(31)],{column:n})&&void t[_b(261)](i)}},onDrag:function(e,n){return function(i,r){e.status="drag";var a,o,s,l,u=t(".pq-drop-hover",n.$header);u.length>0?(e[_b(262)](!0),a=u.width(),o=i.clientX-u.offset().left+t(document).scrollLeft(),e.leftDrop=l=a/2>o,e[_b(263)](u,l)):(e.hideArrows(),s=t(".pq-drop-hover",n.$top),e[_b(262)](!!s.length))}},setDraggable:function(e,n,i){var r=t(e[_b(123)]),a=this,o=a.that;return r.hasClass("ui-draggable")?void 0:(r.draggable({distance:10,cursorAt:{top:-18,left:-10},zIndex:"1000",appendTo:o.element,revert:"invalid",helper:a.dragHelper(a,o,n),start:a.onStart(a,o,n,i),drag:a.onDrag(a,o),stop:function(){o.element&&(a.status="stop",o.$header.find(_a(74)).show(),a.hideArrows())}}),!0)},setDroppables:function(e){for(var n,i,r,a,o,s=this.that,l=e.col,u=e.ri,c=e.o_ci,h=c+l.o_colspan,d=this.onDrop(),f=_a(81),p={hoverClass:f,classes:{"ui-droppable-hover":f},accept:".pq-grid-col",tolerance:"pointer",drop:d},g=s.$header.find(_a(82)),v=g.length;v--;)o=(a=t(g[v])).hasClass("ui-droppable"),i=(n=s[_b(242)](a)).ci,(r=n.col)==l||r.nodrop||r._nodrop||n.ri>u&&i>=c&&h>i?o&&a.droppable("destroy"):o||a.droppable(p)},showFeedback:function(e,n){var i=this.that,r=e[0],a=i[_b(90)][0].offsetTop,o=e.offset().left-t(i.element).offset().left+(n?0:r[_b(161)])-8,s=a+r.offsetTop-16,l=a+i.$header[0][_b(162)];this.$arrowTop.css({left:o,top:s,display:""}),this[_b(258)].css({left:o,top:l,display:""})},updateDragHelper:function(t){var e=this.that.options[_b(256)],n="removeClass",i="addClass",r=e.acceptIcon,a=e.rejectIcon,o=this[_b(257)];o&&o[t?n:i]("ui-state-error").children("span.pq-drag-icon")[t?i:n](r)[t?n:i](a)}}}(jQuery),function(t){var e=t.paramquery;e[_b(264)]=function(t){},e[_b(264)].prototype={_bindFocus:function(){function e(e){var r=t(e.target).closest(_a(83)).attr("name");if(i[_b(169)]({dataIndx:r})){var a=i.getColIndx({dataIndx:r});n.get$Ele(a,r).focus()}}for(var n=this,i=n.that,r=i.$header.find(_a(84)),a=0;a<r.length;a++)t(r[a]).on("focusin",e)},_input:function(t,e,n,i,r,a){return["<input ",' value="',e=pq.formatEx(t,e,a),"\" name='",t.dataIndx,"' type=text style='",i,"' class='",n,"' ",r," />"].join("")},_onKeyDown:function(e,n,i){var r,a=this,o=this.that;if(e.keyCode!==t.ui.keyCode.TAB)return!0;var s,l=a[_b(141)](i.closest(".pq-grid-col")[0])[1],u=o.colModel,c=e.shiftKey;if("textbox2"==((h=u[l]).filterUI||{}).type&&(o[_b(169)]({colIndx:l}),(r=a.getCellEd(l)[1])[0]==i[0]?c||(s=r[1]):c&&(s=r[0]),s))return s.focus(),e[_b(28)](),!1;for(;c?l--:l++,!(0>l||l>=u.length);){var h;if(!(h=u[l]).hidden&&h.filter){o[_b(169)]({colIndx:l},function(){var n=a.getCellEd(l)[1];return"textbox2"==(h.filterUI||{}).type&&(n=t(c?n[1]:n[0])),n?(n.focus(),e[_b(28)](),!1):void 0});break}}},_textarea:function(t,e,n,i,r){return["<textarea name='",t,"' style='"+i+"' class='"+n+"' "+r+" >",e,"</textarea>"].join("")},bindListener:function(e,n,i,r){var a=this.that,o=pq.filter.getVal(r.filter),s=o[0],l=o[1];pq.fakeEvent(e,n,a.options[_b(154)].timeout),e.off(n).on(n,function(n){var o,u,c=r.filterUI,h=c.type,d=c.condition;return"checkbox"==h?o=e.pqval({incr:!0}):"textbox2"==h?(o=t(e[0]).val(),u=t(e[1]).val()):o=e.val(),o=""===o?void 0:pq.deFormat(r,o,d),u=""===u?void 0:pq.deFormat(r,u,d),s!==o||l!==u?(s=o,l=u,(i=pq.getFn(i)).call(a,n,{column:r,dataIndx:r.dataIndx,value:o,value2:u})):void 0})},betweenTmpl:function(t,e){return[_a(85),t,"</div>",_a(86),_a(87),e,"</div>"].join("")},createListener:function(t){var e={},n=this.that;return e[t]=function(t,e){var i=e.column;n.filter({rules:[{dataIndx:i.filterIndx||e.dataIndx,condition:i.filter.condition,value:e.value,value2:e.value2}]})},e},getCellEd:function(e){var n=t(this.getCell(this.data.length-1,e)),i=n.find(_a(83));return[n,i]},onCreateHeader:function(){var t=this;t.that.options[_b(154)].header&&t.eachH(function(e){e.filter&&t[_b(265)](e)})},onHeaderKeyDown:function(e,n){var i=t(e[_b(31)].target);return!i.hasClass(_a(88))||this._onKeyDown(e,n,i)},postRenderCell:function(e){var n=e.dataIndx,i=e.filterUI||{},r=e.filter,a=this,o=a.that,s=this.getCellEd(o.colIndxs[n]),l=s[0],u=s[1];if(0!=u.length){var c=i.type,h={button:"click",select:"change",checkbox:"change",textbox:"timeout",textbox2:"timeout"},d=pq.filter.getVal(r)[0];"checkbox"==c?u.pqval({val:d}):"select"==c&&(t.isArray(d=d||[])||(d=[d]),e.format&&(d=d.slice(0,25).map(function(t){return pq.format(e,t)})),u.val(d.join(", ")));var f=i.init,p=r.listeners||[r.listener||h[c]];f&&f.find(function(t){return o.callFn(t,{dataIndx:n,column:e,filter:r,filterUI:i,$cell:l,$editor:u})});for(var g=0;g<p.length;g++){var v=p[g],m=typeof v,_={};for(var y in"string"==m?v=a[_b(266)](v):"function"==m&&(_[h[c]]=v,v=_),v)a[_b(267)](u,y,v[y],e)}}},getControlStr:function(t){var e=this.that,n=t.dataIndx,i=" ui-corner-all",r=pq.filter.getVal(t.filter),a=r[0],o=r[1],s=r[2],l={column:t,dataIndx:n,condition:s,indx:0},u=t.filterUI=pq.filter[_b(268)](l,e),c=u.type,h="";"textbox2"==c&&(o=null!=o?o:"");var d=_a(89)+(u.cls||""),f=u.style||"",p=u.attr||"";return c&&c.indexOf("textbox")>=0?(a=a||"",d=d+" pq-search-txt"+i,h="textbox2"==c?this[_b(269)](this._input(t,a,d+" pq-from",f,p,s),this._input(t,o,d+" pq-to",f,p,s)):this._input(t,a,d,f,p,s)):"select"===c?h="<input type='text' "+["name='",n,"' class='",d+=i,"' style='",f,"' ",p].join("")+_a(90)+(e.options.rtl?"left":"right")+_a(91):"checkbox"==c?h=["<input ",null==a||0==a?"":"checked=checked"," name='",n,_a(92)+d+"' style='"+f+"' "+p+"/>"].join(""):"string"==typeof c&&(h=c),h},renderFilterCell:function(t,e,n){var i,r,a=this,o=a.that.options[_b(154)],s=t.cls,l=t.halign||t.align;return l&&n.push("pq-align-"+l),s&&n.push(s),n.push(t.clsHead),t.filter&&(r=a[_b(270)](t))&&n.push("pq-col-"+e),(i=a.hasMenu(o,t))&&n.push("pq-has-menu"),[_a(93),"",r,"</div>",i?"<span class='pq-filter-icon'></span>":""].join("")},hasMenu:function(t,e){var n=t.menuIcon,i=(e.filter||{}).menuIcon;return n&&!1!==i||!1!==n&&i}}}(jQuery),function(t){var e=t.paramquery.cRefresh=function(e){var n=this;n.vrows=[],n.that=e,e.on("dataReadyDone",function(){n.addRowIndx(!0)}),t(window).on("resize"+e[_b(34)]+" orientationchange"+e[_b(34)],n[_b(271)].bind(n))};t.extend(e,{Z:function(){return(window.outerWidth-8)/window.innerWidth},cssZ:function(){return document.body.style.zoom},isFullScreen:function(){return document.fullScreen||document[_b(272)]||document[_b(273)]||window[_b(274)]==screen.height},isSB:function(){return t(document).height()>t(window).height()}}),t(document).one("pq:ready",function(){var n=e.Z,i=e.cssZ,r=n(),a=i();e.isZoom=function(){var t=n(),e=i();return r!=t||a!=e?(r=t,a=e,!0):void 0};var o=e.isSB,s=o();pq.onResize(document.body,function(){var e=o();e!=s&&(s=e,t(window).trigger("resize",{SB:!0}))})}),t(window).on("resize",function(){e.isZoom&&(e.ISZOOM=e.isZoom())}),e.prototype={addRowIndx:function(t){for(var e,n=this.that,i=n.options,r=i.dataModel,a=i[_b(275)],o=r.dataUF,s=n.get_p_data(),l=s.length;l--;)(e=s[l])&&(e.pq_ri=l),a&&pq.extendT(e,a);if(t&&o)for(l=o.length;l--;)delete o[l].pq_ri},move:function(){},setGridAndCenterHeightForFlex:function(){var t=this.that;t.element.height(""),t[_b(90)].height(""),t.dims.htGrid=t.element.height()},setGridWidthForFlex:function(){var t=this.that,e=t.options,n=this[_b(276)],i=t.element,r=t.$toolPanel[0][_b(161)]+t.iRenderB[_b(277)]();e.maxWidth&&r>=this[_b(276)]&&(r=n),t._trigger("contWd"),i.width(r+"px"),t.dims.wdGrid=r},_calcOffset:function(t){var e=/(-|\+)([0-9]+)/.exec(t);return e&&3===e.length?parseInt(e[1]+e[2]):0},setMax:function(t){var e=this.that,n=e.element,i=e.options[t];i?(i==parseInt(i)&&(i+="px"),n.css(t,i)):n.css(t,"")},refreshGridWidthAndHeight:function(){var e,n,i,r,a,o=this.that,s=o.options,l=o.dims,u=(s.width+"").indexOf("%")>-1,c=(s.height+"").indexOf("%")>-1,h=(s.maxHeight+"").indexOf("%")>-1,d="flex"==s.height,f=s[_b(278)],p=h&&d,g=(s.maxWidth+"").indexOf("%")>-1,v="flex"==s.width,m=g&&v,_=o.element;if(u||c||p||m){if(!(a=f?t(f):_.parent()).length)return;a[0]==document.body||"fixed"==_.css("position")?(i=t(window).width(),r=window[_b(274)]||t(window).height()):(i=a.width(),r=a.height());var y=this[_b(279)],b=u?y(s.width):0,x=c?y(s.height):0;m?e=parseInt(s.maxWidth)*i/100:u&&(e=parseInt(s.width)*i/100+b),p?n=parseInt(s.maxHeight)*r/100:c&&(n=parseInt(s.height)*r/100+x)}e||(v&&s.maxWidth?g||(e=s.maxWidth):u||(e=s.width)),s.maxWidth&&(this[_b(276)]=e),n||(d&&s.maxHeight?h||(n=s.maxHeight):c||(n=s.height)),parseFloat(e)==e?_.css("width",e=e<s.minWidth?s.minWidth:e):"auto"===e&&_.width(e),parseFloat(n)==n&&_.css("height",n=n<s.minHeight?s.minHeight:n),l.wdGrid=Math.round(_.width()),l.htGrid=Math.round(_.height())},isReactiveDims:function(){var t=this.that.options,e=t.width,n=t.height,i=t.maxWidth,r=t.maxHeight,a=function(t){return-1!=(t+"").indexOf("%")},o=a(e),s="auto"===e,l=a(n),u=a(i),c=a(r);return o||s||l||u||c},getParentDims:function(){var e,n,i=this.that.element,r=i.parent();return r.length?(r[0]==document.body||"fixed"==i.css("position")?(n=window[_b(274)]||t(window).height(),e=t(window).width()):(n=r.height(),e=r.width()),[e,n]):[]},onWindowResize:function(n,i){var r,a,o,s,l,u=this,c=u.that,h=c.dims||{},d=h.htParent,f=h.wdParent,p=c.options,g=c.element;if(!e[_b(280)]()&&!p.disabled&&!(t.support.touch&&p.editModel.indices&&t(document[_b(65)]).is(".pq-editor-focus")||i&&(l=i.$grid,l&&(l==g||0==g.closest(l).length))))return s=u[_b(281)](),e.ISZOOM?u[_b(282)](function(){u.refresh({soft:!0})}):void(s&&u[_b(282)](function(){if(o=u[_b(283)](),a=o[0],(r=o[1])==d&&a==f){if(parseInt(g.width())==parseInt(h.wdGrid))return}else h.htParent=r,h.wdParent=a;u.refresh({soft:!0})}))},setResizeTimer:function(t){var e=this,n=e.that;clearTimeout(e[_b(284)]),e[_b(284)]=window.setTimeout(function(){n.element&&(t?t():e[_b(285)]())},n.options[_b(286)]||100)},refresh:function(t){var e,n=this,i=n.that,r=null==(t=t||{}).header||t.header,a=t.pager,o=!t.soft,s=i.element,l=i.$toolPanel,u=i.dims=i.dims||{htCenter:0,htHead:0,htSum:0,htBody:0,wdCenter:0,htTblSum:0};if(t.colModel&&i.refreshCM(),s[0][_b(161)]){l.css("height","1px"),t.toolbar&&i[_b(287)](),(e=i.options)[_b(87)]._collapsed=!1,n.setMax("maxHeight"),n.setMax("maxWidth"),n[_b(288)](),o&&!1!==a&&i[_b(163)](),u.htCenter=n[_b(289)](),u.wdCenter=u.wdGrid-l[0][_b(161)],i.iRenderB.init({header:r,soft:t.soft,source:t.source}),"flex"==e.height&&n[_b(290)](),"flex"==e.width&&n[_b(291)]();var c=this[_b(283)]();u.wdParent=c[0],u.htParent=c[1],o&&i[_b(114)](),e.dataModel[_b(158)]=void 0,i._trigger("refreshFull")}else s.addClass("pq-pending-refresh")},setCenterHeight:function(){var t,e=this.that,n=e.$top,i=e.options;return("flex"!==i.height||i.maxHeight)&&(t=(t=e.dims.htGrid-(i.showTop?n[0][_b(162)]+parseInt(n.css("marginTop")):0)-e.$bottom[0][_b(162)]+1)>=0?t:"",e[_b(90)].height(t)),t}}}(jQuery),function(t){(t.paramquery[_b(292)]=function(e,n){var i,r,a=this;a.that=e,a.fns={},a.options=e.options,r=a.colUI=n;var o=(i=a.colCB=n.cbId?e.columns[n.cbId]:n).cb=t.extend({},{all:!1,header:!1,select:!1,check:!0,uncheck:!1},i.cb),s=i.dataIndx;r._render=a.cellRender(i,r),a.on("dataAvailable",function(){e.one("dataReady",a[_b(293)].bind(a))}).on("dataReady",a[_b(294)].bind(a)).on("valChange",a[_b(295)](a)).on("cellKeyDown",a[_b(296)].bind(a)).on("refreshHeader",a[_b(297)].bind(a)).on("change",a.onChange(a,e,s,o.check,o.uncheck)),o.select&&a.on("rowSelect",a[_b(298)](a,e)).on("beforeRowSelectDone",a[_b(299)](a,e,s,o.check,o.uncheck)),a.on("beforeCheck",a[_b(300)].bind(a))}).prototype=t.extend({cellRender:function(t,e){var n=this;return function(i){var r,a,o,s=i.rowData,l=t.dataIndx,u=t.cb,c=e[_b(301)],h=e.useLabel;if(!(s.pq_gtitle||s[_b(9)]||i.Export))return r=u.check===s[l]?"checked":"",a=n.isEditable(s,t,i.rowIndx,i.colIndx,l)?"":"disabled",c&&(o=c.call(this,i)),null==o&&(o=t==e?"":i.formatVal||i.cellData),[h?" <label>":"",_a(0),r," ",a," />",o,h?"</label>":""].join("")}},checkAll:function(t,e){var n=this.that;return this.checkNodes(this.colCB.cb.all?n.options.dataModel.data:n.pdata,t=null==t||t,e)},checkNodes:function(t,e,n){if(t.length){null==e&&(e=!0);var i=this,r=i.that,a=i.colUI.dataIndx,o=i.colCB,s=o.cb,l=e?s.check:s.uncheck,u=o.dataIndx,c=t[0],h=c.pq_ri,d=function(){return r[_b(168)]({rowIndx:h,dataIndx:a}),!1},f=t.map(function(t){var e={},n={};return e[u]=t[u],n[u]=l,{rowIndx:t.pq_ri,rowData:t,oldRow:e,newRow:n}}),p={rowIndx:h,rowData:c,dataIndx:a,check:e,rows:f},g={source:"checkbox"};return!1===r._trigger("beforeCheck",n,p)?d():(g.updateList=p.rows,g.history=g.track=!s.select&&null,!1===r[_b(179)](g)?d():void(s.maxCheck||1!=g.updateList.length?r.refresh({header:!1}):r.refreshRow({rowIndx:g.updateList[0].rowIndx})))}},isEditable:function(t,e,n,i,r){return this.that.isEditable({rowIndx:n,rowData:t,column:e,colIndx:i,dataIndx:r})},onBeforeRowSelect:function(t,e,n,i,r){return function(a,o){if("checkbox"!=o.source){var s=function(a){for(var o,s,l=a.length,u=e.columns[n],c=e.colIndxs[n];l--;)t.isEditable(o=(s=a[l]).rowData,u,s.rowIndx,c,n)?o[n]=o[_b(2)]?r:i:a.splice(l,1)};s(o.addList),s(o.deleteList)}}},onCellKeyDown:function(e,n){if(n.dataIndx==this.colUI.dataIndx&&(13==e.keyCode||32==e.keyCode))return t(e[_b(31)].target).find("input").click(),!1},onChange:function(t,e,n,i,r){return function(r,a){var o=[],s=[],l=t.colUI.dataIndx,u=function(t,n){t.length&&e._trigger("check",r,{rows:t,dataIndx:l,rowIndx:t[0].rowIndx,rowData:t[0].rowData,check:n})},c=function(t){t.forEach(function(t){var e=t.newRow,r=t.oldRow;e.hasOwnProperty(n)&&(e[n]===i?o.push(t):r&&r[n]===i&&s.push(t))})};t.setValCBox(),c(a.addList),c(a.updateList),t.colCB.cb.select&&e.SelectRow().update({addList:o,deleteList:s,source:"checkbox"}),u(o,!0),u(s,!1)}},onCheckBoxChange:function(t){return function(e,n){return n.dataIndx==t.colUI.dataIndx?t.checkNodes([n.rowData],n.input.checked,e):void 0}},onDataReady:function(){this.setValCBox()},off:function(){var t,e=this.fns,n=this.that;for(t in e)n.off(t,e[t]);this.fns={}},on:function(t,e){var n=this;return n.fns[t]=e,n.that.on(t,e),n},destroy:function(){for(var t in this.off(),this)delete this[t]},oneDataReady:function(){var t,e=this.that.get_p_data(),n=0,i=e.length,r=this.colCB,a=r.cb,o=r.dataIndx;if(null!=o&&e&&a.select)for(;i>n;n++)(t=e[n])&&(t[o]===a.check?t[_b(2)]=!0:t[_b(2)]&&(t[o]=a.check))},onRowSelect:function(t,e){return function(n,i){"checkbox"!=i.source&&(i.addList.length||i.deleteList.length)&&(t.setValCBox(),e.refresh({header:!1}))}}},pq.mixin.ChkGrpTree)}(jQuery),function(t){function e(t,e,n){for(var i=0,r=t.length;r>i;i++){for(var a,o=t[i],s={},l=0,u=e.length;u>l;l++)s[a=e[l]]=o[a];n.push(s)}}var n,i=t.paramquery,r={};r.options={stateColKeys:{width:1,filter:["crules","mode"],hidden:1},stateKeys:{height:1,width:1,freezeRows:1,freezeCols:1,groupModel:["dataIndx","collapsed","grandSummary"],pageModel:["curPage","rPP"],sortModel:["sorter"]},detailModel:{cache:!0,offset:100,expandIcon:_a(94),collapseIcon:_a(95),height:"auto"},dragColumns:{enabled:!0,acceptIcon:_a(96),rejectIcon:_a(97),topIcon:_a(98),bottomIcon:_a(99)},flex:{on:!0,one:!1,all:!0},track:null,mergeModel:{flex:!1},realFocus:!0,sortModel:{on:!0,type:"local",multiKey:"shiftKey",number:!0,single:!0,cancel:!0,sorter:[],useCache:!0,ignoreCase:!1},filterModel:{on:!0,newDI:[],type:"local",mode:"AND",header:!1,timeout:400}},r._create=function(){var t=this,e=t.options;null==e.rtl&&(e.rtl="rtl"==t.element.css("direction")),t.listeners={},t[_b(151)]={},t.iHistory=new i.cHistory(t),t.iGroup=new i.cGroup(t),t.iMerge=new i.cMerge(t),t[_b(156)]=new(i[_b(302)])(t),t.iSelection=new pq.Selection(t),t[_b(303)]=new(i[_b(264)])(t),t.iUCData=new i.cUCData(t),t[_b(304)]=new(i[_b(305)])(t),t._super(),new i.cFormula(t),t[_b(243)]=new(i[_b(255)])(t),t[_b(287)](),"remote"===e.dataModel.location&&t.refresh(),t.on("dataAvailable",function(){t.one("refreshDone",function(){t._trigger("ready"),setTimeout(function(){t.element&&t._trigger("complete")},0)})}),t.__init(),t[_b(115)]({header:!0})},r.__init=function(){n||(n=t([_a(100),_a(101),"</div>"].join("")).appendTo(document.body))},t.widget("paramquery.pqGrid",i._pqGrid,r),t.widget.extend=function(){var e,n,i=Array.prototype.shift,r=t[_b(38)],a=t.isArray,o=t.widget.extend,s=i.apply(arguments);"boolean"==typeof s&&(e=s,s=i.apply(arguments));var l,u,c,h,d,f=arguments,p=0,g=f.length;for(null==e&&(e=g>1);g>p;p++)for(h in l=f[p])(u=(c=Object[_b(39)](l,h)).get)&&"reactiveGetter"!=u.name||c.set?Object[_b(40)](s,h,c):void 0!==(d=l[h])&&(n=!(p>0),r(d)?d.byRef?s[h]=d:(s[h]=s[h]||{},o(n,s[h],d)):s[h]=a(d)&&e&&n?d.slice():d);return s},pq.grid=function(e,n){var i=t(e).pqGrid(n);return i.data("paramqueryPqGrid")||i.data("paramquery-pqGrid")},i.pqGrid.regional={};var a=i.pqGrid.prototype;i.pqGrid.defaults=a.options,a.focusT=function(t){var e=this;setTimeout(function(){e.focus(t)})},a.focus=function(e){var n,i,r,a,o,s,l,u=e||{},c=this,h=c.options,d=u.$td,f=document[_b(65)],p=c.$cont,g=p[0],v=u[_b(71)],m=u.colIndx;if(!h.nofocus){if(null==v||null==m){if(f&&f!=document.body&&"pq-grid-excel"!=f.id&&"pq-body-outer"!=f.className)return void(r=!0);(i=this._focusEle)?(v=i[_b(71)],m=i.colIndx):r=!0}null!=v&&(o=v+c.riOffset,(s=c.iMerge)[_b(191)](o,m)&&(v=(l=s[_b(135)](o,m))[_b(71)],m=l.colIndx),m=-1==m?c[_b(172)](!0):m,d=c.getCell({rowIndxPage:v,colIndx:m})),null!=v&&null!=m&&d[0]&&(f!=document.body&&t(f).blur(),p.find(".pq-focus").removeAttr("tabindex")[_b(68)]("pq-focus"),p.removeAttr("tabindex"),i=this._focusEle=this._focusEle||{},d&&(n=d[0])&&d.hasClass("pq-grid-cell")&&!n.edited?(i.$ele&&i.$ele.length&&i.$ele[0][_b(306)]("tabindex"),i.$ele=d,i[_b(71)]=v,i.colIndx=m,n[_b(130)]("tabindex","-1"),r||(d.addClass("pq-focus"),n.focus())):(a=h.dataModel.data)&&a.length||g[_b(130)]("tabindex",0))}},a.onfocus=function(){var t=this._focusEle;t&&this.getCell(t).addClass("pq-focus")},a.onblur=function(){if(this._focusEle){var t=(_b(71),document[_b(65)]);this.$cont.find(".pq-focus")[_b(68)]("pq-focus"),t&&t!=document.body&&"pq-grid-excel"!=t.id&&"pq-body-outer"!=t.className&&(this._focusEle={})}},a.callFn=function(t,e){return pq.getFn(t).call(this,e)},a.rowExpand=function(t){this.iHierarchy.rowExpand(t)},a[_b(307)]=function(t){this.iHierarchy[_b(307)](t)},a[_b(308)]=function(t){this.iHierarchy[_b(308)](t)},a._saveState=function(e,n,i){var r,a,o,s;for(r in i)(a=i[r])&&(o=e[r],t.isArray(a)?null!=o&&(s=n[r]=t[_b(38)](n[r])?n[r]:{},a.forEach(function(t){s[t]=o[t]})):n[r]=o)},a.saveState=function(e){e=e||{};for(var n,i,r,a,o=this,s=o.element,l=o.options,u=l[_b(309)],c=l.stateKeys,h=o.colModel,d=[],f=0,p=h.length,g=s[0].id;p>f;f++)o._saveState(i=h[f],r={dataIndx:i.dataIndx},u),d[f]=r;return a={colModel:d,datestamp:Date.now()},o._saveState(l,a,c),(n=e.extra)&&(a=t.extend(!0,a,n)),!1!==e.stringify&&(a=JSON.stringify(a),!1!==e.save&&"undefined"!=typeof Storage&&localStorage.setItem("pq-grid"+(g||""),a)),a},a.getState=function(){return"undefined"!=typeof Storage?localStorage.getItem("pq-grid"+(this.element[0].id||"")):void 0},a.loadState=function(e){var n,i=this,r=t.widget.extend,a=(e=e||{}).state||i.getState();if(!a)return!1;"string"==typeof a&&(a=JSON.parse(a));for(var o,s,l,u=a.colModel,c=[],h=[],d=i.options,f=d[_b(309)],p=i.depth>1,g=p?i.colModel:d.colModel,v=0,m=u.length;m>v;v++)c[l=(o=u[v]).dataIndx]=o,h[l]=v;for(p||g.sort(function(t,e){return h[t.dataIndx]-h[e.dataIndx]}),v=0,m=g.length;m>v;v++)(o=c[l=(s=g[v]).dataIndx])&&i._saveState(o,s,f);return i.iCols.init(),r(d.sortModel,a.sortModel),r(d.pageModel,a.pageModel),i.Group().option(a.groupModel,!1),i.Tree().option(a.treeModel,!1),n={freezeRows:a.freezeRows,freezeCols:a.freezeCols},isNaN(1*d.height)||isNaN(1*a.height)||(n.height=a.height),isNaN(1*d.width)||isNaN(1*a.width)||(n.width=a.width),i.option(n),!1!==e.refresh&&i[_b(115)](),!0},a[_b(287)]=function(){var e,n=this,i=n.options,r=i.toolbar;if(n._toolbar&&(e=n._toolbar).destroy(),r){var a=r.items,o=t("<div class='"+(r.cls||"")+"' style='"+(r.style||"")+"' "+(r.attr||"")+" ></div>");e?e.widget()[_b(310)](o):n.$top.append(o),e=pq.toolbar(o,{items:a,gridInstance:n,bootstrap:i.bootstrap}),i[_b(311)]||o.css("display","none"),n._toolbar=e}},a.filter=function(t){return this[_b(156)].filter(t)},a.Checkbox=function(t){return this.iCheckBox[t]},a[_b(312)]=function(){this[_b(112)].refreshHS()},a[_b(313)]=function(t){var e=this.normalize(t),n=e.colIndx,i=e.column,r=this[_b(112)],a=r.rows-1;this.options[_b(154)].header&&(r[_b(168)](a,n,{},i),r[_b(265)](i,n,a))},a[_b(314)]=function(){this.iHeader[_b(315)]()},a.pageData=function(){return this.pdata},a.getData=function(t){var n=(t=t||{}).dataIndx,i=n?n.length:0,r=t.data,a=!i,o=this.columns,s=this.options.dataModel,l=s[_b(316)]||s.data||[],u=s.dataUF||[],c=[];if(!i)return u.length?l.concat(u):l;r?e(r,n,c):(e(l,n,c),e(u,n,c));for(var h=[],d=n.reduce(function(t,e){var n=o[e];return n&&t.push({dataIndx:e,dir:"up",dataType:n.dataType,sortType:n.sortType}),t},[]),f={},p=0,g=c.length;g>p;p++){var v=c[p],m=JSON.stringify(v);f[m]||(h.push(v),f[m]=1)}return this.iSort[_b(317)](d,h,a)},a[_b(318)]=function(e,n){var i=e[0];if(t[_b(38)](i)){var r=Object.keys(i);r[0]!=n&&1==r.length&&(e=e.map(function(t){var e,i={};for(e in t)i[n]=e,i.pq_label=t[e];return i}))}else e=e.map(function(t){var e={};return e[n]=t,e});return e},a[_b(319)]=function(t,e,n){var i,r,a=this,o=a.options[_b(154)],s=o.newDI.slice(),l=e?[e,t]:[t],u=s.indexOf(t);return"AND"==o.mode&&s.length&&"remote"!=o.type&&(u>=0&&s.splice(u,s.length),s.length&&(i=s.map(function(t){var e=a.getColumn({dataIndx:t}).filter;return{dataIndx:t,crules:e.crules||[e],mode:e.mode}}),r=a.filter({data:a.getData(),mode:"AND",rules:i}))),l=l.concat(n||[]),a.getData({data:r,dataIndx:l})},a[_b(320)]=function(t,e,n){var i;return t.filter(null==n?function(t){var n=t[e];return null!=n&&""!==n||(i?void 0:(i=!0,t[e]="",!0))}:function(t){var n=t[e];return null!=n&&""!==n})},a.get_p_data=function(){var t,e,n,i,r=this.options,a=r.pageModel,o=a.type,s=r.dataModel.data,l=this.pdata,u=[];return o?(e=a.rPP,n=this.riOffset,!l.length&&s.length&&(l=s.slice(n,n+e)),u=(t="remote"==o)?new Array(n):s.slice(0,n),i=t?[]:s.slice(n+e),u.concat(l,i)):l.length?l:s},a[_b(145)]=function(t){var e=this,n=e.options,i=!(t=t||{}).data,r=t.source,a=t.sort,o=[],s=n[_b(154)],l=n.dataModel,u=n.sortModel;return!1!==i&&(e.pdata=[],!1!==t.trigger&&e._trigger("dataAvailable",t.evt,{source:r})),o=s&&s.on&&"local"==s.type?e[_b(156)][_b(321)](t).data:l.data,"local"==u.type&&!1!==a&&(i?e.sort({refresh:!1}):o=e.iSort[_b(322)](o,!0)),!1===i?o:void e[_b(16)](t)},a.reset=function(e){var n,i=this,r=(e=e||{}).sort,a=!1!==e.refresh,o=e.filter,s=e.group;(r||o||s)&&(r&&(0,t.extend)(i.options.sortModel,!0===r?{sorter:[]}:r),o&&!a&&this[_b(156)][_b(323)](i.colModel),s&&(n=!0===s?{dataIndx:[]}:s,i[_b(324)](n,!1)),a&&(o?(i.filter({oper:"replace",rules:[]}),i[_b(312)]()):r?i.sort():i[_b(16)]()))},a._trigger=i._trigger,a.on=i.on,a.one=i.one,a.off=i.off,a.pager=function(){var t;return this.pageI=this.pageI||((t=this.widget().find(".pq-pager")).length?t.pqPager("instance"):null),this.pageI},a.toolbar=function(){return this._toolbar.element},a.Columns=function(){return this.iCols}}(jQuery),function(t){var e=t.paramquery;e.cColModel=function(t){this.that=t,this.init()},e.cColModel.prototype={add:function(t,e,n,i){var r,a,o=this,s=o.that,l=(n=n||s.options.colModel,{args:arguments}),u=t.length,c=[e=null==e?n.length:e,0].concat(t);!1!==s._trigger("beforeColAdd",null,l)&&("undo"==i||"redo"==i||s.iHistory.push({callback:function(n){a=(r||{}).colModel,n?o.add(t,e,a,"redo"):o.remove(u,e,a,"undo")}}),n.splice.apply(n,c),s.refreshCM(),r=n[0].parent,s._trigger("colAdd",null,l),s.refresh())},move:function(t,e,n,i,r,a){var o,s=this,l={args:arguments},u=s.that,c=u.options,h=[],d=c.colModel,f=(i||{}).colModel||d,p=(r||{}).colModel||d;return!1!==u._trigger("beforeColMove",null,l)&&("undo"==a||"redo"==a||u.iHistory.push({callback:function(a){a?s.move(t,e,n,i,r,"redo"):s.move(t,o,f==p&&e>o?e+t:e,r,i,"undo")}}),h=f.splice(e,t),p.splice.apply(p,[o=f==p&&n>e+t?n-t:n,0].concat(h)),u.refreshCM(),u._trigger("colMove",null,l),u.refresh()),h},remove:function(t,e,n,i){var r,a,o=this,s={args:arguments},l=o.that,u=(n=n||l.options.colModel)[0].parent;!1!==l._trigger("beforeColRemove",null,s)&&("undo"==i||"redo"==i||l.iHistory.push({callback:function(n){a=(u||{}).colModel,n?o.remove(t,e,a,"redo"):o.add(r,e,a,"undo")}}),r=n.splice(e,t),l.refreshCM(),l._trigger("colRemove",null,s),l.refresh())},alter:function(t){var e=this.that;t.call(e),e.refreshCM(),e.refresh()},assignRowSpan:function(){for(var t,e,n,i,r=this.that,a=r.colModel.length,o=r[_b(142)],s=r.depth,l=0;a>l;l++)for(e=0;s>e;e++)if(t=o[e][l],!(l>0&&t==o[e][l-1]||e>0&&t==o[e-1][l])){for(i=1,n=e+1;s>n;n++)t==o[n][l]&&i++;t.rowSpan=i}return o},autoGenColumns:function(){var e=this.that.options,n=e[_b(325)]||{},i=n.dataType,r=n.title,a=n.width,o=e.dataModel.data,s=pq.valid,l=[];o&&o.length&&t.each(o[0],function(t,e){var n="string";s.isInt(e)?n=e+"".indexOf(".")>-1?"float":"integer":s.isDate(e)?n="date":s.isFloat(e)&&(n="float"),l.push({dataType:i||n,dataIndx:t,title:r||t,width:a||100})}),e.colModel=l},cacheIndices:function(){for(var t,e=this,n=e.that,i="JSON"==e[_b(41)](),r={},a={},o={},s=n.colModel,l=0,u=s.length,c=0,h=e.vciArr=[],d=e.ciArr=[];u>l;l++){var f=s[l],p=f.dataIndx;null==p&&("pq_detail"==(p="detail"==f.type?"pq_detail":i?"dataIndx_"+l:l)&&(f.dataType="object"),f.dataIndx=p),r[p]=f,a[p]=l,f[_b(59)]&&(o[p]=o),f.hidden||(d[c]=l,h[l]=c,c++),f.align||!(t=f.dataType)||"integer"!=t&&"float"!=t||(f.align="right")}n.columns=r,n.colIndxs=a,n[_b(59)]=o},collapse:function(t){var e,n,i,r=t[_b(87)],a=r.on||!1,o=t.colModel||[],s=o.length,l=s,u=0,c=r.last,h=c?s-1:0;if(s){for(;l--;)e=o[l],null===c?(i=e.showifOpen===a)&&u++:i=h!==l&&a,e.hidden=i,i||!(n=e.colModel)||e[_b(87)]||this.each(function(t){t.hidden=i},n);u==s&&this.each(function(t){t.hidden=!1},[o[0]])}},each:function(t,e){var n=this.that;(e||n.options.colModel).forEach(function(e){t.call(n,e),e.colModel&&this.each(t,e.colModel)},this)},extend:function(t,e){for(var n=t.length;n--;)e&&pq.extendT(t[n],e)},find:function(t,e){for(var n,i,r=this.that,a=e||r.options.colModel,o=0,s=a.length;s>o;o++){if(t.call(r,n=a[o]))return n;if(n.colModel&&(i=this.find(t,n.colModel)))return i}},getHeaderCells:function(){for(var t=this.that,e=t.options.colModel,n=t.colModel.length,i=t.depth,r=[],a=0;i>a;a++){r[a]=[];for(var o=0,s=0,l=0;n>l;l++){var u;if(0==a)u=e[o];else{var c=r[a-1][l],h=c.colModel;if(h&&0!=h.length){for(var d=l-c.leftPos,f=0,p=0,g=0;g<h.length;g++)if((f+=h[g].childCount>0?h[g].childCount:1)>d){p=g;break}u=h[p]}else u=c}var v=u.childCount?u.childCount:1;l==s?(u.leftPos=l,r[a][l]=u,s+=v,e[o+1]&&o++):r[a][l]=r[a][l-1]}}return t[_b(142)]=r,r},getDataType:function(){var t=this.colModel;if(t&&t[0])return"string"==typeof t[0].dataIndx?"JSON":"ARRAY"},getci:function(t){return this.ciArr[t]},getvci:function(t){return this.vciArr[t]},getNextVisibleCI:function(t){for(var e=this.vciArr,n=this.that.colModel.length;n>t;t++)if(null!=e[t])return t},getPrevVisibleCI:function(t){for(var e=this.vciArr;t>=0;t--)if(null!=e[t])return t},getLastVisibleCI:function(){var t=this.ciArr;return t[t.length-1]},getVisibleTotal:function(){return this.ciArr.length},hide:function(t){var e=this.that,n=e.columns;t.diShow=t.diShow||[],t.diHide=t.diHide||[],!1!==e._trigger("beforeHideCols",null,t)&&(t.diShow=t.diShow.filter(function(t){var e=n[t];return e.hidden?(delete e.hidden,!0):void 0}),t.diHide=t.diHide.filter(function(t){var e=n[t];return e.hidden?void 0:(e.hidden=!0,!0)}),e.refresh({colModel:!0}),e._trigger("hideCols",null,t))},init:function(t){var e,n,i=this,r=i.that,a=r.options,o=a[_b(325)],s=a.colModel;s||(i[_b(326)](),s=a.colModel),e=i.nestedCols(s),r.depth=e.depth,n=r.colModel=e.colModel,o&&i.extend(n,o),i[_b(327)](),i[_b(328)](),i[_b(329)](),i[_b(330)](),r._trigger("CMInit",null,t)},initTypeColumns:function(){var t,n=this.that,i=n.colModel,r=0,a=i.length,o=n.columns,s=n.iCheckBox=n.iCheckBox||{};for(t in s)s[t].colUI!=o[t]&&(s[t].destroy(),delete s[t]);for(;a>r;r++){var l=i[r],u=l.type;u&&("checkbox"==u||"checkBoxSelection"==u?(t=l.dataIndx,l.type="checkbox",s[t]=s[t]||new(e[_b(292)])(n,l)):"detail"!=u||n.iHierarchy||(l.dataIndx="pq_detail",n.iHierarchy=new e.cHierarchy(n,l)))}},nestedCols:function(t,e,n,i){for(var r=t.length,a=[],o=0,s=e=e||1,l=0,u=0,c=0;r>o;o++){var h,d=t[o],f=d.colModel;d.parent=i,!0===n&&(d.hidden=n),f&&f.length?(d[_b(87)]&&this.collapse(d),h=this.nestedCols(f,e+1,d.hidden,d),a=a.concat(h.colModel),h.colSpan>0?(h.depth>s&&(s=h.depth),d.colSpan=h.colSpan,l+=h.colSpan):d.colSpan=0,c+=h.o_colspan,d.o_colspan=h.o_colspan,d.childCount=h.childCount,u+=h.childCount):(d.hidden?d.colSpan=0:(d.colSpan=1,l++),c++,d.o_colspan=1,d.childCount=0,u++,a.push(d))}return{depth:s,colModel:a,colSpan:l,width:0,childCount:u,o_colspan:c}},reduce:function(t,e){var n=this.that,i=[];return(e||n.options.colModel).forEach(function(e,r){var a,o,s=t.call(n,e,r);s&&((o=s.colModel)&&o.length?(a=this.reduce(t,o)).length&&(s.colModel=a,i.push(s)):i.push(s))},this),i},reverse:function(t){var e,n=this,i=n.that;(t||i.options.colModel).reverse().forEach(function(t){(e=t.colModel)&&n.reverse(e)}),t||i.refreshCM()}}}(jQuery),function(t){function e(e,n){var i,r=this,a=e.options;r.that=e,r.type="detail",r[_b(331)]=!0,r[_b(332)]="auto"==(i=a[_b(333)].height)?1:i,e.on("cellClick",r.toggle.bind(r)).on("cellKeyDown",function(e,n){return e.keyCode==t.ui.keyCode.ENTER?r.toggle(e,n):void 0}).on("beforeViewEmpty",r[_b(334)].bind(r)).on("autoRowHeight",r[_b(335)].bind(r)).one("render",function(){e.iRenderB.removeView=r.removeView(r,e),e.iRenderB.renderView=r.renderView(r,e)}).one("destroy",r.onDestroy.bind(r)),n._render=r.renderCell.bind(r)}t.extend(t.paramquery.pqGrid.prototype,{parent:function(){return this._parent},child:function(t){return((this.normalize(t).rowData||{}).pq_detail||{}).child}}),t.paramquery.cHierarchy=e,e.prototype={detachCells:function(t){t.children().detach(),t.remove()},getCls:function(){return"pq-detail-cont-"+this.that.uuid},getId:function(t){return"pq-detail-"+t+"-"+this.that.uuid},getRip:function(t){return 1*t.id.split("-")[2]},onAutoRowHeight:function(){var e=this,n=this.that.iRenderB;n.$ele.find("."+e.getCls()).each(function(i,r){var a=e.getRip(r),o=n[_b(336)](a);t(r).css("top",o)})},onBeforeViewEmpty:function(t,e){var n=e[_b(71)],i=this.that.iRenderB,r=e.region,a=n>=0?"#"+this.getId(n):"."+this.getCls(),o=n>=0?i.$ele.find(a):i["$c"+r].find(a);this[_b(337)](o)},onDestroy:function(){(this.that.getData()||[]).forEach(function(t){t.child&&t.child.remove()})},onResize:function(t,e){var n,i=[];pq.onResize(e[0],function(){i.push(e[0]),clearTimeout(n),n=setTimeout(function(){var e=t.that.pdata,n=[];i.forEach(function(i){if(document.body.contains(i)){var r=t.getRip(i),a=i[_b(162)],o=e[r],s=o.pq_detail.height||t[_b(332)];s!=a&&(o.pq_detail.height=a,n.push([r,a-s]))}}),i=[],n.length&&(t.that._trigger("onResizeHierarchy"),t[_b(338)](n))},150)})},removeView:function(e,n){var i=n.iRenderB.removeView;return function(n,r,a){var o,s,l,u=i.apply(this,arguments),c=e.getCls(),h=this[_b(339)](n,a);for(o=n;r>=o;o++)(s=this.getRow(o,h))&&1==s.children.length&&1==(l=t(s).children("."+c)).length&&(e[_b(337)](l),s.parentNode[_b(118)](s));return u}},renderView:function(e,n){var i=n.iRenderB.renderView;return function(r,a,o,s){var l,u,c=i.apply(this,arguments),h=n.iRenderB,d=e.getCls()+" pq-detail",f=n.options,p=f.rtl,g=n.dims.wdContLeft+5,v="padding-"+(p?"right:":"left:")+g+"px;",m=f.freezeRows,_=f[_b(333)],y=_.init,b=this.data;if(e[_b(331)]){for(e[_b(331)]=!1,l=r;a>=l;l++)if((u=b[l])&&!u.pq_hidden){var x=u.pq_detail=u.pq_detail||{},w=x.show,k=x.child;if(!w)continue;k||"function"==typeof y&&(k=y.call(n,{rowData:u}),x.child=k);var C=k.parent(),M=h[_b(336)](l),T=_a(102)+M+_a(103)+v;if(C.length){if(!document.body.contains(C[0]))throw _a(104);C.css({top:M})}else C=t(_a(105)+e.getId(l)+"' class='"+d+"' style='"+T+"'></div>").append(k),t(h.getRow(l,m>l?"tr":"right")).append(C),"auto"==_.height&&e.onResize(e,C);for(var S,A,E=C.find(".pq-grid"),P=0,I=E.length;I>P;P++)(A=(S=t(E[P])).pqGrid("instance"))._parent=n,S.hasClass("pq-pending-refresh")&&S.is(":visible")&&(S[_b(68)]("pq-pending-refresh"),A.refresh())}return e[_b(331)]=!0,c}}},renderCell:function(t){var e=this.that.options[_b(333)],n=t.cellData,i=t.rowData;return i[_b(9)]||i.pq_gtitle?"":"<div class='ui-icon "+(n&&n.show?e.expandIcon:e[_b(340)])+"'></div>"},rowExpand:function(t){var e,n=this.that,i=n.normalize(t),r=n.options,a=i.rowData,o=i[_b(71)],s=r[_b(333)],l="pq_detail";if(a){if(!1===n._trigger("beforeRowExpand",null,i))return;(e=a[l]=a[l]||{}).show=!0,s.cache||this[_b(307)](i),this[_b(338)]([[o,e.height||this[_b(332)]]],i)}},rowInvalidate:function(t){var e=this.that.getRowData(t),n="pq_detail",i=e[n],r=i?i.child:null;r&&(r.remove(),e[n].child=null)},rowCollapse:function(t){var e=this.that,n=e.options,i=e.normalize(t),r=i.rowData,a=i[_b(71)],o=n[_b(333)],s=r?r.pq_detail:null;if(s&&s.show){if(i.close=!0,!1===e._trigger("beforeRowExpand",null,i))return;o.cache||this[_b(307)](i),s.show=!1,this[_b(338)]([[a,-(s.height||this[_b(332)])]],i)}},softRefresh:function(t,e){var n=this.that,i=n.iRenderB;i[_b(341)](t),i.setPanes(),i[_b(342)](!0),e&&n.refreshRow(e),i.refresh()},toggle:function(t,e){var n=this.that,i=e.column,r=e.rowData,a=e.rowIndx,o=this.type;r.pq_gtitle||r[_b(9)]||i&&i.type===o&&n[(r.pq_detail=r.pq_detail||{}).show?"rowCollapse":"rowExpand"]({rowIndx:a})}}}(jQuery),function(t){var e=function(t){var e=this;e.that=t,e.class="pq-grid-overlay",e.rtl=t.options.rtl?"right":"left",e.ranges=[],t.on("assignTblDims",e.onRefresh(e,t))};t.paramquery.cCells=e,e.prototype={addBlock:function(t,e){if(t&&this.addUnique(this.ranges,t)){var n=this.that,i=t.r1,r=t.c1,a=t.r2,o=t.c2,s=this.serialize(i,r,a,o),l=s,u=s+" pq-number-overlay",c=s+" pq-head-overlay",h=n.iRenderB,d=function(t,e){return h[_b(343)](t,e)},f=this.shiftRC(i,r,a,o);if(f){a=f[2],o=f[3];var p,g,v,m,_,y,b,x,w,k,C=d(i=f[0],r=f[1]),M=d(a,o);if(_=(f=h.getCellXY(i,r))[0]-1,y=f[1]-1,w=(x=(f=h[_b(344)](a,o))[3])-y,k=(b=f[2])-_,C==M?this.addLayer(_,y,w,k,l,C):(p=d(i,o),g=d(a,r),v=C[0][_b(161)],m=C[0][_b(162)],g==C?(this.addLayer(_,y,w,v-_,l,C,"border-right:0;"),this.addLayer(0,y,w,b,l,M,"border-left:0;")):C==p?(this.addLayer(_,y,m-y,k,l,C,"border-bottom:0;"),this.addLayer(_,0,x,k,l,M,"border-top:0;")):(this.addLayer(_,y,m-y,v-_,l,C,_a(106)),this.addLayer(0,y,m-y,b,l,p,_a(107)),this.addLayer(_,0,x,v-_,l,g,_a(108)),this.addLayer(0,0,x,b,l,M,_a(109)))),this.addLayer(0,y,w,k=n.options.numberCell.outerWidth||0,u,h.$clt,""),this.addLayer(0,y,w,k,u,h.$cleft,""),0!=n.options.showHeader){_=(f=(h=n[_b(112)]).getCellXY(0,r))[0],y=f[1],f=h[_b(344)](n[_b(142)].length-1,o);var T=h.$cright;this.addLayer(_,y,w=(x=f[3])-y,k=(b=f[2])-_,c,T,""),this.addLayer(_,y,w,k,c,T=h.$cleft,"")}}}},addLayer:function(e,n,i,r,a,o,s){t("<svg class='"+this.class+" "+a+"' style='"+this.rtl+":"+e+"px;top:"+n+"px;height:"+i+"px;width:"+r+"px;"+(s||"")+"'></svg>").appendTo(o)},addUnique:function(t,e){return t.filter(function(t){return e.r1==t.r1&&e.c1==t.c1&&e.r2==t.r2&&e.c2==t.c2})[0]?void 0:(t.push(e),!0)},getLastVisibleFrozenCI:function(){for(var t=this.that,e=t.colModel,n=t.options.freezeCols-1;n>=0;n--)if(!e[n].hidden)return n},getLastVisibleFrozenRIP:function(){for(var t=this.that,e=t.get_p_data(),n=t.riOffset,i=t.options.freezeRows+n-1;i>=n;i--)if(!e[i].pq_hidden)return i-n},getSelection:function(){var t=this.that,e=t.get_p_data(),n=t.colModel,i=[];return this.ranges.forEach(function(t){var r,a,o,s=t.r2,l=t.c1,u=t.c2;for(a=t.r1;s>=a;a++)for(r=e[a],o=l;u>=o;o++)i.push({dataIndx:n[o].dataIndx,colIndx:o,rowIndx:a,rowData:r})}),i},isSelected:function(t){var e=this.that.normalize(t),n=e.rowIndx,i=e.colIndx;return null==i||null==n?null:!!this.ranges.find(function(t){return n>=t.r1&&t.r2>=n&&i>=t.c1&&t.c2>=i||void 0})},onRefresh:function(t,e){var n;return function(){clearTimeout(n),n=setTimeout(function(){e.element&&(t.removeAll(),e.Selection().address().forEach(function(e){t.addBlock(e)}))},50)}},removeAll:function(){var t=this.that,e=t.$cont,n=t.$header;e&&(e.children().children().children("svg").remove(),n.children().children().children("svg").remove()),this.ranges=[]},removeBlock:function(t){if(t){var e,n=t.r1,i=t.c1,r=t.r2,a=t.c2,o=this.that,s=this.ranges.findIndex(function(t){return n==t.r1&&i==t.c1&&r==t.r2&&a==t.c2});s>=0&&(this.ranges.splice(s,1),e="."+this.class+"."+this.serialize(n,i,r,a),o.$cont.find(e).remove(),o.$header.find(e).remove())}},serialize:function(t,e,n,i){return"r1"+t+"c1"+e+"r2"+n+"c2"+i},shiftRC:function(t,e,n,i){var r=this.that,a=r.pdata.length,o=r.riOffset;return n-=o,(t=r.options.freezeRows>(t-=o)?Math.max(t,Math.min(0,n)):t)>=a||0>n?void 0:(n=Math.min(n,a-1),t+=o,n+=o,t-=o,n-=o,[t=Math.max(t,0),e,n=Math.min(n,a-1),i=Math.min(i,r.colModel.length-1)])}}}(jQuery),function(t){function e(t){t.shiftKey&&"pqGrid:mousePQUp"!=t.type||(this._trigger("selectEnd",null,{selection:this.Selection()}),this.off("mousePQUp",e),this.off("keyUp",e))}t.paramquery.pqGrid.prototype.Range=function(t,e){return new pq.Range(this,t,"range",e)};var n=pq.Range=function(t,e,i,r){if(null==t)throw"invalid param";return this.that=t,this._areas=[],this instanceof n==0?new n(t,e,i,r):(this._type=i||"range",void this.init(e,r))};n.prototype=t.extend({add:function(t){this.init(t)},address:function(){return this._areas},addressLast:function(){var t=this.address();return t[t.length-1]},history:function(e){var n={},i={},r={},a={},o={},s={},l={},u={},c={},h=this.that,d="pq_cell"+e,f="pq_row"+e,p=function(p){var g=function(e,n,i,r){for(var a in e){var o,s=e[a][r],l=p?n[a]:i[a];for(o in l=t.extend(!0,{},l),s)s[o]=l[o];for(o in l)s[o]=l[o]}};g(o,i,n,d),g(c,u,l,e),g(s,a,r,f),h.refresh()};return{add:function(i,a,u){function h(e,n,i,r,a){var o=e[n];i[o]||(r[o]=e,i[o]=t.extend(!0,{},e[a]))}u?h(i,"pq_ri",n,o,d):a?h(a,"dataIndx",l,c,e):h(i,"pq_ri",r,s,f)},push:function(){function n(t){return Object.keys(t).length}function r(e,n,i){for(var r in e)n[r]=t.extend(!0,{},e[r][i])}(n(o)||n(c)||n(s))&&(r(o,i,d),r(c,u,e),r(s,a,f),h.iHistory.push({callback:p}))}}},refreshStop:function(){this._stop=!0},refresh:function(){this.that.refresh(),this._stop=!1},setAPS:function(t,e,n){var i,r,a,o=this,s=o.that,l="pq_cell"+n,u="pq_row"+n,c="attr"==n,h=o.history(n),d=function(e,n,i){(null!=i||e[l])&&(a=(a=e[l]=e[l]||{})[n]=a[n]||{})[t]!=i&&(h.add(e,null,!0),a[t]=i)};o.each(function(l,f,p,g,v,m){i="row"==g,!(r="column"==g)&&!i||c?d(l,f,e):(r?(o.addProp(p),a=p[n]=p[n]||{}):a=l[u]=l[u]||{},a[t]!=e&&(r?h.add(null,p):h.add(l),a[t]=e),s.Range(r?{c1:m,c2:m}:{r1:v,r2:v},!1).each(function(n,i){var a;r&&null!=(n[u]||{})[t]&&(a=e),d(n,i,a)},!0))},c),h.push(),o._stop||o.refresh()},addProp:function(t){t.prop=t.prop||{get align(){return t.align},set align(e){t.align=e},get format(){return t.format},set format(e){t.format=e},get valign(){return t.valign},set valign(e){t.valign=e},get edit(){return t.editable},set edit(e){t.editable=e}}},setAttr:function(t,e){this.setAPS(t,e,"attr")},setStyle:function(t,e){this.setAPS(t,e,"style")},setProp:function(t,e){this.setAPS(t,e,"prop")},clear:function(){return this.copy({copy:!1,cut:!0,source:"clear"})},clearOther:function(t){var e,n=this._normal(t,!0),i=this.address();for(e=i.length-1;e>=0;e--){var r=i[e];r.r1==n.r1&&r.c1==n.c1&&r.r2==n.r2&&r.c2==n.c2||i.splice(e,1)}},clone:function(){return this.that.Range(this._areas)},_cellAttr:function(t,e){var n=t[_b(208)]=t[_b(208)]||{};return n[e]=n[e]||{}},comment:function(t){return this.attr("title",t)},pic:function(t,e,n){var i=this.that.Pic(),r=0,a=0;this.each(function(t,e,n,i,o,s){return r=o,a=s,!1}),pq.fileToBase(t,function(o){i.add(i.name(t.name),o,[a,e||0,r,n||0])})},_copyArea:function(t,e,n,i,r,a,o,s,l,u,c,h){var d,f,p,g,v,m,_,y,b=this.that,x=b.readCell,w=this[_b(345)],k=b.iMerge,C=[],M=[],T=b.riOffset,S=b.iRenderB;for(v=n;i>=v;v++)C[v]=!(y=(_=r[v]).dataType)||"string"==y||"html"==y,h&&M.push(this.getTitle(_,v));for(h&&a.push(M.join("\t")||" "),g=t;e>=g;g++){var A=s[g],E={},P={},I={rowIndx:g,rowIndxPage:g-T,rowData:A,Export:!0,exportClip:!0};if(!1!==A.pq_copy){for(M=[],v=n;i>=v;v++)m=(_=r[v]).dataIndx,!1!==_.copy&&(d=A[m],u&&((f=x(A,_,k,g,v))===d&&(I.colIndx=v,I.column=_,I.dataIndx=m,f=w(I,c,S)[0],C[v]&&/(\r|\n)/.test(f)&&(f=this.newLine(f))),M.push(f)),l&&void 0!==d&&(E[m]=void 0,P[m]=d));l&&o.push({rowIndx:g,rowData:A,oldRow:P,newRow:E}),p=M.join("\t"),a.push(p||" ")}}},copy:function(t){var e,n,i,r=this.that,a=(t=t||{}).dest,o=!!t.cut,s=null==t.copy||t.copy,l=t.source||(o?"cut":"copy"),u=t.history,c=t[_b(63)],h=[],d=[],f=r.get_p_data(),p=r.colModel,g=t.render,v=t.header,m=r.options.copyModel,_=this.address();if(u=null==u||u,c=null==c||c,g=null==g?m.render:g,v=null==v?m.header:v,_.length){if(_.forEach(function(t){this._copyArea(n=t.r1,"cell"===(e=t.type)?n:t.r2,i=t.c1,"cell"===e?i:t.c2,p,d,h,f,o,s,g,v)},this),s){var y=d.join("\n");if(t.clip){var b=t.clip;b.val(y),b.select()}else r[_b(346)](y)}a?r.paste({dest:a,rowList:h,history:u,allowInvalid:c}):o&&!1!==r[_b(179)]({updateList:h,source:l,history:u,allowInvalid:c})&&r.refresh({source:l,header:!1})}},_countArea:function(t){var e=t.type;return"cell"===e?1:"row"===e?0:(t.r2-t.r1+1)*(t.c2-t.c1+1)},count:function(){for(var t="range"===this._type,e=this.address(),n=0,i=e.length,r=0;i>r;r++)n+=t?this._countArea(e[r]):1;return n},cut:function(t){return(t=t||{}).cut=!0,this.copy(t)},_eachRC:function(t,e,n,i){this._areas.forEach(function(e){for(var r=e[n],a=e[i];a>=r;r++)t(this[r],r)},this.that[e])},eachCol:function(t){this._eachRC(t,"colModel","c1","c2")},eachRow:function(t){this._eachRC(t,"pdata","r1","r2")},_hsCols:function(t){var e=[],n={};this.eachCol(function(t){e.push(t.dataIndx)}),n[t]=e,this.that.Columns().hide(n)},hideCols:function(){this._hsCols("diHide")},showCols:function(){this._hsCols("diShow")},hideRows:function(){this.eachRow(function(t){t.pq_hidden=!0})},showRows:function(){this.eachRow(function(t){t.pq_hidden=!1})},each:function(t,e){for(var n=this.that,i=n.colModel,r=this._areas,a=0,o=n.pdata;a<r.length;a++)for(var s,l,u,c=r[a],h=c.r1,d=c.r2,f=c.c2,p=c.type,g="column"==p,v="row"==p;d>=h;h++){if(s=o[h])for(l=0>(l=c.c1)?0:l;f>=l;l++){if(!1===t(s,(u=i[l]).dataIndx,u,p,h,l))return;if(v&&!e)break}if(g&&!e)break}},enable:function(t){return null==(t=this.prop("edit",t))||t},getAPS:function(t,e){var n,i,r,a,o=this;return o.each(function(s,l,u){return o.addProp(u),a=(s["pq_row"+e]||{})[t],n=(u[e]||{})[t],i=null==(r=((r=(s["pq_cell"+e]||{})[l])||{})[t])?null==a?n:a:r,!1}),i},getAttr:function(t){return this.getAPS(t,"attr")},getProp:function(t){return this.getAPS(t,"prop")},getStyle:function(t){return this.getAPS(t,"style")},getIndx:function(t){return null==t?this._areas.length-1:t},getValue:function(){var t,e,n,i,r,a,o,s,l,u=this.address(),c=[],h=this.that;if(u.length){for(n=(t=u[0]).r1,i=t.c1,r=t.r2,a=t.c2,l=h.get_p_data(),o=n;r>=o;o++)for(e=l[o],s=i;a>=s;s++)c.push(e[h.colModel[s].dataIndx]);return c}},indexOf:function(t){for(var e,n=(t=this._normal(t)).r1,i=t.c1,r=t.r2,a=t.c2,o=this.address(),s=0,l=o.length;l>s;s++)if(n>=(e=o[s]).r1&&r<=e.r2&&i>=e.c1&&a<=e.c2)return s;return-1},index:function(t){for(var e,n=(t=this._normal(t)).type,i=t.r1,r=t.c1,a=t.r2,o=t.c2,s=this.address(),l=0,u=s.length;u>l;l++)if(n===(e=s[l]).type&&i===e.r1&&a===e.r2&&r===e.c1&&o===e.c2)return l;return-1},init:function(t,e){if(e=!1!==e,t)if("function"==typeof t.push)for(var n=0,i=t.length;i>n;n++)this.init(t[n],e);else if("string"==typeof t)this.init(pq.getAddress(t),e);else{var r=this._normal(t,e),a=this._areas=this._areas||[];r&&a.push(r)}},isValid:function(){return!!this._areas.length},format:function(t){return this.prop("format",t)},merge:function(t){t=t||{};var e,n,i=this.that,r=i.options.mergeCells,a=this._areas[0];a&&(n=a.c2-a.c1+1,((e=a.r2-a.r1+1)>1||n>1)&&(a.rc=e,a.cc=n,r.push(a),!1!==t.refresh&&i[_b(16)]()))},newLine:function(t){return'"'+t.replace(/"/g,'""')+'"'},replace:function(t,e){var n=this._normal(t),i=this._areas,r=this.getIndx(e);i.splice(r,1,n)},remove:function(t){var e=this._areas,n=this.indexOf(t);n>=0&&e.splice(n,1)},resize:function(t,e){var n=this._normal(t),i=this._areas[this.getIndx(e)];return["r1","c1","r2","c2","rc","cc","type"].forEach(function(t){i[t]=n[t]}),this},rows:function(t){var e=this.that,n=[],i=this[_b(347)]();if(i)for(var r=i.r1,a=i.c1,o=i.c2,s=i.type,l=null==t?i.r2:r+t,u=null==t?r:r+t;l>=u;u++)n.push({r1:u,c1:a,r2:u,c2:o,type:s});return pq.Range(e,n,"row")},_normal:function(t,e){if(t.type)return t;var n;if("function"==typeof t.push){n=[];for(var i=0,r=t.length;r>i;i++){var a=this._normal(t[i],e);a&&n.push(a)}return n}var o,s,l=this.that,u=l.get_p_data().length-1,c=l.colModel.length-1,h=(h=t.r1)>u?u:h,d=(d=t.c1)>c?c:d,f=t.rc,p=t.cc,g=t.r2,v=t.c2;return 0>c||0>u?null:null!=h||null!=d?(h>g&&(o=h,h=g,g=o),d>v&&(o=d,d=v,v=o),null==h?(h=0,g=u,v=null==v?d:v,s="column"):null==d?(d=0,g=null==g?h:g,v=c,s=t._type||"row"):null==g&&null==f||h==g&&d==v?(s="cell",g=h,v=d):s="block",g=(g=f?h+f-1:g)>u?u:g,v=(v=p?d+p-1:v)>c?c:v,!e||"block"!=s&&"cell"!=s||(h=(n=l.iMerge[_b(348)](h,d,g,v))[0],d=n[1],g=n[2],v=n[3]),f=g-h+1,p=v-d+1,t.r1=h,t.c1=d,t.r2=g,t.c2=v,t.rc=f,t.cc=p,t.type=t.type||s,t):void 0},select:function(){var t=this.that.iSelection,e=this._areas;return e.length&&(t.removeAll({trigger:!1}),e.forEach(function(e){t.add(e,!1)}),t.trigger()),this},style:function(t,e){return this._prop(t,e,"Style")},_prop:function(t,e,n){return this[(null!=e?"set":"get")+n](t,e)},attr:function(t,e){return this._prop(t,e,"Attr")},prop:function(t,e){return this._prop(t,e,"Prop")},toggleStyle:function(t,e){var n=this.getStyle(t);this.style(t,n&&n!=e[1]?e[1]:e[0])},unmerge:function(t){t=t||{};var e=this.that,n=e.options.mergeCells,i=this._areas[0];if(i){for(var r=0;r<n.length;r++){var a=n[r];if(a.r1===i.r1&&a.c1===i.c1){n.splice(r,1);break}}!1!==t.refresh&&e[_b(16)]()}},align:function(t){return this.prop("align",t)},valign:function(t){return this.prop("valign",t)},value:function(t){var e,n,i,r,a=0,o=this.that,s=o.colModel,l=[],u=this.address();if(void 0===t)return this.getValue();for(var c=0;c<u.length;c++){n=(e=u[c]).c1,i=e.r2,r=e.c2;for(var h=e.r1;i>=h;h++){for(var d=o.normalize({rowIndx:h}),f=d.rowData,p=d.rowIndx,g={},v={},m=n;r>=m;m++){var _=s[m].dataIndx;v[_]=t[a++],g[_]=f[_]}l.push({rowData:f,rowIndx:p,newRow:v,oldRow:g})}}return l.length&&(o[_b(179)]({updateList:l,source:"range"}),o.refresh({header:!1})),this},val2D:function(){var t,e=[],n=this.that,i={};for(t in this._areas.forEach(function(t){for(var e,r=t.c1,a=t.c2,o=t.r1;o<=t.r2;o++)e=n.Range({r1:o,rc:1,c1:r,c2:a}).value(),i[o]=i[o]?i[o].concat(e):e}),i)e.push(i[t]);return e}},pq.mixin.render);var i=pq.Selection=function(e,n){if(null==e)throw"invalid param";return this instanceof i==0?new i(e,n):(this._areas=[],this.that=e,this.iCells=new t.paramquery.cCells(e),void this._base(e,n))};pq.extend(n,i,{add:function(t,e){var n=this._normal(t,!0),i=this.iCells;this.indexOf(n)>=0||(i.addBlock(n),this._super(n),!1!==e&&this.trigger())},clearOther:function(t,e){var n=this.iCells,i=this._normal(t,!0);this.address().forEach(function(t){t.r1==i.r1&&t.c1==i.c1&&t.r2==i.r2&&t.c2==i.c2||n[_b(349)](t)}),this._super(i),e||this.trigger()},getSelection:function(){return this.iCells[_b(202)]()},isSelected:function(t){return this.iCells.isSelected(t)},removeAll:function(t){t=t||{},this._areas.length&&(this.iCells.removeAll(),this._areas=[],!1!==t.trigger&&this.trigger())},resizeOrReplace:function(t,e){this.resize(t,e)||this.replace(t,e)},replace:function(t,e){var n=this.iCells,i=this._normal(t),r=this._areas,a=this.getIndx(e),o=r[a];n[_b(349)](o),n.addBlock(i),this._super(i,a),this.trigger()},resize:function(t,e){var n=this._normal(t,!0),i=n.r1,r=n.c1,a=n.r2,o=n.c2,s=this._areas||[];if(!s.length)return!1;var l=s[this.getIndx(e)],u=l.r1,c=l.c1,h=l.r2,d=l.c2;return!(u!==i||c!==r||u!==i||d!==o||h!==a||c!==r||h!==a||d!==o)||void 0},selectAll:function(t){var e=(t=t||{}).type,n=this.that,i=n.colModel,r=t.all,a=r?0:n.riOffset,o=a+(r?n.get_p_data().length:n.pdata.length)-1;return n.Range("row"===e?{r1:a,r2:o}:{c1:0,c2:i.length-1,_type:"column",r1:0,r2:o}).select(),this},trigger:function(){var t=this.that;t._trigger("selectChange",null,{selection:this}),t.off("mousePQUp",e),t.off("keyUp",e),t.on("mousePQUp",e),t.on("keyUp",e)}})}(jQuery),function(t){var e=t.paramquery;t.widget("paramquery.pqToolbar",{options:{items:[],gridInstance:null,events:{button:"click",select:"change",checkbox:"change",textbox:"change",textarea:"change",file:"change"}},_create:function(){var n,i=this.options,r=i[_b(350)],a=i.events,o=i.bootstrap,s=o.on,l=r.colModel,u=r.options[_b(154)].timeout,c=i.items,h=this.element,d=0,f=c.length;for(h.addClass("pq-toolbar");f>d;d++){var p,g,v,m,_=c[d],y=_.type,b=_.value,x=_.icon,w=_.options||{},k=_.label,C=_.init,M=(M=(m=_.listener)?[m]:_.listeners)||[function(){}],T=_.cls||"",S=(T=(T=s&&"button"==y?o.btn+" "+T:T)?"class='"+T+"'":"",_.style),A=S?"style='"+S+"'":"",E=_.attr||"",P=k?"<label "+A+">"+k:"",I=k?"</label>":"",O=(O=k&&"button"!=y&&"file"!=y?[T,E]:[T,E,A]).join(" ");if(_.options=w,"textbox"==y)g=t([P,"<input type='text' "+O+">",I].join(""));else if("textarea"==y)g=t([P,"<textarea "+O+"></textarea>",I].join(""));else if("select"==y)"function"==typeof w&&(w=w.call(r,{colModel:l})),p=e.select({options:w=w||[],attr:O,prepend:_.prepend,groupIndx:_.groupIndx,valueIndx:_.valueIndx,labelIndx:_.labelIndx}),g=t([P,p,I].join(""));else if("file"==y)T=x&&k?"ui-button-text-icon-primary":x?"ui-button-icon-only":"ui-button-text-only",g=t([_a(110)+T+"' "+E+" "+A+">",_a(111)+(_.attrFile||"")+">",x?_a(112)+x+"'></span>":"",_a(113)+(k||"")+"</span>","</label>"].join(""));else if("checkbox"==y)g=t([k?"<label "+A+">":"",_a(0),b?"checked='checked' ":"",O,">",k?k+"</label>":""].join(""));else if("separator"==y)g=t(_a(114)+[E,A].join(" ")+"></span>");else if("button"==y){var R="";s&&(R=x?_a(115)+x+"'></span>":""),g=t(_a(116)+O+">"+R+k+"</button>"),t.extend(w,{label:k||!1,icon:x,icons:{primary:s?"":x}}),g.button(w)}else"string"==typeof y?g=t(y):"function"==typeof y&&(p=y.call(r,{colModel:l,cls:T}),g=t(p));g.appendTo(h),C&&C.call(r,g[0]),v=this.getInner(g,k,y),"checkbox"!==y&&void 0!==b&&v.val(b);for(var L=0,D=M.length;D>L;L++){m=M[L];var N={};for(n in"function"==typeof m?N[a[y]]=m:N=m,N)pq.fakeEvent(v,n,u),v.on(n,this._onEvent(r,N[n],_))}}}}),t.extend(e.pqToolbar.prototype,{getInner:function(e,n,i){var r=e[0];return"LABEL"==r.nodeName[_b(36)]()?t(r.children[0]):e},refresh:function(){this.element.empty(),this._create()},_onEvent:function(e,n,i){return function(r){var a=i.type;i.value="checkbox"==a?t(r.target).prop("checked"):t(r.target).val(),n.call(e,r),"file"==a&&t(this).val("")}},_destroy:function(){this.element.empty()[_b(68)]("pq-toolbar")[_b(80)]()},_disable:function(){null==this.$disable&&(this.$disable=t(_a(48)).css("opacity",.2).appendTo(this.element))},_enable:function(){this.$disable&&(this.element[0][_b(118)](this.$disable[0]),this.$disable=null)},_setOption:function(t,e){"disabled"==t&&(1==e?this._disable():this._enable())}}),pq.toolbar=function(e,n){var i=t(e).pqToolbar(n);return i.data("paramqueryPqToolbar")||i.data("paramquery-pqToolbar")}}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype;n.options.trackModel={on:!1,dirtyClass:"pq-cell-dirty"},e.cUCData=function(t){this.that=t,this.udata=[],this.ddata=[],this.adata=[],this.options=t.options,t.on("dataAvailable",this.onDA(this))},e.cUCData.prototype={add:function(t){for(var e=this.that,n=this.adata,i=this.ddata,r=t.rowData,a=this.options.trackModel.dirtyClass,o=e.getRecId({rowData:r}),s=0,l=n.length;l>s;s++){var u=n[s];if(null!=o&&u.recId==o)throw _a(117);if(u.rowData==r)throw _a(118)}for(s=0,l=i.length;l>s;s++)if(r==i[s].rowData)return void i.splice(s,1);var c=[];for(var h in r)c.push(h);e[_b(68)]({rowData:r,dataIndx:c,cls:a}),n.push(t={recId:o,rowData:r})},commit:function(t){var e=this.that;if(null==t)this[_b(351)](),this[_b(352)](),this[_b(353)]();else{var n=t.history,i=[],r=e.options.dataModel.recIndx,a=t.type,o=t.rows;n=null!=n&&n,"add"==a?o?i=this.commitAdd(o,r):this[_b(351)]():"update"==a?o?this[_b(354)](o,r):this[_b(352)]():"delete"==a&&(o?this[_b(355)](o,r):this[_b(353)]()),i.length&&(e[_b(179)]({source:"commit",checkEditable:!1,track:!1,history:n,updateList:i}),e[_b(16)]({header:!1}))}},commitAdd:function(e,n){var i,r,a,o,s,l,u=this.that,c=u.colModel,h=c.length,d=this.adata,f=t.inArray,p=d.length,g=u[_b(60)],v=[],m=e.length,_=[];for(r=0;m>r;r++)for(s=e[r],i=0;p>i;i++)if(l=!0,-1==f(o=d[i].rowData,_)){for(a=0;h>a;a++){var y=c[a],b=y.dataType,x=y.dataIndx;if(!y.hidden&&x!=n&&g(o[x],b)!==g(s[x],b)){l=!1;break}}if(l){var w={},k={};w[n]=s[n],k[n]=o[n],v.push({rowData:o,oldRow:k,newRow:w}),_.push(o);break}}var C=[];for(i=0;p>i;i++)-1==f(o=d[i].rowData,_)&&C.push(d[i]);return this.adata=C,v},commitDelete:function(t,e){for(var n,i,r,a,o=this.ddata,s=o.length,l=this.udata;s--&&(i=(n=o[s].rowData)[e],r=t.length);)for(;r--;)if(i==t[r][e]){for(t.splice(r,1),o.splice(s,1),a=l.length;a--;)l[a].rowData==n&&l.splice(a,1);break}},commitUpdate:function(e,n){var i,r,a=this.that,o=this.options.trackModel.dirtyClass,s=this.udata,l=s.length,u=e.length,c=[];for(i=0;l>i;i++){var h=s[i],d=h.rowData,f=h.oldRow;if(-1==t.inArray(d,c))for(r=0;u>r;r++)if(d[n]==e[r][n])for(var p in c.push(d),f)a[_b(68)]({rowData:d,dataIndx:p,cls:o})}var g=[];for(i=0;l>i;i++)-1==t.inArray(d=s[i].rowData,c)&&g.push(s[i]);this.udata=g},commitAddAll:function(){this.adata=[]},commitDeleteAll:function(){for(var t,e=this.ddata,n=this.udata,i=n.length,r=e.length,a=0;i>0&&r>a;a++){for(t=e[a].rowData;i--;)n[i].rowData==t&&n.splice(i,1);i=n.length}e.length=0},commitUpdateAll:function(){for(var t=this.that,e=this.options.trackModel.dirtyClass,n=this.udata,i=0,r=n.length;r>i;i++){var a=n[i],o=a.oldRow,s=a.rowData;for(var l in o)t[_b(68)]({rowData:s,dataIndx:l,cls:e})}this.udata=[]},delete:function(t){for(var e=this.that,n=t.rowIndx,i=t[_b(71)],r=e.riOffset,a=(n=null==n?i+r:n,i=null==i?n-r:i,"remote"==e.options.pageModel.type?i:n),o=this.adata,s=this.ddata,l=e.getRowData(t),u=0,c=o.length;c>u;u++)if(o[u].rowData==l)return void o.splice(u,1);s.push({indx:a,rowData:l,rowIndx:n})},getChangesValue:function(e){for(var n=this.that,i=(e=e||{}).all,r=this.udata,a=this.adata,o=this.ddata,s=[],l=[],u=[],c=[],h=[],d=[],f=0,p=o.length;p>f;f++){var g=(y=o[f]).rowData,v={};for(var m in h.push(g),g)0!=m.indexOf("pq_")&&(v[m]=g[m]);d.push(v)}for(f=0,p=r.length;p>f;f++){var _=(y=r[f]).oldRow;if(-1==t.inArray(g=y.rowData,h)&&-1==t.inArray(g,s)){if(v={},!1!==i)for(var m in g)0!=m.indexOf("pq_")&&(v[m]=g[m]);else{for(var m in _)v[m]=g[m];v[n.options.dataModel.recIndx]=y.recId}s.push(g),l.push(v),u.push(_)}}for(f=0,p=a.length;p>f;f++){var y;for(var m in v={},g=(y=a[f]).rowData)0!=m.indexOf("pq_")&&(v[m]=g[m]);c.push(v)}return{updateList:l,addList:c,deleteList:d,oldList:u}},getChanges:function(){for(var e=this.udata,n=this.adata,i=this.ddata,r=t.inArray,a=[],o=[],s=[],l=[],u=0,c=i.length;c>u;u++)l.push(f=(d=i[u]).rowData);for(u=0,c=e.length;c>u;u++){var h=(d=e[u]).oldRow;-1==r(f=d.rowData,l)&&-1==r(f,a)&&(a.push(f),o.push(h))}for(u=0,c=n.length;c>u;u++){var d,f;s.push(f=(d=n[u]).rowData)}return{updateList:a,addList:s,deleteList:l,oldList:o}},getChangesRaw:function(){var t=this.adata,e=this.ddata,n={updateList:[],addList:[],deleteList:[]};return n.updateList=this.udata,n.addList=t,n.deleteList=e,n},isDirty:function(t){var e=this.udata,n=this.adata,i=this.ddata,r=!1,a=this.that.getRowData(t);if(a){for(var o=0;o<e.length;o++)if(a==e[o].rowData){r=!0;break}}else(e.length||n.length||i.length)&&(r=!0);return r},onDA:function(t){return function(e,n){"filter"!=n.source&&(t.udata=[],t.ddata=[],t.adata=[])}},rollbackAdd:function(t,e){for(var n=this.adata,i=[],r=0,a=n.length;a>r;r++)i.push({type:"delete",rowData:n[r].rowData});return this.adata=[],i},rollbackDelete:function(t,e){for(var n=this.ddata,i=[],r=n.length-1;r>=0;r--){var a=n[r];i.push({type:"add",rowIndx:a.rowIndx,newRow:a.rowData})}return this.ddata=[],i},rollbackUpdate:function(t,e){for(var n=this.that,i=this.options.trackModel.dirtyClass,r=this.udata,a=[],o=0,s=r.length;s>o;o++){var l=r[o],u=l.rowData,c={},h=l.oldRow;if(null!=l.recId){var d=[];for(var f in h)c[f]=u[f],d.push(f);n[_b(68)]({rowData:u,dataIndx:d,cls:i,refresh:!1}),a.push({type:"update",rowData:u,newRow:h,oldRow:c})}}return this.udata=[],a},rollback:function(t){var e=this.that,n=e.options.pageModel,i=!t||null==t.refresh||t.refresh,r=t&&null!=t.type?t.type:null,a=[],o=[],s=[],l=e.options.dataModel.data;null!=r&&"update"!=r||(o=this[_b(356)](n,l)),null!=r&&"delete"!=r||(a=this[_b(357)](n,l)),null!=r&&"add"!=r||(s=this[_b(358)](n,l)),e[_b(179)]({history:!1,allowInvalid:!0,checkEditable:!1,source:"rollback",track:!1,addList:a,updateList:o,deleteList:s}),i&&e[_b(16)]({header:!1})},update:function(e){var n=this.that,i=this.options.trackModel.dirtyClass,r=e.rowData||n.getRowData(e),a=n.getRecId({rowData:r}),o=e.dataIndx,s=e.refresh,l=n.columns,u=n[_b(60)],c=e.row,h=this.udata,d=h.slice(0),f=!1;if(null!=a){for(var p=0,g=h.length;g>p;p++){var v=h[p],m=v.oldRow;if(v.rowData==r){for(var o in f=!0,c){var _=l[o].dataType,y=u(y=c[o],_),b=u(b=m[o],_);if(m.hasOwnProperty(o)&&b===y){var x={rowData:r,dataIndx:o,refresh:s,cls:i};n[_b(68)](x),delete m[o]}else n.addClass(x={rowData:r,dataIndx:o,refresh:s,cls:i}),m.hasOwnProperty(o)||(m[o]=r[o])}t[_b(210)](m)&&d.splice(p,1);break}}if(!f){for(var o in m={},c)m[o]=r[o],n.addClass(x={rowData:r,dataIndx:o,refresh:s,cls:i});d.push(x={rowData:r,recId:a,oldRow:m})}this.udata=d}}},n.getChanges=function(t){if(this.blurEditor({force:!0}),t){var e=t.format;if(e){if("byVal"==e)return this.iUCData[_b(359)](t);if("raw"==e)return this.iUCData[_b(360)]()}}return this.iUCData.getChanges()},n.rollback=function(t){this.blurEditor({force:!0}),this.iUCData.rollback(t)},n.isDirty=function(t){return this.iUCData.isDirty(t)},n.commit=function(t){this.iUCData.commit(t)},n.updateRow=function(t){var e,n=this,i=t.rowList||[{rowIndx:t.rowIndx,newRow:t.newRow||t.row,rowData:t.rowData,rowIndxPage:t[_b(71)]}],r=[];if(n[_b(211)](i).forEach(function(t){var e,n=t.newRow,i=t.rowData,a=t.oldRow={};if(i){for(e in n)a[e]=i[e];r.push(t)}}),r.length){var a,o,s,l={source:t.source||"update",history:t.history,checkEditable:t[_b(66)],track:t.track,allowInvalid:t[_b(63)],updateList:r};if(!1===n[_b(179)](l))return!1;!1!==t.refresh&&((e=(r=l.updateList).length)>1?n.refresh({header:!1}):1==e&&(a=r[0],o=Object.keys(a.newRow),s=a.rowIndx,o.length<=3?o.forEach(function(t){n[_b(168)]({rowIndx:s,dataIndx:t})}):n.refreshRow({rowIndx:s})))}},n.getRecId=function(t){t.dataIndx=this.options.dataModel.recIndx;var e=this[_b(361)](t);return null==e?null:e},n[_b(361)]=function(t){var e=t.rowData||this.getRowData(t);return e?e[t.dataIndx]:null},n.getRowData=function(t){if(!t)return null;var e,n=t.rowData;if(null!=n)return n;if(null==(e=t.recId)){var i=null!=(i=t.rowIndx)?i:t[_b(71)]+this.riOffset;return this.get_p_data()[i]}for(var r=this.options.dataModel,a=r.recIndx,o=r.data,s=0,l=o.length;l>s;s++){var u;if((u=o[s])[a]==e)return u}return null},n.addNodes=function(t,e){e=null==e?this.options.dataModel.data.length:e,this[_b(179)]({addList:t.map(function(t){return{rowIndx:e++,newRow:t}}),source:"addNodes"}),this[_b(16)]()},n[_b(362)]=function(t){this[_b(179)]({deleteList:t.map(function(t){return{rowData:t}}),source:"deleteNodes"}),this[_b(16)]()},n.moveNodes=function(t,e){var n=this,i=n.options,r=n.riOffset,a=i.dataModel.data;e=null==e?a.length:e,n._trigger("beforeMoveNode"),t.forEach(function(t){e=pq.moveItem(t,a,a.indexOf(t),e)}),a!=n.pdata&&(n.pdata=a.slice(r,i.pageModel.rPP+r)),n.iRefresh.addRowIndx(),n.iMerge.init(),n._trigger("moveNode",null,{args:arguments}),n.refresh()},n.deleteRow=function(t){var e=this[_b(211)](t.rowList||[{rowIndx:t.rowIndx,rowIndxPage:t[_b(71)],rowData:t.rowData}]);return!!e.length&&(this[_b(179)]({source:t.source||"delete",history:t.history,track:t.track,deleteList:e}),void(!1!==t.refresh&&this[_b(16)]({header:!1})))},n.addRow=function(t){var e,n,i=this.riOffset,r=this.options.dataModel,a=r.data=r.data||[];return t.rowData&&(t.newRow=t.rowData),null!=t[_b(71)]&&(t.rowIndx=t[_b(71)]+i),!(!(n=t.rowList||[{rowIndx:t.rowIndx,newRow:t.newRow}]).length||!1===this[_b(179)]({source:t.source||"add",history:t.history,track:t.track,checkEditable:t[_b(66)],addList:n}))&&(!1!==t.refresh&&this[_b(16)]({header:!1}),null==(e=n[0].rowIndx)?a.length-1:e)}}(jQuery),window[_b(363)]=window[_b(363)]||window[_b(364)]||window[_b(365)]||function(t){return setTimeout(t,10)},window[_b(366)]=window[_b(366)]||window[_b(367)]||window[_b(368)]||function(t){clearTimeout(t)},function(t){function e(t){var e=this;e.that=t,t.on("mousePQUp",e[_b(369)].bind(e)).on("cellClick",e[_b(370)].bind(e)).on("cellMouseDown",e[_b(371)].bind(e)).on("cellMouseEnter",e[_b(372)].bind(e)).on("refresh refreshRow",e.onRefresh.bind(e))}var n=t.paramquery;n[_b(305)]=e,e.prototype=t.extend({onCellMouseDown:function(t,e){if(!t[_b(32)]()){var n=this.that,i=e.rowIndx,r=n.iSelection,a=e.colIndx,o=n.options[_b(100)],s=o.type,l=o.mode,u=r[_b(347)]();if("cell"==s){if(null==a)return;if(-1==a){if(!o.row)return;a=void 0}if(t.shiftKey&&"single"!==l&&u){var c=u.firstR,h=u.firstC;r[_b(230)]({r1:c,c1:null==a?void 0:h,r2:i,c2:a,firstR:c,firstC:h})}else pq.isCtrl(t)&&"single"!==l?(this.mousedown={r1:i,c1:a},r.add(null==a?{r1:i,firstR:i,firstC:n[_b(172)]()}:{r1:i,c1:a,firstR:i,firstC:a})):(this.mousedown={r1:i,c1:a},r.clearOther({r1:i,c1:a},!0),null==a?r[_b(230)]({r1:i,firstR:i,firstC:n[_b(172)]()}):r[_b(230)]({r1:i,c1:a,firstR:i,firstC:a}))}n[-1==e.colIndx?"focusT":"focus"](e)}},onCellMouseEnter:function(t,e){var n=this.that,i=n.options[_b(100)],r=this.mousedown;if(r&&"single"!==i.mode){if("cell"===i.type){var a=r.r1,o=r.c1,s=e.rowIndx,l=e.colIndx,u=n.Selection();n.scrollCell({rowIndx:s,colIndx:l}),u[_b(230)]({r1:a,c1:o,r2:s,c2:l})}n.focusT(e)}},onCellClick:function(t,e){var n,i=this.that,r=i.options[_b(100)],a="single"==r.mode,o=r.toggle,s=i.iRows;if("row"==r.type){if(!r.row&&-1==e.colIndx)return;n=s.isSelected(e),a&&!n||o||!pq.isCtrl(t)?!a&&t.shiftKey?s.extend(e):!a||n&&o?(e.isFirst=!0,s[o?"toggle":"replace"](e)):n||s.replace(e):(e.isFirst=!0,s.toggle(e))}},onMousePQUp:function(){this.mousedown=null},onRefresh:function(){var t=this.that;this.setTimer(function(){t.element&&t.focus()},300)}},new n.cClass)}(jQuery),function(t){var e=null,n=!1,i="pq-grid-excel",r=t.paramquery,a=r.pqGrid.prototype;t.extend(a.options,{copyModel:{on:!0,render:!1,zIndex:1e4},cutModel:{on:!0},pasteModel:{on:!0,compare:"byVal",select:!0,validate:!0,allowInvalid:!0,type:"replace"}}),t.extend(a,{_setGlobalStr:function(t){o.clip=t},canPaste:function(){return!!r.cExcel.clip},clearPaste:function(){r.cExcel.clip=""},copy:function(t){return this.iSelection.copy(t)},cut:function(t){return this.iSelection.cut(t)},paste:function(t){(e=new o(this)).paste(t),e=null},clear:function(){var t=this.iSelection;t.address().length?t.clear():this.iRows.toRange().clear()}});var o=r.cExcel=function(t){this.that=t};o.clip="",o.prototype={createClipBoard:function(){var e=this.that,n=t("#pq-grid-excel-div"),r=e.options.copyModel,a=t("#"+i);0==a.length&&(n=t(_a(119)+r.zIndex+";'/>").appendTo(document.body),(a=t("<textarea id='"+i+_a(120)).appendTo(n)).css({opacity:0}).on("keyup",function(t){pq.isCtrl(t)&&e.element&&e._trigger("keyUp",t)})),a.on("focusin",function(t){t[_b(29)]()}),a.select()},destroyClipBoard:function(){this[_b(373)]();var e=this.that,n=t(window).scrollTop(),i=t(window).scrollLeft();e.focus();var r=t(window).scrollTop(),a=t(window).scrollLeft();n==r&&i==a||window.scrollTo(i,n)},clearClipBoard:function(){t("#"+i).val("")},copy:function(t){var e=this.that,n=e.iSelection;return n.address().length?n.copy(t):void e.iRows.toRange().copy(t)},getRows:function(t){return(t=(t=t.replace(/\n$/,"")).replace(/(^|\t|\n)"(?=[^\t]*?[\r\n])([^"]|"")*"(?=$|\t|\n)/g,function(t){return t.replace(/(?!^(\r\n|\n))(\r\n|\n)/g,"\r").replace(/^(\t|\n)?"/,"$1").replace(/"$/,"").replace(/""/g,'"')})).split("\n")},paste:function(e){var n=this.that,i=(e=e||{}).dest,r=e.clip,a=e.text||(r?r.length?r.val():"":o.clip),s=this.getRows(a),l=s.length,u=n.colModel,c=n.readCell,h=n.options.pasteModel,d="row",f=!1,p=u.length;if(h.on&&0!=a.length&&0!=l){for(var g=0;l>g;g++)s[g]=s[g].split("\t");var v,m,_,y,b,x,w=h.type,k=(i?n.Range(i):n.Selection()).address(),C=(k.length?k:n.iRows.toRange().address())[0],M={rows:s,areas:[C]};if(!1===n._trigger("beforePaste",null,M))return!1;C&&n.getRowData({rowIndx:C.r1})?(d="row"==C.type?"row":"cell",v=C.r1,_=C.r2,m=C.c1,y=C.c2):(d="cell",v=0,_=0,m=0,y=0),"replace"==w?(b=v,x=l>_-v+1?"extend":"repeat"):"append"==w?(b=_+1,x="extend"):"prepend"==w&&(b=v,x="extend");var T,S,A,E="extend"==x?l:_-v+1,P=0,I=0,O=[],R=[],L=0;for(g=0;E>g;g++){var D=s[P],N=g+b,Z="replace"==w?n.getRowData({rowIndx:N}):null,F=Z?{}:null,U={};if(void 0===D&&"repeat"===x&&(D=s[P=0]),Z&&!1===Z.pq_paste)E++,I++;else{P++;var B=D,z=B.length;if(!S)if("cell"==d){if(S="extend"==(T=z>y-m+1?"extend":"repeat")?z:y-m+1,isNaN(S))throw _a(121);S+m>p&&(S=p-m)}else S=p,m=0;var q=0,H=0,G=0;for(A=S,H=0;A>H;H++){q>=z&&(q=0);var V=u[H+m],W=B[q],j=V.dataIndx;!1!==V.paste?(q++,U[j]=W,F&&(F[j]=c(Z,V))):(G++,"extend"==T&&p>A+m&&A++)}0==t[_b(210)](U)&&(null==Z?(f=!0,O.push({newRow:U,rowIndx:N})):R.push({newRow:U,rowIndx:N,rowData:Z,oldRow:F}),L++)}}var Y={addList:O,updateList:R,source:"paste",allowInvalid:h[_b(63)],validate:h.validate};n[_b(179)](Y),n[f?"refreshView":"refresh"]({header:!1}),h.select&&n.Range({r1:b,c1:m,r2:b+L-1+I,c2:"extend"==T?m+S-1+G:y}).select(),n._trigger("paste",null,M)}}},t(document).unbind(".pqExcel").bind("keydown.pqExcel",function(r){if(pq.isCtrl(r)){var a=t(r.target);if(!a.hasClass("pq-grid-cell")&&!a.is("#"+i)&&!a.hasClass("pq-body-outer"))return;var l,u=a.closest(".pq-grid");if(e||a.length&&u.length){if(!e){try{if((l=u.pqGrid("instance")).options[_b(100)].native)return!0}catch(f){return!0}(e=new o(l,a))[_b(374)]()}if("67"==r.keyCode||"99"==r.keyCode)e.copy({clip:t("#"+i)});else if("88"==r.keyCode)e.copy({cut:!0,clip:t("#"+i)});else if("86"==r.keyCode||"118"==r.keyCode)n=!0,e[_b(373)](),window.setTimeout(function(){e&&(e.paste({clip:t("#"+i)}),e[_b(375)](),e=null),n=!1},3);else{var c=t("#"+i);c.length&&document[_b(65)]==c[0]&&e.that[_b(120)](r)}}}else{var h=r.keyCode,d=t.ui.keyCode;if(h==d.UP||h==d.DOWN||h==d.LEFT||h==d.RIGHT||h==d.PAGE_UP||h==d.PAGE_DOWN){if(s)return!1;((a=t(r.target)).hasClass("pq-grid-row")||a.hasClass("pq-grid-cell"))&&(s=!0)}}}).bind("keyup.pqExcel",function(i){var r=i.keyCode;if(n||!e||pq.isCtrl(i)||-1==t.inArray(r,[17,91,93,224])||(e[_b(375)](),e=null),s){var a=t(i.target);a.hasClass("pq-grid-row")||a.hasClass("pq-grid-cell")||(s=!1)}});var s=!1}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype.options;n[_b(180)]=n[_b(180)]||{on:!0,checkEditable:!0,checkEditableAdd:!1,allowInvalid:!0},(e.cHistory=function(t){var e=this;e.that=t,e.options=t.options,e.records=[],e.counter=0,e.id=0,t.on("keyDown",e.onKeyDown.bind(e)).on("dataAvailable",function(t,n){"filter"!=n.source&&e.reset()})}).prototype={onKeyDown:function(t,e){var n=pq.isCtrl(t);return n&&"90"==t.keyCode?(this.undo(),!1):n&&"89"==t.keyCode?(this.redo(),!1):void 0},resetUndo:function(){if(0==this.counter)return!1;this.counter=0,this.that._trigger("history",null,{type:"resetUndo",num_undo:0,num_redo:this.records.length-this.counter,canUndo:!1,canRedo:!0})},reset:function(){return(0!=this.counter||0!=this.records.length)&&(this.records=[],this.counter=0,this.id=0,void this.that._trigger("history",null,{num_undo:0,num_redo:0,type:"reset",canUndo:!1,canRedo:!1}))},increment:function(){var t=this.records,e=t.length;this.id=e?t[e-1].id+1:0},push:function(e){var n,i,r=this.canRedo(),a=this.records,o=this.counter;a.length>o&&a.splice(o,a.length-o),a[o]=t.extend({id:this.id},e),this.counter++,1==this.counter&&(n=!0),r&&this.counter==a.length&&(i=!1),this.that._trigger("history",null,{type:"add",canUndo:n,canRedo:i,num_undo:this.counter,num_redo:0})},canUndo:function(){return this.counter>0},canRedo:function(){return this.counter<this.records.length},undo:function(){var t=this.canRedo(),e=this.that,n=this.options[_b(180)],i=this.records;if(!(this.counter>0))return!1;this.counter--;var r,a,o,s,l,u=i[this.counter],c=u.callback;return c?c():(o=u.updateList.map(function(t){return{rowIndx:e.getRowIndx({rowData:t.rowData}).rowIndx,rowData:t.rowData,oldRow:t.newRow,newRow:t.oldRow}}),l=u.addList.map(function(t){return{rowData:t.newRow}}),s=u.deleteList.map(function(t){return{newRow:t.rowData,rowIndx:t.rowIndx}}),e[_b(179)]({history:!1,source:"undo",checkEditable:n[_b(66)],checkEditableAdd:n[_b(181)],allowInvalid:n[_b(63)],addList:s,updateList:o,deleteList:l}),e[s.length||l.length?"refreshView":"refresh"]({source:"undo",header:!1})),!1===t&&(r=!0),0==this.counter&&(a=!1),e._trigger("history",null,{canUndo:a,canRedo:r,type:"undo",num_undo:this.counter,num_redo:this.records.length-this.counter}),!0},redo:function(){var t=this.canUndo(),e=this.that,n=this.options[_b(180)],i=this.counter,r=this.records;if(i==r.length)return!1;var a,o,s,l,u,c=r[i],h=c.callback;return h?h(!0):(a=c.updateList.map(function(t){return{rowIndx:e.getRowIndx({rowData:t.rowData}).rowIndx,rowData:t.rowData,newRow:t.newRow,oldRow:t.oldRow}}),s=c.deleteList.map(function(t){return{rowData:t.rowData}}),o=c.addList.map(function(t){return{newRow:t.newRow,rowIndx:t.rowIndx}}),e[_b(179)]({history:!1,source:"redo",checkEditable:n[_b(66)],checkEditableAdd:n[_b(181)],allowInvalid:n[_b(63)],addList:o,updateList:a,deleteList:s}),e[o.length||s.length?"refreshView":"refresh"]({source:"redo",header:!1})),this.counter<r.length&&this.counter++,0==t&&(l=!0),this.counter==this.records.length&&(u=!1),e._trigger("history",null,{canUndo:l,canRedo:u,type:"redo",num_undo:this.counter,num_redo:this.records.length-this.counter}),!0}};var i=e.pqGrid.prototype;i.history=function(t){return this.iHistory[t.method](t)},i.History=function(){return this.iHistory}}(jQuery),function(t){var e=t.paramquery;pq.filter={dpBeforeShow:function(e,n,i){return function(){var r,a,o=e[_b(319)](n);o.length&&(r=""==o[0][n]?o[1][n]:o[0][n],a=o[o.length-1][n]),t(this).datepicker("option","defaultDate",new Date(1==i?a:r))}},datepicker:function(e){var n=e.column,i=n.dataIndx,r=this,a=e.filterUI,o={dateFormat:a.format||n.format,changeYear:!0,changeMonth:!0};return"date"==n.dataType?(e.$editor.each(function(e,n){var s=t.extend({},o,1==e&&a.dpOptions2||a.dpOptions);s[_b(376)]||(s.beforeShow=s.beforeShow||pq.filter[_b(377)](r,i,e)),t(n).datepicker(s)}),!0):void 0},filterFnEq:function(e,n){var i=(e.column||{}).dataType;return"date"==i?this.filterFnTD(e,n):"bool"==i?{type:"checkbox"}:t.extend({maxCheck:1},this[_b(378)](e,n))},filterFnSelect:function(t,e){var n=t.column.dataIndx,i=t.indx;return{type:"select",style:"padding-"+(e&&e.options.rtl?"left":"right")+_a(122),attr:"readonly",valueIndx:n,labelIndx:n,options:this.options,init:0==i?this.rangeInit.bind(e):function(){}}},filterFnT:function(){return{type:"textbox",attr:"autocomplete='off'"}},filterFnTD:function(){return{type:"textbox",attr:"autocomplete='off'",init:pq.filter.datepicker}},getVal:function(t){var e=(t.crules||[])[0]||{};return[e.value,e.value2,e.condition]},setVal:function(t,e){var n=t.crules=t.crules||[];return n[0]=n[0]||{},n[0].value=e,e}},t.extend(pq.filter,{conditions:{begin:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},between:{stringList:1,date:1,number:1,filter:{attr:"autocomplete='off'",type:"textbox2",init:pq.filter.datepicker}},contain:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},equal:{string:1,bool:1,date:1,number:1,filterFn:pq.filter.filterFnEq},empty:{string:1,bool:1,date:1,number:1,nr:1},end:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},great:{stringList:1,number:1,date:1,filterFn:pq.filter.filterFnTD},gte:{stringList:1,number:1,date:1,filterFn:pq.filter.filterFnTD},less:{stringList:1,number:1,date:1,filterFn:pq.filter.filterFnTD},lte:{stringList:1,number:1,date:1,filterFn:pq.filter.filterFnTD},notbegin:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},notcontain:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},notequal:{string:1,date:1,number:1,bool:1,filterFn:pq.filter.filterFnEq},notempty:{string:1,bool:1,date:1,number:1,nr:1},notend:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT},range:{cascade:1,string:1,number:1,date:1,bool:1,filterFn:pq.filter[_b(378)]},regexp:{string:1,numberList:1,dateList:1,filterFn:pq.filter.filterFnT}},getConditionsCol:function(t,e){var n,i=e[_b(379)]||((n=this[_b(380)](pq[_b(41)](t))).sort(),n),r=e[_b(381)],a={};return r&&(r.forEach(function(t){a[t]=1}),i=i.filter(function(t){return!a[t]})),i},getConditionsDT:function(t){var e,n,i,r=[],a=this.conditions;for(e in a)i=(n=a[e])[t+"List"],(n[t]&&0!==i||i)&&r.push(e);return r},getFilterUI:function(e,n){var i=e.column,r=i.filterFn,a=(0===e.indx?i.filter:{})||{},o=this.conditions[e.condition]||{},s=o.filterFn,l=o.filter||{};delete a.type,r=r&&r.call(n,e)||{},s=s&&s.call(this,e,n)||{};var u=t.extend({},l,s,a,r);return u.condition=e.condition,u.init=[],u.options=[],[r,a,s,l].forEach(function(t){t.init&&u.init.push(t.init),t.options&&u.options.push(t.options)}),u},options:function(t){var e=t.filterUI,n=e.groupIndx,i=t.column.dataIndx;return this[_b(319)](i,n,e.diExtra)},getOptions:function(t,e,n){for(var i,r,a=e.options,o=t.dataIndx,s={column:t,dataIndx:o,filterUI:e,condition:e.condition},l=0,u=a.length;u>l;l++)if((i=a[l])&&(r="function"==typeof i?i.call(n,s):i))return r=n[_b(318)](r,o),n[_b(320)](r,e.dataIndx||o,e.groupIndx);return[]},rangeInit:function(e){var n=this,i=e.column,r=e.$editor,a=e.filterUI;e.headMenu||r.parent().off("click keydown").on("click keydown",function(o){if("keydown"!=o.type||o.keyCode==t.ui.keyCode.DOWN){var s=n.uuid+"_"+i.dataIndx;if(!t("#"+s).length){var l=new(pq[_b(382)].select)(n,i),u=t("<div id='"+s+_a(123)).appendTo(document.body),c=u.children();pq.makePopup(u[0],r),u.position({my:"left top",at:"left bottom",of:e.$editor}),l.create(c,a)}}})},getType:function(t,e){var n=this.conditions[t]||{},i=n.filterFn;return(n.filter||{}).type||(i?i.call(this,{condition:t,column:e}):{}).type}});var n=function(t){var e=this;e.that=t,t.on("load",e.onLoad.bind(e)).on("filter clearFilter",e[_b(383)].bind(e))};e[_b(302)]=n;var i=n.conditions={equal:function(t,e){return t==e},notequal:function(){return!i.equal.apply(this,arguments)},contain:function(t,e){return-1!=(t+"").indexOf(e)},notcontain:function(){return!i.contain.apply(this,arguments)},empty:function(t){return 0==t.length},notempty:function(){return!i.empty.apply(this,arguments)},begin:function(t,e){return 0==(t+"").indexOf(e)},notbegin:function(){return!i.begin.apply(this,arguments)},end:function(t,e){e+="";var n=(t+="")[_b(384)](e);return-1!=n&&n+e.length==t.length||void 0},notend:function(){return!i.end.apply(this,arguments)},regexp:function(t,e){return e.test(t)?(e.lastIndex=0,!0):void 0},great:function(t,e){return t>e},gte:function(t,e){return t>=e},between:function(t,e,n){return t>=e&&n>=t},range:function(e,n){return-1!=t.inArray(e,n)},less:function(t,e){return e>t},lte:function(t,e){return e>=t}};n.convert=function(t,e){return null==t||""===t?"":("string"==e?t=(t+"").trim()[_b(36)]():"date"==e?t=Date.parse(t):"number"==e?1*t==t&&(t*=1):"bool"==e&&(t=String(t)[_b(49)]()),t)},n.convertEx=function(t,e,n,i){var r=pq[_b(41)]({dataType:e}),a=pq.filter.conditions[n];return a[r]?this.convert(t,r):a.string?(i&&(t=pq.format(i,t)),"regexp"==n?t:this.convert(t,"string")):a.number?this.convert(t,"number"):void 0},n.prototype={addMissingConditions:function(t){var e=this.that;t.forEach(function(t){var n=e.getColumn({dataIndx:t.dataIndx}).filter||{};t.condition=void 0===t.condition?pq.filter.getVal(n)[2]:t.condition})},clearFilters:function(t){t.forEach(function(t){var e=t.filter,n=pq.filter.conditions;e&&(e.crules||[]).forEach(function(t){(n[t.condition]||{}).nr&&(t.condition=void 0),t.value=t.value2=void 0})})},compatibilityCheck:function(t){var e,n=t.data,i=_a(124);if(n)if(e=n[0]){if(e.hasOwnProperty("dataIndx")&&e.hasOwnProperty("value"))throw i}else if(!t.rules)throw i},copyRuleToColumn:function(t,e,n){var i=e.filter=e.filter||{},r=t.crules||[],a=r[0],o=a?a.condition:t.condition,s=a?a.value:t.value,l=a?a.value2:t.value2;"remove"==n?(i.on=!1,i.crules=o?[{condition:o,value:"range"==o?[]:void 0}]:void 0):(i.on=!0,i.mode=t.mode,i.crules=a?r:[{condition:o,value:s,value2:l}])},filter:function(t){t=t||{},this[_b(385)](t);var e,n,i=this.that,r=i.options,a=!1,o=t.data,s=t.rules=t.rules||(t.rule?[t.rule]:[]),l=!o,u=r.dataModel,c=r[_b(154)],h=t.mode||c.mode,d=t.oper,f="replace"==d,p=l?i.colModel:this[_b(386)](s),g=0,v=s.length;if("remove"!=d&&this[_b(387)](s),l){if(!1===i._trigger("beforeFilter",null,t))return;for(null!=t.header&&(a=t.header),f&&this[_b(323)](p);v>g;g++)n=i.getColumn({dataIndx:(e=s[g]).dataIndx}),this[_b(388)](e,n,d)}else for(;v>g;g++)e=s[g],n=p[g],this[_b(388)](e,n);var m={header:a,CM:p,data:o,rules:s,mode:h};return"remote"!=u.location||"local"==c.type?(m.source="filter",m.trigger=!1,i[_b(145)](m)):void i[_b(144)]({apply:l,CM:p,callback:function(){return i[_b(145)](m)}})},hideRows:function(t,e,n){for(var i,r=0,a=e.length;a>r;r++)(i=e[r]).pq_hidden=i.pq_filter=!this.isMatchRow(i,t,n)},filterLocalData:function(t){var e,n=this,i=n.that,r=(t=t||{}).data,a=!r,o=a?i.colModel:t.CM,s=n[_b(389)]({CM:o,apply:a}),l=i.options,u=l.dataModel,c=i.iSort,h=r||u.data,d=u.dataUF=u.dataUF||[],f=[],p=[],g=l[_b(154)],v={filters:s,mode:m,data:h},m=t.mode||g.mode;if(g.hideRows)v.hideRows=!0,!1!==i._trigger("customFilter",null,v)&&n.hideRows(s,h,m);else{if(a)if(d.length){e=!0;for(var _=0,y=d.length;y>_;_++)h.push(d[_]);d=u.dataUF=[]}else{if(!s.length)return{data:h,dataUF:d};c.saveOrder()}if(g.on&&m&&s&&s.length){if(h.length)if(!1===i._trigger("customFilter",null,v))f=v.dataTmp,p=v.dataUF;else for(_=0,y=h.length;y>_;_++){var b=h[_];n.isMatchRow(b,s,m)?f.push(b):p.push(b)}h=f,d=p,0==c.readSorter().length&&(h=c[_b(322)](h)),a&&(u.data=h,u.dataUF=d)}else e&&a&&(0==c.readSorter().length&&(h=c[_b(322)](h)),!1===i._trigger("clearFilter",null,v={data:h})&&(h=v.data),u.data=h,i[_b(151)].filter={ui:{type:"local"}})}return a&&(i[_b(151)].filter={ui:{type:"local",rules:s}}),{data:h,dataUF:d}},_getRulesFromCM:function(e,i,r,a,o,s,l){if("between"==r)""===a||null==a?a=l(o,s,r="lte"):""===o||null==o?a=l(a,s,r="gte"):(a=l(a,s,r),o=l(o,s,r));else if("regexp"==r){if("remote"==e)a=a.toString();else if("string"==typeof a)try{a=new RegExp(a,i.modifiers||"gi")}catch(h){a=/.*/}}else if("range"==r||t.isArray(a)){if(null==a)return;if("function"==typeof a.push){if(0===a.length)return;if("range"!=r)a=l(a[0],s,r);else for(var u=0,c=(a=a.slice()).length;c>u;u++)a[u]=l(a[u],s,r)}}else r&&(a=l(a,s,r),null!=o&&(o=l(o,s,r)));return[a,o,"remote"==e?"":((i.conditions||{})[r]||{}).compare||pq.filter.conditions[r].compare||n.conditions[r],r]},getRulesFromCM:function(t){var n=t.CM;if(!n)throw"CM N/A";for(var i=this,r=n.length,a=0,o=t.location,s="remote"===o,l=[],u=e[_b(302)],c=function(t,e,n){return s?(t=null==t?"":t).toString():u.convertEx(t,e,n)};r>a;a++){var h=n[a],d=h.filter;if(d){var f,p,g,v,m,_=h.dataIndx,y=h.dataType,b=[];y=y&&"stringi"!=y&&"function"!=typeof y?y:"string",(d.crules||[d]).forEach(function(t){p=t.value,g=t.value2,(v=t.condition)&&i.isCorrect(v,p,g)&&(m=i[_b(390)](o,d,v,p,g,y,c))&&b.push({condition:m[3],value:p=m[0],value2:g=m[1],cbFn:m[2]})}),b.length&&(f={dataIndx:_,dataType:y},s&&1==b.length?(f.value=b[0].value,f.value2=b[0].value2,f.condition=b[0].condition):(f.crules=b,f.mode=d.mode,s||(f.column=h)),l.push(f))}}return(t.apply||s)&&this[_b(391)](l),l},getCMFromRules:function(t){var e=this.that;return t.map(function(t){var n=e.getColumn({dataIndx:t.dataIndx});return pq.copyObj({},n,["parent"])})},getQueryStringFilter:function(){var t,e=this.that,n=e.options,i=n.stringify,r=n[_b(154)],a=r.mode,o=e.colModel,s=r.newDI||[],l=this[_b(389)]({CM:o,location:"remote"}),u="";return r&&r.on&&l&&(l.length?(t={mode:a,data:l},u=i?JSON.stringify(t):t):(u="",s.length&&e._trigger("clearFilter"))),u},isCorrect:function(t,e,n){var i=pq.filter.conditions[t];if(i)return!!(null!=e&&""!==e||null!=n&&""!==n||i.nr);throw"filter condition NA"},isMatchCell:function(t,e){for(var i,r,a,o,s,l,u=this.that,c=t.column,h=t.dataType,d=t.mode,f=[],p=t.crules,g=p.length,v=e[t.dataIndx],m=0;g>m;m++)i=(s=p[m]).value,r=s.value2,o=s.cbFn,(a=s.condition)&&(l="regexp"===a?null==v?"":v:n.convertEx(v,h,a,c),f.push(!!o.call(u,l,i,r,e,c)));if(g=f.length,"AND"===d){for(m=0;g>m;m++)if(!f[m])return!1;return!0}for(m=0;g>m;m++)if(f[m])return!0;return!1},isMatchRow:function(t,e,n){var i,r,a=0,o=e.length,s="AND"==n,l=!s;if(0==o)return!0;for(;o>a;a++){if(i=e[a],(r=this[_b(392)](i,t))&&(i.found=!0),l&&r)return!0;if(s&&!r)return!1}return s},onFilterChange:function(){var t=this.that,e=t.options,n=t.columns,i=e[_b(154)],r=i.oldDI||[],a="pq-col-filtered",o="remote"==i.type||!e.dataModel.data.length,s=(i.rules||[]).reduce(function(t,e){return(e.found||o)&&t.push(e.dataIndx),t},[]);r.forEach(function(e){var i=t[_b(26)]({dataIndx:e}),r=n[e];i.length&&(i[_b(68)](a),t[_b(204)]({dataIndx:e})[_b(68)](a)),r.clsHead=(r.clsHead||"").split(" ").filter(function(t){return t!==a}).join(" ")}),s.forEach(function(e){var i=t[_b(26)]({dataIndx:e}),r=n[e];i.length&&(i.addClass(a),t[_b(204)]({dataIndx:e}).addClass(a)),r.clsHead=(r.clsHead||"")+" "+a}),i.oldDI=i.newDI=s},onLoad:function(){var t=this.that.options.dataModel.dataUF;t&&(t.length=0)},sortRulesAndFMIndx:function(t){var e=this.that.options[_b(154)],n=e.newDI;t.sort(function(t,e){var i=e.dataIndx,r=n.indexOf(t.dataIndx),a=n.indexOf(i);return r>=0&&a>=0?r-a:r>=0?-1:a>=0?1:0}),e.rules=t}}}(jQuery),function(t){var e=t.paramquery,n=e.cSort=function(t){var e=this;e.that=t,e.sorters=[],e.tmpPrefix="pq_tmp_",e.cancel=!1};e.pqGrid.prototype.sort=function(t){if((t=t||{}).data)return this.iSort[_b(317)](t.sorter,t.data);var e=this,n=this.options,i=n.dataModel,r=i.data,a=n.sortModel.type;if(r&&r.length||"local"!=a){var o,s=n.editModel,l=this.iSort,u=l.getSorter(),c=t.evt,h=null==t.single?l.readSingle():t.single,d=l.readCancel();if(t.sorter?t.addon?(t.single=h,t.cancel=d,o=l.addon(t)):o=t.sorter:o=l.readSorter(),o.length||u.length){s.indices&&e.blurEditor({force:!0});var f={dataIndx:o.length?o[0].dataIndx:null,oldSorter:u,sorter:o,source:t.source,single:h};if(!1===e._trigger("beforeSort",c,f))return void l.cancelSort();l.resumeSort(),"local"==a&&l.saveOrder(),l.setSorter(o),l.setSingle(h),l[_b(393)](o),l[_b(394)](h),"local"==a?(i.data=l[_b(322)](r,!t[_b(395)]),this[_b(151)].sort={evt:c,ui:f},!1!==t.refresh&&this[_b(16)]()):"remote"==a&&(this[_b(151)].sort={evt:c,ui:f},t[_b(396)]||this[_b(144)]({initBySort:!0,callback:function(){e[_b(145)]()}}))}}},n.prototype={addon:function(e){var n=(e=e||{}).sorter[0],i=n.dataIndx,r=n.dir,a=e.single,o=e.cancel,s=this.readSorter(),l=s[0];if(null==a)throw"sort single N/A";if(null!=i)if(a&&!e[_b(397)])if((l=(s=s.length?[s[0]]:[])[0])&&l.dataIndx==n.dataIndx){var u=l.dir,c="up"===u?"down":o&&"down"===u?"":"up";""===c?s.length--:l.dir=c}else s[0]=t.extend({},n,{dir:c=r||"up"});else{var h=this.inSorters(s,i);h>-1?"up"==(u=s[h].dir)?s[h].dir="down":o&&"down"==u?s.splice(h,1):1==s.length?s[h].dir="up":s.splice(h,1):s.push(t.extend({},n,{dir:"up"}))}return s},cancelSort:function(){this.cancel=!0},resumeSort:function(){this.cancel=!1},readSorter:function(){var t=this.that,e=t.columns,n=(t.options.sortModel.sorter||[]).filter(function(t){return!!e[t.dataIndx]});return pq[_b(212)](n,"dataIndx")},setSingle:function(t){this.single=t},getSingle:function(){return this.single},readSingle:function(){return this.that.options.sortModel.single},setCancel:function(t){this.cancel=t},readCancel:function(){return this.that.options.sortModel.cancel},saveOrder:function(t){var e,n=this.that,i=n.pdata||[];if(!(n.options.dataModel.dataUF||[]).length&&(!this.getSorter().length||i[0]&&null==i[0].pq_order))for(var r=0,a=(t=n.get_p_data()).length;a>r;r++)(e=t[r])&&(e.pq_order=r)},getCancel:function(){return this.cancel},getQueryStringSort:function(){if(this.cancel)return"";var t=this.sorters;return t.length?this.that.options.stringify?JSON.stringify(t):t:""},getSorter:function(){return this.sorters},setSorter:function(t){this.sorters=t.slice(0)},inSorters:function(t,e){for(var n=0;n<t.length;n++)if(t[n].dataIndx==e)return n;return-1},sortLocalData:function(t,e){var n=this.sorters;return n.length||t.length&&null!=t[0].pq_order&&(n=[{dataIndx:"pq_order",dir:"up",dataType:"integer"}]),this[_b(317)](n,t,e)},compileSorter:function(t,e){var n=this,r=n.that,a=r.columns,o=r.options,s=[],l=[],u=[],c=n.tmpPrefix,h=o.sortModel,d=h.useCache,f=h.ignoreCase,p=t.length;e=e||o.dataModel.data;for(var g=0;p>g;g++){var v=t[g],m=v.sortIndx||v.dataIndx,_=a[m]||{},y="up"==(v.dir=v.dir||"up")?1:-1,b=pq.getFn(_.sortType),x="string"==(x=_.dataType||v.dataType||"string")&&f?"stringi":x,w=d&&"date"==x,k=w?c+m:m;l[g]=k,u[g]=y,s[g]=b?function(t,e){return function(n,i,r,a){return e(n,i,r,a,t)}}(b,i[_b(398)]):"integer"==x||"float"==x?i[_b(399)]:"function"==typeof x?function(t,e){return function(n,i,r,a){return e(n,i,r,a,t)}}(x,i[_b(400)]):"date"==x?i["sort_date"+(w?"_fast":"")]:"bool"==x?i.sort_bool:"stringi"==x?i[_b(401)]:i[_b(402)],w&&n.addCache(e,x,m,k)}return n._composite(s,l,u,p)},_composite:function(t,e,n,i){return function(r,a){for(var o=0,s=0;i>s&&0==(o=t[s](r,a,e[s],n[s]));s++);return o}},_sortLocalData:function(t,e,n){if(!e)return[];if(!e.length||!t||!t.length)return e;var i=this,r=i.that,a=r.options.sortModel,o=i[_b(403)](t,e),s={sort_composite:o,data:e,sorter:t};return n&&!1===r._trigger("customSort",null,s)?e=s.data:e.sort(o),a.useCache&&i[_b(404)](t,e)(),e},addCache:function(t,e,n,r){for(var a=i["get_"+e],o=t.length;o--;){var s=t[o];s[r]=a(s[n])}},removeCache:function(t,e){var n=this.tmpPrefix;return function(){for(var i=t.length;i--;){var r=n+t[i].dataIndx,a=e.length;if(a&&e[0].hasOwnProperty(r))for(;a--;)delete e[a][r]}}},writeCancel:function(t){this.that.options.sortModel.cancel=t},writeSingle:function(t){this.that.options.sortModel.single=t},writeSorter:function(t){this.that.options.sortModel.sorter=t}};var i={get_date:function(t){var e;return t?isNaN(e=Date.parse(t))?0:e:0},sort_number:function(t,e,n,i){var r=t[n],a=e[n];return((r=r?1*r:0)-(a=a?1*a:0))*i},sort_date:function(t,e,n,i){var r=t[n],a=e[n];return((r=r?Date.parse(r):0)-(a=a?Date.parse(a):0))*i},sort_date_fast:function(t,e,n,i){return(t[n]-e[n])*i},sort_dataType:function(t,e,n,i,r){return r(t[n],e[n])*i},sort_sortType:function(t,e,n,i,r){return r(t,e,n)*i},sort_string:function(t,e,n,i){var r=t[n]||"",a=e[n]||"",o=0;return r>a?o=1:a>r&&(o=-1),o*i},sort_locale:function(t,e,n,i){var r=e[n]||"";return(t[n]||"")[_b(405)](r)*i},sort_bool:function(t,e,n,i){var r=t[n],a=e[n],o=0;return r&&!a||!1===r&&null==a?o=1:(a&&!r||!1===a&&null==r)&&(o=-1),o*i}};pq.sortObj=i}(jQuery),function(t){function e(t,e,n){var i=0,r=e,a=t.length;for(n=n>a?a:n;n>r;r++)!0!==t[r].pq_hidden&&i++;return i}function n(t){var e=this;e.that=t,e.mc=null,t.on(_a(125),function(n,i){t.options.mergeCells&&"pager"!==i.source&&e.init()}),t.on("colAdd colRemove",e[_b(406)].bind(e)).on("change",e.onChange.bind(e)),t.Merge=function(){return e}}t.paramquery.pqGrid.prototype[_b(407)]=e,t.paramquery.cMerge=n,n.prototype={auto:function(t,e){var n=this.that,i=n.pdata;return e=e||[],t.forEach(function(t){for(var r=1,a=n.colIndxs[t],o=i.length;o--;){var s=i[o-1]?i[o-1][t]:void 0;void 0!==s&&i[o][t]==s?r++:r>1&&(e.push({r1:o,c1:a,rc:r,cc:1}),r=1)}}),e},calcVisibleColumns:function(t,e,n){var i=0,r=t.length;for(n=n>r?r:n;n>e;e++)!0!==t[e].hidden&&i++;return i},findNextVisibleColumn:function(t,e,n){for(var i,r=e;e+n>r;r++){if(!(i=t[r]))return-1;if(!i.hidden)return r}},findNextVisibleRow:function(t,e,n){for(var i,r=e;e+n>r;r++){if(!(i=t[r]))return-1;if(!i.pq_hidden)return r}},getData:function(t,e,n){var i,r=this.mc;if(r[t]&&(i=r[t][e])){var a=i.data;return a?a[n]:null}},inflateRange:function(t,e,n,i){var r=this.that,a=!1,o=r.riOffset+r.pdata.length-1,s=r.colModel.length-1,l=this.mc2;if(!l)return[t,e,n,i];t:for(var u=0,c=l.length;c>u;u++){var h=l[u],d=h.r1,f=h.c1,p=(p=d+h.rc-1)>o?o:p,g=(g=f+h.cc-1)>s?s:g;if((t>d&&p>=t||n>=d&&p>n)&&g>=e&&i>=f||(e>f&&g>=e||i>=f&&g>i)&&p>=t&&n>=d){a=!0,t=t>d?d:t,e=e>f?f:e,n=p>n?p:n,i=g>i?g:i;break t}}return a?this[_b(348)](t,e,n,i):[t,e,n,i]},init:function(){for(var t=this.that,n=this[_b(408)],i=this[_b(409)],r=this[_b(410)],a=t.colModel,o=t.options.mergeCells||[],s=t.get_p_data(),l=[],u=[],c=0,h=o.length;h>c;c++){var d,f,p=o[c],g=p.r1,v=g,m=s[g],_=p.c1,y=_,b=a[_],x=p.rc,w=p.cc;if(b&&m&&(b.hidden&&(y=n(a,_,w)),d=r(a,_,_+w),m.pq_hidden&&(v=i(s,g,x)),!(1>(f=e(s,g,g+x))||1>d))){l.push({r1:g,c1:_,rc:x,cc:w}),u[v]=u[v]||[],u[v][y]={show:!0,rowspan:f,colspan:d,o_rowspan:x,o_colspan:w,style:p.style,cls:p.cls,attr:p.attr,r1:g,c1:_,v_r1:v,v_c1:y};for(var k={show:!1,r1:g,c1:_,v_r1:v,v_c1:y},C=g;g+x>C;C++){u[C]=u[C]||[];for(var M=_;_+w>M;M++)C==v&&M==y||(u[C][M]=k)}}}t[_b(411)]=u.length>0,this.mc=u,this.mc2=l},ismergedCell:function(t,e){var n,i=this.mc;return!!(i&&i[t]&&(n=i[t][e]))&&(t!=n.v_r1||e!=n.v_c1||{o_ri:n.r1,o_ci:n.c1,v_rc:n.rowspan,v_cc:n.colspan,o_rc:n.o_rowspan,o_cc:n.o_colspan})},isRootCell:function(t,e,n){var i,r=this.mc;if(r&&r[t]&&(i=r[t][e])){if("o"==n)return t==i.r1&&e==i.c1;var a=i.v_r1,o=i.v_c1;if(a==t&&o==e){var s=r[a][o];return{rowspan:s.rowspan,colspan:s.colspan}}}},removeData:function(t,e,n){var i,r=this.mc;if(r&&r[t]&&(i=r[t][e])){var a=i.data;a&&(a[n]=null)}},getRootCell:function(t,e){var n,i,r,a=this.mc;return a&&a[t]&&(r=a[t][e])?{o_ri:(r=a[n=r.v_r1][i=r.v_c1]).r1,o_ci:r.c1,v_ri:n,v_ci:i,v_rc:r.rowspan,v_cc:r.colspan,o_rc:r.o_rowspan,o_cc:r.o_colspan}:void 0},getRootCellO:function(t,e,n,i){var r,a="o"==(i=i||"o"),o=this[_b(226)](t,e);return o?this.that.normalize(r={rowIndx:o[a?"o_ri":"v_ri"],colIndx:o[a?"o_ci":"v_ci"]}):(n&&(r={rowIndx:t,colIndx:e}),r?this.that.normalize(r):null)},getRootCellV:function(t,e,n){return this[_b(135)](t,e,n,"v")},getClsStyle:function(t,e){return this.mc[t][e]},getMergeCells:function(t,e,n){for(var i,r,a,o=this.that,s=o.options.mergeCells,l=o.riOffset,u=l+n,c=[],h=s?s.length:0,d=0;h>d;d++)r=(i=s[d]).r1,a=i.c1,(!e||r>=l&&u>r)&&(e&&(r-=l),c.push({r1:r+=t,c1:a,r2:r+i.rc-1,c2:a+i.cc-1}));return c},alterColumn:function(t,e){for(var n=e.args,i=n[1],r="number"!=typeof(a=n[0]),a=r?a.length:a,o=this.that.options.mergeCells||[],s=0,l=o.length;l>s;s++){var u=o[s],c=u.c1,h=u.cc;r?c>=i?u.c1=c+a:c+h>i&&(u.cc=h+a):c>i?u.c1=c-a:c+h>i&&h-a>0&&(u.cc=h-a),u.c2=null}this.init(o)},onChange:function(t,e){for(var n,i=e.addList,r=e.deleteList,a=this.that.options.mergeCells||[],o=0,s=a.length;s>o;o++){for(var l=a[o],u=l.r1,c=l.rc,h=0,d=i.length;d>h;h++)u>=(n=i[h].rowIndx)?(u=l.r1=u+1,l.r2=null):u+c>n&&(c=l.rc=c+1,l.r2=null);for(h=0,d=r.length;d>h;h++)u>(n=r[h].rowIndx)?(u=l.r1=u-1,l.r2=null):u+c>n&&c>1&&(c=l.rc=c-1,l.r2=null)}this.init(a)},setData:function(t,e,n){var i,r=this.mc;r[t]&&(i=r[t][e])&&(i.data=n)}}}(jQuery),function(t){function e(t,e,n,i){t.push("<li data-option='",n,_a(126),"<label>",_a(0),e[n]?"checked":"","/>",i["strGroup_"+n],"</label></li>")}var n=t.paramquery;n.pqGrid.defaults.groupModel={agg:{},cascade:!0,cbId:"pq_group_cb",collapsed:[],dataIndx:[],fixCols:!0,groupCols:[],header:!0,headerMenu:!0,icon:[_a(127),"ui-icon-triangle-1-e"],id:"pq_gid",parentId:"parentId",childstr:"children",menuItems:["merge","fixCols","grandSummary"],on:!1,refreshOnChange:!0,pivotColsTotal:"after",separator:"_",source:"checkboxGroup",showSummary:[],summaryInTitleRow:"collapsed",summaryEdit:!0,title:[],titleDefault:"{0} ({1})"},pq.aggregate={sum:function(t){for(var e,n=0,i=t.length;i--;)null!=(e=t[i])&&(n+=e-0);return n},avg:function(t,e){try{var n=pq.formulas.AVERAGE(t)}catch(i){n=i}return isNaN(n)?null:n},flatten:function(t){return t.filter(function(t){return null!=t})},max:function(t,e){var n,i,r,a,o,s=pq[_b(41)](e);if(n=(t=this.flatten(t)).length){if("number"==s)for(i=1*t[0];n--;)i=(r=t[n])>i||isNaN(i)?r:i;else if("date"==s){for(i=Date.parse(t[0]);n--;)((o=Date.parse(t[n]))>i||isNaN(i))&&(i=o,a=t[n]);i=a}else t.sort(),i=t[n-1];return i}},min:function(t,e){var n,i,r,a,o=pq[_b(41)](e);if(a=(t=this.flatten(t)).length){if("number"==o)for(n=1*t[0];a--;)n=n>(i=1*t[a])||isNaN(n)?i:n;else if("date"==o){for(n=Date.parse(t[0]);a--;)(n>(i=Date.parse(t[a]))||isNaN(n))&&(n=i,r=t[a]);n=r}else t.sort(),n=t[0];return n}},count:function(t){return this.flatten(t).length},stdev:function(t){try{var e=pq.formulas.STDEV(t)}catch(n){e=n}return isNaN(e)?null:e},stdevp:function(t){try{var e=pq.formulas.STDEVP(t)}catch(n){e=n}return isNaN(e)?null:e}};var i=n.cGroup=function(t){var e=this,n=e.Model=t.options.groupModel;e.cbId=n.cbId,e.childstr=n.childstr,e.id=n.id,e.parentId=n.parentId,e.isGroup=!0,e.cache={},e.prop="pq_group_prop",e.that=t,Object[_b(40)](n,"nodeClose",{get:function(){return e.fillState({})},set:function(t){e.nodeClose=t}}),n.on&&e.init()};i[_b(412)]=function(t,e){return function(n){return!1===e._trigger("beforeGroupExpand",t,n)}},i[_b(413)]=function(e){return function(n){var i=t(n.target),r=t(this).data("indx");i.hasClass("pq-group-remove")?e[_b(414)](r):e[_b(415)](r,n)}},i.prototype=t.extend({},pq.mixin.ChkGrpTree,pq.mixin.GrpTree,{addGroup:function(t,e){var n=this,i=n.that.options.groupModel.dataIndx||[],r=pq.objectify(i),a=i.slice();null==t||r[t]||(null==e?a.push(t):a.splice(e,0,t),n.option({dataIndx:a},"","",function(){n[_b(416)]()}))},createHeader:function(){for(var e=this,n=e.that,r=e.$header,a=n.options,o=a.bootstrap,s=n.columns,l=o.on,u=a.groupModel,c=u.dataIndx,h=c.length;h--;)null==s[c[h]]&&c.splice(h,1);if(h=c.length,u.header&&u.on){if(r?r.empty():(r=e.$header=t(_a(128)).appendTo(n.$top)).on("click",".pq-group-item",i[_b(413)](e)),h){for(var d=[],f=0;h>f;f++){var p=c[f],g=s[p],v=l?o.groupModel.icon:u.icon,m=u.collapsed[f]?v[1]:v[0];d.push(_a(129),p,"' >","<span class='",e.toggleIcon,m,"' ></span>",g.pq_title||("string"==typeof g.title?g.title:p),"<span class='",e[_b(417)],"' ></span></div>")}r[0].innerHTML=d.join("")}e.initHeader(a,u)}else r&&(r.remove(),e.$header=null)},collapse:function(t){this.expand(t,!0)},collapseAll:function(t){this.expandAll(t,!0)},collapseTo:function(t){this.expandTo(t,!0)},concat:function(){var t=this.parentId,e=this.id,n=this.childstr;return function(i,r,a){var o=a[e];return r.forEach(function(e){e[t]=o,i.push(e)}),a[n]=r,i}},editorSummary:function(e,n){var i=this;return function(e){var r=e.rowData;if(r[_b(9)]||r.pq_gtitle){var a,o=pq.aggregate,s=e.column,l=s.summary,u=l?l.edit:null,c=t.inArray,h=s.dataType,d=[""];if(c(e.dataIndx,n.dataIndx)>-1||!n[_b(418)]&&!u||!1===u)return!1;for(var f in a=i[_b(419)](h),o)c(f,a)>-1&&d.push(f);return 1!=d.length&&{type:"select",prepend:n.prepend,options:n.options||d,valueIndx:n.valueIndx,labelIndx:n.labelIndx,init:n.init||i.editorInit,getData:n.getData||i[_b(420)]}}}},editorInit:function(t){var e,n=t.column.summary,i=this.options.groupModel.dataIndx;n||(n=t.column.summary={}),e=n[i[t.rowData.pq_level]]||n.type,t.$cell.find("select").val(e)},editorGetData:function(t){var e=t.column,n=this.options.groupModel.dataIndx[t.rowData.pq_level],i=e.dataType,r=e.summary,a=t.$cell.find("select").val();return r[r[n]?n:"type"]=a,this.one("beforeValidate",function(t,n){n[_b(63)]=!0,n.track=!1,n.history=!1,e.dataType="string",this.one(!0,"change",function(t,n){e.dataType=i})}),a},expandTo:function(t,e){for(var n,i=this.that,r=!!e,a=t.split(","),o=a.length,s=this.childstr,l=this.getRoots(i.pdata),u=0;o>u&&(n=l[a[u]]);)r||(n.pq_close=r),l=n[s],u++;n&&(n.pq_close=r,!1!==i._trigger("group",null,{node:n,close:r})&&this[_b(338)]())},expandAll:function(t,e){!1!==this.trigger({all:!0,close:e=!!e,level:t=t||0})&&(this.that.pdata.forEach(function(n){n.pq_level>=t&&(n.pq_close=e)}),this[_b(421)](),this[_b(338)]())},expand:function(t,e){!1!==this.trigger({close:!!e,level:t=t||0})&&(this.that.pdata.forEach(function(n){n.pq_level==t&&(n.pq_close=e)}),this[_b(421)](),this[_b(338)]())},flattenG:function(t,e,n,i){var r=this,a=n.dataIndx,o=r.id,s=r.parentId,l=r.childstr,u=n.separator,c=n.titleIndx,h=r.concat(),d=a.length,f=[];return function i(r,p,g,v){if(!d)return r;var m=p||0,_=(g=g||{})[l],y=a[m],b=n.collapsed[m];return e(r,y,t[y]).forEach(function(t){var e,n=t[1],r=t[0],a=(v?v+u:"")+r;(e={pq_gtitle:!0,pq_level:m,pq_close:b,pq_items:n.length})[o]=a,e[s]=g[o],e[l]=[],e[y]=r,c&&(e[c]=r),f.push(e),_&&_.push(e),d>m+1?i(n,m+1,e,a):f=h(f,n,e)}),f}},getAggOptions:function(t){return"integer"==t||"float"==t?t="number":"date"!==t&&(t="string"),this.that.options[_b(422)][t].split(",")},getVal:function(e){var n=t.trim;return function(t,i,r){var a=t[i],o=r[_b(423)];return o?(o=pq.getFn(o))(a):(a=n(a),e?a[_b(36)]():a)}},getSumCols:function(){return this._sumCols},getSumDIs:function(){return this._sumDIs},group:function(t){return function(e,n,i){var r={},a=[];return e.forEach(function(e){e.pq_hidden=void 0;var o=t(e,n,i),s=r[o];null==s&&(r[o]=s=a.length,a[s]=[o,[]]),a[s][1].push(e)}),a}},groupData:function(t){var e=this,n=e.that,i=n.options.groupModel,r=e.getVal(i.ignoreCase),a=n.pdata,o=n.columns,s=(e.setSumCols(i.dataIndx),function(){});n.pdata=e.flattenG(o,e.group(r),i,s)(a),n._trigger("before"+(t?"Pivot":"Group")+"Summary"),e.summaryT()},hideRows:function(t,e,n,i){for(var r,a=!0,o=this.that.pdata,s=t,l=o.length;l>s;s++)if((r=o[s])[_b(9)])n||i?r.pq_level>=e&&(r.pq_hidden=a):r.pq_level>e&&(r.pq_hidden=a);else if(r.pq_gtitle){if(r.pq_level<=e)break;r.pq_hidden=a}else r.pq_hidden=a},init:function(){var t,e,n,i,r,a=this;a.onCMInit(),a._init||(a.mc=[],a[_b(22)]=[],e=(t=(r=a.that).options).groupModel,i=(n=t.bootstrap.on)?"glyphicon ":"ui-icon ",a[_b(417)]="pq-group-remove "+i+(n?"glyphicon-remove":"ui-icon-close"),a.toggleIcon="pq-group-toggle "+i,r.on("cellClick",a[_b(370)](a)).on("cellKeyDown",a[_b(296)](a,e)).on(!0,"cellMouseDown",a[_b(371)]()).on("change",a.onChange(a,e)).on("dataReady",a[_b(294)](a,r)).on("beforeFilterDone",function(){a.saveState()}).on("columnDragDone",a[_b(424)](a)).on("colMove",a.onColMove.bind(a)).on("customSort",a[_b(425)].bind(a)).on("valChange",a.onCheckbox(a,e)).on("refresh refreshRow",a.onRefresh(a,e)).on("refreshHeader",a[_b(297)].bind(a)),(e.titleIndx||e[_b(11)])&&r.on("CMInit",a.onCMInit.bind(a)),r.on("beforeCheck",a[_b(300)].bind(a)),a[_b(426)](!0),a._init=!0)},initHeadSortable:function(){var t=this;t.$header.sortable({axis:"x",distance:3,tolerance:"pointer",cancel:".pq-group-menu",stop:t.onSortable(t,t.that.options)})},initHeadDroppable:function(){var t=this,e=t.that,n=t.$header;n&&(n.droppable({accept:function(n){var i=1*n.attr("pq-col-indx");if(!isNaN(i)&&e.colModel[i])return t.acceptDrop},tolerance:"pointer",hoverClass:"pq-drop-hover",drop:t.onDrop(e,t)}),t.acceptDrop=!0)},initHeader:function(t,e){var n=this;if(n.$header){var i=n.$header,r=i.find(".pq-group-item");i.data("uiSortable")||n[_b(427)](),r.length||i.append(_a(130)+t[_b(428)]+"</span>"),e.headerMenu&&n[_b(429)]()}},initHeaderMenu:function(){for(var n,i=this,r=i.that,a=r.BS_on,o=r.options,s=i.$header,l=[_a(131),a?"<span class='glyphicon glyphicon-chevron-left'></span>":_a(132),"<ul>"],u=o.groupModel,c=u.menuItems,h=0,d=c.length;d>h;h++)e(l,u,c[h],o);l.push("</ul></li></ul>"),(n=t(l.join("")).appendTo(s)).menu({icons:{submenu:"ui-icon-carat-1-w"},position:{my:"right top",at:"left top"}}),n.change(function(e){if("INPUT"==e.target.nodeName){var n=t(e.target).closest("li").data("option"),r={};r[n]=!o.groupModel[n],i.option(r)}})},isOn:function(){var t=this.that.options.groupModel;return t.on&&(t.dataIndx||[]).length},getRC:function(t){var e=1,n=this;return(t[n.childstr]||[]).forEach(function(t){e+=n.getRC(t)}),e+(t[_b(10)]?1:0)},initmerge:function(){var t,e=this,n=e.that,i=n.options,r=i.groupModel,a=r.merge,o=r[_b(17)],s=r.titleIndx,l=n.colModel.length,u=[],c=r.dataIndx,h=n.pdata||[];r.on&&(a?c.forEach(function(n,i){h.forEach(function(n){n.pq_gtitle&&i==n.pq_level&&(t=e.getRC(n),u.push({r1:n.pq_ri,rc:t,c1:i,cc:1}))})}):c.length&&h.forEach(function(t){t.pq_gtitle&&(o&&(t.pq_close||"collapsed"!==o)||u.push({r1:t.pq_ri,rc:1,c1:s?n.colIndxs[s]:t.pq_level,cc:l}))})),u.length?(e.mc=i.mergeCells=u,n.iMerge.init()):e.mc.length&&(e.mc.length=0,n.iMerge.init())},initcollapsed:function(){var t,e,n,i,r,a=this,o=a.that,s=o.options.groupModel,l=s.merge,u=s[_b(17)],c=a.nodeClose,h=o.pdata,d=a.id;if(h){for(var f=0,p=h.length;p>f;f++)(n=h[f]).pq_gtitle&&(i=n.pq_level,r=null,c&&null!=(e=c[t=n[d]])&&(delete c[t],r=n.pq_close=e),null==r&&(r=n.pq_close),r?a.hideRows(f+1,i,l,u):l&&(n.pq_hidden=!0));o._trigger("groupHideRows")}},updateItems:function(t){var e,n,i=this,r=0,a=i.childstr;return(t||i.that.pdata).forEach(function(t){t.pq_gtitle&&(t.pq_items=(n=(e=t[a]).length)&&e[0][a]?i[_b(430)](e):n,r+=t.pq_items)}),r},removeEmptyParent:function(t){var e=this,n=e.that.pdata,i=e.childstr;if(!t[i].length){var r=e.getParent(t),a=r?r[i]:n,o=a.indexOf(t);a.splice(o,1),r&&e[_b(431)](r)}},addNodes:function(t,e,n){this.moveNodes(t,e,n,!0)},deleteNodes:function(t){this.moveNodes(t,null,null,null,!0)},moveNodes:function(t,e,n,i,r){var a,o,s,l=this,u=l.that,c=l.childstr,h="pq_hidden",d=u.options,f=d.groupModel,p=f.dataIndx,g=d.dataModel.data,v=l.parentId,m=0,_=t.length;if(e){var y=e[c],b=y.length,x=y[0],w=(n=null==n||n>=b?b:n,g.indexOf(x)+n);if(x.pq_gtitle)throw"incorrect nodes"}if(t=t.slice(0),_){for(u._trigger("beforeMoveNode");_>m;m++)s=t[m],i?e[c].splice(n++,0,s):(o=(a=l.getParent(s))[c].indexOf(s),r?a[c].splice(o,1):a==e?n=pq.moveItem(s,e[c],o,n):(e[c].splice(n++,0,s),a[c].splice(o,1))),x&&(p.forEach(function(t){s[t]=x[t]}),s[v]=x[v],s[h]=x[h]),i?g.splice(w++,0,s):(o=g.indexOf(s),r?g.splice(o,1):w=pq.moveItem(s,g,o,w),l[_b(431)](a));l[_b(430)](),l.summaryT(),l.isCascade(f)&&(l[_b(432)](),l.setValCBox()),u.iRefresh.addRowIndx(),l.initmerge(),u._trigger((i?"add":r?"delete":"move")+"Node",null,{args:arguments}),u.refresh({header:!1})}},onCellClick:function(e){return function(n,i){if(i.rowData.pq_gtitle&&t(n[_b(31)].target).hasClass("pq-group-icon"))if(pq.isCtrl(n)){var r=i.rowData;e[r.pq_close?"expand":"collapse"](r.pq_level)}else e.toggleRow(i[_b(71)],n)}},onCellMouseDown:function(){return function(e,n){n.rowData.pq_gtitle&&t(e[_b(31)].target).hasClass("pq-group-icon")&&e[_b(28)]()}},onCellKeyDown:function(e,n){return function(i,r){return r.rowData.pq_gtitle&&t.inArray(r.dataIndx,n.dataIndx)>=0&&i.keyCode==t.ui.keyCode.ENTER?(e.toggleRow(r[_b(71)],i),!1):void 0}},onChange:function(t,e){return function(n,i){e.source==i.source||"checkbox"==i.source||(t.summaryT(),t.that.refresh())}},onColumnDrag:function(t){return function(e,n){var i=n.column,r=i.colModel;r&&r.length||!1===i.groupable||i.denyGroup?t.acceptDrop=!1:t[_b(433)]()}},onCustomSort:function(t,e){var n=this,i=n.that,r=i.options.groupModel,a=r.dataIndx,o=e.sorter,s=(o[0]||{}).dataIndx,l=i.columns[s],u=a.indexOf(s);if(a.length&&1==o.length){if(u>=0&&l[_b(423)])return;if("pq_order"==s||(l.summary||{}).type)return n._delaySort(e);var c=a.map(function(t){return{dataIndx:t,dir:o[0].dir}}).concat(o);return c=pq[_b(212)](c,"dataIndx"),n._delaySort(e,function(t){e[_b(14)]=c.map(r.titleIndx==s?function(e){return i.iSort[_b(403)]([e],t)}:function(e){return e.dataIndx==s?i.iSort[_b(403)]([e],t):void 0})})}},_delaySort:function(t,e){var n=this,i=n.that,r=i.pdata;return r&&r.length?(i.one("skipGroup",function(){return e&&e(r),t.data=r,n[_b(434)]({},t),i.pdata=t.data,n[_b(435)](),!1}),!1):void 0},summaryRestore:function(){var t=this,e=t.childstr;t.that.pdata=function t(n,i){var r=[];return n.forEach(function(n){r.push(n),t(n[e]||[],n).forEach(function(t){r.push(t)})}),i&&i[_b(10)]&&r.push(i[_b(10)]),r}(t.getRoots())},onDrop:function(t,e){return function(n,i){var r=1*i.draggable.attr("pq-col-indx");e.addGroup(t.colModel[r].dataIndx),e.acceptDrop=!1}},onSortable:function(e,n){return function(){var i,r,a,o=[],s=n.groupModel.dataIndx;t(this).find(".pq-group-item").each(function(e,n){r=t(n),a=r.data("indx"),s[e]!==a&&(i=!0),o.push(a)}),i&&e.option({dataIndx:o},"","",function(){e[_b(416)]()})}},onDataReady:function(t,e){return function(){var n=e.options.groupModel,i=n.dataIndx.length;n.on&&(i||n[_b(20)]?(!1!==e._trigger("skipGroup")&&(t.groupData(),t.buildCache()),e.iRefresh.addRowIndx(),t[_b(436)](),i&&(t[_b(437)](),t.initmerge(),t.isCascade(n)&&t[_b(432)]())):t[_b(436)](),t.setValCBox()),t[_b(421)]()}},onColMove:function(){var t=this,e=t.that.options.groupModel;return e[_b(11)]?(t.that[_b(16)](),!1):void(e.titleIndx||t.initmerge())},option:function(e,n,i,r){var a=e.dataIndx,o=this,s=o.that,l=a?a.length:0,u=s.options.groupModel,c={source:i,oldGM:t.extend({},u),ui:e},h=u.dataIndx;0!=s._trigger("beforeGroupOption",null,c)&&(e.agg&&o.updateAgg(e.agg,u.agg),u.on&&h.length&&(!1===e.on||0===l)&&o.showRows(),t.extend(u,e),r&&r(),o.init(),o.setOption(),s._trigger("groupOption",null,c),!1!==n&&s[_b(16)]())},showRows:function(){this.that.options.dataModel.data.forEach(function(t){t.pq_hidden&&(t.pq_hidden=void 0)})},renderBodyCell:function(t,e){var n,i=this,r=e.checkbox,a=e.dataIndx.length-(i.isPivot()?1:0),o=e.titleIndx,s=o?e.indent:0,l=s*a,u="";return a&&(l+=s),function(t){var a,s,c=t.rowData,h=t.column,d=h[_b(301)];return t.Export?void 0:(a=(a=d&&d.call(i.that,t))||t.formatVal||t.cellData,r&&o&&(n=i.renderCB(r,c,e.cbId))&&(u=n[0]),{text:((s=u&&(h.useLabel||e.useLabel))?"<label>":"")+u+(null==a?"":a)+(s?"</label>":""),style:"text-indent:"+l+"px;"})}},renderCell:function(t,e){var n=this[_b(438)](t,e),i=this[_b(439)](t,e),r=this[_b(440)](t);return function(t,a){t._renderG=function(t){var o=t.rowData,s=o.pq_gtitle;return a&&s?n(t):s||o[_b(9)]?r(t):e.titleIndx==t.dataIndx?i(t):void 0}}},renderSummary:function(t){var e=this.that,n=t.groupModel.dataIndx;return function(i){var r,a,o,s=i.column,l=s.summary;return l&&(a=l[n[i.rowData.pq_level]]||l.type)?"function"==typeof(o=t[_b(441)][a])?o.call(e,i):(null==(r=i.formatVal)&&(r=null==(r=i.cellData)?"":r),"number"!=typeof r||s.format||parseInt(r)===r||(r=r.toFixed(2)),o?o.replace("{0}",r):r):void 0}},updateformatVal:function(t,e,n){var i=this.that.columns[t.dataIndx[n]];i&&i.format&&i!=e.column&&(e.formatVal=pq.format(i,e.cellData))},renderTitle:function(t,e){var n,i,r=this,a=r.that,o=t.rtl,s=e.checkbox,l=t.bootstrap,u=["pq-group-title-cell"],c=e.titleIndx,h=e.indent,d=l.on,f=d?l.groupModel.icon:e.icon,p=d?["glyphicon "+f[0],"glyphicon "+f[1]]:["ui-icon "+f[0],"ui-icon "+f[1]];return function(t){var l,d,f,g,v=t.rowData,m=t.column,_=m.useLabel;return null!=t.cellData?(l=v.pq_close,d=v.pq_level,f=e.title,r[_b(442)](e,t,d),f=null==(f="function"==typeof(f=m[_b(301)]||f[d]||e[_b(443)])?f.call(a,t):f.replace("{0}",t.formatVal||t.cellData).replace("{1}",v.pq_items))?t.formatVal||t.cellData:f,g="pq-group-icon "+p[l?1:0],t.Export?f:(s&&c&&r.isCascade(e)&&(n=r.renderCB(s,v,e.cbId))&&(i=n[0],n[1]&&u.push(n[1])),{text:[(_=i&&(null!=_?_:e.useLabel))?"<label>":"","<span class='",g,"'></span>",i,f,_?"</label>":""].join(""),cls:u.join(" "),style:"text-align:"+(o?"right":"left")+";text-indent:"+h*d+"px;"})):void 0}},triggerChange:function(){this.that._trigger("groupChange")},removeGroup:function(t){var e=this;e.option({dataIndx:e.that.options.groupModel.dataIndx.filter(function(e){return e!=t})},"","",function(){e[_b(416)]()})},refreshColumns:function(){for(var t,e,n,i=this.that,r=i.options,a=r.groupModel,o=a.on,s=a.fixCols,l=this.renderCell(r,a),u=i.columns,c=a.dataIndx,h=c.length,d=i.colModel,f=d.length;f--;)(t=d[f])._renderG&&delete t._renderG,t._nodrag&&(delete t._nodrag,delete t._nodrop),o&&(e=t.summary)&&e.type&&l(t);if(r.geditor=o?this[_b(444)](r,a):void 0,o)if(a.titleIndx)l(t=u[a.titleIndx],!0);else{for(f=h-1;f>=0;f--)l(t=u[c[f]],!0);if(s&&!a[_b(11)])for(f=0;h>f;f++)(t=d[n=i.getColIndx({dataIndx:c[f]})])._nodrag=t._nodrop=!0,n!=f&&(i[_b(243)].moveColumn(n,f,!0),i.refreshCM(null,{group:!0}))}},saveState:function(){var t=this,e=t.nodeClose=t.nodeClose||{};t.fillState(e)},setSumCols:function(t){var e=[],n=[];return t=pq.objectify(t),this.that.colModel.forEach(function(i){var r,a=i.summary;a&&a.type&&(t[r=i.dataIndx]||(e.push(i),n.push(r)))}),this._sumCols=e,this._sumDIs=n,[e,n]},setOption:function(){var t=this;t._init&&(t[_b(436)](),t[_b(22)].length=0,t.initmerge())},softRefresh:function(){var t=this,e=t.that;t.pdata=null,e.pdata.forEach(function(t){delete t.pq_hidden}),t[_b(437)](),t.initmerge(),e.refresh({header:!1})},toggleLevel:function(e,n){var i=this.that.options.groupModel,r=i.collapsed,a=t.inArray(e,i.dataIndx),o=pq.isCtrl(n)?"All":"";this[(r[a]?"expand":"collapse")+o](a)},trigger:function(t){var e,n,r=t.evt,a=t.rd,o=t.level,s=t.all,l=t.close,u=this.that,c=u.options.groupModel,h=c.dataIndx,d=c.collapsed,f=i[_b(412)](r,u),p={};if(a){if(f(p={level:e=a.pq_level,close:l=!a.pq_close,group:a[h[e]]}))return!1;a.pq_close=l}else if(s){if(f(p={all:!0,close:l,level:o}))return!1;for(n=o;n<h.length;n++)d[n]=l}else if(null!=o){if(f(p={level:o,close:l}))return!1;d[o]=l}return u._trigger("group",null,p)},toggleRow:function(t,e){!1!==this.trigger({evt:e,rd:this.that.pdata[t]})&&this[_b(338)]()}}),n.pqGrid.prototype.Group=function(t){var e=this.iGroup;return null==t?e:void e.expandTo(t.indx)}}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype,i=n.options;t(document).on("pqGrid:bootup",function(t,e){var n=e.instance;n.iDrag=new r(n)});var r=e.cDrag=function(t){var e=this,n=t.options,i=e.rtl=n.rtl,r=n.dragModel;r.on&&(e.that=t,n[_b(445)]=n[_b(445)]||-1,e.model=r,e.ns=".pq-drag",r.tmplDragN=e.rtlfy(i,r.tmplDragN),r.tmplDrag=e.rtlfy(i,r.tmplDrag),t.on("CMInit",e.onCMInit.bind(e)).on("create",e.onCreate.bind(e)))};n.Drag=function(){return this.iDrag},i.dragModel={afterDrop:function(){},beforeDrop:function(t,e){var n=this.Drag(),i=n.getUI().nodes,r=this,a=this.Tree(),o=this.Group();a.isOn()?r=a:o.isOn()&&(r=o),n.clean(),r[_b(362)](i)},diDrag:-1,dragNodes:function(t){return[t]},contentHelper:function(t,e){var n=e[0],i=e.length;return t.map(function(t){return n[t]}).join(", ")+(i>1?" ( "+i+" )":"")},clsHandle:"pq-drag-handle",clsDnD:"pq-dnd",clsNode:"pq-dnd-drag",iconAccept:_a(133),iconReject:_a(134),tmplDragN:_a(135),tmplDrag:_a(136),cssHelper:{opacity:.7,position:"absolute",height:25,width:200,overflow:"hidden",background:"#fff",border:"1px solid",boxShadow:"4px 4px 2px #aaaaaa",zIndex:1001},tmplHelper:_a(137)},r.prototype={addIcon:function(t){var e="pq-icon";this.$helper.find("."+e).attr("class","").addClass(e+" "+t)},addAcceptIcon:function(){this.addIcon(this.model.iconAccept)},addRejectIcon:function(){this.addIcon(this.model.iconReject)},getHelper:function(e){var n=this,i=n.that,r=n.model,a=r.clsNode,o=t(e.target).closest(_a(36)),s=n.cellObj=i[_b(33)]({$td:o}),l=r.diHelper||[r.diDrag],u=s.nodes=r.dragNodes.call(i,s.rowData,e),c=r[_b(446)].call(i,l,u),h=n.$helper=t(r.tmplHelper);return h.find("span:eq(1)").html(c),u.forEach(function(t){i.addClass({rowData:t,cls:a})}),n[_b(447)](),h.addClass(_a(138)).css(r.cssHelper).data("Drag",n),h[0]},getUI:function(){return this.cellObj},grid:function(){return this.that},isSingle:function(){return 1==this.getData().length},onCMInit:function(){var e=this.that,n=this.model,i=n[_b(448)],r=e.columns[n.diDrag],a=r?n.tmplDrag:n.tmplDragN;(r||e.options.numberCell).postRender=function(n){i&&!i.call(e,n)||t(n.cell).prepend(a)}},onCreate:function(){var e=this,n=e.model,i={top:20},r=-1==n.diDrag;e.that.on(!0,"cellMouseDown",e[_b(371)].bind(e)),i[e.rtl?"right":"left"]=2,e.ele=e.that.$cont.children(":first").addClass(n.clsDnD+(r?" pq-drag-number":"")).draggable(t.extend({cursorAt:i,containment:"document",appendTo:"body"},n.options,{handle:"."+n.clsHandle,helper:e.getHelper.bind(e),revert:e.revert.bind(e)}))},onDrop:function(t,e,n){this.model[t].call(this.that,e,n)},clean:function(){var t=this;t.getUI().nodes.forEach(function(e){t.that[_b(68)]({rowData:e,cls:t.model.clsNode})})},revert:function(e){this.clean(),e||this.$helper.hide("explode",function(){t(this).remove()})},rtlfy:function(t,e){var n={left:"right",right:"left"};return t?e.replace(/left|right/g,function(t){return n[t]}):e},onCellMouseDown:function(e){var n=this.model;t(e[_b(31)].target).closest("."+n.clsHandle).length&&e[_b(28)]()},over:function(t,e){this[_b(449)]()},out:function(t,e){this[_b(447)]()}}}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype,i=n.options;t(document).on("pqGrid:bootup",function(t,e){var n=e.instance;n.iDrop=new r(n)}),n.Drop=function(){return this.iDrop},i.dropModel={accept:".pq-dnd",clsParent:"pq-dnd-parent",drop:function(t,e){var n=e.helper.data("Drag"),i=this,r=i.Group(),a=i.Tree(),o=e.rowData,s=e.ratioY()<=.5,l=null==(l=e.rowIndx)?l:l+(s?0:1),u=function(t,e){if(o||e){var n,r=i.iDrop.parent,a=t[_b(450)](r),l=a.length;(r||e)&&(l&&(n=o?o==r?s?null:0:a.indexOf(o)+(s?0:1):l),h?t.moveNodes(d,r,n):t.addNodes(d,r,n))}};if(n){var c=n.getUI(),h=n.grid()==i,d=c.nodes;r.isOn()?u(r):a.isOn()?u(a,!0):h?i.moveNodes(d,l):i.addNodes(d,l)}},getParent:function(t,e){var n,i,r,a,o,s=this,l=e.rowData,u=s.options,c=u.dropModel.divider,h=s.Group(),d=h.isOn(),f=s.Tree(),p=f.isOn();return l?(p?c?(a=(i=s.widget()).offset().left,o=(r=e.helper).offset().left,n=(u.rtl?a+i.width()-o-r.width()>c:o-a>c)?l:f.getParent(l)):n=f.getParent(l):d&&(n=h.isFolder(l)?l:h.getParent(l)),n):void 0}};var r=e.cDrop=function(t){var e=this,n=t.options,i=n.dropModel;e.model=i,i.on&&(e.that=t,e.rtl=n.rtl,e.ns=".pq-drop",t.on("create",e.onCreate.bind(e)))};r.prototype={addUI:function(e,n,i){var r=this;e.$cell=i,e.ratioY=function(){return r.ratioY(n,i)},t.extend(e,r.that[_b(33)]({$td:i}))},callFn:function(t,e,n){var i=this.model[t];return i?i.call(this.that,e,n):void 0},feedback:function(t,e){if(e.length){var n=this,i=n.getCellY(e),r=i[0],a=n.that.$cont,o=n.ratioY(t,e),s=a.offset().left,l=i[1];n.$feedback=n.$feedback||n.newF(),n.$feedback.css({top:.5>=o?r-1:l-1,left:s,width:a[0][_b(58)],zIndex:1e4}),a.css("cursor","copy")}},getCell:function(t){return t.closest(_a(36))},getCellY:function(t){var e=t.offset().top;return[e,e+t[0][_b(162)]]},getDrag:function(t){return t.helper.data("Drag")},isOn:function(){return this.model.on},isOver:function(){},newF:function(){return t(_a(139)).appendTo(document.body)},onCreate:function(){var e=this;e.that.$cont.droppable(t.extend({tolerance:"pointer"},e.model.options,{accept:e.model.accept,over:e.onOver.bind(e),out:e.onOut.bind(e),drop:e.onDrop.bind(e)}))},onOver:function(e,n){var i=this,r=i.model.divider,a=i.Drag=i.getDrag(n);n.draggable.on("drag.pq",i.onDrag.bind(i)),r&&(i.$left=t(_a(140)+(i.rtl?"right:":"left:")+r+_a(141)).appendTo(i.that.$cont)),a&&a.over(e,n),i.isOver=function(){return!0},i.callFn("over",e,n)},onOut:function(t,e){e.draggable.off("drag.pq"),this[_b(451)]();var n=this.getDrag(e),i=this.$left;i&&i.remove(),n&&n.out(t,e),this.isOver=function(){},this.callFn("out",t,e)},setParent:function(t){var e=this.that,n=this.model.clsParent,i=this.parent;i!=t&&(i&&e[_b(68)]({rowData:i,cls:n}),t&&e.addClass({rowData:t,cls:n})),this.parent=t},setDeny:function(t,e,n){var i=this,r=i.Drag;i.denyDrop=!1===i.callFn("isDroppable",t,e),i.denyDrop?(r&&r.out(),i[_b(451)]()):(r&&r.over(),i.feedback(t,n),i.setParent(i.callFn("getParent",t,e)))},onDrag:function(t,e){var n=this,i=pq[_b(452)](t),r=n.getCell(i);(r.length||n.that.$cont[0].contains(i[0]))&&(n.addUI(e,t,r),n.setDeny(t,e,r))},onDropX:function(t,e){var n=this,i=n.that,r=e.draggable,a=e.helper.data("Drag"),o=function(n){if(a&&a.grid()!=i)a.onDrop(n,t,e);else try{r.draggable("instance").options[n].call(r[0],t,e)}catch(o){}};o("beforeDrop"),n.callFn("drop",t,e),n.setParent(),o("afterDrop")},onDrop:function(t,e){var n,i=this,r=pq[_b(452)](t);i.onOut(t,e),i.denyDrop||((n=i.getCell(r)).length||i.that.$cont[0].contains(r[0]))&&(i.addUI(e,t,n),i.onDropX(t,e))},onMouseout:function(){this[_b(451)]()},onMouseup:function(){var e=this;e[_b(451)](),t(document).off(e.ns),e.that.$cont.off(e.ns)},ratioY:function(t,e){if(e.length){var n=t.pageY,i=this.getCellY(e),r=i[0];return(n-r)/(i[1]-r)}},removeFeedback:function(){var t=this;t.$feedback&&(t.$feedback.remove(),t.$feedback=null),t.that.$cont.css("cursor",""),requestAnimationFrame(function(){t.setParent()})}}}(jQuery),function(t){var e=t.paramquery;e.pqGrid.defaults[_b(453)]={preInit:function(t){return!pq.isCtrl(t)&&void 0},init:function(t,e){if(e.$td){var n={r1:e.rowIndx,c1:e.colIndx,rc:1,cc:1},i=this.Selection();-1==i.indexOf(n)&&(i.removeAll(),this.Range(n).select()),this.focus(e)}}},t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iContext=new n(i)});var n=e.cContext=function(t){var e=this,n=t.options;e.model=n[_b(453)],e.that=t,e.ns=".pq-cmenu",e.rtl=n.rtl,t.on("context",e.onContext.bind(e)).on("destroy",e.removeMenu.bind(e))};n.prototype={createMenu:function(e){e=e.filter(function(t){return null!=t});var n,i=this,r="";return e.forEach(function(t,e){r+=i[_b(454)](t,e)}),(n=t("<div dir='"+(i.rtl?"rtl":"ltr")+_a(142)+r+"</table></div>").appendTo(document.body)).find(".pq-cmenu-item").each(function(n,i){t(i).data("item",e[n])}),n.on("mouseover",i[_b(455)].bind(i)).on("remove",i.onRemove(i)),n},get$Item:function(e){return t(e.target).closest(".pq-cmenu-item")},getItem:function(t){return this.get$Item(t).data("item")},getItemHtml:function(t,e){if("separator"==t)return _a(143);var n=t.style,i=t.tooltip,r=n?'style="'+n+'"':"",a=i?'title="'+i+'"':"";return _a(144)+(t.disabled?"pq_disabled":"")+" "+(t.cls||"")+"' indx="+e+"><td><span class='"+(t.icon||"")+"' /></td><td "+r+" "+a+">"+t.name+"</td><td>"+(t.shortcut||"")+_a(145)+(t.subItems?_a(146)+(this.rtl?"w":"e"):"")+"' /></td></tr>"},onContext:function(t,e){return this.model.on?this.showMenu(t,e):void 0},onRemove:function(e){return function(){t(this).find(".pq-cmenu-item").each(e[_b(456)])}},onMouseDown:function(t){this.getItem(t)||this.removeMenu()},onclickDoc:function(t){var e,n=this.getItem(t);n&&(n.disabled||(e=n.action)&&!1!==e.call(this.that,t,this.ui,n)&&this.removeMenu())},onMouseOver:function(t){var e,n=this,i=n.rtl,r=n.getItem(t),a="subMenu",o=n.get$Item(t),s=(r||{}).subItems;o.siblings().each(n[_b(456)]),s&&s.length&&!o[0][a]&&((e=n.createMenu(s)).position({my:i?"right top":"left top",at:i?"left top":"right top",of:o,collision:"flipfit"}),o[0][a]=e)},removeMenu:function(){this.$menu&&(this.$menu.remove(),delete this.$menu,t(document.body).off(this.ns))},removeSubMenu:function(t,e){var n="subMenu";e[n]&&(e[n].remove(),delete e[n])},showMenu:function(e,n){var i=this,r=i.rtl,a=i.model,o=i.ns,s=i.that,l=i.$menu,u=n.type,c="function"==typeof(c=a[u+"Items"]||(u?a.items:a.miscItems))?c.call(s,e,n):c;return l&&i.removeMenu(),c&&c.length&&!1!==a.preInit.call(s,e,n)?(a.init.call(s,e,n),i.ui=n,(l=i.$menu=i.createMenu(c)).position({my:(r?"right":"left")+" top",of:e,collision:"fit"}),t(document.body).on("click"+o,i.onclickDoc.bind(i)).on("mousedown"+o+" touchstart"+o,i[_b(457)].bind(i)),!1):void 0}}}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iAnim=new n(i)});var e=t.paramquery,n=e.cAnim=function(t){var e=this,n=e.model=t.options.animModel;e.grid=t,e.nodes=[],n.on&&t.on(n.events,e.onBefore.bind(e))},i=e.pqGrid.prototype,r=i.options;i.Anim=function(){return this.iAnim},r.animModel={duration:290,events:_a(147),eventsH:_a(148)},e.mixAnim={cleanUp:function(){(this.data||[]).forEach(function(t){t.pq_top=t.pq_hideOld=void 0}),this.data=this.render=null},stop:function(){this.nodes.forEach(function(t){t.stop()}),this.nodes=[]}},n.prototype=t.extend({isActive:function(){return this._active},onBefore:function(t,e){if(!t[_b(32)]()&&!this.data){var n,i=this,r=i.grid,a=r.iRenderB,o=i.data=a.data,s=i.render=[];try{i.htTbl=a.dims.htTbl,a.eachV(function(t,e){n=a.get$Row(e),t.pq_render=1,s.push([t,n.clone(),n.map(function(t,e){return e.parentNode})])}),o.forEach(function(t,e){t.pq_top=a.getTop(e),t.pq_hideOld=t.pq_hidden}),r.one("refresh",i.oneRefresh.bind(i)),setTimeout(function(){i.cleanUp()})}catch(l){i.data=null}}},oneRefresh:function(){if(this.data){var e,n=this,i=n.grid.iRenderB,r=n.model.duration,a=t([i.$tbl_left[0],i.$tbl_right[0]]),o=n.htTbl,s=i.dims.htTbl;n.stop(),n._active=!0,o>s&&a.css("height",o),setTimeout(function(){a.css("height",i.dims.htTbl),n._active=!1},r),i.eachV(function(t,a){delete t.pq_render;var o,s,l=i.getTop(a),u=t.pq_top;(u!=l||t.pq_hideOld)&&(e=i.get$Row(a),null==u||t.pq_hideOld?(o={opacity:0},s={opacity:1}):(o={top:u},s={top:l}),e.css(o).animate(s,r),n.nodes.push(e))}),n.render.forEach(n.removeRows.bind(n)),n.cleanUp()}},removeRows:function(e){var n,i=this,r=e[0],a=r.pq_ri,o=i.model.duration,s={opacity:1,top:r.pq_top};if(r.pq_render){if(delete r.pq_render,(n=e[1].each(function(n,i){t(i).removeAttr("id").appendTo(e[2][n]).children().removeAttr("id")})).css(s),null==a||r.pq_hidden)s={opacity:0};else try{s={top:i.grid.iRenderB.getTop(a)}}catch(l){s={opacity:0}}n.animate(s,o,function(){this.parentNode&&this.parentNode[_b(118)](this)}),i.nodes.push(n)}}},e.mixAnim)}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iAnimH=new n(i)});var e=t.paramquery,n=e.cAnimH=function(t){var e=this,n=t.options,i=e.model=n.animModel;e.grid=t,e.rtl=n.rtl?"right":"left",e.nodes=[],i.on&&t.on(i.eventsH,e[_b(458)].bind(e))};e.pqGrid.prototype.AnimH=function(){return this.iAnimH},n.prototype=t.extend({get$Col:function(){var t=this.grid,e=t.iRenderB,n=t[_b(112)],i=t.iRenderSum,r=e[_b(459)](),a=n[_b(459)](),o=i[_b(459)]();return function(t){return e.get$Col(t,r).add(n.get$Col(t,a)).add(i.get$Col(t,o))}},onBeforeCol:function(t){if(!t[_b(32)]()&&!this.data){var e,n=this,i=n.grid,r=n.data=i[_b(173)](),a=n.get$Col(),o=i.iRenderB,s=n.render=[];try{r.forEach(function(t,e){t.pq_hideOld=t.hidden,t.pq_top=o.getLeft(e)})}catch(l){return void n.cleanUp()}o.eachH(function(t,n){e=a(n),t.pq_render=1,s.push([t,e.clone(),e.map(function(t,e){return e.parentNode.id})])}),i.one("softRefresh refresh",n[_b(460)].bind(n))}},oneRefreshCol:function(){if(this.data){var t,e=this,n=e.grid.iRenderB,i=e.model.duration,r=e.get$Col();e.stop(),n.eachH(function(a,o){delete a.pq_render;var s=n.getLeft(o),l=a.pq_top,u=e.rtl,c={opacity:0},h={opacity:1},d={};(l!=s||a.pq_hideOld)&&(t=r(o),null==l?t.css(c).animate(h,i):a.pq_hideOld?(c[u]=l,h[u]=s,t.css(c).animate(h,i)):(d[u]=s,t.css(u,l).animate(d,i)),e.nodes.push(t))}),e.render.forEach(e.removeCols.bind(e)),e.cleanUp()}},removeCols:function(e){var n,i,r=this,a=e[0],o=r.model.duration,s=r.grid,l=s.iRenderB,u=s.colIndxs[a.dataIndx];a.pq_render&&(delete a.pq_render,n=e[1].each(function(n,i){t(i).removeAttr("id").appendTo(document[_b(461)](e[2][n]))}),null==u||a.hidden?(n.css("opacity",1),i={opacity:0}):i={left:l.getLeft(u)},n.animate(i,o,function(){this.parentNode&&this.parentNode[_b(118)](this)}),r.nodes.push(n))}},e.mixAnim)}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.defaults;t(document).on("pqGrid:bootup",function(t,e){var n=e.instance;n[_b(462)]=new i(n)}),n.fillHandle="all",n.autofill=!0;var i=e[_b(463)]=function(t){var e=this;e.that=t,e.rtl=t.options.rtl,t.on("selectChange",e[_b(464)](e)).on("selectEnd",e[_b(465)](e)).on("assignTblDims",e.onRefresh(e)).on("keyDown",e.onKeyDown.bind(e))};i.prototype={getLT:function(t,e,n,i){var r=t-e/2;return Math.min(r+e,n["offset"+i])-e},create:function(){var e=this,n=e.that;if(!e.locked&&(e.remove(),1===(i=n.Selection().address()).length)){var i,r=(i=i[0]).r2,a=i.c2,o="parentNode",s=n.iMerge[_b(135)](r,a,!0),l=n.getCell(s);if(l.length&&!1!==n._trigger("beforeFillHandle",null,s)){var u=l[0][o][o],c=u[o],h=n.iRenderB[_b(344)](s[_b(71)],s.colIndx),d=e.getLT(h[2],10,u,"Width"),f={position:"absolute",top:e.getLT(h[3],10,u,"Height"),height:10,width:10,background:"#333",cursor:"crosshair",border:"2px solid #fff",zIndex:1},p=t(_a(149)).appendTo(c);f[e.rtl?"right":"left"]=d,p.css(f),e.$wrap=p,e[_b(260)](),e[_b(466)]()}}},onSelectChange:function(t){return function(){t.remove()}},onSelectEnd:function(t){return function(){this.options.fillHandle&&t.create()}},onRefresh:function(t){var e;return function(){this.options.fillHandle?(clearTimeout(e),e=setTimeout(function(){t.that.element&&t.create()},50)):t.remove()}},remove:function(){var t=this.$wrap;t&&t.remove()},setDoubleClickable:function(){var t=this,e=t.$wrap;e&&e.on("dblclick",t.onDblClick(t.that,t))},setDraggable:function(){var t=this,e=t.$wrap;e&&e.draggable({helper:function(){return _a(150)},appendTo:t.that.$cont,start:t.onStart.bind(t),drag:t.onDrag.bind(t),stop:t.onStop.bind(t)})},patternDate:function(t){var e=this;return function(n){var i=new Date(t);return i.setDate(i.getDate()+(n-1)),e.formatDate(i)}},formatDate:function(t){return t.getMonth()+1+"/"+t.getDate()+"/"+t[_b(467)]()},patternDate2:function(t,e){var n,i=new Date(t),r=new Date(e),a=this,o=r.getDate()-i.getDate(),s=r.getMonth()-i.getMonth(),l=r[_b(467)]()-i[_b(467)]();return!s&&!l||!o&&!s||!l&&!o?function(e){var n=new Date(t);return o?n.setDate(n.getDate()+o*(e-1)):s?n.setMonth(n.getMonth()+s*(e-1)):n[_b(468)](n[_b(467)]()+l*(e-1)),a.formatDate(n)}:(i=Date.parse(i),n=Date.parse(r)-i,function(t){var e=new Date(i+n*(t-1));return a.formatDate(e)})},getDT:function(t){for(var e,n,i,r=t.length,a=0,o=pq.valid;r>a;a++){if(o.isFloat(e=t[a])?i="number":o.isDate(e)&&(i="date"),n&&n!=i)return"string";n=i}return i},pattern:function(t){var e=this.getDT(t);if("string"==e||!e)return!1;var n,i,r,a=t.length,o="date"===e;return o||(t=t.map(function(t){return 1*t})),2===a?o?this[_b(469)](t[0],t[1]):(i=t[0]-(n=t[1]-t[0]),function(t){return n*t+i}):3===a&&(r=t[0]-(n=(t[2]-2*t[1]+t[0])/2)-(i=t[1]-t[0]-3*n),function(t){return n*t*t+i*t+r})},autofillVal:function(t,e,n,i){var r,a,o,s,l,u=this.that,c=t.r1,h=t.c1,d=t.r2,f=t.c2,p=e.r1,g=e.c1,v=e.r2,m=e.c2,_=[];if(i){for((s={r1:c,r2:d}).c1=h>g?g:f+1,s.c2=h>g?h-1:m,l=g-h,a=g;m>=a;a++)if(l++,h>a||a>f)for(r=0,o=c;d>=o;o++)_.push(n[r](l,a)),r++}else for((s={c1:h,c2:f}).r1=c>p?p:d+1,s.r2=c>p?c-1:v,l=p-c,a=p;v>=a;a++)if(l++,c>a||a>d)for(r=0,o=h;f>=o;o++)_.push(n[r](l,a)),r++;return u.Range(s).value(_),!0},autofill:function(t,e){var n,i,r,a,o,s,l,u,c=this.that,h=c.colModel,d=c.get_p_data(),f=[],p=t.r1,g=t.c1,v=t.r2,m=t.c2,_=e.c1!=g||e.c2!=m;if(_){for(o=p;v>=o;o++){if(c._trigger("autofillSeries",null,l={sel:{r:o,c:g},x:!0}),!(u=l.series))return;f.push(u)}return this[_b(470)](t,e,f,_)}for(s=g;m>=s;s++){for(i=(n=h[s]).dataType,a=n.dataIndx,r=[],o=p;v>=o;o++)r.push(d[o][a]);if(c._trigger("autofillSeries",null,l={cells:r,sel:{r1:p,c:s,r2:v,r:p}}),!(u=l.series||this.pattern(r,i)))return;f.push(u)}return this[_b(470)](t,e,f)},onKeyDown:function(e){if(!this.oldAF&&pq.isCtrl(e)){var n=this,i=n.that.options;n.oldAF=i.autofill,i.autofill=!1,t(document.body).one("keyup",function(){i.autofill=n.oldAF,delete n.oldAF})}},onStop:function(){var t=this,e=t.that,n=e.options.autofill,i=t.sel,r=e.Selection().address()[0];i.r1==r.r1&&i.c1==r.c1&&i.r2==r.r2&&i.c2==r.c2||n&&t.autofill(i,r)||e.Range(i).copy({dest:r}),t.locked=!1},onStart:function(){this.locked=!0,this.sel=this.that.Selection().address()[0]},onDrag:function(e){var n=this.that,i=n.options.fillHandle,r="all"==i,a=r||"horizontal"==i,o=r||"vertical"==i,s=e.clientX-10,l=e.clientY,u=document[_b(37)](s,l),c=t(u).closest(".pq-grid-cell");if(c.length){var h=n[_b(33)]({$td:c}),d=this.sel,f=d.r1,p=d.c1,g=d.r2,v=d.c2,m={r1:f,c1:p,r2:g,c2:v},_=function(t,e){m[t]=e,n.Range(m).select()},y=h.rowIndx,b=h.colIndx;r&&g>=y&&y>=f||a&&!o?b>v?_("c2",b):p>b&&_("c1",b):o&&(y>g?_("r2",y):f>y&&_("r1",y))}},onDblClick:function(t,e){return function(){var n=t.options,i=n.fillHandle;if("all"==i||"vertical"==i){for(var r,a=t.Selection().address()[0],o=a.c2,s=a.r2+1,l=n.dataModel.data,u=t[_b(173)]()[o].dataIndx;r=l[s];){if(null!=r[u]&&""!==r[u]){s--;break}s++}e.onStart(),t.Range({r1:a.r1,c1:a.c1,r2:s,c2:o}).select(),e.onStop()}}}}}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,n){new e(n.instance)});var e=t.paramquery.cScroll=function(t){var e=this;e.that=t,e.ns=".pqgrid-csroll",e.rtl=t.options.rtl,t.on("create",e.onCreate.bind(e))};e.prototype={onCreate:function(){var e=this,n=e.that,i=n.iDrop&&n.iDrop.isOn();t(i?document:n.$cont).on("mousedown",e[_b(457)].bind(e))},onMouseDown:function(e){var n,i=this,r=i.that,a=t(e.target),o=(i.$draggable=a.closest(".ui-draggable")).length,s=i.ns;(o||a.closest(r.$cont).length)&&(n=a.closest(".pq-fill-handle").length,t(document).on("mousemove"+s,i[o&&!n?"onMouseMove":"process"].bind(i)).on("mouseup"+s,i.onMouseUp.bind(i)))},onMouseMove:function(t){var e=this,n=e.that;(e.capture||pq[_b(452)](t).closest(n.$cont).length&&n.iDrop.isOver())&&(e.capture=!0,e.process(t))},onMouseUp:function(){t(document).off(this.ns),this.capture=!1},process:function(t){var e=this,n=e.that.$cont,i=n[0][_b(162)],r=n[0][_b(161)],a=n.offset(),o=a.top,s=a.left,l=o+i,u=s+r,c=t.pageY,h=t.pageX,d=c-l,f=h-u,p=o-c,g=s-h;h>s&&u>h&&(d>0||p>0)?d>0?e.scrollV(d,!0):p>0&&e.scrollV(p):c>o&&l>c&&(f>0?e.scrollH(f,!0):g>0&&e.scrollH(g))},scrollH:function(t,e){this.scroll(t,this.rtl?!e:e,!0)},scrollV:function(t,e){this.scroll(t,e)},scroll:function(t,e,n){var i=this.that.iRenderB,r=i[_b(471)]()[0],a=r[n?"scrollWidth":"scrollHeight"],o=pq[n?"scrollLeft":"scrollTop"](r);t=Math.pow(t,1e3>a?1:1+(a-1e3)/a),i[n?"scrollX":"scrollY"](o+(e?t:-t))}}}(jQuery),function(t){var e=t.paramquery;e.cFormula=function(t){var e=this;e.that=t,e.oldF=[],t.one("ready",function(){t.on("CMInit",e.onCMInit.bind(e))}).on("beforePivotSummary",e[_b(472)].bind(e)).on("dataAvailable",e.onDA.bind(e)).on(!0,"change",e.onChange.bind(e))},e.cFormula.prototype={onCMInit:function(){var t=this;t[_b(473)](t.oldF,t.formulas())&&t[_b(472)]()},callRow:function(t,e,n){var i=this.that,r=0;if(t)for(;n>r;r++){var a=e[r],o=a[0];t[o.dataIndx]=a[1].call(i,t,o,a[2])}},onDA:function(){this[_b(472)]()},isFormulaChange:function(t,e){var n=!1,i=0,r=t.length;if(r==e.length){for(;r>i;i++)if(t[i][1]!=e[i][1]){n=!0;break}}else n=!0;return n},calcMainData:function(){var t=this[_b(474)](),e=this.that,n=t.length;if(n){for(var i=e.options.dataModel.data,r=i.length;r--;)this.callRow(i[r],t,n);e._trigger("formulaComputed")}},onChange:function(t,e){var n,i=this,r=i.that,a=i.formulas(),o=a.length,s=e.addList,l=e.updateList,u=function(t){i.callRow(t.rowData,a,o)};o&&(s.forEach(u),l.forEach(u),1!=l.length||s.length||(n=l[0],a.forEach(function(t){r[_b(168)]({rowIndx:n.rowIndx,dataIndx:t[0].dataIndx})})))},formulas:function(){var t,e,n,i=this.that,r=[],a=i.colIndxs;return(i.options.formulas||[]).forEach(function(o){(t=i.getColumn({dataIndx:n=o[0]}))&&(e=o[1])&&r.push([t,e,a[n]])}),r},formulaSave:function(){var t=this.formulas();return this.oldF=t,t}}}(jQuery),function(t){var e=t.paramquery;e.pqGrid.defaults.treeModel={cbId:"pq_tree_cb",source:"checkboxTree",childstr:"children",iconCollapse:[_a(127),"ui-icon-triangle-1-e"],iconFolder:["ui-icon-folder-open",_a(151)],iconFile:"ui-icon-document",id:"id",indent:18,parentId:"parentId",refreshOnChange:!0},e.pqGrid.prototype.Tree=function(){return this.iTree},t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iTree=new n(i)});var n=e.cTree=function(t){var e=this;e.Model=t.options.treeModel,e.that=t,e.fns={},e.init(),e.isTree=!0,e.cache={},e.chkRows=[],Object[_b(40)](e.Model,"nodeClose",{get:function(){return e.fillState({})},set:function(t){e.nodeClose=t}})};n.prototype=t.extend({},pq.mixin.ChkGrpTree,pq.mixin.GrpTree,{addNodes:function(t,e,n){var i,r,a,o,s,l=this,u=l.that,c=l.Model,h=u.options.dataModel.data,d=l.parentId,f=l.childstr,p=l.id,g={},v=[],m=0,_=l.cache,y=[];if(t.forEach(function(t){o=t[d],s=s||_[o],l.eachChild(t,function(t,e){var n=t[p];_[n]||g[n]||(g[n]=t,e&&(t[d]=e[p]),v.push(t))},e||_[o])}),v.forEach(function(t){g[o=t[d]]||_[o]||delete t[d]}),i=((e=e||s)||{})[f]||l.getRoots()||[],r=h.indexOf((a=i.length)?0==n?e:null==n||n>a?i[a-1]:i[n-1]:e)+1,a=v.length){for(;a>m;m++)y.push({newRow:v[m],rowIndx:r++});u[_b(179)]({addList:y,checkEditable:!1,source:"addNodes",history:c.historyAdd}),l[_b(16)]()}},updateId:function(t,e){var n=this.id,i=this.parentId,r=t[n],a=this.cache;a[e]||(t[n]=e,a[e]=t,delete a[r],(this[_b(450)](t)||[]).forEach(function(t){t[i]=e}))},collapseAll:function(t){this[t?"expandNodes":"collapseNodes"](this.that.options.dataModel.data)},collapseNodes:function(t,e,n){for(var i,r,a=0,o=this.that,s=t.length,l=[],u=!n;s>a;a++)this.isFolder(i=t[a])&&this[_b(475)](i)!==u&&l.push(i);if(l.length&&!1!==o._trigger("beforeTreeExpand",e,r={close:u,nodes:l})){for(s=l.length,a=0;s>a;a++)(i=l[a]).pq_close=u;o._trigger("treeExpand",e,r),this[_b(426)](!1),this[_b(16)]()}},deleteNodes:function(t){var e,n=this,i=n.that,r=n.Model,a=0,o={},s=n.id,l=[];if(t){for(e=t.length;e>a;a++)n.eachChild(t[a],function(t){var e=t[s];o[e]||(o[e]=1,l.push({rowData:t}))});i[_b(179)]({deleteList:l,source:"deleteNodes",history:r[_b(476)]}),n[_b(16)]()}},makeLeaf:function(t){t[this.childstr]=t.pq_close=t[_b(10)]=void 0},expandAll:function(){this[_b(477)](!0)},expandNodes:function(t,e){this[_b(478)](t,e,!0)},expandTo:function(t){var e=[];do{t.pq_close&&e.push(t)}while(t=this.getParent(t));this[_b(479)](e)},exportCell:function(t,e){for(var n="",i=0;e>i;i++)n+="- ";return n+(null==t?"":t)},filter:function(t,e,n,i,r,a,o){for(var s,l,u,c,h=this,d=h.childstr,f=h.Model[_b(480)],p=0,g=t.length,v=function(t,e){u=e||u,o?t.pq_hidden=t.pq_filter=!e:e?r.push(t):a.push(t)};g>p;p++){if(l=!1,c=(s=t[p])[d]){if(f&&n.isMatchRow(s,e,i)){h.eachChild(s,function(t){v(t,!0)}),u=!0;continue}(l=h.filter(c,e,n,i,r,a,o))&&v(s,!0)}l||v(s,n.isMatchRow(s,e,i))}return u},getFormat:function(){for(var t,e,n=this,i=n.that.options.dataModel.data,r=0,a=i.length,o=n.parentId,s=n.childstr;a>r&&null==(t=i[r])[o];r++)if((e=t[s])&&e.length)return n.getParent(e[0])==t?"flat":"nested";return"flat"},getChildrenAll:function(t,e){for(var n,i=this.childstr,r=t[i]||[],a=r.length,o=0,s=e||[];a>o;o++)s.push(n=r[o]),n[i]&&this[_b(481)](n,s);return s},getLevel:function(t){return t.pq_level},_groupById:function(t,e,n,i,r){for(var a,o=this.childstr,s=0,l=n.length;l>s;s++){var u=n[s],c=u[e];u.pq_level=r,t.push(u),(a=i[c])?(u[o]=a,this._groupById(t,e,a,i,r+1)):(null!=u.pq_close||u[o])&&(u[o]=[])}},groupById:function(t){for(var e,n,i,r=this,a=r.id,o=r.parentId,s={},l=[],u=0,c=t.length;c>u;u++)null==(e=(i=t[u])[o])&&(e=""),(n=s[e])||(n=s[e]=[]),n.push(i);return r._groupById(l,a,s[""]||[],s,0),l},init:function(){var t=this,e=t.that,n=e.options,i=t.Model,r=i.cbId,a=t.dataIndx=i.dataIndx;t.cbId=r,t.prop="pq_tree_prop",t.id=i.id,t.parentId=i.parentId,t.childstr=i.childstr,t.onCMInit(),a?t._init||(t.on("CMInit",t.onCMInit.bind(t)).on("dataAvailable",t[_b(482)].bind(t)).on("dataReadyAfter",t[_b(483)].bind(t)).on("beforeCellKeyDown",t[_b(484)].bind(t)).on("customSort",t[_b(434)].bind(t)).on("customFilter",t[_b(485)].bind(t)).on("clearFilter",t[_b(486)].bind(t)).on("change",t.onChange(t,e,i)).on("cellClick",t[_b(370)].bind(t)).on("refresh refreshRow",t.onRefresh(t,i)).on("valChange",t.onCheckbox(t,i)).on("refreshHeader",t[_b(297)].bind(t)).on("beforeCheck",t[_b(300)].bind(t)),t[_b(426)](!0),t._init=!0):t._init&&(t.off(),t._init=!1),t._init&&(n.groupModel.on=i.summary)},initData:function(){var t=this,e=t.that.options.dataModel;e.data=t["flat"==t.getFormat()?"groupById":"flatten"](e.data),t.buildCache()},isCollapsed:function(t){return!!t.pq_close},isOn:function(){return null!=this.Model.dataIndx},moveNodes:function(t,e,n,i){var r,a,o,s,l,u,c,h=this,d=arguments,f=h.that,p=n,g=h.parentId,v=h.id,m=h.childstr,_=f.options,y=h.Model,b=_.dataModel,x=h.getRoots(),w=!i,k=e?e[m]=e[m]||[]:x,C=k.length,M={},T=[],S=(n=null==n||n>=C?C:n,k);if(e&&(a=e[v]),t.forEach(function(t){M[t[v]]=1}),t.forEach(function(t){M[t[g]]||T.push(t)}),u=T.length){if(f._trigger("beforeMoveNode",null,{args:d}),w&&u>1)for(o=h.getParent(c=T[0]),s=(r=o?o[m]:x).indexOf(c),l=1;u>l;l++)if(r[l+s]!=T[l]){w=!1;break}for(l=0;u>l;l++)o=h.getParent(c=T[l]),s=(r=o?o[m]:x).indexOf(c),o==e?n=pq.moveItem(c,S,s,n):(S.splice(n++,0,c),r.splice(s,1)),y[_b(487)]&&o&&h.isEmpty(o)&&h.makeLeaf(o),c[g]=a;y[_b(488)]&&w&&f.iHistory.push({callback:function(n){var i=s;e==o&&i>p&&(i+=1),h.moveNodes(t,n?e:o,n?p:i,!0)}}),b.data=h.flatten(x),f._trigger("moveNode",null,{args:d}),f[_b(16)]()}},off:function(){var t,e=this.fns,n=this.that;for(t in e)n.off(t,e[t]);this.fns={}},on:function(t,e){return this.fns[t]=e,this.that.on(t,e),this},onCellClick:function(e,n){var i=this;n.dataIndx==i.dataIndx&&t(e[_b(31)].target).hasClass("pq-group-icon")&&(pq.isCtrl(e)?i[n.rowData.pq_close?"expandAll":"collapseAll"]():i.toggleNode(n.rowData,e))},onBeforeCellKeyDown:function(e,n){var i,r,a=this,o=a.that,s=n.rowData,l=n.dataIndx,u=e.keyCode,c=t.ui.keyCode;if(l==a.dataIndx){if(a.isFolder(s)&&(r=s.pq_close,u==c.ENTER&&!o.isEditable({rowIndx:s.pq_ri,dataIndx:l})||!r&&u==c.LEFT||r&&u==c.RIGHT))return a.toggleNode(s),!1;if(u==c.SPACE&&(i=o.getCell(n).find(_a(152))).length)return i.click(),!1}},hasSummary:function(){var t=this.Model;return t.summary||t[_b(17)]},onChange:function(t,e,n){return function(i,r){var a=r.source||"",o=r.addList.length,s=r.deleteList,l=s.length;-1==a.indexOf("checkbox")&&("undo"!=a&&"redo"!=a||!o&&!l?t.hasSummary()&&n[_b(489)]&&!o&&!l?(t[_b(490)](!0),e.refresh()):"addNodes"!=a&&"deleteNodes"!=a||t[_b(491)]():t[_b(491)](),n[_b(487)]&&s.forEach(function(e){var n=t.getParent(e.rowData);n&&t.isEmpty(n)&&t.makeLeaf(n)}))}},clearFolderCheckbox:function(t){var e=this,n=e.cbId;t.forEach(function(t){e.isFolder(t)&&delete t[n]})},onClearFilter:function(t,e){return this[_b(492)](e.data),e.data=this.groupById(e.data),!1},onCustomFilter:function(t,e){var n=this,i=n.that,r=n.groupById(e.data),a=i[_b(156)],o=e.filters,s=[],l=[],u=e.mode;return n.filter(n.getRoots(r),o,a,u,s,l,e.hideRows),e.dataTmp=n.groupById(s),e.dataUF=l,n[_b(492)](e.dataTmp),!1},onDataAvailable:function(){this.initData()},refreshSummary:function(t){var e=this;e.summaryT(),e.that.iRefresh.addRowIndx(),t&&e[_b(493)]()},onDataReadyAfter:function(){var t=this,e=t.that.options.dataModel,n=t.Model;t.hasSummary()&&(n[_b(494)]&&n[_b(17)]&&e.dataUF.length||t[_b(490)]()),t[_b(493)](),t.isCascade(n)&&t[_b(432)]()},option:function(e,n){var i,r=this,a=r.that,o=r.Model,s=o.dataIndx;t.extend(o,e),i=o.dataIndx,r[_b(13)](),r.init(),!s&&i&&r.initData(),!1!==n&&a[_b(16)]()},renderCell:function(t,e){return function(n){var i,r,a,o,s,l,u,c=n.rowData,h=t.that,d=e.indent,f=n.column,p=f[_b(301)]||e.render,g=e[_b(495)],v=e.checkbox,m=t.isFolder(c),_=t._iconCls(c,m,e),y=c.pq_level||0,b=y*d,x=["pq-group-title-cell"],w=["text-indent:",m?b:b+1*d,"px;"],k=n.formatVal||n.cellData;if(p){var C=h.callFn(p,n);null!=C&&("string"!=typeof C?(C.iconCls&&(_=C.iconCls),null!=C.text&&(k=C.text),s=C.attr,x.push(C.cls),w.push(C.style)):k=C)}return n.Export?t.exportCell(k,y):(v&&(l=t.renderCB(v,c,e.cbId))&&(u=l[0],l[1]&&x.push(l[1])),m&&(a=c.pq_close?g[1]:g[0],r=_a(153)+a+"'></span>"),_&&(o=_a(154)+_+"'></span>"),i=u&&(f.useLabel||e.useLabel),{cls:x.join(" "),attr:s,style:w.join(""),text:[r,o,i?"<label>":"",u,k,i?"</label>":""].join("")})}},refreshViewFull:function(t){var e=this,n=e.that.options.dataModel;n.data=e.groupById(n.data),e.buildCache(),t&&e[_b(16)]()},_iconCls:function(t,e,n){if(n.icons){var i;if(e&&(i=n.iconFolder))return t.pq_close?i[1]:i[0];if(!t[_b(9)])return n.iconFile}},setCellRender:function(){var t,e,n=this,i=n.that,r=n.Model,a=i.columns;r.summary&&i.iGroup[_b(436)](),(t=n.di_prev)&&((e=a[t])&&(e._render=null),n.di_prev=null),(t=r.dataIndx)&&((e=a[t])._render=n.renderCell(n,r),n.di_prev=t)},_showHideRows:function(t,e,n){for(var i,r,a,o,s,l=this,u=l.id,c=l.nodeClose,h=e||l.getRoots(),d=l.childstr,f=n||!1,p=h.length,g=0;p>g;g++)(a=h[g]).pq_filter||(a.pq_hidden=f),(s=a[d])&&(c&&null!=(r=c[i=a[u]])&&(delete c[i],a.pq_close=r),o=f||a.pq_close,l[_b(496)](t,s,o))},showHideRows:function(){var t,e,n,i=this,r=i.that,a=0,o=r.get_p_data(),s=i.Model.summary;if(i[_b(496)](o),s)for(e=(o=r.pdata).length;e>a;a++)(n=o[a])[_b(9)]&&(t=i.getParent(n))&&(n.pq_hidden=t.pq_hidden)},toggleNode:function(t,e){this[t.pq_close?"expandNodes":"collapseNodes"]([t],e)}})}(jQuery),function(t){var e=t.paramquery,n=e.pqGrid.prototype,i=function(t){this.that=t;var e=t.options;this.options=e,this.selection=[],this.hclass=" pq-state-select "+(e.bootstrap.on?"":"ui-state-highlight")};e.cRows=i,n.SelectRow=function(){return this.iRows},i.prototype={_add:function(t,e){var n,i=this.that,r=t[_b(71)],a=!e,o=t.rowData,s=this.inViewRow(r);return!o.pq_hidden&&s&&(n=i.getRow(t)).length&&(n[a?"addClass":"removeClass"](this.hclass),!a&&n.removeAttr("tabindex")),o[_b(2)]=a,t},_data:function(t){var e=this.that,n=(t=t||{}).all,i=n?0:e.riOffset,r=e.get_p_data();return[r,i,i+(n?r.length:e.pdata.length)]},add:function(t){var e=t.addList=t.rows||[{rowIndx:t.rowIndx}];t.isFirst&&this.setFirst(e[0].rowIndx),this.update(t)},extend:function(t){var e,n,i,r,a=t.rowIndx,o=[],s=this.getFirst();if(null!=s){if(null==(r=this.isSelected({rowIndx:s})))return;for(s>a?(n=s=[a,a=s][0],i=a-1):(n=s+1,i=a),e=n;i>=e;e++)o.push({rowIndx:e});this.update(r?{addList:o}:{deleteList:o})}},getFirst:function(){return this._firstR},getSelection:function(){for(var t,e=this.that.get_p_data(),n=0,i=e.length,r=[];i>n;n++)(t=e[n])&&t[_b(2)]&&r.push({rowIndx:n,rowData:t});return r},inViewCol:function(t){var e=this.that,n=e.iRenderB;return e.options.freezeCols>t||t>=n.initH&&t<=n.finalH},inViewRow:function(t){var e=this.that,n=e.iRenderB;return e.options.freezeRows>t||t>=n.initV&&t<=n.finalV},isSelected:function(t){var e=t.rowData||this.that.getRowData(t);return e?!0===e[_b(2)]:null},isSelectedAll:function(t){for(var e,n=this._data(t),i=n[0],r=n[1],a=n[2];a>r;r++)if((e=i[r])&&!e[_b(2)])return!1;return!0},removeAll:function(t){this.selectAll(t,!0)},remove:function(t){var e=t.deleteList=t.rows||[{rowIndx:t.rowIndx}];t.isFirst&&this.setFirst(e[0].rowIndx),this.update(t)},replace:function(t){t.deleteList=this[_b(202)](),this.add(t)},selectAll:function(t,e){for(var n,i=[],r=this.that.riOffset,a=this._data(t),o=a[0],s=a[1],l=a[2];l>s;s++)(n=o[s])&&i.push({rowIndx:s,rowIndxPage:s-r,rowData:n});this.update(e?{deleteList:i}:{addList:i},!0)},setFirst:function(t){this._firstR=t},toRange:function(){for(var t,e,n=[],i=this.that,r=i.get_p_data(),a=0,o=r.length;o>a;a++)r[a][_b(2)]?null!=t?e=a:t=e=a:null!=t&&(n.push({r1:t,r2:e}),t=e=null);return null!=t&&n.push({r1:t,r2:e}),i.Range(n)},toggle:function(t){this[this.isSelected(t)?"remove":"add"](t)},toggleAll:function(t){this[this[_b(497)](t)?"removeAll":"selectAll"](t)},update:function(t,e){var n=this,i=n.that,r={source:t.source},a=function(t){return e?t:i[_b(211)](t)},o=a(t.addList||[]),s=a(t.deleteList||[]);if(o=o.filter(function(t){return!1===n.isSelected(t)}),s=s.filter(n.isSelected.bind(n)),o.length||s.length){if(r.addList=o,r.deleteList=s,!1===i._trigger("beforeRowSelect",null,r))return;r.addList.forEach(function(t){n._add(t)}),r.deleteList.forEach(function(t){n._add(t,!0)}),i._trigger("rowSelect",null,r)}}}}(jQuery),function(t){var e=t.paramquery;t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iImport=new n(i)}),e.pqGrid.prototype.importWb=function(t){return this.iImport.importWb(t)};var n=e.cImport=function(t){this.that=t};n.prototype={fillRows:function(t,e,n){for(var i=t.length;e>i;i++)t.push(n?{}:[])},generateCols:function(t,e,n){var i,r,a=[],o=0,s=0,l=pq.excel.colWidth,u=[];for((n?n.cells:[]).forEach(function(t,e){u[t.indx||e]=t.value}),(e=e||[]).forEach(function(t,e){a[s=t.indx||e]=t}),t=Math.max(t,e.length,s+1);t>o;o++)this.copyStyle(i=a[o]||{},r={_title:u[o]||"",title:this._render,width:i.width||l,style:{},halign:"center"},r.style),i.hidden&&(r.hidden=!0),a[o]=r;return a},_render:function(t){return t.column._title||pq.toLetter(t.colIndx)},importS:function(t,n,i,r,a){var o,s,l,u,c,h,d,f,p,g,v,m,_,y,b,x,w=t.mergeCells,k=this,C=[],M={},T=0,S=t.rows||[],A=t.frozenRows||0,E=0,P=k.that.colModel,I=0,O=P&&P.length,R=e.cFormulas.shiftRC();for(null!=a&&(h=S[a],S=S.slice(I=a+1),A=(A-=I)>0?A:0),E=0,x=S.length;x>E;E++)s=(o=S[E]).indx||E,d=(l={}).pq_cellprop={},f=l.pq_cellstyle={},p=l.pq_cellattr={},g=l[_b(238)]={},v=l.pq_rowprop={},k.copyStyle(o,v,g),s!=E&&k.fillRows(C,s,!0),(o.cells||[]).forEach(function(t,e){u=t.indx||e,l[c=r&&O&&P[u]?P[u].dataIndx:u]=t.value,_=d[c]={},y=f[c]={},k.copyStyle(t,_,y),(m=t.comment)&&(p[c]={title:m}),t.format&&k.copyFormat(l,c,t.format),(b=t.formula)&&k[_b(498)](l,c,I?R(b,0,-I):b),u>=T&&(T=u+1)}),o.htFix>=0&&(l.pq_ht=o.htFix,l.pq_htfix=!0),o.hidden&&(l.pq_hidden=!0),C[s]=l;return M.title=t.name,n&&k.fillRows(C,C.length+n,!0),M.dataModel={data:C},T+=i||0,!r&&T&&(M.colModel=k[_b(499)](T,t.columns,h)),M.mergeCells=(w||[]).map(function(t){var e=pq.getAddress(t);return e.r1-=I,e.r2-=I,e}).filter(function(t){return t.r1>=0}),M.freezeRows=A,M.freezeCols=t.frozenCols,M.pics=t.pics,M},copyFormula:function(t,e,n){(t.pq_fn=t.pq_fn||{})[e]=n},copyFormat:function(t,e,n){var i=t[_b(127)];i=i[e]=i[e]||{},n=pq[_b(237)](n)?pq.excelToJui(n):pq.excelToNum(n),i.format=n},copyStyle:function(t,e,n){var i,r;if((i=t.font)&&(n["font-family"]=i),(i=t.fontSize)&&(n["font-size"]=i+"px"),(i=t.color)&&(n.color=i),(i=t.bgColor)&&(n["background-color"]=i),null!=(i=t.bold)&&(n["font-weight"]=i?"bold":"normal"),t.italic&&(n["font-style"]="italic"),t.underline&&(n["text-decoration"]="underline"),t.wrap&&(n["white-space"]="normal"),(i=t.align)&&(e.align=i),(i=t.valign)&&(e.valign=i),i=t.border)for(r in i)n["border-"+r]=i[r]},applyOptions:function(t,e){var n=t.options.dataModel,i=e.dataModel;if(i){for(var r in i)n[r]=i[r];delete e.dataModel}t.option(e)},importWb:function(t){var e,n=t.workbook,i=n.activeId||0,r=this,a=r.that.iTab,o=a.tabs(),s=a.main(),l=t.sheet,u=function(e){return r.importS(e,t.extraRows,t.extraCols,t.keepCM,t[_b(500)])},c=function(t){r[_b(501)](s,t)};o?(a.clear(),n.sheets.forEach(function(e,n){var r={sheet:e,extraRows:t.extraRows,extraCols:t.extraCols,name:e.name,hidden:e.hidden};o.push(r),n==i&&(r._inst=s,c(u(e)))}),a.model.activeId=i,s.element.show(),a.refresh()):(l=l||0,(e=n.sheets.filter(function(t,e){return l==e||l&&l==t.name})[0])&&c(u(e))),s._trigger("importWb"),s[_b(115)]()}}}(jQuery),function(t){pq[_b(502)]={attr:function(){var t=new RegExp(_a(155),"gi");return function(e){e=(e=e||"").slice(0,e.indexOf(">"));var n={};return e.replace(t,function(t,e,i){n[e]=i}),n}}(),getComment:function(e){var n=this,i={},r=n.pxml(_a(156)+e+".xml.rels");if(r.length){var a=t(r.find(_a(157))[0]).attr("Target");a&&(a=a.split("/").pop(),(n[_b(503)]("xl/"+a).match(/<comment\s+[^>]*>([\s\S]*?)<\/comment>/g)||[]).forEach(function(e){var r=n.attr(e).ref,a=e.match(/<t(\s+[^>]*)?>([\s\S]*?)(?=<\/t>)/g),o=n.match(a[a.length-1],/[^>]*>([\s\S]*)/,1);i[r]=t.trim(o)}))}return i},getBase64:function(t){var e=JSZip.base64.encode(t.asBinary());return _a(158)+e},pxml:function(e){return t(t.parseXML(this[_b(503)](e)))},getPic:function(e,n){var i,r=this,a=[],o=r.files,s=r.match(e,/<drawing\s+r:id=\"([^\"]*)\"(\s*)\/>/i,1);if(s){var l,u,c,h=r.pxml(_a(156)+n+".xml.rels"),d=(d=t(h.find('Relationship[Id="'+s+'"]')[0]).attr("Target")).split("/").pop(),f={},p={},g=9500,v=r.pxml("xl/drawings/"+d),m=r.pxml("xl/drawings/_rels/"+d+".rels"),_=["col","colOff","row","rowOff"];for(i in m.find(_a(159)).each(function(e,n){u=t(n),f[u.attr("Id")]=u.attr("Target").match(/media\/(.*)/)[1]}),o)/media\/.*/.test(i)&&(l=i.match(/media\/(.*)/)[1],p[l]=r.getBase64(o[i]));v.find(_a(160)).each(function(e,n){var i=t(n),r=i.find("xdr\\:cNvPr"),o=r.attr("descr"),s=r.attr("id"),l=i.find("a\\:blip").attr("r:embed"),u=f[l],h=i.find("xdr\\:from"),d=i.find("xdr\\:to"),v=i.find("xdr\\:ext"),m=d.length,y=[],b=m?[]:null;_.forEach(function(t,e){c=e%2?g:1,y.push(h.find("xdr\\:"+t).text()/c),m&&b.push(d.find("xdr\\:"+t).text()/c)}),a.push({id:s,name:o,src:p[u],from:y,to:b,cx:m?0:v.attr("cx")/g,cy:m?0:v.attr("cy")/g})})}return a},cacheTheme:function(){var e=t(t.parseXML(this[_b(504)]("th"))).find("a\\:clrScheme").children(),n=this.themeColor=[];e.each(function(e,i){var r=t(i).children().attr("val");n[e]=r})},cacheStyles:function(){var e,n,i,r=this,a=t(t.parseXML(r[_b(505)]())),o=t.extend(!0,{},r[_b(506)]),s=[],l=[""],u=["",""],c=[];a.find("numFmts>numFmt").each(function(e,n){var i=t(n),r=i.attr("formatCode");o[i.attr("numFmtId")]=r}),a.find(_a(161)).each(function(e,n){var i=r.getColor(t(n).attr("rgb"));u.push(i)}),a.find("borders>border").each(function(e,n){var i=t(n).children(),a={},o="double";i.each(function(e,n){var i,s=t(n),l=s.children(),u=l.attr("theme"),c=u?"00"+r.themeColor[u]:0;l.length&&(i=s.attr("style"),a[n.tagName]=(i==o?"3px":"1px")+" "+(i==o?o:"solid")+" "+r.getColor(l.attr("rgb")||c||"00000000"))}),c.push(a)}),a.find("fonts>font").each(function(i,a){var o=t(a),s=1*o.find("sz").attr("val"),u=o.find("name").attr("val"),c=o.find("color").attr("rgb"),h={};return 0===i?(e=s,void(n=u[_b(36)]())):(o.find("b").length&&(h.bold=!0),c&&(h.color=r.getColor(c)),u&&u[_b(36)]()!=n&&(h.font=u),s&&s!=e&&(h.fontSize=s),o.find("u").length&&(h.underline=!0),o.find("i").length&&(h.italic=!0),void l.push(h))}),a.find("cellXfs>xf").each(function(e,n){var r,a,h,d=t(n),f=1*d.attr("numFmtId"),p=1*d.attr("fillId"),g=1*d.attr("borderId"),v=d.children("alignment"),m=1*d.attr("fontId"),_=m?l[m]:{},y={};for(h in v.length&&((r=v.attr("horizontal"))&&(y.align=r),(a=v.attr("vertical"))&&(y.valign=a),"1"==v.attr("wrapText")&&(y.wrap=!0)),f&&(/(?=.*m.*)(?=.*d.*)(?=.*y.*)/i.test(i=o[f])&&(i=i.replace(/(\[.*\]|[^mdy\/\-\s])/gi,"")),y.format=i),g&&(y.border=c[g]),p&&u[p]&&(y.bgColor=u[p]),_)y[h]=_[h];s.push(y)}),r.getStyle=function(t){return s[t]},a=0},getMergeCells:function(t){var e=this;return(t.match(/<mergeCell\s+.*?(\/>|<\/mergeCell>)/g)||[]).map(function(t){return e.attr(t).ref})},getFrozen:function(t){var e=this.match(t,/<pane.*?(\/>|<\/pane>)/,0),n=this.attr(e);return{r:1*n.ySplit||0,c:1*n.xSplit||0}},getFormula:function(e){var n={},i=t.paramquery.cFormulas.shiftRC();return function(t,r,a){if("<f"===t.substr(0,2)){var o,s=e.match(t,/^<f.*?>(.*?)<\/f>/,1),l=e.attr(t);return"shared"==l.t&&(s?n[l.si]={r:r,c:a,f:s}:s=i((o=n[l.si]).f,a-o.c,r-o.r)),s}}},getCols:function(t){for(var e=this,n=(t.match(/<dimension\s.*?\/>/)||[])[0],i=e.attr(n||"").ref,r=[],a=t.match(/<col\s.*?\/>/g)||[],o=i?pq.getAddress(i).c2+1:a.length,s=pq.excel.colRatio,l=0;o>l;l++)for(var u,c,h=e.attr(a[l]),d=1*h.min,f=1*h.max,p=1*h.hidden,g=1*h.width,v=h.style,m=v?e.getStyle(v):{},_=d;f>=_;_++){for(c in u={},p?u.hidden=!0:u.width=1*(g*s).toFixed(2),_!==r.length+1&&(u.indx=_-1),m)u[c]=m[c];r.push(u)}return r},getColor:function(t){return"#"+t.slice(2)},getPath:function(t){return this.paths[t]},getPathSheets:function(){return this.pathSheets},getFileTextFromKey:function(t){return this[_b(503)](this.getPath(t))},getFileText:function(t){var e;return t&&(e=this.files[t.replace(/^\//,"")])?e.asText():""},getSheetText:function(t){t=t||0;var e=this.pathSheets.filter(function(e,n){return e.name===t||n===t})[0].path;return this[_b(503)](e)},getStyleText:function(){return this[_b(504)]("st")},getSI:function(t){var e,n=[],i=pq[_b(507)],r=1*this.attr(this.match(t,/<sst.*?>[\s\S]*?<\/sst>/,0))[_b(508)];if(t.replace(/<si>([\s\S]*?)<\/si>/g,function(t,r){e=[],r.replace(/<t.*?>([\s\S]*?)<\/t>/g,function(t,n){e.push(n)}),n.push(i(e.join("")))}),r&&r!==n.length)throw"si misatch";return n},getCsv:function(t,e){var n=[],i=Math.random()+"";return t=t.replace("\ufeff","").replace(/(?:^|[^"]+)"(([^"]|"{2})+)"(?=([^"]+|$))/g,function(t,e){var r=t.indexOf(e);return n.push(e.replace(/""/g,'"')),t.slice(0,r-1)+i+(n.length-1)+i}),e=e||new RegExp(-1==t.indexOf("\t")?",":"\t","g"),{sheets:[{rows:t.split(/\r\n|\r|\n/g).map(function(t){return{cells:t.split(e).map(function(t){if(0==t.indexOf(i)){var e=t.slice(i.length,t.indexOf(i,1));t=n[e]}else'""'===t&&(t="");return{value:t}})}})}]}},getWorkBook:function(t,e,n){var i=this,r={};e?r[e]=!0:"string"==typeof t&&(r.base64=!0),i.files=new JSZip(t,r).files,i.readPaths(),i.cacheTheme(),i[_b(509)]();var a=this.getPath("ss"),o=[],s=a?this.getSI(this[_b(503)](a)):[];return i[_b(510)]().forEach(function(t,e){if(!n||n.indexOf(e)>-1||n.indexOf(t.name)>-1){var r=i[_b(503)](t.path),a=i.match(r,/<sheetData.*?>([\s\S]*?)<\/sheetData>/,1),l=i[_b(511)](r,a,s,t.name,e+1);t.hidden&&(l.hidden=!0),o.push(l)}}),delete i.files,{sheets:o,activeId:i.activeId}},getWorkSheet:function(t,e,n,i,r){var a,o,s,l,u,c,h,d,f,p,g,v,m,_,y,b,x,w,k,C,M,T=this,S=T.getComment(r),A=[],E=0,P=pq.toNumber,I=T.getFormula(T),O=pq.formulas,R=pq[_b(237)],L=T[_b(512)](t),D=e.match(/<row[^<]*?\/>|<row.*?<\/row>/g)||[],N=T.getCols(t),Z={},F=0,U=D.length;for(N.forEach(function(t,e){Z[t.indx||e]=t});U>F;F++){for(a in c={cells:[]},C=(_=T.attr(w=D[F])).r,_[_b(513)]&&(c.htFix=1.5*_.ht),M=(f=_.s)?T.getStyle(f):{})c[a]=M[a];(k=C?C-1:F)!==F&&(c.indx=k),_.hidden&&(c.hidden=!0);for(var B=0,z=(h=w.match(/(<c[^<]*?\/>|<c.*?<\/c>)/g)||[]).length;z>B;B++){if(d=(y=T.attr(o=h[B])).t,m=T.match(o,/<c.*?>(.*?)(<\/c>)?$/,1),u={},"inlineStr"==d?p=m.match(/<t><!\[CDATA\[(.*?)\]\]><\/t>/)[1]:null!=(p=T.match(m,/<v>(.*?)<\/v>/,1)||void 0)&&(p="s"==d?n[p]:"str"==d?pq[_b(507)](p):"b"==d?"1"==p:O.VALUE(p)),(g=y.r)?v=P(v=g.replace(/\d+/,"")):g=pq.toLetter(v=B)+(k+1),S[g]&&(u.comment=S[g]),E=E>v?E:v,void 0!==p&&(u.value=p),v!==B&&(u.indx=v),(s=I(m,k,v))&&(u.formula=pq[_b(507)](s)),x=Z[v],(f=y.s)&&(f=this.getStyle(f))){for(a in f)b=f[a],x&&x[a]==b||c[a]!=b&&(u[a]=b);l=u.format,null!=p&&!s&&l&&R(l)&&(u.value=O.TEXT(p,"m/d/yyyy"))}["bold","underline","italic"].forEach(function(t){null!=f&&null!=f[t]||((x||{})[t]||c[t])&&(u[t]=!1)}),c.cells.push(u)}A.push(c)}var q={rows:A,name:i,pics:T.getPic(t,r)},H=T.getFrozen(t);return L.length&&(q.mergeCells=L),N.length&&(q.columns=N),H.r&&(q.frozenRows=H.r),H.c&&(q.frozenCols=H.c),q},Import:function(t,e){var n=this,i=t.file,r=t.content,a=t.url,o="csv"==(a||(i||{}).name||"").slice(-3)[_b(49)]()||t.csv,s=function(i,r){e(n[o?"getCsv":"getWorkBook"](i,o?t.separator:t.type||r,t.sheets))};a?(a+="?"+Math.random(),window.Uint8Array?pq.xmlhttp(a,o?"text":"arraybuffer",s):JSZipUtils[_b(514)](a,function(t,e){s(e,"binary")})):i?pq.fileRead(i,o?"readAsText":"readAsArrayBuffer",s):r&&s(r)},match:function(t,e,n){var i=t.match(e);return i?i[n]:""},preDefFormats:{1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",5:"$#,##0_);($#,##0)",6:_a(162),7:_a(163),8:_a(164),9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yyyy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yyyy h:mm",37:"#,##0_);(#,##0)",38:"#,##0_);[Red](#,##0)",39:_a(165),40:_a(166),45:"mm:ss",46:"[h]:mm:ss",47:"mm:ss.0",48:"##0.0E+0",49:"@"},readPaths:function(){var e,n=this,i=n.files,r=t(t.parseXML(i["[Content_Types].xml"].asText())),a=n.paths={wb:"sheet.main",ws:"worksheet",st:"styles",ss:"sharedStrings",th:"theme"};for(e in a)a[e]=r.find('[ContentType$="'+a[e]+'+xml"]').attr("PartName");for(e in i)if(/workbook.xml.rels$/.test(e)){a.wbrels=e;break}var o=t(n[_b(504)]("wbrels")),s=t(n[_b(504)]("wb")),l=n.pathSheets=[];n.activeId=1*s.find("workbookView").attr("activeTab")||null,s.find("sheet").each(function(e,n){var i=t(n),a=i.attr("r:id"),s=i.attr("name"),u=o.find('[Id="'+a+'"]').attr("Target"),c=r.find('Override[PartName$="'+u+'"]').attr("PartName");l.push({name:s,rId:a,path:c,hidden:"hidden"==i.attr("state")})})}}}(jQuery),function(t){var e=t.paramquery,n=e._pqGrid.prototype;n[_b(515)]=function(t){return(t=t||{}).format="xlsx",this.exportData(t)},n.exportCsv=function(t){return(t=t||{}).format="csv",this.exportData(t)},n.exportData=function(t){return new i(this,t).Export(t)};var i=e.cExport=function(t){this.that=t};i.prototype=t.extend({copyStyle:function(t,e,n,i,r){i=i||{},r=r||{};var a,o=function(t){var n=e[t];return n&&i[t]!=n?n:void 0},s=function(t){var e=n[t];return e&&r[t]!=e?e:void 0};if(e){e=pq.styleObj(e),(a=o("background-color"))&&(t.bgColor=a),(a=o("font-size"))&&(t.fontSize=parseFloat(a)),(a=o("color"))&&(t.color=a),(a=o("font-family"))&&(t.font=a),(a=o("font-weight"))&&(t.bold="bold"==a),(a=o("white-space"))&&(t.wrap="normal"==a),(a=o("font-style"))&&(t.italic="italic"==a),(a=o("text-decoration"))&&(t.underline="underline"==a);var l=o("border");["left","right","top","bottom"].forEach(function(e){var n;((n=o("border-"+e))||(n=l))&&((t.border=t.border||{})[e]=n)})}n&&((a=s("align"))&&(t.align=a),(a=s("valign"))&&(t.valign=a))},getCsvHeader:function(t,e,n,i){for(var r,a,o,s=[],l=[],u=0;e>u;u++){for(var c=t[u],h=null,d=0,f=c.length;f>d;d++)(r=n[d]).hidden||!1===r.copy||(a=c[d],u>0&&a==t[u-1][d]||h&&d>0&&a==h?s.push(""):(o=null==(o=this.getTitle(a,d))?"":(o+"").replace(/\"/g,'""'),h=a,s.push('"'+o+'"')));l.push(s.join(i)),s=[]}return l},getCSVContent:function(t,e,n,i,r,a,o,s,l,u,c,h,d){var f,p,g,v,m,_,y,b,x=t.separator||",",w=[];for(b=d?this[_b(516)](i,r,e,x):[],g=0;o>g;g++)if(!(m=a[g]).pq_hidden){v={rowIndx:_=s?g+l:g,rowIndxPage:_-l,rowData:m,Export:!0};for(var k=0;n>k;k++)if(!(y=e[k]).hidden&&!1!==y.copy){f=null,u[_b(191)](_,k)?u.isRootCell(_,k)?((f=u[_b(135)](_,k)).Export=!0,p=this[_b(345)](f,c,h)[0]):p="":(v.colIndx=k,v.column=y,v.dataIndx=y.dataIndx,p=this[_b(345)](v,c,h)[0]);var C=(null==p?"":p)+"";C=C.replace(/\"/g,'""'),w.push('"'+C+'"')}b.push(w.join(x)),w=[]}return"\ufeff"+b.join("\n")},getExportCM:function(t,e){return e>1?t:t.filter(function(t){return 0!=t.copy})},Export:function(t){var e,n,r,a,o=this,s=o.that,l=s.options.tabModel||{},u=l.tabs,c={sheets:[]};return!1!==s._trigger("beforeExport",null,t)&&("xlsx"==t.format?(u?(u.forEach(function(e,o){(r=e._inst||!(n=e.sheet)&&(r=s.iTab.create(o)))&&(a=new i(r),(n=a._Export(t).sheets[0]).name=e.name,e.hidden&&(n.hidden=!0)),c.sheets.push(n)}),c.activeId=l.activeId):c=o._Export(t),!1===s._trigger("workbookReady",null,{workbook:c})||t.workbook?c:(t.workbook=c,e=(e=pq.excel.exportWb(t))||o[_b(517)](t),s._trigger("exportData",null,t),e)):o._Export(t))},_Export:function(t){var e,n=this,i=n.that,r=i.options,a=r.groupModel,o="remote"==r.pageModel.type,s=i.riOffset,l=i.iRenderB,u=i.iMerge,c=i[_b(142)],h=c.length,d=i.colModel,f=d.length,p=n[_b(518)](d,h),g=p.length,v=r.treeModel,m=a.on&&a.dataIndx.length||o||v.dataIndx&&v.summary?i.pdata:r.dataModel.data,_=(m=r[_b(22)]?m.concat(r[_b(22)]):m).length,y=t.render,b=!t.noheader,x=t.format;return"xlsx"==x?n[_b(519)](p,g,c,h,m,_,o,s,u,y,l,b,t.sheetName):(t.data="json"==x?n[_b(520)](t,m):"csv"==x?n[_b(521)](t,d,f,c,h,m,_,o,s,u,y,l,b):n[_b(522)](t,d,f,c,h,m,_,o,s,u,y,l,b),e=e||n[_b(517)](t),i._trigger("exportData",null,t),e)},getHtmlHeader:function(t,e){for(var n,i,r,a,o,s=["<thead>"],l=0;e>l;l++){var u=t[l],c=null;s.push("<tr>");for(var h=0,d=u.length;d>h;h++)i=(n=u[h]).colSpan,!n.hidden&&i&&!1!==n.copy&&(r=n.rowSpan,l>0&&n==t[l-1][h]||c&&h>0&&n==c||(a=this.getTitle(n,h),c=n,s.push("<th colspan=",i," rowspan=",r," ",o=(o=n.halign||n.align)?"align="+o:"",">",a,"</th>")));s.push("</tr>")}return s.push("</thead>"),s.join("")},getHtmlBody:function(t,e,n,i,r,a,o,s,l){var u,c,h,d,f,p,g,v,m,_,y,b,x,w=[];for(u=0;i>u;u++)if(!(m=n[u]).pq_hidden){for(v={rowIndx:_=r?u+a:u,rowIndxPage:_-a,rowData:m,Export:!0},w.push("<tr>"),c=0;e>c;c++)if(!(h=t[c]).hidden&&!1!==h.copy){if(d=null,f=null,b="",o[_b(191)](_,c)){if(!(f=o.isRootCell(_,c)))continue;(d=o[_b(135)](_,c)).Export=!0,y=(p=this[_b(345)](d,s,l))[0],g=p[1],b="rowspan="+f.rowspan+" colspan="+f.colspan+" "}else v.colIndx=c,v.column=h,v.dataIndx=h.dataIndx,y=(p=this[_b(345)](v,s,l))[0],g=p[1];b+=(x=h.align)?"align="+x:"",y=pq.newLine(y=null==y?"":y),w.push("<td ",b,g?' style="'+g+'"':"",">",y,"</td>")}w.push("</tr>")}return w.join("")},getHtmlContent:function(t,e,n,i,r,a,o,s,l,u,c,h,d){var f=this.that,p=f.options.rtl,g=t.cssRules||"",v=f.element.find(".pq-grid-table"),m=v.css("font-family"),_=v.css("font-size"),y=_a(167)+m+";font-size:"+_+_a(168),b=[];return b.push(_a(169),_a(170),"<title>",t.title||"ParamQuery Pro","</title>","</head><body ",p?'dir="rtl"':""," >","<style>",y,_a(171),g,"</style>","<table>"),b.push(d?this[_b(523)](i,r,e):""),b.push(this[_b(524)](e,n,a,o,s,l,u,c,h)),b.push(_a(172)),b.join("")},getJsonContent:function(t,e){return t[_b(525)]?e:JSON.stringify(e,t.nopqdata?function(t,e){return 0!==(t+"").indexOf("pq_")?e:void 0}:null,t.nopretty?null:2)},getXlsMergeCells:function(t,e,n,i){t=t.concat(n[_b(512)](e,this.curPage,i));for(var r=[],a=pq.toLetter,o=t.length,s=0;o>s;s++){var l=t[s];l=a(l.c1)+(l.r1+1)+":"+a(l.c2)+(l.r2+1),r.push(l)}return r},getXlsCols:function(t,e){for(var n,i,r,a=[],o=0,s=pq.excel.colWidth;e>o;o++)r=1*((i=t[o])._width||s).toFixed(2),this.copyStyle(n={},i.style,i),r!==s&&(n.width=r),i.hidden&&(n.hidden=!0),pq.isEmpty(n)||(a.length!==o&&(n.indx=o),a.push(n));return a},getXlsHeader:function(t,e,n){for(var i=[],r=0;e>r;r++){for(var a=t[r],o=[],s=0,l=a.length;l>s;s++){var u=a[s];if(!1!==u.copy){var c=u.o_colspan,h=u.rowSpan,d=this.getTitle(u,s);r>0&&u==t[r-1][s]||s>0&&u==t[r][s-1]?d="":(c>1||h>1)&&n.push({r1:r,c1:s,r2:r+h-1,c2:s+c-1}),o.push({value:d,bgColor:"#eeeeee"})}}i.push({cells:o})}return i},getXlsBody:function(n,i,r,a,o,s,l,u,c,h,d){var f,p,g,v,m,_,y,b,x,w,k,C,M,T,S,A,E,P,I,O,R,L,D,N,Z,F,U,B,z,q=this,H=q.that,G=H.options,V=[],W=e.cFormulas.shiftRC(H);for(p=0;a>p;p++){for(L=(T=r[p])[_b(208)],Z=T[_b(127)]||{},I=T.pq_rowprop||{},U=T[_b(240)]||{},M=[],b={rowIndx:S=o?p+s:p,rowIndxPage:S-s,rowData:T,Export:!0},g=0;i>g;g++)E=(y=n[g]).style,P=y,B=U[A=y.dataIndx],F=Z[A]||{},v=_=T[A],m=H.getFormula(T,A),f=!1,l[_b(191)](S,g)&&(l.isRootCell(S,g,"o")||(f=!0)),f||m||(b.colIndx=g,b.column=y,b.dataIndx=A,v=(x=q[_b(345)](b,u,c))[0],w=x[1],C=x[2],k=x[3]),R={},"string"==typeof(z=G.format.call(H,T,y,F,I))&&(pq[_b(237)](z)?(v!==_&&t.datepicker.formatDate(z,new Date(_))===v&&(v=_),z=pq.juiToExcel(z)):(v!==_&&pq[_b(42)](_,z)===v&&(v=_),z=pq.numToExcel(z)),R.format=z),void 0!==v&&(R.value=v),L&&(D=L[A])&&((N=D.title)&&(R.comment=N),(N=D.style)&&q.copyStyle(R,N)),q.copyStyle(R,B,F,E,P),q.copyStyle(R,w,C,E,P),k&&(R.comment=k),m&&(h&&(m=W(m,0,h)),R.formula=m),pq.isEmpty(R)||(R.dataIndx=A,M.length!==g&&(R.indx=g),M.push(R));O={},M.length&&(O.cells=M),T.pq_hidden&&(O.hidden=!0),T.pq_htfix&&(O.htFix=T.pq_ht),q.copyStyle(O,T[_b(238)],I),d&&(N=(d.call(H,b)||{}).style)&&q.copyStyle(O,N),pq.isEmpty(O)||(V.length!==p&&(O.indx=p),V.push(O))}return V},getWorkbook:function(t,e,n,i,r,a,o,s,l,u,c,h,d){var f,p=this,g=p.getXlsCols(t,e),v=[],m=p.that,_=m.options,y=_.freezeCols,b=h?i:0,x=b+(_.freezeRows||0),w=h?p[_b(526)](n,i,v):[],k=p[_b(527)](v,h?i:0,l,a),C=p.getXlsBody(t,e,r,a,o,s,l,u,c,b,_.rowInit),M={columns:g,rows:w.concat(C)};return _.rtl&&(M.rtl=!0),k.length&&(M.mergeCells=k),(f=w.length)&&(M.headerRows=f),x&&(M.frozenRows=x),y&&(M.frozenCols=y),(d||(d=_.title))&&(M.name=d),M.pics=m.iPic.pics,{sheets:[M]}},postRequest:function(e){var n,i,r=e.format,a=e.url,o=e.filename||"pqGrid";if(e.zip&&"xlsx"!=r){var s=new JSZip;s.file(o+"."+e.format,e.data),n=s.generate({type:"base64",compression:"DEFLATE"}),i=!0,r="zip"}else i=!!e.decodeBase,n=e.data;return a&&t.ajax({url:a,type:"POST",cache:!1,data:{pq_ext:r,pq_data:n,pq_decode:i,pq_filename:o},success:function(e){a+=(a.indexOf("?")>0?"&":"?")+"pq_filename="+e,t(document.body).append(_a(173)+a+'"></iframe>')}}),n}},pq.mixin.render)}(jQuery),function(t){var e,n,i=pq.excel={_tmpl:{rels:_a(174)},eachRow:function(t,e){for(var n=t.rows,i=0,r=n.length;r>i;i++)e(n[i],i)},exportWb:function(t){var e=t.workbook,n=t.replace,i=this,r=i._tmpl,a=e.sheets,o=a.length,s=[],l=[],u=new JSZip,c={},h=u.folder("xl");return u.file("_rels/.rels",r.rels),u.file(_a(175),i[_b(528)](o)),a.forEach(function(t,e){var r,a=i.getCols(t.columns),o=t.pics||[],u=o.length,d=e+1,f=i.getFrozen(t.frozenRows,t.frozenCols,t.rtl),p=i.getBody(t.rows||[],t.columns||[]),g=i[_b(512)](t.mergeCells);n&&(p=p.replace.apply(p,n)),r=!pq.isEmpty(i.comments),h.file("worksheets/sheet"+d+".xml",i.getSheet(f,a,p,g,r,u,d)),r&&(s.push(d),h.file("comments"+d+".xml",i.getComment()),h.file("drawings/vmlDrawing"+d+".vml",i.getVml())),u&&(i.addPics(h,o,d),o.forEach(function(t){c[t.name.split(["."])[1]]=1}),l.push(d)),(r||u)&&h.file(_a(176)+d+".xml.rels",i[_b(529)](d,r,u))}),u.file("[Content_Types].xml",i[_b(530)](o,s,l,c)),h.file("workbook.xml",i.getWBook(a,e.activeId)),h.file("styles.xml",i.getStyle()),t.url?(t.data=u.generate({type:"base64",compression:"DEFLATE"}),t.decodeBase=!0,pq[_b(517)](t)):u.generate({type:t.type||"blob",compression:"DEFLATE"})},addPics:function(t,e,n){if(e.length){var i=[_a(177)],r=[_a(178)],a=1,o=parseInt,s=9500,l=function(t){return["<xdr:col>",t[0],_a(179),o(t[1]*s),_a(180),t[2],_a(181),o(t[3]*s),"</xdr:rowOff>"].join("")};e.forEach(function(e,n){var u=e.from,c=e.name,h="rId"+a++,d=e.to,f=d&&!!d.length,p=f?"two":"one",g=o(e.cx*s),v=o(e.cy*s);i.push("<xdr:",p,"CellAnchor>","<xdr:from>",l(u),"</xdr:from>",f?"<xdr:to>"+l(d)+"</xdr:to>":'<xdr:ext cx="'+g+'" cy="'+v+'"/>',_a(182),e.id,'" name="Picture ',n+1,'" descr="',c,'"/>',_a(183),_a(184),h,_a(185),_a(186),_a(187),p,"CellAnchor>"),r.push('<Relationship Id="',h,'" Target="../media/',c,_a(188)),t.file("media/"+c,e.src.split(",")[1],{base64:!0})}),i.push("</xdr:wsDr>"),r.push("</Relationships>"),t.file("drawings/drawing"+n+".xml",i.join("")),t.file(_a(189)+n+".xml.rels",r.join(""))}},eachCell:function(t,e,n){t.forEach(function(t,i){var r,a;if(r=t.cells){i=t.indx||i;for(var o=0,s=r.length;s>o;o++)e(a=r[o],a.indx||o,i,n)}else(r=t.rows)&&this.eachCell(r,e,i)},this)},findIndex:function(t,e){var n=t.findIndex(e);return t[n].indx||n},getArray:function(t){var e=[],n=this;return this.eachRow(t,function(t){var i=[];t.cells.forEach(function(t){i.push(n.getCell(t))}),e.push(i)}),e},getBody:function(e,n){var i,r,a,o,s,l,u,c,h,d,f,p,g,v,m,_,y,b,x,w,k,C={},M=pq.formulas,T=[],S=this.comments={},A=e.length;for((n||[]).forEach(function(t,e){C[t.indx||e]=t}),a=0;A>a;a++){for(_=(g=(m=e[a]).cells||[]).length,y=m.hidden?'hidden="1" ':"",b=m.htFix?_a(190)+m.htFix/1.5+'" ':"",u='r="'+(s=(m.indx||a)+1)+'"',h=this[_b(531)](m),T.push("<row "+y+b+u+(h=h?' s="'+h+'" customFormat="1"':"")+">"),o=0;_>o;o++)v=(p=g[o]).value,c="",h="",x=C[l=p.indx||o]||{},u=l===o?"":'r="'+pq.toLetter(l)+s+'"',w=t.extend({},x,m,p),i="@"!=(k=p.format),f=(f=p.formula)?"<f>"+pq.escapeXml(f)+"</f>":"",null==v?d="<v></v>":i&&"boolean"==typeof v?(d="<v>"+(v?"1":"0")+"</v>",c='t="b"'):i&&v==1*v&&"0"!=(v+"")[0]?d="<v>"+v+"</v>":i&&k&&M.isDate(v)?d="<v>"+M.VALUE(v)+"</v>":(c='t="inlineStr"',d="<is><t><![CDATA["+v+"]]></t></is>"),h=(h=this[_b(531)](w))?'s="'+h+'"':"",(r=p.comment)&&(S[pq.toLetter(l)+s]=r),T.push("<c "+c+" "+u+" "+h+">"+f+d+"</c>");T.push("</row>")}return T.join("")},getCell:function(t){var e=t.format,n=t.value;return e?pq.formulas.TEXT(n,e):n},getCSV:function(t){var e=[],n=this;return this.eachRow(t,function(t){var i=[];t.cells.forEach(function(t){i.push(n.getCell(t))}),e.push(i.join(","))}),e.join("\r\n")},getColor:(e={},n=function(t){return 1===t.length?"0"+t:t},function(t){var i,r,a=e[t];if(a||(/^#[0-9,a,b,c,d,e,f]{6}$/i.test(t)?r=t.replace("#",""):(i=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/i))&&(r=n((1*i[1]).toString(16))+n((1*i[2]).toString(16))+n((1*i[3]).toString(16))),r&&6===r.length&&(a=e[t]="ff"+r)),a)return a;throw"invalid color: "+t}),_getCol:function(t,e,n,i,r,a){a=a?' style="'+a+'"':"",i&&!r||(r=1*((r=r||this.colWidth)/this.colRatio).toFixed(2),r=_a(191)+r+'"'),t.push('<col min="',e,'" max="',n,'" hidden="',i,'"',r,a,"/>")},getCols:function(t){if(!t||!t.length)return"";var e,n,i,r,a,o,s=[],l=0,u=0,c=0,h=t.length;for(s.push("<cols>");h>c;c++){var d=t[c],f=d.hidden?1:0,p=d.width,g=this[_b(531)](d);l=(d.indx||l)+1,i===p&&r===f&&g==a&&l==u+1?n=l:(o&&(this._getCol(s,e,n,r,i,a),e=null),n=l,null==e&&(e=l)),i=p,r=f,a=g,u=l,o=!0}return this._getCol(s,e,n,r,i,a),s.push("</cols>"),s.join("")},getComment:function(){var t,e=[],n=this.comments;for(t in n)e.push(_a(192),t,_a(193),n[t].replace(/</g,"&lt;").replace(/>/g,"&gt;"),_a(194));return[_a(195),_a(196),_a(197),"<commentList>",e.join(""),_a(198)].join("")},getContentTypes:function(t,e,n,i){for(var r,a=[],o=1,s=[],l=[];t>=o;o++)a.push(_a(199)+o+_a(200));for(r in e.forEach(function(t){s.push(_a(201),t,_a(202))}),i)l.push('<Default Extension="'+r+_a(203)+r+'" />');return n.forEach(function(t){l.push(_a(204),t,_a(205))}),[_a(195),_a(206),_a(207),_a(208),_a(209),_a(210),a.join(""),_a(211),s.join(""),l.join(""),"</Types>"].join("")},getFillIndx:function(t){var e=this,n=e.fills=e.fills||{length:2};return e.getIndx(n,t)},getBorderIndx:function(t){var e=this,n=e.borders=e.borders||{length:1};return e.getIndx(n,JSON.stringify(t))},getFontIndx:function(t,e,n,i,r,a){var o=this,s=o.fonts=o.fonts||{length:1};return o.getIndx(s,(t||"")+"_"+(e||"")+"_"+(n||"")+"_"+(i||"")+"_"+(r||"")+"_"+(a||""))},getFormatIndx:function(t){var e=this,n=e.formats=e.formats||{length:164};return e.numFmtIds[t]||e.getIndx(n,t)},getFrozen:function(t,e,n){t=t||0;var i=pq.toLetter(e=e||0)+(t+1);return[_a(212),n?'rightToLeft="1"':"",' workbookViewId="0">','<pane xSplit="',e,'" ySplit="',t,'" topLeftCell="',i,_a(213),_a(214)].join("")},getIndx:function(t,e){var n=t[e];return null==n&&(n=t[e]=t.length,t.length++),n},getItem:function(t,e){var n,i,r=t[e],a=0,o=0,s=r?r.indx:-1;if(null==s||e==s)return r;if((n=-1==s?t.length-1:e)>=0)for(;;){if(++o>20)throw"not found";if((s=(r=t[i=Math.floor((n+a)/2)]).indx)==e)return r;if(s>e?n=i:a=i==a?i+1:i,a==n&&i==a)break}},getMergeCells:function(t){var e=[],n=0,i=(t=t||[]).length;for(e.push('<mergeCells count="'+i+'">');i>n;n++)e.push('<mergeCell ref="',t[n],'"/>');return e.push("</mergeCells>"),i?e.join(""):""},getSheetRel:function(t,e,n){var i=[_a(178)];return e&&i.push(_a(215)+t+_a(216)+t+_a(217),_a(218)+t+_a(219)+t+_a(220)),n&&i.push(_a(221)+t+_a(222)+t+_a(223)),i.push("</Relationships>"),i.join("")},getSheet:function(t,e,n,i,r,a,o){return[_a(224),t,e,"<sheetData>",n,"</sheetData>",i,a?'<drawing r:id="rId'+o+'" />':"",r?_a(225)+o+'" />':"","</worksheet>"].join("")},getStyleIndx:function(t){var e=t.format,n=t.bgColor,i=t.color,r=t.font,a=t.fontSize,o=t.align,s=t.valign,l=t.wrap,u=t.bold,c=t.italic,h=t.underline,d=t.border;if(e||n||i||r||a||o||s||l||u||c||h||d){var f=this,p=e?f[_b(532)](e):"",g=n?f[_b(533)](n):"",v=d?f[_b(534)](d):"",m=p+"_"+g+"_"+(i||r||a||u||c||h?f[_b(535)](i,r,a,u,c,h):"")+"_"+(o||"")+"_"+(s||"")+"_"+(l||"")+"_"+v,_=f.styles=f.styles||{length:1};return f.getIndx(_,m)}},getStyle:function(){var t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,g=this,v=g.formats,m=g.fills,_=g.fonts,y=g.borders,b=["left","right","top","bottom"],x=g.styles,w=[],k=[],C=[],M=[],T=[_a(226)];if(v){for(p in delete v.length,v)w.push('<numFmt numFmtId="'+v[p]+'" formatCode="'+p+'"/>');delete g.formats}if(m){for(p in delete m.length,m)k.push(_a(227)+this.getColor(p)+_a(228));delete g.fills}if(_){for(p in delete _.length,_)t="<color "+((e=p.split("_"))[0]?'rgb="'+this.getColor(e[0])+'"':'theme="1"')+" />",C.push("<font>",e[3]?"<b/>":"",e[4]?"<i/>":"",e[5]?"<u/>":"",'<sz val="'+(e[2]||11)+'"/>',t,'<name val="'+(e[1]||"Calibri")+'"/>',_a(229));delete g.fonts}if(y){for(p in delete y.length,y){var S=JSON.parse(p);M.push("<border>"),b.forEach(function(t){S[t]&&(e=S[t].split(" "),M.push("<"+t+' style="'+("1px"==e[0]?"thin":"double")+'"><color rgb="'+g.getColor(e[2])+'"/></'+t+">"))}),M.push("</border>")}delete g.borders}if(x){for(p in delete x.length,x)n=(e=p.split("_"))[0],r=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=(i=e[1])?_a(230)+i+'" ':"",h=r?_a(231)+r+'" ':"",c=n?_a(232)+n+'"':"",f=l?_a(233)+l+'"':"",o=o?' vertical="'+o+'" ':"",s=s?' wrapText="1" ':"",d=(a=a?' horizontal="'+a+'" ':"")||o||s?_a(234)+a+o+s+"/></xf>":"/>",T.push("<xf "+c+u+h+f+d);delete this.styles}return w=w.join("\n"),T=T.join("\n"),k=k.join("\n"),C=C.join(""),M=M.join("\n"),[_a(195),_a(235),"<numFmts>",w,"</numFmts>","<fonts>",_a(236),C,"</fonts>",_a(237),k,"</fills>",_a(238),M,"</borders>",_a(239),"</cellStyleXfs>","<cellXfs>",T,"</cellXfs>",_a(240),_a(241),"</styleSheet>"].join("")},getVml:function(){var t,e=[],n=this.comments;for(t in n){var i=t.match(/([A-Z]+)(\d+)/),r=pq.toNumber(i[1]),a=i[2]-1;e.push(_a(242),"<x:Row>",a,"</x:Row>","<x:Column>",r,_a(243))}return[_a(244),_a(245),e.join(""),"</xml>"].join("")},getWBook:function(t,e){var n=e>=0?"activeTab='"+e+"'":"";return[_a(246),_a(247)+n+_a(248),t.map(function(t,e){return e++,["=tiffu obnf>#".replace(/[^\s]/g,function(t){return String[_b(55)](t.charCodeAt(0)-1)}),"RctcoSwgt{ Gxcn ".replace(/[^\s]/g,function(t){return String[_b(55)](t.charCodeAt(0)-2)})+e,'" sheetId="',e,'" r:id="rId',e,'"/>'].join("")}).join(""),"</sheets></workbook>"].join("")},getWBookRels:function(t){for(var e=[],n=1;t>=n;n++)e.push(_a(221)+n+_a(249)+n+'.xml"/>');return[_a(195),_a(250),e.join(""),_a(221),n,_a(251),"</Relationships>"].join("")},importXl:function(){var t=pq[_b(502)];return t.Import.apply(t,arguments)},SpreadSheet:function(t){var e,n=i[_b(536)];if(this instanceof n==0)return new n(t);for(e in t)this[e]=t[e]}};i.colRatio=8,i.colWidth=8.43*i.colRatio,i.numFmtIds=function(){var t=pq[_b(502)][_b(506)],e={};for(var n in t)e[t[n]]=n;return e}(),pq[_b(517)]=function(e){var n,i,r=e.format,a=e.url,o=e.filename||"pqGrid";if(e.zip&&"xlsx"!=r){var s=new JSZip;s.file(o+"."+e.format,e.data),n=s.generate({type:"base64",compression:"DEFLATE"}),i=!0,r="zip"}else i=!!e.decodeBase,n=e.data;return a&&t.ajax({url:a,type:"POST",cache:!1,data:{pq_ext:r,pq_data:n,pq_decode:i,pq_filename:o},success:function(e){a+=(a.indexOf("?")>0?"&":"?")+"pq_filename="+e,t(document.body).append(_a(173)+a+'"></iframe>')}}),n},i[_b(536)].prototype={getCell:function(t,e){var n=i.getItem(this.rows||[],t)||{cells:[]};return i.getItem(n.cells,e)}}}(jQuery),function(t){var e=t.paramquery;e.pqGrid.defaults[_b(223)]={on:!0},e.pqGrid.prototype.getFormula=function(t,e){var n=this.iFormulas.getFnW(t,e);return n?n.fn:void 0},t(document).on("pqGrid:bootup",function(t,e){var i,r=e.instance;r.options[_b(223)].on&&(i=r.iFormulas=new n(r)),r.Formulas=function(){return i}});var n=e.cFormulas=function(t){var e=this;e.that=t,e.fn={},e.tabNames={},t.on("dataReadyDone",e[_b(537)].bind(e)).on(_a(252),e[_b(538)].bind(e)).on("beforeValidateDone",e[_b(539)].bind(e)).on("autofillSeries",e.onAutofill.bind(e)).on("editorBegin",e[_b(540)].bind(e)).on("editorEnd",e[_b(541)].bind(e)).on(_a(253),e[_b(542)].bind(e)).on(!0,"change",e.onChange.bind(e)).on("tabChange",e[_b(543)].bind(e)).on("tabRename",e[_b(544)].bind(e))};t.extend(n,{deString:function(t,e,n){var i=[];return t=e(t=t.replace(/(?:^|[^"]+)"(([^"]|"{2})+)"(?=([^"]+|$))/g,function(t,e){var n=t.indexOf('"'+e+'"');return i.push(e),t.slice(0,n)+"#"+(i.length-1)+"#"})),i.forEach(function(e,i){n&&(e=e.replace(/""/g,'\\"')),t=t.replace("#"+i+"#",'"'+e+'"')}),t},reSheet:_a(254),selectExp:function(t,e){var n,i,r,a=t.slice(0,e).replace(/"[^"]*"/g,"");return!/"[^"]+$/.test(a)&&(r=t.slice(e),(n=a.match(/.*?([a-z0-9:$]+)$/i))&&(""===r&&(i=[])||(i=r.match(/^([a-z0-9:$]+)?.*/i))))?(n[1]+(null==i[1]?"":i[1])).replace(/\$/g,"")[_b(36)]():void 0},shiftRC:function(t){var e=n,i=t?t.get_p_data().length-1:0,r=t?t.colModel.length-1:0;return function(t,n,a){return n&&(t=e.shiftC(t,n,r)),a&&(t=e.shiftR(t,a,i)),t}},getTab:function(t){var e=t.slice(0,t.length-1).replace(/''/g,"'");return"'"==e[0]&&(e=e.slice(1,e.length-1)),e},shiftR:function(t,e,i,r){var a=n.reSheetC,o=new RegExp(a+_a(255),"g"),s=new RegExp(a+_a(256),"g"),l=function(t){return r[n.getTab(t)].pdata.length-1};return n.deString(t,function(t){return t.replace(o,function(t,n,r,a,o,s){if(o)return t;var u=1*s+e-1;return i=n?l(n):i,(n||"")+r+a+((u=0>u?0:i&&u>i?i:u)+1)}).replace(s,function(t,n,r,a,o,s){var u;return i=n?l(n):i,r||(a=(u=0>(u=1*a+e-1)?0:i&&u>i?i:u)+1),o||(s=(u=0>(u=1*s+e-1)?0:i&&u>i?i:u)+1),(n||"")+r+a+":"+o+s})})},shiftC:function(t,e,i,r){var a=n.reSheetC,o=new RegExp(a+_a(257),"g"),s=new RegExp(a+_a(258),"g"),l=function(t){return r[n.getTab(t)].colModel.length-1};return n.deString(t,function(t){return(t=t.replace(o,function(t,n,r,a,o,s){if(r)return t;var u=pq.toNumber(a)+e;return i=n?l(n):i,(n||"")+pq.toLetter(u=0>u?0:i&&u>i?i:u)+o+s})).replace(s,function(t,n,r,a,o,s){var u;return i=n?l(n):i,r||(u=pq.toNumber(a)+e,a=pq.toLetter(u=0>u?0:i&&u>i?i:u)),o||(u=pq.toNumber(s)+e,s=pq.toLetter(u=0>u?0:i&&u>i?i:u)),(n||"")+r+a+":"+o+s})})}}),n.reSheetC=n.reSheet.replace("?:",""),n.prototype={addRowIndx:function(t){t.forEach(function(t){var e,n,i=t.newRow,r=i.pq_fn;if(r)for(n in r)(e=r[n]).ri=e.riO=i.pq_ri})},cell:function(t){var e=this.toCell(t);return this.valueArr(e.r,e.c)[0]},check:function(t){return n.deString(t,function(t){return(t=t.replace(/[^']+(\s+)(?![^']+')/g,function(t){return t.replace(/\s/g,"")}))[_b(36)]().replace(/([A-Z]+)([0-9]+)\:([A-Z]+)([0-9]+)/g,function(t,e,n,i,r){return(e=pq.toNumber(e))>(i=pq.toNumber(i))&&(e=[i,i=e][0]),1*n>1*r&&(n=[r,r=n][0]),pq.toLetter(e)+n+":"+pq.toLetter(i)+r})})},computeAll:function(){var t,e=this,n=e.that;return e.initObj(),e[_b(545)](function(e){e.clean=0,t=!0}),t?(e[_b(545)](function(t,i,r,a,o){i[r]=e[_b(546)](t),o&&n.isValid({rowIndx:a,rowData:i,dataIndx:r,allowInvalid:!0})}),!0):void 0},eachFormula:function(t){var e=!0,n=this.that,i=function(n,i,r){var a,o;for(a in r)"string"!=typeof(o=r[a])&&t(o,n,a,i,e)},r=function(t){for(var e,n,r=(t=t||[]).length;r--;)(e=t[r])&&(n=e.pq_fn)&&i(e,r,n)};r(n.get_p_data()),e=!1,r(n.options[_b(22)])},execIfDirty:function(t){if(t.clean){if(.5==t.clean)return}else t.clean=.5,t.val=this.exec(t.fn,t.ri,t.ci),t.clean=1;return t.val},replace:function(t,e,n){var i,r=e[_b(384)]("!"),a=this,o=t===e,s=a.obj;if(r>0){var l,u=a.that.iTab,c=u.tabs();tabName=e.substr(0,r),ref=e.substr(r+1,e.length-1),"'"==tabName[0]&&(tabName=tabName.slice(1,tabName.length-1),tabName=tabName.replace(/''/g,"'"),e=tabName+"!"+ref),(l=c.findIndex(function(t){return t.name[_b(36)]()==tabName}))>=0&&(a.tabNames[tabName]=instance=u.grid(c[l])||u.create(l),s[e]=s[e]||instance.iFormulas[n](ref)),e=e.replace(/'/g,"\\'")}else s[e]=s[e]||a[n](e);return"range"==n?"this['"+e+"']":(i=t.charAt(0),(o||"$"==i?"":i)+"this['"+e+"']")},exec:function(t,e,i){var r=this,a=r.obj,o=n.reSheet,s=n.deString(t,function(t){return(t=(t=(t=t.replace(/(?:\(|\,|^|\+)(\$?[A-Z]+\$?[0-9]+([A-Z0-9\+]+)\$?[A-Z]+\$?[0-9]+)(?:\)|\,|$|\+)/g,function(t,e){var n="SUM("+e.split("+").join(",")+")",i=t[0],r=t[t.length-1];return(i=i==e[0]?"":i)+n+(r==e[e.length-1]?"":r)})).replace(new RegExp("("+o+_a(259),"g"),function(t,e){return r.replace(t,e,"range")})).replace(new RegExp("(?:[^:A-Z']|^)("+o+_a(260),"g"),function(t,e){return r.replace(t,e,"cell")})).replace(/{/g,"[").replace(/}/g,"]").replace(/(?:[^><])(=+)/g,function(t,e){return t+(1===e.length?"==":"")}).replace(/<>/g,"!==").replace(/&/g,"+")},!0);a.getRange=function(){return{r1:e,c1:i}};try{var l=new Function("with(this){return "+s+"}").call(a);"function"==typeof l?l="#NAME?":"string"==typeof l&&n.deString(l,function(t){t.indexOf("function")>=0&&(l="#NAME?")}),l!=l&&(l=null)}catch(u){l="string"==typeof u?u:u.message}return l},initObj:function(){this.obj=t.extend({iFormula:this},pq.formulas)},onAutofill:function(t,e){var i=e.sel,r=this,a=r.that,o=i.c,s=e.x,l=a.getRowData({rowIndx:i.r}),u=a.colModel,c=u.length-1,h=a.get_p_data().length-1,d=r.tabNames,f=r.getFnW(l,u[o].dataIndx);f&&(e.series=function(t){return"="+(s?n.shiftC(f.fn,t-1,c,d):n.shiftR(f.fn,t-1,h,d))})},onBeforeValidateDone:function(t,e){var n=this,i=this.that.colIndxs,r=function(t){t.forEach(function(t){var r,a,o,s=t.newRow,l=t.rowData;for(a in s)if("string"==typeof(r=s[a])&&"="===r[0]){e[_b(63)]=!0;var u=n.check(r),c=l?n.getFnW(l,a):null;c?u!==c.fn&&(t.oldRow[a]="="+c.fn,n.save(l,a,u,t.rowIndx,i[a])):n.save(l||s,a,u,t.rowIndx,i[a])}else l&&(o=n.remove(l,a))&&(t.oldRow[a]="="+o.fn)})};r(e.addList),r(e.updateList)},onTabChange:function(t,e){!this.tabNames[e.tab.name[_b(36)]()]||e.addList.length||e.deleteList.length||(this.computeAll(),this.that.refresh())},onTabRename:function(t,e){var n=this.tabNames,i=e.oldVal[_b(36)](),r=e.tab.name[_b(36)](),a=function(t){return t=t.replace(/'/g,"''"),/[\s~!@#'\.,$%^&(\)<>]+/.test(t)&&(t="'"+t+"'"),t+"!"};n[i]&&(delete n[i],n[r]=1,r=a(r),i=a(i),this[_b(545)](function(t){t.fn=t.fn.split(i).join(r)}))},onChange:function(t,e){this.addRowIndx(e.addList),e.addList.length||e.deleteList.length||this.computeAll()&&"edit"===e.source&&this.that.refresh({header:!1})},onColumnOrder:function(){var t,e,i=this,r=i.that,a=n.shiftRC(r),o=r.colIndxs;i[_b(545)](function(n,i,r){n.ci!=(t=o[r])&&(e=t-n.ciO,n.ci=t,n.fn=a(n.fnOrig,e,n.ri-n.riO))}),null!=t&&i.computeAll()},onEditorBegin:function(t,e){var n=this.getFnW(e.rowData,e.dataIndx);n&&e.$editor.val("="+n.fn)},onEditorEnd:function(){pq.intel.hide()},onEditorKeyUp:function(t,e){var n=e.$editor,i=n[0],r=i.value,a=pq.intel,o=i[_b(547)];r&&0===r.indexOf("=")&&(a.popup(r,o,n),this.select(r,o))},onDataReadyDone:function(){var t,e=this,i=e.that,r=n.shiftRC(i),a=i.colIndxs,o=function(n,i,o){var s,l,u;for(l in o)t=!0,"string"==typeof(s=o[l])?e.save(n,l,e.check(s),i,a[l]):s.ri!=i&&(u=i-s.riO,s.ri=i,s.fn=r(s.fnOrig,s.ci-s.ciO,u))},s=function(t){for(var e,n,i=(t=t||[]).length;i--;)(e=t[i])&&(n=e.pq_fn)&&o(e,i,n)};s(i.get_p_data()),s(i.options[_b(22)]),e.initObj(),t&&e.computeAll()},getFnW:function(t,e){var n;return(n=t.pq_fn)?n[e]:void 0},remove:function(t,e){var n,i=t.pq_fn;return i&&(n=i[e])?(delete i[e],pq.isEmpty(i)&&delete t.pq_fn,n):void 0},range:function(t){var e=t.split(":"),n=this.that,i=this.toCell(e[0]),r=i.r,a=i.c,o=this.toCell(e[1]),s=o.r,l=o.c;return this.valueArr(null==r?0:r,null==a?0:a,null==s?n.get_p_data().length-1:s,null==l?n.colModel.length-1:l)},save:function(t,e,n,i,r){var a=n.replace(/^=/,""),o={clean:0,fn:a,fnOrig:a,riO:i,ciO:r,ri:i,ci:r};return(t.pq_fn=t.pq_fn||{})[e]=o,o},selectRange:function(t,e){var i,r,a,o,s=n.selectExp(t,e);return s?(/^([a-z0-9]+):([a-z0-9]+)$/i.test(s)?(i=s.split(":"),r=this.toCell(i[0]),a=this.toCell(i[1]),o={r1:r.r,c1:r.c,r2:a.r,c2:a.c}):/^[a-z]+[0-9]+$/i.test(s)&&(o={r1:(r=this.toCell(s)).r,c1:r.c}),o):void 0},select:function(t,e){var n=this[_b(548)](t,e),i=this.that;n?i.Range(n).select():i.Selection().removeAll()},toCell:function(t){var e=t.match(/\$?([A-Z]+)?\$?(\d+)?/);return{c:e[1]?pq.toNumber(e[1]):null,r:e[2]?e[2]-1:null}},valueArr:function(t,e,n,i){var r,a,o,s,l,u,c,h=this.that,d=h.colModel,f=d.length,p=[],g=[],v=[],m=h.get_p_data(),_=m.length;for(i=null==i?e:i,e=0>e?0:e,n=(n=null==n?t:n)>=_?_-1:n,i=i>=f?f-1:i,r=t=0>t?0:t;n>=r;r++){for(o=m[r],a=e;i>=a;a++)u=(l=this.getFnW(o,s=d[a].dataIndx))?this[_b(546)](l):null==(u=o[s])?"":u==(c=1*u)&&"0"!==(u+"")[0]?c:u,p.push(u),v.push(u);g.push(v),v=[]}return p.get2Arr=function(){return g},p.getRange=function(){return{r1:t,c1:e,r2:n,c2:i}},p}}}(jQuery),function(t){pq.intel={removeFn:function(t){return t.length===(t=t.replace(/[a-z]*\([^()]*\)/gi,"")).length?t:this.removeFn(t)},removeStrings:function(t){return(t=t.replace(/"[^"]*"/g,"")).replace(/"[^"]*$/,"")},getMatch:function(t,e){var n,i=pq.formulas,r=[];for(n in t=t[_b(36)](),i)if(e){if(n===t)return[n]}else 0===n.indexOf(t)&&r.push(n);return r},intel:function(t){var e,n,i;return t=this[_b(549)](t),(e=(t=this.removeFn(t)).match(/^=(.*[,+\-&*\s(><=])?([a-z]+)((\()[^)]*)?$/i))&&(n=e[2],e[4]&&(i=!0)),[n,i]},movepos:function(t){var e;return(e=t.match(/([^a-z].*)/i))?t.indexOf(e[1])+1:t.length},intel3:function(t,e){e<t.length&&/=(.*[,+\-&*\s(><=])?[a-z]+$/i.test(t.slice(0,e))&&(e+=this.movepos(t.slice(e)));var n=t.substr(0,e);return this.intel(n)},item:function(t){var e=this.that.options[_b(550)];return"<div>"+((e=e?e[t]:null)?e[0]:t)+"</div>"+(e?_a(261)+e[1]+"</div>":"")},popup:function(e,n,i){var r,a,o=i.closest(".pq-grid"),s=t(".pq-intel"),l=o,u=this.intel3(e,n);this.that=o.pqGrid("instance"),s.remove(),(r=u[0])&&(a=this.getMatch(r,u[1]).map(this.item,this).join(""))&&t(_a(262)).appendTo(l).html(a).position({my:"center top",at:"center bottom",collision:"flipfit",of:i,within:l})},hide:function(){t(".pq-intel").remove()}}}(jQuery),function($){var f=pq.formulas={evalify:function(t,e){var n,i,r=e.match(/([><=]{1,2})?(.*)/),a=r[1]||"=",o=r[2],s=this;return/(\*|\?)/.test(o)?n=o.replace(/\*/g,".*").replace(/\?/g,"\\S").replace(/\(/g,"\\(").replace(/\)/g,"\\)"):(a="="===a?"==":"<>"===a?"!=":a,i=this.ISNUMBER(o)),t.map(function(t){return n?("<>"===a?"!":"")+"/^"+n+'$/i.test("'+(t=null==t?"":t)+'")':i?s.ISNUMBER(t)?t+a+o:"false":'"'+((t=null==t?"":t)+"")[_b(36)]()+'"'+a+'"'+(o+"")[_b(36)]()+'"'})},get2Arr:function(t){return t.get2Arr?t.get2Arr():t},ISNUMBER:function(t){return parseFloat(t)==t},_reduce:function(t,e){var n=[],i=e.map(function(){return[]});return t.forEach(function(t,r){null!=t&&(t*=1,isNaN(t)||(n.push(t),i.forEach(function(t,n){t.push(e[n][r])})))}),[n,i]},reduce:function(t){var e=(t=this.toArray(t)).shift(),n=t.filter(function(t,e){return e%2==0}),i=this._reduce(e,n);return n=i[1],[e=i[0]].concat(t.map(function(e,i){return i%2==0?n[i/2]:t[i]}))},strDate1:_a(263),strDate2:_a(264),strTime:_a(265),isDate:function(t){return this.reDate.test(t)&&Date.parse(t)||t&&t.constructor==Date},toArray:function(t){for(var e=[],n=0,i=t.length;i>n;n++)e.push(t[n]);return e},valueToDate:function(t){var e=new Date(Date.UTC(1900,0,1));return e.setUTCDate(e.getUTCDate()+t-2),e},varToDate:function(t){var e,n,i,r,a;if(this.ISNUMBER(t))e=this[_b(551)](t);else if(t.getTime)e=t;else if("string"==typeof t){if((n=t.match(this.reDateTime))?n[12]?(a=1*n[13],r=1*n[15],i=1*n[14]):(i=1*n[2],r=1*n[3],a=1*n[4]):(n=t.match(this.reDate2))?(a=1*n[1],r=1*n[3],i=1*n[2]):(n=t.match(this.reDate1))&&(i=1*n[1],r=1*n[2],a=1*n[3]),!n)throw"#N/A date";t=Date.UTC(a,i-1,r),e=new Date(t)}return e},_IFS:function _IFS(arg,fn){for(var len=arg.length,i=0,arr=[],a=0;len>i;i+=2)arr.push(this.evalify(arg[i],arg[i+1]));for(var condsIndx=arr[0].length,lenArr=len/2,j;condsIndx--;){for(j=0;lenArr>j&&eval(arr[j][condsIndx]);j++);a+=j===lenArr?fn(condsIndx):0}return a},ABS:function(t){return Math.abs(t.map?t[0]:t)},ACOS:function(t){return Math.acos(t)},AND:function AND(){var arr=this.toArray(arguments);return eval(arr.join(" && "))},ASIN:function(t){return Math.asin(t)},ATAN:function(t){return Math.atan(t)},_AVERAGE:function(t){var e=0,n=0;if(t.forEach(function(t){parseFloat(t)==t&&(n+=1*t,e++)}),e)return n/e;throw"#DIV/0!"},AVERAGE:function(){return this._AVERAGE(pq.flatten(arguments))},AVERAGEIF:function(t,e,n){return this.AVERAGEIFS(n||t,t,e)},AVERAGEIFS:function(){var t=this.reduce(arguments),e=0,n=t.shift(),i=this._IFS(t,function(t){return e++,n[t]});if(!e)throw"#DIV/0!";return i/e},TRUE:!0,FALSE:!1,CEILING:function(t){return Math.ceil(t)},CHAR:function(t){return String[_b(55)](t)},CHOOSE:function(){var t=pq.flatten(arguments),e=t[0];if(e>0&&e<t.length)return t[e];throw"#VALUE!"},CODE:function(t){return(t+"").charCodeAt(0)},COLUMN:function(t){return(t||this).getRange().c1+1},COLUMNS:function(t){var e=t.getRange();return e.c2-e.c1+1},CONCATENATE:function(){var t=pq.flatten(arguments),e="";return t.forEach(function(t){e+=t}),e},COS:function(t){return Math.cos(t)},_COUNT:function(t){var e=pq.flatten(t),n=this,i=0,r=0,a=0;return e.forEach(function(t){null==t||""===t?i++:(r++,n.ISNUMBER(t)&&a++)}),[i,r,a]},COUNT:function(){return this._COUNT(arguments)[2]},COUNTA:function(){return this._COUNT(arguments)[1]},COUNTBLANK:function(){return this._COUNT(arguments)[0]},COUNTIF:function(t,e){return this.COUNTIFS(t,e)},COUNTIFS:function(){return this._IFS(arguments,function(){return 1})},DATE:function(t,e,n){if(0>t||t>9999)throw"#NUM!";return 1899>=t&&(t+=1900),this.VALUE(new Date(Date.UTC(t,e-1,n)))},DATEVALUE:function(t){return this.DATEDIF("1/1/1900",t,"D")+2},DATEDIF:function(t,e,n){var i,r=this.varToDate(e),a=this.varToDate(t),o=(r.getTime()-a.getTime())/864e5;if("Y"===n)return parseInt(o/365);if("M"===n)return i=r[_b(552)]()-a[_b(552)]()+12*(r[_b(553)]()-a[_b(553)]()),a.getUTCDate()>r.getUTCDate()&&i--,i;if("D"===n)return o;throw"unit N/A"},DAY:function(t){return this.varToDate(t).getUTCDate()},DAYS:function(t,e){return this.DATEDIF(e,t,"D")},DEGREES:function(t){return 180/Math.PI*t},EOMONTH:function(t,e){e=e||0;var n=this.varToDate(t);return n[_b(554)](n[_b(552)]()+e+1),n.setUTCDate(0),this.VALUE(n)},EXP:function(t){return Math.exp(t)},FIND:function(t,e,n){return e.indexOf(t,n?n-1:0)+1},FLOOR:function(t,e){return 0>t*e?"#NUM!":parseInt(t/e)*e},HLOOKUP:function(t,e,n,i){null==i&&(i=!0),e=this.get2Arr(e);var r=this.MATCH(t,e[0],i?1:0);return this.INDEX(e,n,r)},HOUR:function(t){return Date.parse(t)?new Date(t).getHours():24*t},IF:function(t,e,n){return t?e:n},INDEX:function(t,e,n){return e=e||1,n=n||1,"function"==typeof(t=this.get2Arr(t))[0].push?t[e-1][n-1]:t[e>1?e-1:n-1]},INDIRECT:function(t){return this.iFormula.range(t)},ISBLANK:function(t){return""===t},LARGE:function(t,e){return t.sort(),t[t.length-(e||1)]},LEFT:function(t,e){return t.substr(0,e||1)},LEN:function(t){return(t=(t.map?t:[t]).map(function(t){return t.length})).length>1?t:t[0]},LOOKUP:function(t,e,n){n=n||e;var i=this.MATCH(t,e,1);return this.INDEX(n,1,i)},LOWER:function(t){return(t+"")[_b(555)]()},_MAXMIN:function(t,e){var n,i=this;return t.forEach(function(t){null!=t&&(t=i.VALUE(t),i.ISNUMBER(t)&&(t*e>n*e||null==n)&&(n=t))}),null!=n?n:0},MATCH:function MATCH(val,arr,type){var ISNUMBER=this.ISNUMBER(val),_isNumber,indx,_val,i=0,len=arr.length;if(null==type&&(type=1),val=ISNUMBER?val:val[_b(36)](),0===type){for(arr=this.evalify(arr,val+""),i=0;len>i;i++)if(_val=arr[i],eval(_val)){indx=i+1;break}}else{for(i=0;len>i;i++)if(_val=arr[i],_isNumber=this.ISNUMBER(_val),_val=arr[i]=_isNumber?_val:_val?_val[_b(36)]():"",val==_val){indx=i+1;break}if(!indx){for(i=0;len>i;i++)if(_val=arr[i],_isNumber=this.ISNUMBER(_val),type*(val>_val?-1:1)==1&&ISNUMBER==_isNumber){indx=i;break}indx=null==indx?i:indx}}if(indx)return indx;throw"#N/A"},MAX:function(){var t=pq.flatten(arguments);return this._MAXMIN(t,1)},MEDIAN:function(){var t=pq.flatten(arguments).filter(function(t){return 1*t==t}).sort(function(t,e){return e-t}),e=t.length,n=e/2;return n===parseInt(n)?(t[n-1]+t[n])/2:t[(e-1)/2]},MID:function(t,e,n){if(1>e||0>n)throw"#VALUE!";return t.substr(e-1,n)},MIN:function(){var t=pq.flatten(arguments);return this._MAXMIN(t,-1)},MODE:function(){var t,e,n=pq.flatten(arguments),i={},r=0;if(n.forEach(function(n){(t=i[n]=i[n]?i[n]+1:1)>r&&(r=t,e=n)}),2>r)throw"#N/A";return e},MONTH:function(t){return this.varToDate(t)[_b(552)]()+1},OR:function OR(){var arr=this.toArray(arguments);return eval(arr.join(" || "))},PI:function(){return Math.PI},POWER:function(t,e){return Math.pow(t,e)},PRODUCT:function(){var t=pq.flatten(arguments),e=1;return t.forEach(function(t){e*=t}),e},PROPER:function(t){return t.replace(/(\S+)/g,function(t){return t.charAt(0)[_b(36)]()+t.substr(1)[_b(49)]()})},RADIANS:function(t){return Math.PI/180*t},RAND:function(){return Math.random()},RANK:function(t,e,n){for(var i=JSON.stringify(e.getRange())+"_range",r=0,a=(e=this[i]||(this[i]=e,e.sort(function(t,e){return t-e}))).length;a>r;r++)if(t===e[r])return n?r+1:a-r},RATE:function(){},REPLACE:function(t,e,n,i){return(t+="").substr(0,e-1)+i+t.substr(e+n-1)},REPT:function(t,e){for(var n="";e--;)n+=t;return n},RIGHT:function(t,e){return t.substr(-1*(e=e||1),e)},_ROUND:function(t,e,n){var i=Math.pow(10,e),r=t*i,a=parseInt(r);return n(a,r-a)/i},ROUND:function(t,e){return this._ROUND(t,e,function(t,e){var n=Math.abs(e);return t+(n>=.5?n/e:0)})},ROUNDDOWN:function(t,e){return this._ROUND(t,e,function(t){return t})},ROUNDUP:function(t,e){return this._ROUND(t,e,function(t,e){return t+(e?Math.abs(e)/e:0)})},ROW:function(t){return(t||this).getRange().r1+1},ROWS:function(t){var e=t.getRange();return e.r2-e.r1+1},SEARCH:function(t,e,n){return t=t[_b(36)](),(e=e[_b(36)]()).indexOf(t,n?n-1:0)+1},SIN:function(t){return Math.sin(t)},SMALL:function(t,e){return t.sort(),t[(e||1)-1]},SQRT:function(t){return Math.sqrt(t)},_STDEV:function(t){var e=(t=pq.flatten(t)).length,n=this._AVERAGE(t),i=0;return t.forEach(function(t){i+=(t-n)*(t-n)}),[i,e]},STDEV:function(){var t=this._STDEV(arguments);if(1===t[1])throw"#DIV/0!";return Math.sqrt(t[0]/(t[1]-1))},STDEVP:function(){var t=this._STDEV(arguments);return Math.sqrt(t[0]/t[1])},SUBSTITUTE:function(t,e,n,i){var r=0;return t.replace(new RegExp(e,"g"),function(){return r++,i?r===i?n:e:n})},SUM:function(){var t=pq.flatten(arguments),e=0,n=this;return t.forEach(function(t){t=n.VALUE(t),n.ISNUMBER(t)&&(e+=parseFloat(t))}),e},SUMIF:function(t,e,n){return this.SUMIFS(n||t,t,e)},SUMIFS:function(){var t=this.reduce(arguments),e=t.shift();return this._IFS(t,function(t){return e[t]})},SUMPRODUCT:function(){var t=this.toArray(arguments);return t=t[0].map(function(e,n){var i=1;return t.forEach(function(t){var e=t[n];i*=parseFloat(e)==e?e:0}),i}),pq.aggregate.sum(t)},TAN:function(t){return Math.tan(t)},TEXT:function(t,e){return this.ISNUMBER(t)&&e.indexOf("#")>=0?pq[_b(42)](t,e):$.datepicker.formatDate(pq.excelToJui(e),this.varToDate(t))},TIME:function(t,e,n){return(t+e/60+n/3600)/24},TIMEVALUE:function(t){var e=t.match(this.reTime);if(e&&null!=e[1]&&(null!=e[3]||null!=e[7]))var n=1*e[1],i=1*(e[3]||0),r=1*(e[5]||0),a=(e[7]||"")[_b(36)](),o=n+i/60+r/3600;if(o>=0&&(a&&13>o||!a&&24>o))return"PM"==a&&12>n?o+=12:"AM"==a&&12==n&&(o-=12),o/24;throw"#VALUE!"},TODAY:function(){var t=new Date;return this.VALUE(new Date(Date.UTC(t[_b(467)](),t.getMonth(),t.getDate())))},TRIM:function(t){return t.replace(/^\s+|\s+$/gm,"")},TRUNC:function(t,e){return~~(t*(e=Math.pow(10,e||0)))/e},UPPER:function(t){return(t+"")[_b(556)]()},VALUE:function(t){var e,n;if(t)if(parseFloat(t)==t)n=parseFloat(t);else if(this.isDate(t))n=this.DATEVALUE(t);else if(e=t.match(this.reDateTime)){var i=e[1]||e[12],r=t.substr(i.length+1);n=this.DATEVALUE(i)+this.TIMEVALUE(r)}else n=(e=t.match(this.reTime))?this.TIMEVALUE(t):(n=t.replace(/[^0-9\-.]/g,"")).replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"");else n=0;return n},VAR:function(){var t=this._STDEV(arguments);return t[0]/(t[1]-1)},VARP:function(){var t=this._STDEV(arguments);return t[0]/t[1]},VLOOKUP:function(t,e,n,i){null==i&&(i=!0);var r=(e=this.get2Arr(e)).map(function(t){return t[0]}),a=this.MATCH(t,r,i?1:0);return this.INDEX(e,a,n)},YEAR:function(t){return this.varToDate(t)[_b(553)]()}};f.reDate1=new RegExp("^"+f.strDate1+"$"),f.reDate2=new RegExp("^"+f.strDate2+"$"),f.reDate=new RegExp("^"+f.strDate1+"$|^"+f.strDate2+"$"),f.reTime=new RegExp("^"+f.strTime+"$","i"),f.reDateTime=new RegExp("^("+f.strDate1+")\\s"+f.strTime+"$|^("+f.strDate2+")\\s"+f.strTime+"$")}(jQuery),function(t){pq.Select=function(e,n){if(this instanceof pq.Select==0)return new pq.Select(e,n);var i=n.closest(".pq-grid"),r=t("<div/>").appendTo(i);pq.grid(r,t.extend({width:n[0][_b(161)],scrollModel:{autoFit:!0},height:"flex",autoRow:!1,numberCell:{show:!1},hoverMode:"row",fillHandle:"",stripeRows:!1,showTop:!1,showHeader:!1},e)),pq.makePopup(r[0],n[0]),r.position({my:"left top",at:"left bottom",of:n,collision:"flipfit",within:i})}}(jQuery),function(t){var e=function(t){this.options=t.options};e.prototype={empty:function(){for(var t in this)0==t.indexOf("_")&&delete this[t];delete this.options.dataModel[_b(316)]},getCM:function(){return this._cm},setCM:function(t){this._cm=t},getCols:function(){return this._columns},setCols:function(t){this._columns=t},getDMData:function(){return this.options.dataModel[_b(316)]},setDMData:function(t){this.options.dataModel[_b(316)]=t},getOCM:function(){return this._ocm},setOCM:function(t){this._ocm=t}},t(document).on("pqGrid:bootup",function(t,n){var i=n.instance,r=i.Group();r.primary=new e(i),i.on("beforeFilterDone",r[_b(557)].bind(r)).one("CMInit",r.oneCMInit.bind(r))});var n={},i={clearPivot:function(t){if(this.isPivot()){var e=this.that,n=e.options.dataModel,i=this.primary;if(i.getOCM()&&e.refreshCM(i.getOCM()),t){if(!i.getDMData())throw"!primary.getDMData";n.data=i.getDMData()}else i.getDMData()&&(n.data=i.getDMData());return this.primary.empty(),this.setPivot(!1),!0}},getColsPrimary:function(){return this.primary.getCols()||this.that.columns},getCMPrimary:function(){return this.primary.getCM()||this.that.colModel},getOCMPrimary:function(){return this.primary.getOCM()||this.that.options.colModel},getSumCols:function(){var t=")"+(this.that.options.rtl?"&lrm;":"");return(n.getSumCols.call(this)||[]).map(function(e){return[e.dataIndx,e.dataType,e.summary,e.summary.type+"("+e.title+t,e.width,e.format,e.showifOpen]})},getVal:function(){return this._pivot?function(t,e){return t[e]}:n.getVal.apply(this,arguments)},groupData:function(){var t,e,i,r,a=this,o=a.that,s=o.options.groupModel,l=s.dataIndx,u=s.groupCols,c=u.length;if(s.pivot&&(t=l.slice(),s.dataIndx=l=l.concat(u),e=s[_b(11)],i=s.titleIndx,r=s.merge,s[_b(11)]=!1,s.titleIndx=null,s.merge=!1),n.groupData.call(a),s.pivot){if(o.pdata=o.pdata.reduce(function(t,e){return e.pq_gtitle&&t.push(e),t},[]),i?(s[_b(11)]=e,s.titleIndx=i):t.length>1&&(s.merge=r),a.pivotData(l,t),s.dataIndx=t.slice(0,t.length-1),s[_b(17)]="all",c){var h=i,d=t[t.length-1];n.groupData.call(a,!0),i&&h!=d&&o.pdata.forEach(function(t){t.pq_gtitle||(t[h]=t[d])})}else i&&o.pdata.forEach(function(t){t[i]=t[[l[t.pq_level]]]});s.dataIndx=t,a.setPivot(!0)}o._trigger("groupData")},isPivot:function(){return this._pivot},getSorter:function(t){var e=t[_b(558)];return e||(e="number"==pq[_b(41)](t)?function(t,e){return 1*t.sortby>1*e.sortby?1:-1}:function(t,e){return t.sortby>e.sortby?1:-1}),e},nestedCM:function(e,n){var i=this,r=n.groupCols,a=n[_b(559)],o="hideifOpen"!=a&&null,s=[],l=[],u=i.that.columns;return u=r.map(function(t){var e=u[t];return s.push(i.getSorter(e)),l.push(pq[_b(41)](e)),e}),function n(i,r,c){r=r||0,c=c||[];var h,d,f,p,g,v,m,_,y=0,b=[];if(t[_b(210)](i))for(;y<e.length;y++)h=e[y],(d=c.slice()).push(h[0]),f={dataIndx:d.join("_"),dataType:h[1],summary:h[2],title:h[3],width:h[4],format:h[5],showifOpen:h[6]},b.push(f);else{for(g in h=u[r],p=l[r],i)m="aggr"===g,(d=c.slice()).push(g),v=n(i[g],r+1,d),m?(_=v).forEach(function(t){t.showifOpen=o,t.type="aggr"}):(f={showifOpen:!0,sortby:g,title:pq.format(h,g,p),colModel:v},v.length>1&&!v.find(function(t){return!t.type}).dataIndx&&(f[_b(87)]={on:!0,last:null}),b.push(f));b.sort(s[r]),_&&b["before"==a?"unshift":"push"].apply(b,_)}return b}},onBeforeFilterDone:function(t,e){if(this.isPivot()){for(var n=e.rules,i=this.primary.getCols(),r=0;r<n.length;r++)if(!i[n[r].dataIndx])return!1;this.clearPivot(!0),e.header=!0}},oneCMInit:function(){this.updateAgg(this.that.options.groupModel.agg)},option:function(t,e,i,r){var a=this;a.isPivot()&&a.clearPivot(),n.option.call(a,t,e,i,r)},pivotData:function(e,n){var i,r=this.that,a=this.getSumCols(),o=this.getSumDIs(),s=r.options,l=s.groupModel,u=this.primary,c=r.pdata,h=r.columns,d=l.titleIndx;i=d?[h[d]].concat(n.reduce(function(e,n){return n!=d&&e.push(t.extend({hidden:!0},h[n])),e},[])):n.map(function(t){return h[t]});var f=this[_b(560)](c,o,e,n),p=this.nestedCM(a,l)(f),g={};g.CM=i=i.concat(p),r._trigger("pivotCM",null,g),u.setOCM(s.colModel),u.setCM(r.colModel),u.setCols(r.columns),r.refreshCM(g.CM,{pivot:!0})},setPivot:function(t){this._pivot=t},transformData:function(t,e,n,i){var r,a,o,s,l=this,u=[],c=this.that,h=this.primary,d={},f=[],p=c.options,g=p.dataModel,v=p.groupModel,m=v[_b(559)],_=i.length,y={},b=n.length;return _==b?(t.forEach(function(t){t.pq_level==_-1&&(delete t.children,delete t.pq_gtitle)}),l[_b(430)](t),u=t):t.forEach(function(t){var c,h,p=t.pq_level,g=p-_,v=y,x=n[p],w=t[x];if(g>=0)for(f[g]=w,c=0;g+1>c;c++)v=v[h=f[c]]=v[h]||{};p===b-1?e.forEach(function(e){(s=f.slice()).push(e),o[s.join("_")]=t[e]}):((!o||a>p&&_>p)&&(o={pq_gid:l.idCount++},r=!0),_>p&&(d[x]=o[x]=w),m&&b-2>=p&&p>=_-1&&e.forEach(function(e){(s=f.slice(0,g+1)).push("aggr"),s.push(e),o[s.join("_")]=t[e]})),a=p,r&&(u.push(o),i.forEach(function(t){void 0===o[t]&&(o[t]=d[t])}),r=!1)}),h.setDMData(g.data),g.data=c.pdata=u,m&&this[_b(561)](y,v[_b(562)]),y},addAggrInCM:function(t,e){var n,i=0;for(n in t)i++,this[_b(561)](t[n],e);i>(e?0:1)&&(t.aggr={})},updateAgg:function(t,e){var n,i=this.that.columns;if(e)for(n in e)i[n].summary=null;if(t)for(n in t)i[n].summary={type:t[n]}}},r=t.paramquery.cGroup.prototype;for(var a in i)n[a]=r[a],r[a]=i[a]}(jQuery),function(t){var e,n=t.paramquery;n.pqGrid.defaults.toolPanel={},n.pqGrid.prototype.ToolPanel=function(){return this.iToolPanel},t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iToolPanel=new n.cToolPanel(i)}),n.cToolPanel=function(t){var e=this;e.that=t,e.panes=[],e.clsSort="pq-sortable",t.one("render",e.init.bind(e))},n.cToolPanel.prototype={getArray:function(t){return t.find(".pq-pivot-col").get().map(function(t){return t.dataset.di})},getInit:function(){return this._inited},getObj:function(t){var e={};return t.find(".pq-pivot-col").each(function(t,n){e[n.dataset.di]=n[_b(563)]("type")||"sum"}),e},getSortCancel:function(){return this[_b(564)]},_hide:function(t){this.$ele[t?"hide":"show"](),this.init(),this.that.refresh({soft:!0})},hide:function(){this._hide(!0)},init:function(){var t=this,e=t.$ele=t.that.$toolPanel;if(t.isVisible()&&!t.getInit()){var n=t.that,i=n.options,r=i.toolPanel,a=i.groupModel.pivot,o=_a(266),s=_a(267),l=t[_b(565)](),u=r[_b(566)],c=a?"checked":"",h=t.clsSort;e.html([_a(268),s,"'>","<div class='",h,"' style='",u?"padding-top:0;":"","'></div>",u?"":["<div class='",o,"'>",_a(269),c,"/>",i[_b(567)],"</label>","</div>"].join(""),"</div>",_a(270),s,"' style='display:",r[_b(568)]?"none":"",";'>",_a(271),h,"'></div>","<div class='",o,_a(272),i[_b(569)],"</div>","</div>",_a(273),s,"' style='display:",l?"none":"",";'>",_a(274),h,"'></div>","<div class='",o,_a(272),i[_b(570)],"</div>","</div>",_a(275),s,"' style='display:",r[_b(571)]?"none":"",";'>",_a(276),h,"'></div>","<div class='",o,_a(272),i[_b(572)],"</div>","</div>"].join("")),t.$pivotChk=e.find(".pq-pivot-checkbox").on("click",t[_b(573)](t,n)),t.$colsAll=e.find(".pq-pivot-cols-all>."+h),t.$colsPane=e.find(".pq-pivot-cols"),t.$cols=e.find(".pq-pivot-cols>."+h),t.$rows=e.find(".pq-pivot-rows>."+h),t.$aggs=e.find(".pq-pivot-vals>."+h).on("click contextmenu",t.onClick.bind(t)),n.on("refreshFull",t.setHt.bind(t)).on("groupOption",t[_b(574)].bind(t)),setTimeout(function(){n.element&&(n.on("CMInit",t.onCMInit.bind(t)),t.render())}),t.setInit()}},isHideColPane:function(){var t=this.that.options;return t.toolPanel[_b(575)]||!t.groupModel.pivot},isDeny:function(t,e,n){var i=e.attr("deny");return this.that.iGroup[_b(165)]()[n[0].dataset.di][i]},isVisible:function(){return this.$ele.is(":visible")},onCMInit:function(t,e){e.pivot||e.flex||e.group||this.that.Group().isPivot()||this.refresh()},onClick:function(e){var n=t(e.target),i=this,r=i.that;if(n.hasClass("pq-pivot-col")){var a=n[0].dataset.di,o=r.iGroup[_b(165)]()[a],s={dataModel:{data:r.iGroup[_b(419)](o.dataType).sort().map(function(t){return[t]})},cellClick:function(t,e){var r=this;n.attr("type",e.rowData[0]),setTimeout(function(){r.destroy(),i[_b(576)](),i.refresh()})}};return pq.Select(s,n),!1}},onGroupOption:function(t,e){if("tp"!=e.source){var n=e.oldGM,i=this.that.options.groupModel;i.groupCols==n.groupCols&&i.agg==n.agg&&i.dataIndx==n.dataIndx&&i.pivot==n.pivot||this.refresh()}},onPivotChange:function(t,e){return function(){var n={pivot:!!this.checked};e.Group().option(n,null,"tp"),t[_b(577)]()}},ph:function(t){return _a(277)+t+"</span>"},refreshGrid:function(){var t=this,e=t.that,n=t.getArray(t.$cols),i=t.getObj(t.$aggs),r=t.getArray(t.$rows);e.Group().option({groupCols:n,dataIndx:r,agg:i},null,"tp"),setTimeout(function(){t.refresh()})},onReceive:function(t,e){return this[_b(578)]()?this[_b(579)](!1):void this[_b(576)]()},onOver:function(e){return function(n,i){var r=t(this),a=i.item,o=a.parent(),s="addClass",l="removeClass",u=o[0]!=r[0]&&e.isDeny(o,r,a);i.helper.find(".ui-icon")[u?s:l]("ui-icon-closethick")[u?l:s]("ui-icon-check")}},onStop:function(e){return function(n,i){var r=t(this),a=i.item,o=a.parent();r[0]!=o[0]&&e.isDeny(r,o,a)&&(r.sortable("cancel"),e[_b(579)](!0))}},onTimer:function(t,n){clearTimeout(e);var i=this;e=setTimeout(function(){i.onReceive(t,n)})},refresh:function(){var e=this;e.that.element.is(":visible")?(e.setHtml(),t(e.panes).sortable("refresh")):e[_b(580)]=!0},render:function(){var e=this,n="."+e.clsSort,i=e.that;i.element&&(e.panes=[e.$colsAll,e.$cols,e.$rows,e.$aggs],e.setHtml(),t(e.panes).sortable({appendTo:e.$ele,connectWith:n,containment:e.$ele,cursor:"move",items:_a(278),helper:function(t,e){return e.clone(!0).css({opacity:"0.8"}).prepend(_a(279))},receive:e.onTimer.bind(e),stop:e.onStop(e),over:e.onOver(e),update:e.onTimer.bind(e),tolerance:"pointer"}),i._trigger("tpRender"))},setHtml:function(){var t,e,n=this,i=n.that,r=[],a=[],o=[],s=[],l=n.template,u=n[_b(581)],c={},h=i.options,d=i.iGroup,f=d[_b(165)](),p=d[_b(174)](),g=h.groupModel,v=g.dataIndx,m=g.groupCols,_=0,y=p.length,b=n.$pivotChk[0];for(v.concat(m).forEach(function(t){c[t]=1}),b&&(b.checked=g.pivot),n[_b(577)]();y>_;_++)e=(t=p[_]).dataIndx,t.tpHide||c[e]||(t.summary&&t.summary.type?s.push(u(e,t)):r.push(l(e,t)));v.forEach(function(t){o.push(l(t,f[t]))}),m.forEach(function(t){a.push(l(t,f[t]))}),n.$colsAll.html(r.join("")),n.$rows.html(o.join("")||n.ph(h[_b(582)])),n.$cols.html(a.join("")||n.ph(h[_b(583)])),n.$aggs.html(s.join("")||n.ph(h[_b(584)]))},setAttrPanes:function(){this.$ele.attr("panes",this.panes.filter(function(t){return t.is(":visible")}).length)},setHt:function(){var t=this;t.$ele.height(this.$ele.parent()[0][_b(162)]),t[_b(580)]&&(t[_b(580)]=!1,t.refresh())},setSortCancel:function(t){this[_b(564)]=t},setInit:function(){this._inited=!0},show:function(){this._hide(!1)},showHideColPane:function(){var t=this;t.$colsPane.css("display",t[_b(565)]()?"none":""),t[_b(585)]()},template:function(t,e){return["<div data-di='",t,_a(280),e.tpCls||"","'>",e.title,"</div>"].join("")},templateVals:function(t,e){var n=e.summary.type;return["<div data-di='",t,"' type='",n,_a(280),e.tpCls||"","'>",n,"(",e.title,")</div>"].join("")},toggle:function(){this._hide(this.isVisible())}}}(jQuery),function(t){function e(t){var e=this;e.that=t,e.rtl=t.options.rtl,t.on("headerCellClick",e[_b(586)].bind(e)).on("headerClick",e[_b(587)].bind(e)).on("destroy",e.onDestroy.bind(e))}t(document).on("pqGrid:bootup",function(t,n){var i=n.instance;i[_b(588)]=new e(i),i.HeaderMenu=function(){return i[_b(588)]}}),e.prototype={close:function(){this.$popup.remove(),this.$popup=null},popup:function(){return this.$popup},openFilterTab:function(){var t=this.$popup.find(_a(281)).closest("li").index();return this.$tabs.tabs("option","active",t),this.filterMenu},FilterMenu:function(){return this.filterMenu},getCM:function(){var t=this.that.options[_b(589)]||"Select All",e=null,n=this.nested;return[{editor:!1,dataIndx:"title",title:t,useLabel:!0,filter:{crules:[{condition:"contain"}]},type:n?e:"checkbox",cbId:n?e:"visible"},{hidden:!0,dataIndx:"visible",dataType:"bool",editable:function(t){return!t.rowData.pq_disable},cb:n?e:{header:!0}}]},getData:function(){var t=1,e=this,n=e.that,i=n[_b(112)];return n.Columns().reduce(function(n){var r=this.getColIndx({column:n}),a=!n.hidden,o=n.childCount;return n.menuInHide||n[_b(87)]?void 0:(o&&(e.nested=!0),{visible:o?void 0:a,title:o?n.title:i.getTitle(n,r)||n.dataIndx,column:n,id:t++,pq_disable:n[_b(590)],pq_close:n[_b(591)],colModel:o?n.colModel:void 0})})},getGridObj:function(){var e=this,n=e.that;return t.extend({dataModel:{data:e.getData()},rtl:n.options.rtl,colModel:e.getCM(),check:e.onChange.bind(e),treeExpand:e[_b(592)].bind(e),treeModel:e.nested?{dataIndx:"title",childstr:"colModel",checkbox:!0,checkboxHead:!0,cbId:"visible",cascade:!0,useLabel:!0}:void 0},n.options.menuUI.gridOptions)},onChange:function(t,e){if(!e.init){var n=[],i=[];(e[_b(7)]?e[_b(7)]():e.rows).forEach(function(t){var e=t.rowData,r=e.column,a=r.dataIndx,o=r.colModel;o&&o.length||(e.visible?n.push(a):i.push(a))}),this.that.Columns().hide({diShow:n,diHide:i})}},onDestroy:function(){var t=this.$popup;t&&t.remove(),delete this.$popup},onHeadCellClick:function(e,n){var i=t(e[_b(31)].target);return i.hasClass("pq-filter-icon")?this[_b(593)](e,n,i):i.hasClass("pq-menu-icon")?this[_b(594)](e,n,i):void 0},onHeadClick:function(t,e){return null==this.that[_b(173)]().find(function(t){return!t.hidden})?this[_b(594)](t,e):void 0},getMenuHtml:function(t){var e={hideCols:"visible",filter:"filter"},n=t.map(function(t){return['<li><a href="#tabs-',t,_a(282),e[t],_a(283)].join("")}).join(""),i=t.map(function(t){return'<div id="tabs-'+t+'"></div>'}).join("");return[_a(284),this.rtl?"rtl":"ltr","'>",_a(285),"<ul>",n,"</ul>",i,"</div>","</div>"].join("")},getMenuH:function(e,n){return t.extend({},e.menuUI,n.menuUI)},open:function(e,n,i){var r,a,o=this,s=o.that;n=n||s[_b(26)]({dataIndx:e}),r=null!=e?(o.menuH=o.getMenuH(s.options,a=s.columns[e])).tabs:["hideCols"];var l=o.$popup=t(o[_b(595)](r)).appendTo(document.body),u=this.$tabs=l.find(".pq-tabs");if(r.indexOf("hideCols")>-1){var c=o.$grid=t("<div/>").appendTo(l.find("#tabs-hideCols"));o.grid=pq.grid(c,o.getGridObj())}return r.indexOf("filter")>-1&&o[_b(596)](l.find("#tabs-filter"),a),pq.makePopup(o.$popup[0]),u.tabs({active:localStorage["pq-menu-tab"]||1,activate:function(e,n){localStorage["pq-menu-tab"]=t(this).tabs("option","active"),t(n.newPanel).find(".pq-grid").pqGrid("refresh")}}),l.resizable({handles:"e,w",maxWidth:600,minWidth:220}),l.position({my:"left top",at:"left bottom",of:i||n}),this},onMenuClick:function(t,e,n){return this.open(e.dataIndx,t,n),!1},onTreeExpand:function(t,e){e.nodes.forEach(function(t){t.column[_b(591)]=e.close})},appendFilter:function(e,n){var i,r,a=this,o=a.that,s=t(_a(286)).appendTo(e),l=a.$popup||s;i=a.filterMenu=new(pq[_b(382)]);var u={filterRow:e.is(document.body),grid:o,column:n,$popup:l,menuH:this.menuH||this.getMenuH(o.options,n)};return i.init(u),r=i.getHtml(),s.html(r),i.ready(s.children().get()),i.addEvents(),l.on("remove",function(){a.$popup=a.filterMenu=null}),s},onFilterClick:function(e,n,i){var r=this.$popup=this[_b(596)](t(document.body),n.column);return pq.makePopup(r[0]),r.position({my:"left top",at:"left bottom",of:i}),!1}}}(jQuery),function(t){var e=pq[_b(382)]=function(){};e.select=function(t,e){this.that=t,this.di1="selected",this.grid=null,this.column=e},e.select.prototype={change:function(t){this.onChange(t).call(this.grid)},create:function(e,n,i){var r=this,a=r.that,o=r.getGridObj(n,i),s=function(t){var e=n[t];e&&e.call(a,l),a._trigger(t,null,l)},l=t.extend({obj:o,column:r.column},n);return s("selectGridObj"),o.rtl=a.options.rtl,l.grid=r.grid=pq.grid(e,o),s("selectGridCreated"),r.grid},getCM:function(e,n,i,r,a,o){var s=e.dataIndx,l=t.extend({filter:{crules:[{condition:"contain"}]},align:"left",format:o.format||e.format,deFormat:e.deFormat,title:e.pq_title||e.title,dataType:e.dataType,dataIndx:s,editor:!1,useLabel:!0,renderLabel:this[_b(597)](r,s,this.that.options.strBlanks)},i?{}:{type:"checkbox",cbId:n});return i?[l,{dataIndx:n,dataType:"bool",hidden:!0},{dataIndx:i,hidden:!0}]:[l,{dataIndx:n,dataType:"bool",hidden:!0,cb:{header:!a,maxCheck:a}}]},getData:function(e,n){var i=this.column,r=this.that,a={},o=this.di1,s=i.dataIndx,l=e.maxCheck,u=pq.filter.getVal(n)[0],c=pq.filter.getOptions(i,e,r,!0);return t.isArray(u)?l&&(u=u.slice(0,l)):u=1==l?[u]:[],u.forEach(function(t){a[t]=!0}),c.forEach(u.length?function(t){t[o]=a[t[s]]}:function(t){t[o]=!l}),c},getGridObj:function(e,n){var i=this,r=i.column,a=i.that.options,o="gridOptions",s=e.groupIndx,l=e.maxCheck,u=i.di1,c=i.getData(e,r.filter),h=c&&c.length&&null!=c[0].pq_label?"pq_label":e.labelIndx;return i.filterUI=e,t.extend({colModel:i.getCM(r,u,s,h,l,e),check:i.onChange(!n),filterModel:"bool"===r.dataType?{}:void 0,groupModel:s?{on:!0,dataIndx:s?[s]:[],titleInFirstCol:!0,fixCols:!1,indent:18,checkbox:!0,select:!1,checkboxHead:!l,cascade:!l,maxCheck:l,cbId:u}:{},dataModel:{data:c}},a.menuUI[o],a[_b(154)][o],e[o])},getRenderLbl:function(t,e,n){return t===e&&(t=void 0),function(i){var r=i.rowData,a=r[t];return a||""!==r[e]?a:n}},onChange:function(t){var e=this,n=e.filterUI.condition;return function(){if(t){var i=!1,r=e.column.dataIndx,a=e.di1,o=e.that,s=this.getData().filter(function(t){var e=t[a];return e||(i=!0),e}).map(function(t){return t[r]});o.filter(i?{oper:"add",rule:{dataIndx:r,condition:n,value:s}}:{rule:{dataIndx:r,condition:n,value:[]}}),e[_b(598)]()}}},refreshRowFilter:function(){this.that[_b(112)][_b(265)](this.column)}},e.prototype={addEvents:function(){var t=this;t.$sel0.on("change",t[_b(599)].bind(t)),t.$sel1.on("change",t[_b(600)].bind(t)),t[_b(601)].on("change",t[_b(602)].bind(t)),t.$clear.button().on("click",t.clear.bind(t)),t.$ok.button().on("click",t.ok.bind(t))},addEventsInput:function(){var t=this;t.$inp&&(t.$inp.filter("[type='checkbox']").off("click").on("click",t.onInput.bind(t)),t.$inp.filter("[type='text']").off("keyup").on("keyup",t.onInput.bind(t)))},clear:function(){var t=this.that,e=this.column,n=this.cond0,i=this.getType(n);t.filter({rule:{dataIndx:e.dataIndx,condition:i?n:void 0},oper:"remove"}),this[_b(598)](),this.ready()},close:function(){this.$popup.remove()},filterByCond:function(t){var e=this,n=e.that,i=e.column.dataIndx,r=e.cond0,a=""===r,o=e.cond1,s=e.filterRow;if(e.showHide(r,o),!s)var l=e.getModeVal(),u=e.getType(r),c=e.getVal(0),h=c[0],d=c[1],f=e.getVal(1),p=f[0],g=f[1],v=e.$gridR;"select"==u?(t&&n.filter({oper:"add",rule:{dataIndx:i,condition:r,value:[]}}),s||e.iRange.create(v,e.filterUI[0],e.btnOk)):t&&n.filter({oper:a?"remove":"add",rule:{dataIndx:i,mode:l,crules:[{condition:r,value:h,value2:d},{condition:o,value:p,value2:g}]}})},getBtnOk:function(){return this.$ok},getInp:function(t){return this["$inp"+t]},getSel:function(t){return this["$sel"+t]},getBtnClear:function(){return this.$clear},getHtmlInput:function(t){var e=this.filterUI[2>t?0:1],n="checkbox";return"<input type='"+(e.type==n?n:"text")+"' "+["name='",this.column.dataIndx,"' class='",e.cls||"","' style='width:100%;",e.style||"","display:none;' ",e.attr||""].join("")+" />"},getHtml:function(){var t=this,e=t.column.filter,n=t.menuH,i=e.crules||[],r=i[1]||{},a=t.that.options,o=t.cond0=(i[0]||e).condition,s=t.cond1=r.condition,l=t.filterRow;t[_b(603)]();var u=function(e,n){return[_a(287),t[_b(604)](e),"</div>",_a(287),t[_b(604)](n),"</div>"].join("")},c=pq.filter[_b(605)](this.column,t.filterUI[0]);return[_a(288),_a(287),a[_b(606)]," <select>",this[_b(607)](c,o),"</select></div>",l?"":["<div>",u(0,1),_a(289),n[_b(608)]?"":[_a(290),_a(291),_a(292),"</div>",_a(293),this[_b(607)](c,s,!0),"</select></div>",u(2,3)].join(""),"</div>"].join(""),_a(294),n.buttons.map(function(t){return"<button data-rel='"+t+_a(295)+(a["str"+pq.cap1(t)]||t)+"</button>"}).join(""),"</div>","</div>"].join("")},getMode:function(t){var e=this[_b(601)];return t>=0?e[t]:e},getModeVal:function(){return this[_b(601)].filter(":checked").val()},getOptionStr:function(t,e,n){var i=[""].concat(t),r=this,a=r.that.options[_b(609)]||{};return n&&(i=i.filter(function(t){return"select"!=r.getType(t)})),i.map(function(t){return'<option value="'+t+'" '+(e==t?"selected":"")+">"+(a[t]||t)+"</option>"}).join("")},getType:function(t){return pq.filter.getType(t,this.column)},getVal:function(t){var e,n,i=this.column,r=this["cond"+t],a=this["$inp"+(t?"2":"0")],o=a[0],s=this["$inp"+(t?"3":"1")];if(a.is("[type='checkbox']")){var l=o[_b(15)];e=!!o.checked||!!l&&null}else a.is(":visible")&&(e=pq.deFormat(i,a.val(),r)),s.is(":visible")&&(n=pq.deFormat(i,s.val(),r));return[e,n]},init:function(t){var e=this.column=t.column;e.filter=e.filter||{},this.that=t.grid,this.menuH=t.menuH,this.$popup=t.$popup,this.filterRow=t.filterRow},initControls:function(){var e=this.filterUI[0],n=this.that,i={column:this.column,headMenu:!0};i.$editor=t([this.$inp0[0],this.$inp1[0]]),i.condition=this.cond0,i.type=e.type,i.filterUI=e,e.init.find(function(t){return t.call(n,i)}),e=this.filterUI[1],i.$editor=t([this.$inp2[0],this.$inp3[0]]),i.condition=this.cond1,i.type=e.type,i.filterUI=e,e.init.find(function(t){return t.call(n,i)})},isInputHidden:function(t){return"select"==t||!t||void 0},ok:function(){var t=this.cond0;"select"!=this.getType(t)||this.filterRow?t&&this[_b(610)](!0):this.iRange.change(!0),this.close(),this[_b(598)]()},onModeChange:function(){this[_b(610)](!this.btnOk)},onInput:function(e){var n=t(e.target),i=!this.btnOk;n.is(":checkbox")&&n.pqval({incr:!0}),this[_b(610)](i),i&&this[_b(598)]()},onSel1Change:function(){var t=!this.btnOk;this.cond0=this.getSel(0).val(),this[_b(603)](),this.filterRow||(this.$inp0[_b(310)](this[_b(604)](0)),this.$inp1[_b(310)](this[_b(604)](1)),this[_b(611)](),this[_b(612)]()),this[_b(610)](t),this[_b(598)]()},onSel2Change:function(){this.cond1=this.getSel(1).val(),this[_b(603)](),this.$inp2[_b(310)](this[_b(604)](2)),this.$inp3[_b(310)](this[_b(604)](3)),this[_b(611)](),this[_b(612)](),this[_b(610)](!this.btnOk)},ready:function(e){this.node=e=e||this.node;var n,i,r,a=t(e),o=this,s=o.that,l=o.column,u=l.filter,c=u.crules||[],h=c[0]||u,d=c[1]||{},f=o.cond0=h.condition,p=o.cond1=d.condition,g=o[_b(603)]();o.iRange=new(pq[_b(382)].select)(s,l),n=o.getType(f),i=o.getType(p),r=o.$select=a.find("select"),o.$sel0=t(r[0]).val(f),o.$sel1=t(r[1]).val(p),o[_b(601)]=a.find(_a(296)),o.$clear=a.find("[data-rel='clear']"),o.$ok=a.find("[data-rel='ok']"),o.btnOk=o.$ok.length,o.filterRow||(o[_b(611)](),o.$gridR=a.find("[data-rel='grid']"),o[_b(601)].filter("[value="+u.mode+"]").attr("checked","checked"),o[_b(613)]=a.find(".filter_mode_div"),o.showHide(f,p),"select"==n?o.iRange.create(o.$gridR,g[0],o.btnOk):o.readyInput(0,n,h),o.readyInput(1,i,d),o[_b(612)]())},readyInput:function(t,e,n){var i=this.column,r=this["cond"+t],a=this["$inp"+(t?"2":"0")],o=this["$inp"+(t?"3":"1")];a.is(":checkbox")&&a.pqval({val:n.value}),a.val(pq.formatEx(i,n.value,r)),"textbox2"==e&&o.val(pq.formatEx(i,n.value2,r))},readFilterUI:function(){var t=this.filterUI=[],e=this.that,n={column:this.column,condition:this.cond0,indx:0,headMenu:!0};return t[0]=pq.filter[_b(268)](n,e),n.condition=this.cond1,n.indx=1,t[1]=pq.filter[_b(268)](n,e),t},refreshInputVarsAndEvents:function(){var e=this,n=e.column,i=e.$inp=t(this.node).find("input[name='"+n.dataIndx+_a(297)),r=i[1],a=i[2],o=i[3];e.$inp0=t(i[0]),e.$inp1=t(r),e.$inp2=t(a),e.$inp3=t(o),e[_b(614)]()},refreshRowFilter:function(){this.that[_b(313)]({dataIndx:this.column.dataIndx})},SelectGrid:function(){return this.$gridR.pqGrid("instance")},showHide:function(t,e){if(!this.filterRow){var n,i=this,r=i[_b(613)],a=i.$sel1,o=i.getType(t),s=i.$inp;"select"===o?(i.$gridR.show(),i.$gridR.hasClass("pq-grid")&&i.$gridR.pqGrid("destroy"),s.hide(),r.hide(),a.hide()):(i.$gridR.hide(),t?(i.$inp0[i[_b(615)](o)?"hide":"show"](),i.$inp1["textbox2"===o?"show":"hide"](),r.show(),a.show(),e?(n=i.getType(e),i.$inp2[i[_b(615)](n)?"hide":"show"](),i.$inp3["textbox2"===n?"show":"hide"]()):(i.$inp2.hide(),i.$inp3.hide())):(s.hide(),r.hide(),a.hide()))}},updateConditions:function(){var t=this.column.filter;t.crules=t.crules||[{}],t.crules[0].condition=this.cond0,this.cond1&&(t.crules[1]=t.crules[1]||{},t.crules[1].condition=this.cond1)}}}(jQuery),function(t){var e=t.paramquery;t(document).on("pqGrid:bootup",function(t,n){new e.cEditor(n.instance)}),e.cEditor=function(t){var e=this;e.that=t,t.on("editorBeginDone",function(n,i){i.$td[0].edited=!0,e.fixWidth(i);var r=(i.column.editor||t.options.editor||{}).init;r&&t.callFn(r,i)}).on("editorEnd",function(t,e){e.$td[0].edited=!1})},e.cEditor.prototype={fixWidth:function(e){var n=this.that,i=e.$td,r=i[0],a=r[_b(161)],o=r[_b(162)],s=n.iRenderB,l=s.htContTop,u=s.wdContLeft,c=s[_b(141)](r)[2],h=0,d=0;"right"==c&&(h=l,d=u),"left"==c&&(h=l),"tr"==c&&(d=u);var f,p=e.$editor,g="textarea"==p[0].type,v=p.closest(".pq-editor-outer"),m=i.offset(),_=n.options,y=_.rtl,b=y?"right":"left",x=m.left,w=m.top,k=x+a,C=t.extend({},_.editModel,e.column.editModel),M=v.parent(),T=M.offset(),S=T.left,A=T.top,E=M[0],P=E[_b(161)],I=(I=(y?S+P-k:x-S)-1)>d?I:d,O={top:f=(f=w-A-1)>h?f:h},R=a+1,L=o+1,D=E[_b(162)]-f,N=P-I,Z=(L=L>D?D:L,{minWidth:R=R>N?N:R,maxWidth:N,maxHeight:D});if(O[b]=I,v.css(O),g){if(p.attr("rows")||p.attr("columns"))return;Z.minHeight=L;var F=i.children("div"),U=i.css("background-color");Z.fontSize=i.css("font-size"),Z.fontFamily=i.css("font-family"),Z[_b(616)]=U,Z.color=i.css("color"),Z.padding=parseInt(F.css("padding-top"))+2+"px "+(parseInt(F.css("padding-right"))+2)+"px"}else Z.width=a+1;p.css(Z),g&&p.pqtext(C.saveKey!=t.ui.keyCode.ENTER)}}}(jQuery),function(t){var e=pq.grid,n=t.paramquery.cProxy=function(t){this.that=t,t.options.reactive&&this.init()};t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iProxy=new n(i)}),pq.isEqual=function(t,e){if(pq.isObject(t)){for(var n in t)if(!pq.isEqual(t[n],e[n]))return!1;return!0}return t===e},pq.grid=function(t,n){var i=e.apply(pq,arguments),r=i.iProxy,a=i.options;return a.reactive&&(i.on("filter",function(){n.dataModel&&(n.dataModel.data=a.dataModel.data),r.prxData()}),r.prxObj(n,r.onOption,!0)),i},n.prototype={init:function(){var t=this,e=t.that;t.prxData(),t.prxCM(),e.on("refresh",t.clear.bind(t)).on("dataReady",t.clearV.bind(t)).on("dataAvailable",t.clearDV.bind(t))},onOption:function(t,e){var n,i=this,r=i.that,a={},o=r.options;if(a[t]=e,r.element&&!pq.isEqual(a,o))if(i.refresh(),pq.isObject(o[t]))if("groupModel"==t)r.Group().option(e,!1),i[_b(16)]();else if("treeModel"==t)r.Tree().option(e);else if("sortModel"==t)r.sort(e);else for(n in"dataModel"==t?(e.data&&i.prxData(e.data),i[_b(617)]()):"pageModel"==t&&(e.rPP||null!=e.type)&&i[_b(617)](),e)r.option(t+"."+n,e[n]);else"colModel"==t?i.prxCM(e):"mergeCells"==t&&i[_b(16)](),r.option(t,e)},onCMChange:function(){var t=this,e=t.that;clearTimeout(t.CMtimer),t.CMtimer=setTimeout(function(){e.refreshCM(),t.refresh()}),e.one("CMInit",function(){clearTimeout(t.CMtimer)})},prxCM:function(t){var e=this,n=t||e.that.options.colModel;n&&(e.prxArray(n,e.onCMChange.bind(e)),n.forEach(function(t){t.colModel&&e.prxCM(t.colModel)}))},prxData:function(t){var e=this,n=e.that,i=t||n.options.dataModel.data;i&&e.prxArray(i,function(){clearTimeout(e.datatimer),e.datatimer=setTimeout(function(){e[_b(16)]()}),n.one("dataReady",function(){clearTimeout(e.datatimer)})})},prxArray:function(t,e){var n=this,i=Array.prototype;_a(298).split(" ").forEach(function(r){t[r]=function(){var a=arguments,o="splice"==r,s=Object[_b(618)](t)[r].apply(this,a);return("push"==r||o||"unshift"==r)&&n[_b(619)](o?i.slice.call(a,2):a),e.call(n),s}}),n[_b(619)](t)},prxArrayObjs:function(t){for(var e=0,n=t.length;n>e;e++)this.prxObj(t[e])},prxObj:function(t,e,n,i){if(pq.isObject(t)&&"tabModel"!=i){var r,a,o=this,s="pq_proxy";for(a in t[s]||Object[_b(40)](t,s,{value:{},enumerable:!1}),(r=t[s]).__self=o,t)"pq_"!=a.substr(0,3)&&(n&&!i&&pq.isObject(t[a])&&o.prxObj(t[a],e,n,a),r.hasOwnProperty(a)||(Object[_b(40)](r,a,Object[_b(39)](t,a)),o.defineProp(t,r,a,e,n,i)))}},defineProp:function(t,e,n,i,r,a){Object[_b(40)](t,n,{get:function(){return e[n]},set:function(t){var o,s=e.__self;r&&!a&&pq.isObject(t)&&s.prxObj(t,i,r,n),e[n]=t,i?(o=t,a&&((o={})[n]=t),i.call(s,a||n,o)):s.refresh()},enumerable:!0})},clear:function(){clearTimeout(this.timer)},clearV:function(){this.clear(),clearTimeout(this.timerV)},clearDV:function(){this.clearV(),clearTimeout(this.timerDV)},X:function(t,e){var n=this;n[e]=setTimeout(function(){n.that.element&&n.that[t]()})},refresh:function(){this.clear(),this.X("refresh","timer")},refreshView:function(){this.clearV(),this.X("refreshView","timerV")},refreshDataView:function(){this.clearDV(),this.X("refreshDataAndView","timerDV")}}}(jQuery),function(t){t.widget("pq.drag",t.ui.mouse,{_create:function(){this._mouseInit()},_mouseCapture:function(t){return this._trigger("capture",t),!0},_mouseStart:function(t){return this._trigger("start",t),!0},_mouseDrag:function(t){this._trigger("drag",t)},_mouseStop:function(t){this._trigger("stop",t)}})}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,n){var i=n.instance;i.iPic=new e(i),i.Pic=function(){return i.iPic}});var e=t.paramquery.cPic=function(t){var e=this,n=t.options,i=e.rtl=n.rtl;e.id=0,e.left=i?"right":"left",e.pics=[],e.that=t,t.on("dataAvailable",function(i,r){"filter"!=r.source&&(e.reset(),t.one("refresh",function(){e.addPics(n.pics)}))}).on("assignTblDims",e.refresh.bind(e))};e.prototype={addPics:function(t){var e=this;(t||[]).forEach(function(t){e.add(t.name,t.src,t.from,t.to,t.cx,t.cy,!0)})},create:function(e,n,i,r,a,o,s,l,u){var c,h,d=this,f=new Image,p={position:"absolute",top:r,zIndex:5},g=t(f);f.src=n,p[d.left]=i,e.append(f),(h=g.attr({draggable:!1,"pic-id":u,tabindex:1}).css({height:o,width:a,cursor:"move"}).on("focus",function(){t(l).css({outline:"2px dotted #999"})}).on("keydown",function(e){e.keyCode==t.ui.keyCode.DELETE&&d.remove(d.getId(this))}).on("blur",function(){t(l).css({outline:""})}).resizable({resize:d.onResize(d,l,s)}).parent(".ui-wrapper").css(p)).find(".ui-resizable-se")[_b(68)]("ui-icon"),c=d.drag(h,l,s),g.drag({distance:3,capture:function(){g.focus()},start:c.start,drag:c.drag,stop:c.stop}),l.push(h[0])},drag:function(e,n,i){var r,a=this,o=a.that,s=o.iRenderB,l=i.cx,u=i.cy,c=s.leftArr,h=s.topArr,d=c[c.length-1],f=h[h.length-1],p=s.numColWd,g=function(t){return parseInt(e.css(t))};return{start:function(t){r={pageX:t.pageX,pageY:t.pageY,scrollX:o.scrollX(),scrollY:o.scrollY()}},drag:function(e){var i=o.scrollX(),s=o.scrollY(),c=(e.pageX+i-r.pageX-r.scrollX)*(a.rtl?-1:1),h=e.pageY+s-r.pageY-r.scrollY,v=g(a.left),m=g("top"),_={};r.pageX=e.pageX,r.scrollX=i,r.pageY=e.pageY,r.scrollY=s,0>v+c-p?c=p-v:v+c+l>d+p&&(c=d+p-v-l),0>m+h?h=0-m:m+c+u>f&&(h=f-m-u),_.top=m+h,_[a.left]=v+c,t(n).css(_)},stop:function(){var t=g(a.left)-p,e=g("top"),n=a.findIndx(c,t),r=a.findIndx(h,e);i.from=[n,t-c[n],r,e-h[r]]}}},onResize:function(e,n,i){return function(e,r){var a=r.size.height,o=r.size.width,s={height:a,width:o};t(n).css(s),t(n).find("img").css(s),delete i.to,i.cx=o,i.cy=a}},getPos:function(t){var e=this.that.iRenderB.getCellXY(1*t[2],1*t[0]);return[e[0]+t[1],e[1]+t[3]]},name:function(t){return t.replace(/[^0-9,a-z,A-Z,_\.]/g,"_")},refresh:function(){var t=this,e=t.that.widget();t.pics.forEach(function(n){var i=n.id,r=t.getPos(n.from),a=r[0],o={top:r[1]},s=e.find("[pic-id="+i+"]").parent();o[t.left]=a,s.css(o)})},add:function(t,e,n,i,r,a,o){var s=this;if(e){if("data:"!=e.substr(0,5))t=t||e.split("/").pop(),pq.urlToBase(e,function(e){s.add(t,e,n,i,r,a,o)});else{var l,u,c,h=s.that,d=h.iRenderB,f=s.getPos(n),p=f[0],g=f[1],v=[],m=s.id++,_=function(r,a){(u={name:t,src:e,get from(){var t=this._from;return[h.getColIndx({column:t[0]}),t[1],t[2].pq_ri,t[3]]},set from(t){this._from=[h.colModel[t[0]],t[1],h.getRowData({rowIndx:t[2]}),t[3]]},cx:r,cy:a,id:m}).from=n,["$cright","$cleft","$clt","$ctr"].forEach(function(t){s.create(d[t],e,p,g,r,a,u,v,m)}),s.pics.push(u),o||h.iHistory.push({callback:function(o){o?m=s.add(t,e,n,i,r,a,!0):s.remove(m,!0)}}),h._trigger("picAdd")};i&&i.length?(l=d.getCellXY(i[2],i[0]),_(l[0]+i[1]-p,l[1]+i[3]-g)):a?_(r,a):((c=new Image).onload=function(){_(c.width,c.height)},c.src=e)}return m}},findIndx:function(t,e){return t.findIndex(function(t){return t>e})-1},getId:function(e){return t(e).attr("pic-id")},remove:function(t,e){var n,i=this,r=i.that,a=i.pics.findIndex(function(e){return e.id==t});r.widget().find("[pic-id="+t+"]").remove(),n=i.pics.splice(a,1)[0],e||r.iHistory.push({callback:function(e){e?i.remove(t,!0):t=i.add(n.name,n.src,n.from,n.to,n.cx,n.cy,!0)}})},reset:function(){this.that.widget().find("[pic-id]").remove(),this.pics.length=0,this.id=0}}}(jQuery),function(t){var e,n=function(){if(null==e){var n=t(_a(299)).appendTo(document.body),i=n[0][_b(57)];n.remove(),e=100==i}return e};t.fn.pqtext=function(e){function i(){var t=a.style,e=t.minWidth;t.whiteSpace="pre",t.wordWrap="normal",t.height=0,t.width=0,t.minWidth=0,t.width=a[_b(57)]+s+"px",t.minWidth=e,t.whiteSpace="pre-wrap",t.wordWrap="break-word",t.height=a[_b(620)]+"px"}var r=this,a=r[0],o="pq-text",s=n()?parseInt(r.css("paddingRight"))+5:1;r.hasClass(o)||(i(),r.addClass(o).attr("spellcheck",!1).on("input",i).on("keydown",function(n){var i,o,s,l="selectionStart",u="selectionEnd";n.keyCode==t.ui.keyCode.ENTER&&((n.altKey||e)&&(o=a[u],a.value=(s=a.value).slice(0,i=a[l])+"\n"+s.slice(i,s.length),a[l]=i+1,a[u]=o+1,r.trigger("input")),n[_b(28)]())}))}}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,n){var i=n.instance;i.iRowResize=new e(i),i.RowResize=function(){return i.iRowResize}});var e=t.paramquery.cRowResize=function(t){var e=this;e.that=t,e.ht=8,t.options.rowResize&&t.on(!0,"cellMouseDown",e.onCellDown.bind(e)).on("cellMouseEnter",e[_b(621)].bind(e))};e.prototype={onCellDown:function(e,n){if(-1==n.colIndx){var i=e.pageY,r=e[_b(123)],a=t(r);if(i>=a.offset().top+r[_b(162)]-this.ht){this.createDrag(a,n);var o=t.Event("mousedown",e);return o.type="mousedown",a.trigger(o),!1}a.draggable("instance")&&a.draggable("destroy")}},onCellEnter:function(e,n){if(-1==n.colIndx){var i="pq-row-resize",r=t(e[_b(123)]);this.drag||r.find("."+i).length||r.append("<div class='"+i+_a(300)+(this.ht-1)+_a(301))}},createDrag:function(e,n){var i,r=this,a=r.that,o=n.rowData,s=n[_b(71)],l=a.iRenderB,u=a.$cont,c=_a(302);e.hasClass("ui-draggable")||e.on("dblclick",function(){delete o.pq_htfix,l.autoHeight({})}).draggable({axis:"y",cursor:"row-resize",cursorAt:{top:-2},start:function(e){r.drag=!0,i=e.pageY,r.$top=t("<div style='"+c+_a(303)+(l.getTop(s)-l.scrollY())+"px;'></div>").appendTo(u)},helper:function(){return t("<div style='"+c+"'></div>").appendTo(u)},stop:function(t){r.drag=!1;var e=t.pageY-i,n=l.rowhtArr;r.$top.remove(),o.pq_ht=Math.max(n[s]+e,10),o.pq_htfix=!0,a.refresh()}})}}}(jQuery),function(t){t(document).on("pqGrid:bootup",function(t,e){var i=e.instance;i.iTab=new n(i),i.Tab=function(){return i.iTab}});var e=t.paramquery,n=e.cTab=function(t){var e,n=this,i=t.options,r=i.tabModel||{},a=r.tabs;n.that=t,a&&(a.length||a.push({name:i.title,_inst:t}),r.byRef=!0,n.model=r,n._tbs=a,r._main||(null==(e=r.activeId)&&(e=a.findIndex(function(t){return!t.hidden})),Object[_b(40)](r,"activeId",{get:function(){return this.tabs.indexOf(this._at)},set:function(t){this._at=this.tabs[t]},configurable:!0}),r.activeId=e,r._main=r._at._inst=t,t.on("destroy",n.onDestroy.bind(n)),n[_b(622)](r._at,!0)),t.on("change",n.onChange.bind(n)).on("render",n.onRender.bind(n)).on("toggle",n.onToggle.bind(n)))};e.pqGrid.defaults.tabModel={newTab:function(){return{sheet:{},extraRows:20,extraCols:10}}},n.prototype={activeTab:function(){return this.model._at},grid:function(t){return t._inst},activate:function(t){var e=this,n=e.model,i=e._tbs[t],r=i._inst,a=n.activeId,o=n._at._inst.widget();return r?a!=t&&(o.hide(),r.widget().show(),n._at=i,r.iTab.refresh(),r.refresh()):r=e.create(t,!0),e.trigger("tabActivate",null,{tab:i}),r},add:function(){var t=this,e=t.model.newTab.call(t.main());e.name=e.name||t.getTitle(),t._tbs.push(e),t.refresh()},clear:function(){var t=this._tbs,e=this.model;t.forEach(function(t){var n=t._inst;n&&n!=e._main&&n.widget().remove()}),t.length=0},create:function(e,n){var i=this.model,r=this._tbs[e],a=r._inst;if(a)return a;var o=i._at._inst.widget(),s=this.getOptions(r),l=t("<div/>")[_b(623)](o);return delete r.sheet,l[0].style.cssText=o[0].style.cssText,n?(i.activeId=e,o.hide()):l.hide(),s.render=function(){r._inst=this},pq.grid(l,s)},findActive:function(t){var e,n,i,r=this._tbs,a=this.model._at;if(-1==r.indexOf(a)||a.hidden){for(n=t;n<r.length;n++)if(!(e=r[n]).hidden){i=n;break}if(null==i)for(n=t;n>=0;n--)if((e=r[n])&&!e.hidden){i=n;break}this.activate(i)}else this.refresh()},remove:function(t){var e=this,n=e.model,i=e._tbs,r=i[t]._inst,a=n.activeId;e.show().length>1&&(i.splice(t,1),e.findActive(a),r&&r!=n._main&&r.destroy())},rename:function(t,e){var n=this,i=n._tbs[t],r=i.name;n.isValid(e)&&(i.name=e,n.trigger("tabRename",null,{tab:i,oldVal:r}),n.refresh())},edit:function(e){var n=this,i=n._tbs[e];t(_a(304)+i.name+'">').appendTo(n.getTab(e)).on("change",function(i){var r=t.trim(this.value);n.rename(e,r)}).on("focusout",function(){n.refresh()}).focus().select()},getId:function(e){if(t[_b(38)](e))return this._tbs.indexOf(e);var n=t(e).attr("tabId");return null!=n?1*n:null},getSheetOptions:function(e,n){var i,r=this.that,a=r.iImport,o=e.sheet,s=o?a.importS(o,e.extraRows,e.extraCols):{};return n&&(o||(i=this[_b(624)](e)))&&(t.extend(s,i),a[_b(501)](r,s)),s},getGridOptions:function(t){var e=t[_b(625)];return"function"==typeof e&&(e=e.call(this.main())),e},getOptions:function(e){var n=this,i=n.that.options,r="collapsible",a=i[r],o=t.extend(!0,{},n.model._options);return t.extend(o,n[_b(622)](e),n[_b(624)](e)),["width","height","maxHeight","maxWidth","tabModel"].forEach(function(t){o[t]=i[t]}),t.extend(!0,o[r]=o[r]||{},{state:a.state,toggle:a.toggle,toggled:a.toggled}),o},getTab:function(t){return this.$tabs.find("[tabId="+t+"]")[0]},getTitle:function(){var t=this.that.options.strTabName||"{0}",e=this._tbs.map(function(e){var n=(e.name||"").match(new RegExp(t.replace("{0}","(\\d+)"),"i"));return n?1*n[1]:0}).sort(function(t,e){return t-e});return t.replace("{0}",e.length?e.pop()+1:1)},hide:function(t){return this.show(t,!0)},isValid:function(t){return!(!(t.length&&t.length<=31)||this._tbs.find(function(e){return e.name[_b(36)]()==t[_b(36)]()})||"/\\*?:[]".split("").find(function(e){return t.indexOf(e)>=0}))||void 0},main:function(){return this.model?this.model._main:this.that},trigger:function(t,e,n){this._tbs.forEach(function(i){var r;(r=i._inst)&&r._trigger(t,e,n)})},find:function(t,e){return this._tbs.find(function(n){return n[t]==e})},onChange:function(t,e){e.tab=this.find("_inst",this.that),this.trigger("tabChange",t,e)},onClick:function(e){var n=t(e.target),i=this,r=n.hasClass("ui-icon-close"),a=i.that.options[_b(626)]||"",o=i.getId(n.closest(".pq-tab-item"));if(null!=o){if(r&&1!=confirm(a.replace("{0}",i._tbs[o].name)))return;i[r?"remove":"activate"](o)}},onDestroy:function(){this.clear()},onDblClick:function(e){var n=this,i=t(e.target).closest(".pq-tab-item"),r=n.getId(i);null==r||n._tbs[r].noRename||n.edit(r)},onPlus:function(){this.add()},onLeft:function(t){var e=this.$tabs,n=e[0],i=.8*n[_b(58)],r=pq.scrollLeft(n);r=1==t?r+i:Math.max(r-i,0),e.animate({scrollLeft:pq[_b(627)](n,r)},300)},onRight:function(){this.onLeft(!0)},onRender:function(){var e,n=this,i=n.that,r=i.options,a=r.tabModel,o=r.rtl,s="ui-icon-triangle-1-w",l="ui-icon-triangle-1-e",u=n.model,c=function(t,e,n){return"<div "+(n||"")+" class='"+t+_a(305)+e+_a(306)},h=n.$cont=t(_a(307)+(a.noAdd?"":c("pq-tab-plus","ui-icon-plus","title='"+r.strTabAdd+"'"))+c("pq-tab-w",o?l:s)+_a(308)+(a.css||"")+"'></div>"+c("pq-tab-e",o?s:l)+"</div>").appendTo(a.atTop?i.$top:i.$bottom);u._options||pq.copyObj(u._options={},i[_b(84)],["dataModel","colModel","tabModel"]),h.find(".pq-tab-plus").click(n.onPlus.bind(n)),n.$leftBtn=h.find(".pq-tab-w").click(n.onLeft.bind(n)),n.$rightBtn=h.find(".pq-tab-e").click(n.onRight.bind(n)),e=n.$tabs=h.find(".pq-tabs-strip").click(n.onClick.bind(n)),u.noSortable||e.sortable({axis:"x",distance:3,start:function(){t(_a(309)).html("a")},update:n.onMove.bind(n)}),e.on("dblclick",n.onDblClick.bind(n)).on("scroll",n.onScroll.bind(n)),n.refresh()},onMove:function(t,e){var n=this,i=n._tbs,r=e.item,a=n.getId(r),o=n.getId(r.prev())||-1,s=i.splice(a,1)[0];i.splice(o+(o>a?0:1),0,s),n.refresh()},onScroll:function(t){this.model.scrollLeft=pq.scrollLeft(t.target),this[_b(628)]()},onToggle:function(e,n){var i=this,r=i._tbs,a=i.model,o=i.that,s=o.options[_b(87)],l="max"==n.state;a.toggle||(o.one("refresh",function(){i.setBtn(),i[_b(628)]()}),a.toggle=1,r.forEach(function(e){var n=e._inst;if(n&&n.element[0]!=o.element[0]){var i=n.options[_b(87)];n.toggle({refresh:!1}),l&&(i.state=t.extend(!0,{},s.state)),n.element.hide()}}),a.toggle=0)},refresh:function(){var t,e,n=this,i=[],r=n._tbs,a=n.that,o=n.model,s=a.options[_b(629)]||"",l=o._at,u=o.activeId;return l&&(e=l._inst)&&a!=e?e.Tab().refresh():(t=n.show(),r.forEach(function(e,r){e.hidden||(e.name=e.name||n.getTitle(),i.push(_a(310)+(r==u?"pq-bg-3 pq-active":"")+"' tabId='"+r+"'><div>"+pq.escapeHtml(e.name)+"</div>"+(t.length>1&&!e.noClose?"<div title='"+s+"' class='ui-icon ui-icon-close'></div>":"")+"</div>"))}),n.$tabs.html(i.join("")),n.setBtn(),n.restoreSL(),void n[_b(628)]())},setBtnEnable:function(){var t=this,e=t.$tabs[0],n={cursor:"default",opacity:.5},i={cursor:"",opacity:""},r=e[_b(57)]-e[_b(58)],a=pq.scrollLeft(e);t.$leftBtn.css(a?i:n),t.$rightBtn.css(a>=r?n:i)},setBtn:function(){var t=this,e=t.$tabs,n=e[0],i=t.$leftBtn,r=t.$rightBtn;e.css("width",""),n[_b(57)]-n[_b(58)]?(i.show(),r.show(),e.css("width",n[_b(161)]-2*i[0][_b(161)])):(i.hide(),r.hide())},restoreSL:function(){var t=this.model,e=t.activeId,n=this.$tabs,i=t.scrollLeft;null==i&&null!=e&&(i=n.find("[tabid="+e+"]")[0].offsetLeft),pq.scrollLeft(n[0],i)},show:function(t,e){var n=this._tbs,i=[];return t?(t.forEach(function(t){n[t].hidden=e}),void this.findActive(this.model.activeId)):(n.forEach(function(t){!t.hidden==!e&&i.push(t)}),i)},tabs:function(){return this._tbs}}}(jQuery),function(t){var e=pq.cVirtual=function(){this.diffH=0,this.diffV=0};e.setSBDim=function(){var e=t(_a(311)).appendTo(document.body),n=e[0];this.SBDIM=n[_b(162)]-n[_b(630)],e.remove()},e.prototype={assignTblDims:function(t){var e,n=this,i=n.isBody(),r=n.getTopSafe(this[t?"cols":"rows"],t,!0),a=n.maxHt;r>a?(n[t?"ratioH":"ratioV"]=r/a,n[t?"virtualWd":"virtualHt"]=r,r=a):(r=r||(n.isHead()?0:1),n[t?"ratioH":"ratioV"]=1);var o=n[t?"$tbl_tr":"$tbl_left"],s=o.length?o[0]:{style:{}},l=t?"width":"height";n.$tbl_right[0].style[l]=r+"px",s.style[l]=r+"px",e=i?"Tbl":n.isHead()?"TblHead":"TblSum",!i&&t&&n.$spacer.css(n.rtl,r),n.dims[t?"wd"+e:"ht"+e]=r,i&&n[_b(631)](100)},calInitFinal:function(t,e,n){var i,r,a,o=this[n?"cols":"rows"],s=this[n?"freezeCols":"freezeRows"],l=this[n?"leftArr":"topArr"],u=this.getTopSafe(s,n);if(0==this.that.options[n?"virtualX":"virtualY"])return[s,o-1];if(s==o)return[0,s-1];if(n&&(u-=this.numColWd),t+=u,e+=u,o>s&&l[s]<t){for(var c,h=30,d=o;h--;)if(l[c=Math.floor((s+d)/2)]>=t)d=c;else{if(s==c){a=!0;break}s=c}if(!a)throw"ri not found"}for(;o>=s;s++)if(l[s]>t){i=s&&s-1;break}for(;o>=s;s++)if(l[s]>e){r=s-1;break}return null==i&&null==r&&o&&t>l[o-1]?[null,null]:(null==i&&(i=0),null==r&&(r=o-1),[i,r])},calInitFinalSuper:function(){var t=this,e=this.dims||{},n=t[_b(632)](),i=n[0],r=n[1],a=n[2],o=t[_b(632)](!0),s=o[0],l=o[1],u=t[_b(633)](i,r),c=u[0],h=u[1],d=t[_b(633)](s,l,!0),f=d[0],p=d[1];return this.isBody()&&(e.bottom=r,e.top=i,e.left=s,e.right=l),[c,f,h,p,a=a||o[2]]},calcTopBottom:function(n){var i,r,a=this,o=a.isBody(),s=a.dims,l=a.virtualWin,u=a.$cright,c=u[0];if(n)var h=pq.scrollLeft(c),d=a.sleft,f=s.wdCont,p=a.wdContLeft,g=a.ratioH;else l&&(k=t(window).scrollTop()-u.offset().top),h=l?a._calcTop(c,k):c.scrollTop,d=a.stop,f=a.htCont,p=a.htContTop,g=a.ratioV;if(h=0>h?0:h,1==g)return r=h+f-p,(r=n||!l?r:a._calcBot(h,r,k))>=0||(r=0),[h,r];var v,m,_,y=e.maxHt,b=a[n?"virtualWd":"virtualHt"],x=n?s[_b(634)]:s[_b(635)],w=n?"diffH":"diffV",k=a[w];if(h+x>=y?i=(r=b-p+(f-x))-f+p:r=(i=0==h?0:h*(v=null==d||Math.abs(h-d)>f?g:1)+(1==v&&k?k:0))+f-p,(m=i-h)!=k&&(_=!0,a[w]=m,o&&a[_b(631)](3e3)),a[n?"sleft":"stop"]=h,!(h>=0))throw"stop NaN";if(!(r>=0&&i>=0))throw"top bottom NaN";return[i,r,_]},_calcTop:function(t,e){return t.scrollTop+(e>0?e:0)},_calcBot:function(e,n,i){var r=e+t(window).height()+(0>i?i:0);return n>r?r:n},getHtDetail:function(t,e){var n=t.pq_detail;return n&&n.show?n.height||e:0},getTop:function(t,e){var n=this.topArr[t],i=e?0:this.diffV;if(i&&0>(n-=t>this.freezeRows?i:0)&&(n=0),n>=0)return n;throw n},getTopSafe:function(t,e,n){var i=e?this.cols:this.rows;return this[e?"getLeft":"getTop"](t>i?i:t,n)},getLeft:function(t,e){var n=this.leftArr,i=n.length-1,r=t>i?i:t,a=-1==r?0:n[r]+this.numColWd,o=e?0:this.diffH;if(o&&0>(a-=r>this.freezeCols?o:0)&&(a=0),a>=0)return a;throw a},getHeightR:function(t,e){var n=this.topArr,i=n[t+(e=e||1)]-n[t];if(i>=0)return i;throw i},getHeightCell:function(t,e){e=e||1;var n,i,r=this.topArr,a=this[_b(332)];if(n=a?this[_b(636)](this.data[t+e-1],a):0,(i=r[t+e]-r[t]-n)>=0)return i;throw i},getHeightCellM:function(t,e){return this.getTopSafe(t+e)-this.getTop(t)},getHeightCellDirty:function(t,e){return this.setTopArr(t,null,t+e),this[_b(637)](t,e)},getWidthCell:function(t){if(-1==t)return this.numColWd;var e=this.colwdArr[t];if(e>=0)return e;throw e},getWidthCellM:function(t,e){return this.getTopSafe(t+e,!0)-this.getLeft(t)},initRowHtArr:function(){var t,e=this.rowHt,n=this.data,i=n.length,r=this[_b(332)],a=this.rowhtArr=[],o=(this.topArr=[],0);if(r)for(;i>o;o++)a[o]=(t=n[o]).pq_hidden?0:t.pq_ht||e+this[_b(636)](t,r);else for(;i>o;o++)a[o]=(t=n[o]).pq_hidden?0:t.pq_ht||e},initRowHtArrDetailSuper:function(t){var e,n=this.rowhtArr,i=this.data;t.forEach(function(t){n[e=t[0]]=i[e].pq_ht=n[e]+t[1]}),this.setTopArr(),this[_b(638)]()},initRowHtArrSuper:function(){this[_b(639)](),this.setTopArr(),this[_b(638)]()},refreshRowHtArr:function(t,e){var n=this.data[t],i=this[_b(332)];this.rowhtArr[t]=n.pq_hidden?0:this.rowHt+this[_b(636)](n,i),e&&(this.setTopArr(t),this[_b(638)]())},setTopArr:function(t,e,n){var i,r,a,o,s,l=t||0,u=this;for(e?(r=u.cols,o=u.colwdArr,s=u.leftArr):(r=u.rows,o=u.rowhtArr,s=u.topArr),a=n&&r>n?n:r-1,i=l?s[l]:0;a>=l;l++)s[l]=i,i+=o[l];s[l]=i,s.length=r+1},triggerTblDims:function(t){var e=this;e.setTimer(function(){e.that._trigger("assignTblDims")},"assignTblDims",t)}}}(jQuery),function(t){var e=1533910;t(document).one("pq:ready",function(){var n=t(_a(312)).appendTo(document.body),i=t(_a(313)).appendTo(n)[0],r=pq.cVirtual;i.style.top="1000000000px";var a=i.offsetTop-50;(e=1e4>=a?e:a)>16554378&&(e=16554378),r.maxHt=e,n.remove(),r.setSBDim(),t(window).on("resize",r.setSBDim.bind(r))})}(jQuery),function(t){pq.cRender=function(){this.data=[]},pq.cRender.prototype=t.extend({},{_m:function(){},autoHeight:function(t){var e=this,n=e.that,i=e.isBody(),r=t.hChanged,a=e.freezeRows,o=!1,s=e.initV,l=e.finalV;e.rows&&(i&&n._trigger("beforeAutoRowHeight"),o=e[_b(640)](s,l,r),(o=e[_b(640)](0,a-1,r)||o)?(e.setTopArr(a?0:s),e[_b(638)](),e.setPanes(),e[_b(342)](!0),i&&(t.source="autoRow",e.refresh(t),n._trigger("autoRowHeight"))):e[_b(342)](!0))},autoWidth:function(t){var e=this,n=e.freezeCols,i=(t=t||{}).colIndx,r=function(t){i.indexOf(t)>=0&&e[_b(641)](t,t)},a=e.initH,o=e.finalH,s=o;if(i){for(;s>=a;s--)r(s);for(s=n-1;s>=0;s--)r(s)}else e[_b(641)](a,o),e[_b(641)](0,n-1)},_each:function(t,e,n,i,r,a){for(var o,s=this.jump,l=0;n>=l;l++)(o=i[l=s(e,a,l)])[r]||t.call(this,o,l)},eachV:function(t){var e=this;e._each(t,e.initV,e.finalV,e.data,"pq_hidden",e.freezeRows)},eachH:function(t){var e=this;e._each(t,e.initH,e.finalH,e.colModel,"hidden",e.freezeCols)},generateCell:function(t,e,n,i,r,a){var o,s,l,u,c,h,d,f,p=this,g=p.iMerge,v=[],m=p.riOffset,_=t+m,y=[p.cellCls];if(p._m()&&(f=g[_b(191)](_,e))){if(!f.o_rc)return t==p._initV||e==p._initH?(c=p[_b(339)](t,e),l=(u=g[_b(226)](_,e)).v_ci,0>(s=u.v_ri-m)||(h=p[_b(339)](s,l),p.mcLaid[s+","+l+(h==c?"":","+c)]=!0),""):"";(u=g[_b(642)](_,e)).style&&v.push(u.style),u.cls&&y.push(u.cls),n=p.data[t=(_=f.o_ri)-m],i=p.colModel[e=f.o_ci],a=p[_b(637)](t,f.o_rc),o=p[_b(643)](e,f.o_cc),y.push("pq-merge-cell")}else if(n.pq_hidden||i.hidden)return"";if(d=p.getCellId(t,e,r),p.getById(d))return"";var b=a||p[_b(336)](t),x=o||p.colwdArr[e],w=p.getLeft(e);return v.push(p.rtl+":"+w+"px;width:"+x+"px;height:"+b+"px;"),p.renderCell({style:v,cls:y,attr:["role='gridcell' id='"+d+"'"],rowData:n,rowIndxPage:t,rowIndx:_,colIndx:e,dataIndx:i.dataIndx,column:i})},generateRow:function(t,e){var n="pq-grid-row",i="top:"+this.getTop(t)+"px;height:"+this.getHeightR(t)+"px;width:100%;",r="role='row' id='"+this.getRowId(t,e)+"'",a=this[_b(644)](t);return"<div class='"+(n+=" "+a[0])+"' "+(r+=" "+a[2])+" style='"+(i+=a[1])+"'>"},getById:function(t){return document[_b(461)](t)},getCell:function(t,e,n){var i,r,a=this.riOffset,o=t+a;return n||(i=this.iMerge)[_b(191)](o,e)&&(r=i[_b(226)](o,e),this.isHead()&&(t=r.o_ri,e=r.o_ci),n=this[_b(339)](r.v_ri-a,r.v_ci)),this.getById(this.getCellId(t,e,n))},getCellIndx:function(t){var e=t.id.split("-");return e[3]=="u"+this.uuid?""==e[5]?[1*e[4],-1,e[7]]:[1*e[4],1*e[5],e[6]]:void 0},getCellId:function(t,e,n){return t>=this.data.length?"":(n=n||this[_b(339)](t,e),this.cellPrefix+t+"-"+e+"-"+n)},getCellCont:function(t,e){return this["$c"+this[_b(339)](t,e)]},getCellCoords:function(t,e){var n,i=this,r=i.maxHt,a=i.riOffset,o=t+a,s=t,l=e;i.isBody()&&(s=(n=i.that.iMerge[_b(348)](o,e,o,e))[2]-a,l=n[3]);var u=i.getTop(t),c=i.getTop(s)+i[_b(336)](s),h=i.getLeft(e),d=i.getLeft(l+1);return c>r&&(u-=c-r,c=r),d>r&&(h-=d-r,d=r),[h,u,d,c]},getCellRegion:function(t,e){var n=this.freezeCols;return this.freezeRows>t?n>e?"lt":"tr":n>e?"left":"right"},getCellXY:function(t,e){var n=this.maxHt;return[Math.min(this.getLeft(e),n),Math.min(this.getTop(t),n)]},getContRight:function(){return this.$cright},getMergeCells:function(){return this._m()?this.$tbl.children().children(".pq-merge-cell"):t()},getRow:function(t,e){return this.getById(this.getRowId(t,e))},getAllCells:function(){return this.$ele.children().children().children().children().children(this.isHead()?".pq-grid-col":".pq-grid-cell")},get$Col:function(t,e){var n=["right","left","lt","rt"].map(function(e){return"[id$=-"+t+"-"+e+"]"}).join(",");return(e||this[_b(459)]()).filter(n)},get$Row:function(t){return this.$ele.find("[id^="+this.getRowId(t,"")+"]")},getRowClsStyleAttr:function(t){var e,n,i=this,r=i.that,a=[],o=r.options,s=o.rowInit,l=i.data[t],u=l.pq_rowcls,c=l.pq_rowattr,h=l[_b(238)],d=pq.styleStr,f="",p=[],g=t+i.riOffset;return o.stripeRows&&i.stripeArr[t]&&a.push("pq-striped"),l[_b(2)]&&a.push(r.iRows.hclass),u&&a.push(u),c&&(f+=r[_b(209)](c,p)),h&&p.push(d(h)),s&&(n=s.call(r,{rowData:l,rowIndxPage:t,rowIndx:g}))&&((e=n.cls)&&a.push(e),(e=n.attr)&&(f+=" "+e),(e=n.style)&&p.push(d(e))),[a.join(" "),p.join(""),f]},getRowId:function(t,e){if(null==e)throw"getRowId region.";return this.rowPrefix+t+"-"+e},getRowIndx:function(t){var e=t.id.split("-");return[1*e[4],e[5]]},getTable:function(t,e){return this["$tbl_"+this[_b(339)](t,e)]},getTblCls:function(t){var e=this.isBody()?[]:[_a(314)];return t.rowBorders&&e.push("pq-td-border-top"),t[_b(239)]&&e.push("pq-td-border-right"),t.wrap||e.push("pq-no-wrap"),e.join(" ")},getFlexWidth:function(){return this._flexWidth},preInit:function(e){var n=this,i=n.isBody(),r=n.that,a=r.options,o=r[_b(34)],s="pq-table "+n.getTblCls(a),l=["pq-cont-inner ","pq-cont-right","pq-cont-left","pq-cont-lt","pq-cont-tr"];e.empty(),e[0].innerHTML=[_a(315),i?_a(316)+a.strNoRows+"</div>":"",'<div class="',l[0]+l[1],_a(317)+s+'"></div>',i?"":_a(318),"</div>",'<div class="'+l[0]+l[2]+_a(319)+s+'"></div></div>','<div class="'+l[0]+l[4]+_a(320)+s+'"></div></div>','<div class="'+l[0]+l[3]+_a(321)+s+'"></div></div>',"</div>"].join(""),n.$cright=e.find("."+l[1]).on("scroll",n[_b(645)].bind(n)),n.virtualWin&&t(window).on("scroll"+o+" resize"+o,n[_b(645)].bind(n)),i||(n.$spacer=e.find(".pq-r-spacer")),n.$cleft=e.find("."+l[2]).on("scroll",n.onScrollL.bind(n)),n.$clt=e.find("."+l[3]).on("scroll",n.onScrollLT),n.$ctr=e.find("."+l[4]).on("scroll",n.onScrollT),n.$tbl=e.find(".pq-table").on("scroll",n.onScrollLT),n.$tbl_right=e.find(".pq-table-right"),n.$tbl_left=e.find(".pq-table-left"),n.$tbl_lt=e.find(".pq-table-lt"),n.$tbl_tr=e.find(".pq-table-tr"),i&&(n.$cleft.add(n.$ctr).on(_a(322),n[_b(646)](n)),n.$norows=e.find(".pq-grid-norows"))},isBody:function(){},isHead:function(){},isSum:function(){},jump:function(t,e,n){return t>n&&n>=e&&(n=t),n},hasMergeCls:function(t){return t&&t.className.indexOf("pq-merge-cell")>=0},initRefreshTimer:function(t){var e=this,n=e[_b(647)](e,t);e.setTimer(n,"refresh")},initStripeArr:function(){for(var t,e=this.rows,n=0,i=this.stripeArr=[],r=this.data;e>n;n++)r[n].pq_hidden||(t=i[n]=!t)},isRenderedRow:function(t){return!!this.getRow(t)},onScrollLT:function(){this.scrollTop=this.scrollLeft=0},onScrollT:function(){this.scrollTop=0},onScrollL:function(t){var e=t.target,n=this;pq.scrollLeft(e,0),n.setTimer(function(){n.$cright[0].scrollTop=e.scrollTop},"scrollL",50)},refresh:function(t){t=t||{};var e=this,n=e.that,i=e.isBody(),r=e.isHead(),a=e.mcLaid={},o=e.freezeCols,s=e.numColWd,l=!(!o&&!s),u=e.freezeRows,c=(b=e[_b(648)]())[0],h=b[1],d=b[2],f=b[3],p=t[_b(649)]||b[4],g=e.initV,v=e.finalV,m=e.initH,_=e.finalH;for(var y in p&&i&&n.blurEditor({force:!0}),e._initV=c,e._finalV=d,e._initH=h,e._finalH=f,i&&n._trigger("beforeTableView",null,{initV:c,finalV:d,pageData:e.data}),p||(null!=v&&d>=g&&v>=c&&(c>g?(e.removeView(g,c-1,m,_),l&&e.removeView(g,c-1,s?-1:0,o-1)):g>c&&(e.renderView(c,g-1,h,f),l&&e.renderView(c,g-1,0,o-1)),v>d?(e.removeView(d+1,v,m,_),l&&e.removeView(d+1,v,s?-1:0,o-1)):d>v&&(e.renderView(v+1,d,h,f),l&&e.renderView(v+1,d,0,o-1)),g=c,v=d),null!=_&&f>m&&_>h&&(h>m?(e.removeView(g,v,m,h-1),u&&e.removeView(0,u-1,m,h-1)):m>h&&(e.renderView(g,v,h,m-1),u&&e.renderView(0,u-1,h,m-1)),_>f?(e.removeView(g,v,f+1,_),u&&e.removeView(0,u-1,f+1,_)):f>_&&(e.renderView(g,v,_+1,f),u&&e.renderView(0,u-1,_+1,f)),m=h,_=f)),p||d!==v||c!==g||h!==m||f!==_?(i&&n._trigger("beforeViewEmpty",null,{region:"right"}),e.$tbl_right.empty(),e.renderView(c,d,h,f),!l||d===v&&c===g||(e.$tbl_left.empty(),e.renderView(c,d,0,o-1)),u&&(h===m&&f===_||(n._trigger("beforeViewEmpty",null,{region:"tr"}),e.$tbl_tr.empty(),e.renderView(0,u-1,h,f)),l&&null==v&&(e.$tbl_lt.empty(),e.renderView(0,u-1,0,o-1)))):e[_b(650)](),a){var b,x=1*(b=y.split(","))[0],w=1*b[1];e.renderView(x,x,w,w,b[2])}var k=h!=e.initH||f!=e.finalH,C=k&&null!=e.initH;(p||d!=e.finalV||c!=e.initV||k)&&(e.initV=c,e.finalV=d,e.initH=h,e.finalH=f,i?n._trigger("refresh",null,{source:t.source,hChanged:C}):n._trigger(r?"refreshHeader":"refreshSum",null,{hChanged:C}))},refreshAllCells:function(t){var e=this;e.initH=e.initV=e.finalH=e.finalV=null,(t=t||{})[_b(649)]=!0,e.refresh(t)},refreshCell:function(e,n,i,r){var a,o=this,s=o.isBody()&&o._m()?o.iMerge[_b(227)](e+o.riOffset,n):0,l=e,u=n,c=function(s,l){s&&(a=!0,s.id="",t(s)[_b(310)](o[_b(651)](e,n,i,r,l)))};return s?(e=s[_b(71)],n=s.colIndx,i=s.rowData,r=s.column,["lt","tr","left","right"].forEach(function(t){c(o.getCell(l,u,t),t)})):c(o.getCell(e,n)),a},removeMergeCells:function(){for(var e,n,i,r,a,o,s,l,u,c,h=this,d=h.iMerge,f=h.riOffset,p=h[_b(512)](),g=h._initH,v=h._finalH,m=h._initV,_=h._finalV,y=0,b=p.length;b>y;y++)l=p[y],(n=h[_b(141)](l))&&(r=n[1],u=n[2],a=(i=n[0])+(e=d[_b(226)](i+f,r)).o_rc-1,o=r+e.o_cc-1,s=!1,i>_||r>v?s=!0:"right"==u?(m>a||g>o)&&(s=!0):"left"==u?m>a&&(s=!0):"tr"==u&&g>o&&(s=!0),c=l.parentNode,s&&t(l).remove(),c.children.length||c.parentNode[_b(118)](c))},removeView:function(e,n,i,r){var a,o,s,l,u=this[_b(339)](e,i);for(o=e;n>=o;o++)if(a=this.getRow(o,u)){for(s=i;r>=s;s++)(l=this.getCell(o,s,u))&&(this[_b(652)](l)||t(l).remove());a.children.length||a.parentNode[_b(118)](a)}},renderNumCell:function(t,e,n){var i=this,r=i.getHeightR(t),a=i.isHead();return"<div id='"+i.getCellId(t,-1,n)+"' style='width:"+e+"px;height:"+r+"px;"+_a(323)+(i.isBody()?t+1+i.riOffset:a&&t==i.data.length-1&&i.numberCell.title||"")+"</div>"},renderRow:function(e,n,i,r,a,o){var s,l,u,c,h=this.getRow(i,o),d=this.numColWd,f=[],p=this[_b(336)](i),g=this.colModel;for(!h&&e.push(this[_b(653)](i,o)),0!=r||!d||"left"!=o&&"lt"!=o||(c=this[_b(654)](i,d,o),f.push(c)),u=r;a>=u;u++)(l=g[u])&&!l.hidden&&(c=this[_b(651)](i,u,n,l,o,p),f.push(c));s=f.join(""),h?t(h).append(s):e.push(s,"</div>")},renderView:function(t,e,n,i,r){if(null!=n&&null!=i){r=r||this[_b(339)](t,Math.min(n,i));for(var a,o=[],s=this.data,l=this["$tbl_"+r],u=t;e>=u;u++)(a=s[u])&&!a.pq_hidden&&this.renderRow(o,a,u,n,i,r);l.append(o.join(""))}},scrollX:function(t,e){var n=this.$cright[0];return t>=0?void this.scrollXY(t,n.scrollTop,e):pq.scrollLeft(n)},setCellDims:function(t){var e,n=this,i=n.rtl,r=n.iMerge,a=n._m(),o=n.colModel,s=n.numColWd,l=n.jump,u=n.setRowDims(),c=n.riOffset,h=n.initH,d=n.finalH,f=n.freezeCols;n.eachV(function(p,g){var v,m=n.get$Row(g),_=n.getHeightR(g),b=n.getTop(g),x=n[_b(336)](g);u(m,_,b);for(var w=s?-1:0;d>=w;w++)(0>(w=l(h,f,w))||!o[w].hidden)&&(a&&(y=r[_b(191)](g+c,w))||(v=n.getCell(g,w))&&((e=v.style).height=(-1==w?_:x)+"px",t||(e.width=n[_b(655)](w)+"px",e[i]=n.getLeft(w)+"px")))});for(var p=n[_b(512)](),g=0,v=p.length;v>g;g++){var m=p[g],_=n[_b(141)](m);if(_){var y,b=_[0],x=_[1],w=(y=r[_b(226)](b+c,x)).v_ri-c,k=n.get$Row(w),C=n.getHeightR(w),M=n[_b(637)](b,y.o_rc),T=n.getTop(w);u(k,C,T),(e=m.style).height=M+"px",t||(e.width=n[_b(643)](x,y.o_cc)+"px",e[i]=n.getLeft(x)+"px")}}},setRowDims:function(){return function(t,e,n){var i={height:e,width:"100%"};i.top=n,t.css(i)}},setColWdArr:function(e,n){var i,r,a,o,s,l,u,c,h,d,f=n,p=this,g=p.riOffset,v=p.jump,m=p.colModel,_=p.data,y=p.freezeRows,b=p.maxHt+"px",x=p.iMerge,w=p.initV,k=p.isBody(),C=p.isSum(),M=k||C,T=p.isHead()?p.that[_b(142)].length-1:p.finalV;if(T>=0)for(;f>=e;f--)if(!(r=m[f]).hidden&&-1==(r.width+"").indexOf("%")&&(l=M?r.width:r._minWidth)){for(i=0;T>=i;i++)if((o=_[i=v(w,y,i)])&&!o.pq_hidden){if(u=!0,c=x[_b(191)](i+g,f)){if(1==c)continue;if((c=x[_b(226)](i+g,f)).v_rc>1||c.v_cc>1){if(c.v_cc>1)continue;u=!1}a=p.getCell(c.o_ri-g,c.o_ci)}else a=p.getCell(i,f);a.parentNode.style.width=b,u&&(a.style.width="auto",(h=t(a).find(_a(324))).length&&(h.css({position:"static",float:"left",width:20}),(d=t(a).find(".pq-td-div")).css("width","auto"))),s=a[_b(161)]+1,u&&h.length&&(h.css({position:"",float:"",width:""}),d.css("width","")),l=Math.max(s,l)}if(!(l>0))throw"wd NaN";r.width=p.colwdArr[f]=l,r._resized=!0}},setRowHtArr:function(t,e,n){for(var i,r,a,o,s,l,u,c,h,d,f=e,p=this,g=p.jump,v=p.riOffset,m=p.rowhtArr,_=p.data,y=p.colModel,b=p._m(),x=p.diffV,w=p.freezeCols,k=p.rowHt,C=p.iMerge,M=p[_b(332)],T=p.initH,S=p.finalH;f>=t;f--)if((o=_[f])&&!o.pq_hidden&&!o.pq_htfix){for(d=M?p[_b(636)](o,M):0,u=n?m[f]-d:k,i=0;S>=i;i++)if(!y[i=g(T,w,i)].hidden){if(c=b&&C[_b(191)](f+v,i)){if(1==c||x)continue;c=C[_b(226)](f+v,i),s=p.getCell(c.o_ri-v,c.o_ci)}else s=p.getCell(f,i);s&&(s.style.height="auto",l=s[_b(162)],c&&(h=c.o_rc-(c.v_ri-c.o_ri)-1,l-=c.v_rc>1?p[_b(656)](c.v_ri-v+1,h):0),u=Math.max(l,u))}m[f]!=(a=u+d)&&(m[f]=o.pq_ht=a,r=!0)}return r},setTimer:function(t){var e={};return!0===t?function(t){t()}:function(t,n,i){clearTimeout(e[n]);var r=this;e[n]=setTimeout(function(){r.that.element&&t.call(r)},i||300)}}},new pq.cVirtual)}(jQuery),function(t){pq[_b(92)]=function(t,e){var n,i=this,r=i.uuid=t.uuid,a=t.options,o=i.$ele=e.$b,s=i.$sum=e.$sum,l=i.$h=e.$h,u=a[_b(445)];i.that=t,i.rtl=a.rtl?"right":"left",i.virtualWin=a.virtualWin,i.setTimer=i.setTimer(r),i.cellPrefix="pq-body-cell-u"+r+"-",i.rowPrefix="pq-body-row-u"+r+"-",i.cellCls="pq-grid-cell",i.iMerge=t.iMerge,i.rowHt=a.rowHt||27,i[_b(332)]="auto"==(n=a[_b(333)].height)?1:n,i[_b(112)]=t[_b(112)]=new(pq[_b(657)])(t,l),i.iRenderSum=t.iRenderSum=new pq.cRenderSum(t,s),t.on("headHtChanged",i[_b(658)](i)),null!=u&&t.on(_a(325),function(){0>u?i[_b(659)]():i.setTimer(i[_b(659)],"postRender",u)}),i.preInit(o),t.on("refresh softRefresh",i.onRefresh.bind(i))},pq[_b(92)].prototype=t.extend({},new(t.paramquery[_b(231)]),new pq.cRender,{setHtCont:function(t){this.dims.htCont=t,this.$ele.css("height",t)},flex:function(t){var e=this,n=e.that;!1!==n._trigger("beforeFlex",null,t)&&(e[_b(112)].autoWidth(t),e.iRenderSum.autoWidth(t),e.autoWidth(t),n.refreshCM(null,{flex:!0}),n.refresh({source:"flex",soft:!0}))},init:function(t){var e,n,i=this,r=i.that,a=(t=t||{}).soft,o=!a,s=t.source,l=i[_b(112)],u=i.iRenderSum,c=r.options,h=c[_b(251)],d=(i.freezeCols=c.freezeCols||0,i.freezeRows=c.freezeRows,i.numberCell=c.numberCell),f=i.colModel=r.colModel;i.width=c.width,i.height=c.height,o&&(i.dims=r.dims,i.autoFit=h.autoFit,i.pauseTO=h.timeout,e=(n=r.pdata||[]).findIndex(function(t){return!t.pq_hidden}),i.$norows.css("display",e>=0?"none":""),i.data=n,i.maxHt=pq.cVirtual.maxHt,i.riOffset=r.riOffset,i.cols=f.length,i.rows=n.length,r[_b(411)]&&(i._m=function(){return!0}),i.autoRow=c.autoRow,i[_b(660)](),c.stripeRows&&i[_b(661)]()),i[_b(662)](),i.numColWd=l.numColWd=u.numColWd=d.show?d.width:0,i[_b(663)](),u.init(t),t.header?l.init(t):(i.setPanes(),l[_b(342)](),l[_b(638)](!0)),u.initPost(t),t.header&&l.initPost(t),i.$cright[0].scrollTop>i.getTop(i.rows)||(o?i[_b(664)]({source:s}):a&&(i[_b(342)](),i.refresh({source:s}),r._trigger("softRefresh")))},initColWdArr:function(){for(var t,e=this.colModel,n=e.length,i=(this.leftArr=this[_b(112)].leftArr=this.iRenderSum.leftArr=[],0),r=this.colwdArr=this[_b(112)].colwdArr=this.iRenderSum.colwdArr=[];n>i;i++)r[i]=(t=e[i]).hidden?0:t._width},initColWdArrSuper:function(){this[_b(665)](),this.setTopArr(0,!0),this[_b(638)](!0)},inViewport:function(t,e,n){n=n||this.getCell(t,e);var i=this.dims,r=i.left-2,a=i.right-(i.wdCont-i[_b(634)])+2,o=i.top-2,s=i.bottom-(i.htCont-i[_b(635)])+2,l=this[_b(339)](t,e),u=n.offsetLeft-i.wdContLeft,c=n.parentNode.offsetTop-i.htContTop,h=u+n[_b(161)],d=c+n[_b(162)];return"right"==l?u>r&&a>h&&c>o&&s>d:"tr"==l?u>r&&a>h:"left"!=l||c>o&&s>d},isBody:function(){return!0},onHeadHtChanged:function(t){return function(e,n){t.setPanes()}},onMouseWheel:function(t){var e;return function(t){var n=this;n.style["pointer-events"]="none",clearTimeout(e),e=setTimeout(function(){n.style["pointer-events"]=""},300)}},onNativeScroll:function(){var t=this,e=t.$cright[0],n=t.that,i=e.scrollLeft,r=e.scrollTop;t.iRenderSum[_b(666)](i),t[_b(112)][_b(666)](i),t.$cleft[0].scrollTop=r,t.$ctr[0].scrollLeft=i,t.refresh(),n._trigger("scroll"),t.setTimer(function(){n._trigger("scrollStop")},"scrollStop",t.pauseTO)},onRefresh:function(t,e){"autoRow"!=e.source&&this[_b(667)](e.hChanged)},onRefreshTimer:function(t,e){return function(){var n=t.$cright[0];t.autoRow&&t.autoHeight({hChanged:e}),n.scrollTop=n.scrollTop,n.scrollLeft=n.scrollLeft}},pageDown:function(e,n){var i,r=this,a=r.topArr,o=a[e],s=e,l=r.dims,u=this.$cright[0].scrollTop,c=95*Math.min(l[_b(635)]-l.htContTop,t(window).height())/100,h=o+c,d=e,f=a.length-1;r.scrollY(u+c,function(){for(d=e<r.initV?r.initV:e;f>=d;d++)if((i=a[d])>o&&(o=i,s=d-1),i>h){s=d-1;break}n(s)})},pageUp:function(e,n){for(var i,r=this,a=r.topArr,o=a[e],s=this.$cright[0].scrollTop,l=r.dims,u=9*Math.min(t(window).height(),l[_b(635)]-l.htContTop)/10,c=o-u,h=e,d=e;d>=0;d--)if(o>(i=a[d])&&(o=i,h=d),c>i){h=d;break}r.scrollY(s-u,function(){n(h)})},postRenderAll:function(){var t,e,n,i=this,r=i.that,a=i.riOffset,o=i.iMerge,s=i.data;i.eachH(function(s,l){(n=s.postRender)&&i.eachV(function(s,u){e=o[_b(135)](u+a,l,!0),(t=i.getCell(e[_b(71)],e.colIndx))&&!t[_b(668)]&&(e.cell=t,r.callFn(n,e),t[_b(668)]=!0)})}),(n=i.numberCell.postRender)&&i.eachV(function(t,e){var o=i.getCell(e,-1),l=e+a,u={rowIndxPage:e,colIndx:-1,rowIndx:l,rowData:s[l]};o&&!o[_b(668)]&&(u.cell=o,r.callFn(n,u),o[_b(668)]=!0)})},refreshRow:function(t){var e,n,i=this,r=i.initH,a=i.finalH,o=i.freezeCols,s=i.get$Row(t),l=[];s.each(function(t,e){var n=i.getRowIndx(e);l.push(n[1])}),i.that._trigger("beforeViewEmpty",null,{rowIndxPage:t}),s.remove(),l.forEach(function(s){"left"==s||"lt"==s?(e=0,n=o-1):(e=r,n=a),i.renderView(t,t,e,n,s)})},newScrollPos:function(e,n){var i,r,a,o,s,l=this,u=l.dims,c=u[n?"wdContClient":"htContClient"],h=l.$cright[0],d=l[n?"colModel":"data"].length,f=l[n?"freezeCols":"freezeRows"],p=pq[n?"scrollLeft":"scrollTop"](h),g=u[n?"wdContLeft":"htContTop"];if(f>e||e>d-1)return p;var v=l.getTopSafe(e,n),m=l[n?"getWidthCell":"getHeightR"](e);return null!=v?(!n&&l.virtualWin&&(s=(o=t(window)).scrollTop(),(a=(r=v-p+t(h).offset().top-s)-o.height())>=0?o.scrollTop(s+a+m):0>r&&o.scrollTop(s+r)),v+m+1>p+c?i=v+m+1-c:p+g>v&&(i=0>(i=v-g)?0:i),i>=0?i:p):void 0},scrollColumn:function(t,e){var n=this[_b(669)](t,!0);this.scrollX(n,e)},scrollRow:function(t,e){var n=this[_b(669)](t);this.scrollY(n,e)},scrollCell:function(t,e,n){var i=this[_b(669)](t),r=this[_b(669)](e,!0);this.scrollXY(r,i,n)},scrollY:function(t,e){var n=this.$cright[0];return null==t?n.scrollTop:(t=t>=0?t:0,void this.scrollXY(pq.scrollLeft(n),t,e))},scrollXY:function(t,e,n){var i,r=this.$cright[0],a=this.that,o=r.scrollLeft,s=r.scrollTop;return t>=0?(pq.scrollLeft(r,t),r.scrollTop=e,i=r.scrollLeft,void(n&&(i==o&&r.scrollTop==s?n():a.one("scroll",function(){i==o?n():a.one("scrollHead",n)})))):[o,s]},getSBHt:function(t){var e=pq.cVirtual.SBDIM;return this.autoFit?0:("flex"!=this.width||this.that.options.maxWidth)&&t>this.dims.wdCenter+e?e:0},getSBWd:function(){var t=this.dims,e=this.that.options[_b(670)];return!t.htCenter||e&&t.htCenter>(t.htTblHead||0)+t.htTbl+t.htTblSum?0:pq.cVirtual.SBDIM},setPanes:function(){var t,e,n,i=this,r=i.that.options,a=i.autoFit,o=i.dims,s=o.htCenter-o.htHead-o.htSum,l=o.wdCenter,u=i.$ele,c=i.freezeRows,h=i.$cright,d=h[0],f=i.$cleft,p=i.$clt,g=i.$ctr,v=i.getLeft(i.freezeCols),m=pq.cVirtual.SBDIM,_=o.wdTbl,y=Math.max(o.htTbl,30)+i.getSBHt(_),b=i.getTopSafe(c);g.css("display",c?"":"none"),f.css("display",v?"":"none"),p.css("display",v&&c?"":"none"),h.css("overflow-y",""),"flex"==i.height?(s>0&&y>s?y=Math.min(y,s):h.css("overflow-y","hidden"),i.setHtCont(y)):i.setHtCont(s),a&&i.getSBWd()&&h.css("overflow-y","scroll"),h.css("overflow-x",a?"hidden":""),"flex"==i.width?(_=parseInt(u[0].style.height)>=o.htTbl-1?_:_+m,r.maxWidth&&_>l?_=Math.min(_,l):h.css("overflow-x","hidden"),i._flexWidth=_,u.width(i._flexWidth)):u.css("width",""),i.htCont=o.htCont=h.height(),i.wdCont=o.wdCont=h.width(),o[_b(635)]=n=d[_b(630)],o[_b(634)]=t=d[_b(58)],v>t&&(h.css("overflow-x","hidden"),v=t),f.css("width",v),p.css("width",v),g.width(t),f.height(n),e=d[_b(161)],i[_b(112)].setWidth(e,t),i.iRenderSum.setWidth(e,t),b>n&&(h.css("overflow-y","hidden"),b=n),p.css("height",b),g.css("height",b),i.wdContLeft=o.wdContLeft=f.width(),i.htContTop=o.htContTop=g.height()}},new pq.cVirtual)}(jQuery),function(t){function e(t){this.that=t}t.paramquery.cMergeHead=e,e.prototype={getRootCell:function(t,e){for(var n=this.that,i=n[_b(142)],r=i[t][e],a=r.rowSpan,o=r.leftPos;t&&i[t-1][o]==r;)t--;return{v_ri:t,o_ri:t,v_ci:n[_b(218)](o),o_ci:o,v_rc:a,o_rc:a,v_cc:r.colSpan,o_cc:r.o_colspan}},ismergedCell:function(t,e){var n,i,r,a=this.that,o=a[_b(142)],s=o[t],l=s?s[e]:"";if(l)if(n=l.leftPos,0!=t&&o[t-1][e]===l||a[_b(218)](n)!=e){if(l.colSpan)return!0}else if(r=l.colSpan,(i=l.rowSpan)&&r&&(i>1||r>1))return{o_ri:t,o_ci:n,v_rc:i,o_rc:i,v_cc:r,o_cc:l.o_colspan}},getClsStyle:function(){return{}}}}(jQuery),function(t){pq.cRenderHS=t.extend({},new pq.cRender,{init:function(t){t=t||{};var e,n=this,i=n.that,r=i.options,a=n.colModel=i.colModel,o=n.isHead(),s=n.isSum(),l=o?r[_b(671)]:r.autoRowSum,u=i[_b(142)];n.freezeCols=r.freezeCols||0,n.numberCell=r.numberCell,n.width=r.width,n.height="flex",n.freezeRows=0,n.dims=i.dims,o?e=n.data=r.showHeader?r[_b(154)].header?u.concat([[]]):u:[]:s&&(e=n.data=r[_b(22)]||[]),n.maxHt=pq.cVirtual.maxHt,n.riOffset=0,n.cols=a.length,n.rows=e.length,o?u.length>1&&(n._m=function(){return!0}):r.stripeRows&&n[_b(661)](),n.autoRow=null==l?r.autoRow:l,n[_b(660)](),n[_b(638)](!0),n.setPanes()},initPost:function(t){var e=this;e.data.length&&(t||{}).soft?(e[_b(342)](),e.refresh()):e[_b(664)]()},onNativeScroll:function(){this.refresh(),this.isHead()&&this.that._trigger("scrollHead")},onRefresh:function(t,e){this[_b(667)](e.hChanged)},refreshHS:function(){this.init(),this.initPost()},setPanes:function(){var t=this,e=t.that,n=t.dims,i=t.$ele,r=t.$cright,a=r[0],o=t.$cleft,s=t.getLeft(t.freezeCols),l=t.isHead(),u=t.isSum(),c=t.getTopSafe(t.rows);o.css("display",s?"":"none"),i.height(c),l?(n.htHead=c,e._trigger("headHtChanged")):u&&(n.htSum=c,e._trigger("headHtChanged")),t.htCont=r.height(),t.wdCont=r.width(),o.css("width",s),o.height(a[_b(630)]),t.wdContLeft=o.width(),t.htContTop=0},setScrollLeft:function(t){var e=this.$cright;e&&this.scrollLeft!==t&&(this.scrollLeft=e[0].scrollLeft=t)},setWidth:function(t,e){this.$ele[0].style.width=t+"px",this.$spacer.width(t-e)}})}(jQuery),function(t){var e=t.paramquery;(pq[_b(657)]=function(t,n){var i=t.options,r=this,a=r.uuid=t.uuid;r.that=t,r.iMerge=new e.cMergeHead(t),r.$ele=n,r.height="flex",r.scrollTop=0,r.rtl=i.rtl?"right":"left",r.rowHt=i.rowHtHead||28,r.cellCls="pq-grid-col",r.setTimer=r.setTimer(!0),r.cellPrefix="pq-head-cell-u"+a+"-",r.rowPrefix="pq-head-row-u"+a+"-",r.preInit(n),n.on("click",r[_b(672)].bind(r)),t.on("headerKeyDown",r[_b(673)].bind(r)).on(_a(326),r.onRefresh.bind(r))}).prototype=t.extend({},pq.cRenderHS,new e.cHeader,new(e[_b(264)]),{getRowClsStyleAttr:function(t){var e=this.that[_b(142)].length,n="";return e==t?n="pq-grid-header-search-row":t==e-1&&(n="pq-grid-title-row"),[n,"",""]},getTblCls:function(t){var e="pq-grid-header-table";return t.hwrap?e:e+" pq-no-wrap"},isHead:function(){return!0},onRefreshTimer:function(t,e){return function(){var n=t.$cright[0];t.autoRow&&t.autoHeight({timer:!1,hChanged:e}),n.scrollTop=0,n.scrollLeft=n.scrollLeft,t[_b(674)](),t[_b(675)](),t[_b(315)](),t.that._trigger("refreshHeadAsync")}},_resizeId:function(t){return"pq-resize-div-"+this.uuid+"-"+t},_resizeCls:function(){return"pq-resize-div-"+this.uuid},_resizeDiv:function(t){return this.getById(this._resizeId(t))},refreshResizeColumn:function(){var t,e,n,i,r=this.initH,a=this.colModel,o=this._resizeCls(),s=this.finalH,l=this.numberCell,u=this.freezeCols,c=[],h=[],d=l.show?-1:0;for(this.$ele.find("."+o).remove();s>=d;d++){if(d>=r)e=h;else{if(!(u>d))continue;e=c}(t=d>=0?a[d]:l).hidden||!1===t.resizable||this._resizeDiv(d)||(n=this.getLeft(d+1)-5,i=this._resizeId(d),e.push("<div id='",i,"' pq-col-indx='",d,"' style='",this.rtl,":",n,"px;'",_a(327)+o+"'>&nbsp;</div>"))}c.length&&this.$cleft.append(c.join("")),h.length&&this.$cright.append(h.join(""))},renderCell:function(t){var e,n=t.colIndx,i=t.attr,r=t.cls,a=t.style,o=t.rowData[n];return o?(o.colSpan>1&&a.push("z-index:3;"),t.column=o,this[_b(676)](t)):(e=this[_b(677)](t.column,n,r),"<div "+i+" class='"+r.join(" ")+"' style='"+a.join("")+"'>"+e+"</div>")}})}(jQuery),function(t){var e=t.paramquery;(pq.cRenderSum=function(t,e){var n=t.options,i=this,r=i.uuid=t.uuid;i.that=t,i.rtl=n.rtl?"right":"left",i.iMerge={ismergedCell:function(){}},i.$ele=e,i.height="flex",i.scrollTop=0,i.rowHt=n.rowHtSum||27,i.cellCls="pq-grid-cell",i.setTimer=i.setTimer(!0),i.cellPrefix="pq-sum-cell-u"+r+"-",i.rowPrefix="pq-sum-row-u"+r+"-",i.preInit(e),t.on(_a(328),i.onRefresh.bind(i))}).prototype=t.extend({},new(e[_b(231)]),pq.cRenderHS,{isSum:function(){return!0},onRefreshTimer:function(t,e){return function(){var n=t.$cright[0];t.autoRow&&t.autoHeight({timer:!1,hChanged:e}),n.scrollTop=0,n.scrollLeft=n.scrollLeft}}})}(jQuery)})(function(t){return atob(["PGlucHV0IHR5cGU9J2NoZWNrYm94JyA=","PGlucHV0IHR5cGU9J2NoZWNrYm94JyBzdHlsZT0ncG9zaXRpb246Zml4ZWQ7bGVmdDotNTBweDt0b3A6LTUwcHg7Jy8+","PGlucHV0IHR5cGU9ImNoZWNrYm94IiAvPg==","LnBxLWdyaWQtY2VsbC5wcS1oYXMtdG9vbHRpcCwucHEtZ3JpZC1jZWxsW3RpdGxlXQ==","PHNwYW4gY2xhc3M9J3VpLWljb24g","IHBxLXRvb2x0aXAtaWNvbic+PC9zcGFuPg==","LnVpLWRyYWdnYWJsZS1kcmFnZ2luZw==","PGRpdiBkaXI9J3J0bCcgc3R5bGU9J3Zpc2liaWx0eTpoaWRkZW47aGVpZ2h0OjRweDt3aWR0aDo0cHg7b3ZlcmZsb3c6YXV0bzsnPnJ0bDwvZGl2Pg==","aW5jb3JyZWN0IHVzYWdlIG9mIGlzVmFsaWQgcm93SW5keDog","aW5jb3JyZWN0IHVzYWdlIG9mIGlzVmFsaWQgZGF0YUluZHg6IA==","PHRkPjxzcGFuIGNsYXNzPSdwcS1zZXBhcmF0b3InPjwvc3Bhbj48L3RkPg==","PHRkPjxzcGFuIGNsYXNzPSdwcS1wYWdlLWRpc3BsYXknPg==","PHRhYmxlIHN0eWxlPSdib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Jz48dHI+","PHRkPjxzcGFuIGNsYXNzPSdwcS11aS1idXR0b24gdWktd2lkZ2V0LWhlYWRlciBwcS1wYWdlLQ==","JyB0YWJpbmRleD0nMCcgdGl0bGU9Jw==","Jz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLQ==","Jz48L3NwYW4+PC9zcGFuPjwvdGQ+","PGlucHV0IHR5cGU9J3RleHQnIHZhbHVlPSc=","JyB0YWJpbmRleD0nMCcgY2xhc3M9J3BxLXBhZ2UtY3VycmVudCB1aS1jb3JuZXItYWxsJyAvPg==","PHNwYW4gY2xhc3M9J3BxLXBhZ2UtdG90YWwnPg==","PHNlbGVjdCBjbGFzcz0ndWktY29ybmVyLWFsbCBwcS1wYWdlLXNlbGVjdCcgPg==","PHRkPjxzcGFuIGNsYXNzPSdwcS1wYWdlLXJwcG9wdGlvbnMnPg==","PHNwYW4gY2xhc3M9J2J0biBidG4teHMgZ2x5cGhpY29uIGdseXBoaWNvbi0=","PHNwYW4gY2xhc3M9J3VpLXdpZGdldC1oZWFkZXIgcHEtdWktYnV0dG9uJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLQ==","PGRpdiBjbGFzcz0ncHEtc3VtbWFyeS1vdXRlcicgPjwvZGl2Pg==","PGRpdiBjbGFzcz0ncHEtZ3JpZC10b3Ag","PGRpdiBjbGFzcz0ncHEtZ3JpZC10aXRsZQ==","PGRpdiBjbGFzcz0ncHEtZ3JpZC1jZW50ZXItbyc+","PGRpdiBjbGFzcz0ncHEtdG9vbC1wYW5lbCcgc3R5bGU9J2Rpc3BsYXk6","PGRpdiBjbGFzcz0ncHEtdG9vbC1wYW5lbC1ydWxlcycgc3R5bGU9J2Rpc3BsYXk6","PGRpdiBjbGFzcz0ncHEtZ3JpZC1jZW50ZXInID4=","PGRpdiBjbGFzcz0ncHEtaGVhZGVyLW91dGVyIA==","PGRpdiBjbGFzcz0ncHEtYm9keS1vdXRlcicgdGFiaW5kZXg9JzAnID48L2Rpdj4=","PGRpdiBzdHlsZT0nY2xlYXI6Ym90aDsnPjwvZGl2Pg==","PGRpdiBjbGFzcz0ncHEtZ3JpZC1ib3R0b20g","PGRpdiBjbGFzcz0ncHEtZ3JpZC1mb290ZXInPjwvZGl2Pg==","LnBxLWdyaWQtY2VsbCwucHEtZ3JpZC1udW1iZXItY2VsbA==","dXNlIGdyb3VwT3B0aW9uKCkgdG8gc2V0IGdyb3VwTW9kZWwgb3B0aW9ucy4=","dXNlIHRyZWVPcHRpb24oKSB0byBzZXQgdHJlZU1vZGVsIG9wdGlvbnMu","aW5wdXQsdGV4dGFyZWEsYnV0dG9uLHNlbGVjdCxvcHRpb24sLnBxLW5vLWNhcHR1cmUsLnVpLXJlc2l6YWJsZS1oYW5kbGU=","dGFibGUgdGFibGUtc3RyaXBlZCB0YWJsZS1jb25kZW5zZWQgdGFibGUtYm9yZGVyZWQ=","dGFibGUgdGFibGUtY29uZGVuc2Vk","Z2x5cGhpY29uLXRyaWFuZ2xlLWJvdHRvbQ==","Z2x5cGhpY29uLXRyaWFuZ2xlLXJpZ2h0","dWktd2lkZ2V0IHVpLXdpZGdldC1jb250ZW50","cHEtY2VsbC1yZWQtdHIgcHEtaGFzLXRvb2x0aXA=","cHEtY2VsbC1ibHVlLXRyIHBxLWhhcy10b29sdGlw","YXZnLG1heCxtaW4sc3RkZXYsc3RkZXZwLHN1bQ==","PGRpdiBjbGFzcz0ncHEtZ3JpZC1kaXNhYmxlJz48L2Rpdj4=","cHEtZ3JpZCB1aS13aWRnZXQgdWktd2lkZ2V0LWNvbnRlbnQgdWktY29ybmVyLWFsbA==","dWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtcw==","dWktaWNvbi1jaXJjbGUtdHJpYW5nbGUtbg==","PGRpdiBjbGFzcz0ncHEtc2xpZGVyLWljb24gcHEtbm8tY2FwdHVyZScgID4=","aW5wdXQsdGV4dGFyZWEsc2VsZWN0","cHEtZ3JpZC1jZWxsLWhvdmVyIHVpLXN0YXRlLWhvdmVy","cHEtZ3JpZC1yb3ctaG92ZXIgdWktc3RhdGUtaG92ZXI=","PGRpdiBjbGFzcz0ncHEtbG9hZGluZyc+PC9kaXY+","PGRpdiBjbGFzcz0ncHEtbG9hZGluZy1iZyc+PC9kaXY+PGRpdiBjbGFzcz0ncHEtbG9hZGluZy1tYXNrIHVpLXN0YXRlLWhpZ2hsaWdodCc+PGRpdj4=","cHEtZHJhZ2dhYmxlIHBxLW5vLWNhcHR1cmU=","PGRpdiBjbGFzcz0ncHEtd3JhcHBlcicgLz4=","PGRpdiBjbGFzcz0ncHEtZWRpdG9yLW91dGVyJz4=","PGRpdiBjbGFzcz0ncHEtZWRpdG9yLWlubmVyJz4=","b2xkUm93IHJlcXVpcmVkIHdoaWxlIHVwZGF0ZQ==","IHR5cGU9Y2hlY2tib3ggbmFtZT0n","PGRpdiBjb250ZW50ZWRpdGFibGU9J3RydWUnIHRhYmluZHg9JzAnIA==","dWktYXV0b2NvbXBsZXRlLWlucHV0","c2F2ZUFuZE1vdmUgc2F2ZUVkaXRDZWxs","PHNwYW4gY2xhc3M9J3BxLWNvbC1jb2xsYXBzZSBwcS1pY29uLWhvdmVyIHVpLWljb24gdWktaWNvbi0=","PGRpdiBjbGFzcz0ncHEtdGQtZGl2Jz4=","PHNwYW4gY2xhc3M9J3BxLXRpdGxlLXNwYW4nPg==","PHNwYW4gY2xhc3M9J3BxLWNvbC1zb3J0LWljb24=","PHNwYW4gY2xhc3M9J3BxLWNvbC1zb3J0LWNvdW50","IGdseXBoaWNvbiBnbHlwaGljb24tYXJyb3ct","dWktaWNvbiB1aS1pY29uLXRyaWFuZ2xlLTEt","LnBxLWdyaWQtY29sLXJlc2l6ZS1oYW5kbGU=","PGRpdiBjbGFzcz0ncHEtZ3JpZC1kcmFnLWJhcicg","PGRpdiBjbGFzcz0ncHEtYXJyb3ct","PGRpdiBjbGFzcz0ncHEtY29sLWRyYWctaGVscGVyIHVpLXdpZGdldC1jb250ZW50IHVpLWNvcm5lci1hbGwgcGFuZWwgcGFuZWwtZGVmYXVsdCcgPjxzcGFuIGNsYXNzPSdwcS1kcmFnLWljb24gdWktaWNvbiA=","IGdseXBoaWNvbiBnbHlwaGljb24tcmVtb3ZlJz48L3NwYW4+","aW5wdXQsc2VsZWN0LHRleHRhcmVh","cHEtZ3JpZC1oZWFkZXItc2VhcmNoLXJvdw==","cHEtZHJvcC1ob3ZlciB1aS1zdGF0ZS1oaWdobGlnaHQ=","Om5vdCgucHEtZ3JpZC1oZWFkZXItc2VhcmNoLXJvdyk+LnBxLWdyaWQtY29s","LnBxLWdyaWQtaGQtc2VhcmNoLWZpZWxk","LnBxLWdyaWQtaGVhZGVyLXNlYXJjaC1yb3c=","PGRpdiBjbGFzcz0ncHEtZnJvbS1kaXYnPg==","PHNwYW4gY2xhc3M9J3BxLWZyb20tdG8tY2VudGVyJz4tPC9zcGFuPg==","PGRpdiBjbGFzcz0ncHEtdG8tZGl2Jz4=","cHEtZ3JpZC1oZC1zZWFyY2gtZmllbGQ=","cHEtZ3JpZC1oZC1zZWFyY2gtZmllbGQg","ID48c3BhbiBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7","OjA7dG9wOjNweDsnIGNsYXNzPSd1aS1pY29uIHVpLWljb24tYXJyb3d0aGljay0xLXMnPjwvc3Bhbj4=","JyB0eXBlPWNoZWNrYm94IGNsYXNzPSc=","PGRpdiBjbGFzcz0ncHEtdGQtZGl2JyBzdHlsZT0nb3ZlcmZsb3c6aGlkZGVuOyc+","dWktaWNvbi10cmlhbmdsZS0xLXNlIGdseXBoaWNvbiBnbHlwaGljb24tbWludXM=","dWktaWNvbi10cmlhbmdsZS0xLWUgZ2x5cGhpY29uIGdseXBoaWNvbi1wbHVz","dWktaWNvbi1jaGVjayBnbHlwaGljb24tb2s=","dWktaWNvbi1jbG9zZXRoaWNrIGdseXBoaWNvbi1yZW1vdmU=","dWktaWNvbi1jaXJjbGUtYXJyb3ctcyBnbHlwaGljb24gZ2x5cGhpY29uLWNpcmNsZS1hcnJvdy1kb3du","dWktaWNvbi1jaXJjbGUtYXJyb3ctbiBnbHlwaGljb24gZ2x5cGhpY29uLWNpcmNsZS1hcnJvdy11cA==","PGRpdiBzdHlsZT0ncG9zaXRpb246Zml4ZWQ7Ym90dG9tOjA7cmlnaHQ6MjVweDtwYWRkaW5nOjAgMnB4O21hcmdpbjowO29wYWNpdHk6MC41O3otaW5kZXg6MTAwMDA7Ym9yZGVyOjFweCBzb2xpZCBsaWdodGdyYXk7Ym9yZGVyLXJhZGl1czo1cHg7cG9pbnRlci1ldmVudHM6bm9uZTsnPg==","PGEgc3R5bGU9J2ZvbnQtc2l6ZToxMHB4OycgaHJlZj0naHR0cDovL3BhcmFtcXVlcnkuY29tL3Bybyc+UGFyYW1RdWVyeSBQcm8gRXZhbDwvYT4=","cG9zaXRpb246YWJzb2x1dGU7bGVmdDowO3RvcDo=","cHg7cGFkZGluZzo1cHg7d2lkdGg6MTAwJTtvdmVyZmxvdzpoaWRkZW47","aW5jb3JyZWN0bHkgZGV0YWNoZWQgZGV0YWls","PGRpdiByb2xlPSdncmlkY2VsbCcgaWQ9Jw==","Ym9yZGVyLXJpZ2h0OjA7Ym9yZGVyLWJvdHRvbTow","Ym9yZGVyLWxlZnQ6MDtib3JkZXItYm90dG9tOjA=","Ym9yZGVyLXJpZ2h0OjA7Ym9yZGVyLXRvcDow","Ym9yZGVyLWxlZnQ6MDtib3JkZXItdG9wOjA=","PGxhYmVsIGNsYXNzPSd1aS1idXR0b24gdWktd2lkZ2V0IHVpLXN0YXRlLWRlZmF1bHQgdWktY29ybmVyLWFsbCA=","PGlucHV0IHR5cGU9J2ZpbGUnIHN0eWxlPSdkaXNwbGF5Om5vbmU7JyA=","PHNwYW4gY2xhc3M9J3VpLWJ1dHRvbi1pY29uLXByaW1hcnkgdWktaWNvbiA=","PHNwYW4gY2xhc3M9J3VpLWJ1dHRvbi10ZXh0Jz4=","PHNwYW4gY2xhc3M9J3BxLXNlcGFyYXRvcicg","PHNwYW4gY2xhc3M9J2dseXBoaWNvbiA=","PGJ1dHRvbiB0eXBlPSdidXR0b24nIA==","cHJpbWFyeSBrZXkgdmlvbGF0aW9u","c2FtZSBkYXRhIGNhbid0IGJlIGFkZGVkIHR3aWNlLg==","PGRpdiBpZD0ncHEtZ3JpZC1leGNlbC1kaXYnICBzdHlsZT0ncG9zaXRpb246Zml4ZWQ7dG9wOjIwcHg7bGVmdDoyMHB4O2hlaWdodDoxcHg7d2lkdGg6MXB4O292ZXJmbG93OmhpZGRlbjt6LWluZGV4Og==","JyBhdXRvY29tcGxldGU9J29mZicgc3BlbGxjaGVjaz0nZmFsc2UnIHN0eWxlPSdvdmVyZmxvdzpoaWRkZW47aGVpZ2h0OjEwMDAwcHg7d2lkdGg6MTAwMDBweDtvcGFjaXR5OjAnIC8+","bGVuSCBOYU4uIGFzc2VydCBmYWlsZWQu","OjE2cHg7Y3Vyc29yOmRlZmF1bHQ7","JyBzdHlsZT0nd2lkdGg6MjcwcHg7JyBjbGFzcz0ncHEtdGhlbWUnPjxkaXY+PC9kaXY+PC9kaXY+","SW5jb3JyZWN0IGZpbHRlciBwYXJhbWV0ZXJzLiBQbGVhc2UgY2hlY2sgdXBncmFkZSBndWlkZQ==","ZGF0YVJlYWR5RG9uZSBjb2xNb3ZlIGdyb3VwU2hvd0hpZGU=","JyBjbGFzcz0ncHEtbWVudS1pdGVtJz4=","dWktaWNvbi10cmlhbmdsZS0xLXNl","PGRpdiBjbGFzcz0ncHEtZ3JvdXAtaGVhZGVyIHVpLWhlbHBlci1jbGVhcmZpeCcgPjwvZGl2Pg==","PGRpdiB0YWJpbmRleD0nMCcgY2xhc3M9J3BxLWdyb3VwLWl0ZW0nIGRhdGEtaW5keD0n","PHNwYW4gY2xhc3M9J3BxLWdyb3VwLXBsYWNlaG9sZGVyJz4=","PHVsIGNsYXNzPSdwcS1ncm91cC1tZW51Jz48bGk+","PGRpdj48c3Bhbj4mbmJzcDs8L3NwYW4+PC9kaXY+","dWktaWNvbiB1aS1pY29uLWNoZWNr","dWktaWNvbiB1aS1pY29uLWNhbmNlbA==","PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1ncmlwLWRvdHRlZC12ZXJ0aWNhbCBwcS1kcmFnLWhhbmRsZScgc3R5bGU9J2N1cnNvcjptb3ZlO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MnB4O3RvcDo0cHg7Jz4mbmJzcDs8L3NwYW4+","PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1ncmlwLWRvdHRlZC12ZXJ0aWNhbCBwcS1kcmFnLWhhbmRsZScgc3R5bGU9J2N1cnNvcjptb3ZlO3ZlcnRpY2FsLWFsaWduOnRleHQtYm90dG9tO3RvdWNoLWFjdGlvbjpub25lO2Zsb2F0OmxlZnQ7Jz4mbmJzcDs8L3NwYW4+","PGRpdiBjbGFzcz0ncHEtYm9yZGVyLTAgcHEtZ3JpZC1jZWxsJyBzdHlsZT0ncG9pbnRlci1ldmVudHM6IG5vbmU7Jz48c3BhbiBjbGFzcz0ncHEtaWNvbicgc3R5bGU9J3ZlcnRpY2FsLWFsaWduOnRleHQtYm90dG9tO21hcmdpbjowIDVweDsnPjwvc3Bhbj48c3Bhbj48L3NwYW4+PC9kaXY+","cHEtdGhlbWUgcHEtZHJhZy1oZWxwZXI=","PHN2ZyBjbGFzcz0ncHEtYm9yZGVyLTAnIHN0eWxlPSdib3gtc2l6aW5nOmJvcmRlci1ib3g7cG9zaXRpb246YWJzb2x1dGU7Ym9yZGVyLXdpZHRoOjEuNXB4O2JvcmRlci1zdHlsZTpkYXNoZWQ7cG9pbnRlci1ldmVudHM6bm9uZTtoZWlnaHQ6MDsnPjwvc3ZnPg==","PHN2ZyBjbGFzcz0ncHEtYm9yZGVyLTAnIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDowO2hlaWdodDoxMDAlOw==","cHg7dG9wOjA7Ym9yZGVyLXN0eWxlOmRhc2hlZDtib3JkZXItd2lkdGg6MS41cHg7cG9pbnRlci1ldmVudHM6bm9uZTsnPjwvc3ZnPg==","JyBjbGFzcz0ncHEtY21lbnUgcHEtdGhlbWUgcHEtcG9wdXAnPjx0YWJsZT4=","PHRyIGNsYXNzPSdwcS1jbWVudS1pdGVtJz48dGQgY29sc3Bhbj00IGNsYXNzPSdwcS1iZy0zJyBzdHlsZT0naGVpZ2h0OjFweDtwYWRkaW5nOjA7Jz48L3RkPjwvdGQ+","PHRyIGNsYXNzPSdwcS1jbWVudS1pdGVtIA==","PC90ZD48dGQ+PHNwYW4gY2xhc3M9Jw==","cHEtc3VibWVudSB1aS1pY29uIHVpLWljb24tdHJpYW5nbGUtMS0=","YmVmb3JlU29ydERvbmUgYmVmb3JlRmlsdGVyRG9uZSBiZWZvcmVSb3dFeHBhbmREb25lIGJlZm9yZUdyb3VwRXhwYW5kRG9uZSBiZWZvcmVNb3ZlTm9kZSBiZWZvcmVBdXRvUm93SGVpZ2h0IGJlZm9yZVZhbGlkYXRlRG9uZSBiZWZvcmVUcmVlRXhwYW5kRG9uZSBvblJlc2l6ZUhpZXJhcmNoeQ==","YmVmb3JlQ29sQWRkRG9uZSBiZWZvcmVDb2xSZW1vdmVEb25lIGJlZm9yZUhpZGVDb2xzRG9uZSBiZWZvcmVDb2x1bW5Db2xsYXBzZURvbmUgYmVmb3JlQ29sTW92ZURvbmUgYmVmb3JlRmxleCBjb2x1bW5SZXNpemU=","PGRpdiBjbGFzcz0ncHEtZmlsbC1oYW5kbGUnPjwvZGl2Pg==","PGRpdiBzdHlsZT0naGVpZ2h0OjEwcHg7d2lkdGg6MTBweDtjdXJzb3I6Y3Jvc3NoYWlyOyc+PC9kaXY+","dWktaWNvbi1mb2xkZXItY29sbGFwc2Vk","aW5wdXRbdHlwZT0nY2hlY2tib3gnXQ==","PHNwYW4gY2xhc3M9J3BxLWdyb3VwLWljb24gdWktaWNvbiA=","PHNwYW4gY2xhc3M9J3BxLXRyZWUtaWNvbiB1aS1pY29uIA==","KFthLXpdKylccyo9XHMqIihbXiJdKiki","eGwvd29ya3NoZWV0cy9fcmVscy9zaGVldA==","UmVsYXRpb25zaGlwW1R5cGUqPSIvY29tbWVudHMiXQ==","ZGF0YTppbWFnZS9wbmc7YmFzZTY0LA==","UmVsYXRpb25zaGlwW1R5cGUqPScvaW1hZ2UnXQ==","eGRyXDp0d29DZWxsQW5jaG9yLHhkclw6b25lQ2VsbEFuY2hvcg==","ZmlsbHM+ZmlsbD5wYXR0ZXJuRmlsbD5mZ0NvbG9yW3JnYl0=","JCMsIyMwXyk7W1JlZF0oJCMsIyMwKQ==","JCMsIyMwLjAwXyk7KCQjLCMjMC4wMCk=","JCMsIyMwLjAwXyk7W1JlZF0oJCMsIyMwLjAwKQ==","IywjIzAuMDBfKTsoIywjIzAuMDAp","IywjIzAuMDBfKTtbUmVkXSgjLCMjMC4wMCk=","dGFibGV7ZW1wdHktY2VsbHM6c2hvdztmb250LWZhbWlseTo=","O2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTt9","PCFET0NUWVBFIGh0bWw+PGh0bWw+PGhlYWQ+","PG1ldGEgY2hhcnNldD0idXRmLTgiIC8+","dGQsdGh7cGFkZGluZzogNXB4O2JvcmRlcjoxcHggc29saWQgI2NjYzt9","PC90YWJsZT48L2JvZHk+PC9odG1sPg==","PGlmcmFtZSBoZWlnaHQ9JzAnIHdpZHRoPScwJyBmcmFtZWJvcmRlcj0nMCcgc3JjPSI=","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxSZWxhdGlvbnNoaXBzIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvcGFja2FnZS8yMDA2L3JlbGF0aW9uc2hpcHMiPjxSZWxhdGlvbnNoaXAgSWQ9InJJZDEiIFR5cGU9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMvb2ZmaWNlRG9jdW1lbnQiIFRhcmdldD0ieGwvd29ya2Jvb2sueG1sIi8+PC9SZWxhdGlvbnNoaXBzPg==","eGwvX3JlbHMvd29ya2Jvb2sueG1sLnJlbHM=","d29ya3NoZWV0cy9fcmVscy9zaGVldA==","PHhkcjp3c0RyIHhtbG5zOnhkcj0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL2RyYXdpbmdtbC8yMDA2L3NwcmVhZHNoZWV0RHJhd2luZyIgeG1sbnM6YT0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL2RyYXdpbmdtbC8yMDA2L21haW4iIHhtbG5zOnI9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMiIHhtbG5zOmM9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9kcmF3aW5nbWwvMjAwNi9jaGFydCIgeG1sbnM6Y3g9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vb2ZmaWNlL2RyYXdpbmcvMjAxNC9jaGFydGV4IiB4bWxuczpjeDE9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vb2ZmaWNlL2RyYXdpbmcvMjAxNS85LzgvY2hhcnRleCIgeG1sbnM6bWM9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9tYXJrdXAtY29tcGF0aWJpbGl0eS8yMDA2IiB4bWxuczpkZ209Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9kcmF3aW5nbWwvMjAwNi9kaWFncmFtIiB4bWxuczp4M1Vuaz0iaHR0cDovL3NjaGVtYXMubWljcm9zb2Z0LmNvbS9vZmZpY2UvZHJhd2luZy8yMDEwL3NsaWNlciIgeG1sbnM6c2xlMTU9Imh0dHA6Ly9zY2hlbWFzLm1pY3Jvc29mdC5jb20vb2ZmaWNlL2RyYXdpbmcvMjAxMi9zbGljZXIiPg==","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxSZWxhdGlvbnNoaXBzIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvcGFja2FnZS8yMDA2L3JlbGF0aW9uc2hpcHMiPg==","PC94ZHI6Y29sPjx4ZHI6Y29sT2ZmPg==","PC94ZHI6Y29sT2ZmPjx4ZHI6cm93Pg==","PC94ZHI6cm93Pjx4ZHI6cm93T2ZmPg==","PHhkcjpwaWM+PHhkcjpudlBpY1ByPjx4ZHI6Y052UHIgaWQ9Ig==","PHhkcjpjTnZQaWNQciBwcmVmZXJSZWxhdGl2ZVJlc2l6ZT0iMCIvPjwveGRyOm52UGljUHI+","PHhkcjpibGlwRmlsbD48YTpibGlwIGNzdGF0ZT0icHJpbnQiIHI6ZW1iZWQ9Ig==","Ii8+PGE6c3RyZXRjaD48YTpmaWxsUmVjdC8+PC9hOnN0cmV0Y2g+PC94ZHI6YmxpcEZpbGw+","PHhkcjpzcFByPjxhOnByc3RHZW9tIHByc3Q9InJlY3QiPjxhOmF2THN0Lz48L2E6cHJzdEdlb20+PGE6bm9GaWxsLz48L3hkcjpzcFByPg==","PC94ZHI6cGljPjx4ZHI6Y2xpZW50RGF0YSBmTG9ja3NXaXRoU2hlZXQ9IjAiLz48L3hkcjo=","IiBUeXBlPSJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL2ltYWdlIiAvPg==","ZHJhd2luZ3MvX3JlbHMvZHJhd2luZw==","Y3VzdG9tSGVpZ2h0PSIxIiBodD0i","IGN1c3RvbVdpZHRoPSIxIiB3aWR0aD0i","PGNvbW1lbnQgYXV0aG9ySWQ9IjAiIHJlZj0i","Ij48dGV4dD48dCB4bWw6c3BhY2U9InByZXNlcnZlIj4=","PC90PjwvdGV4dD48L2NvbW1lbnQ+","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pg==","PGNvbW1lbnRzIHhtbG5zOnI9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9vZmZpY2VEb2N1bWVudC8yMDA2L3JlbGF0aW9uc2hpcHMiIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvc3ByZWFkc2hlZXRtbC8yMDA2L21haW4iPg==","PGF1dGhvcnM+PGF1dGhvcj48L2F1dGhvcj48L2F1dGhvcnM+","PC9jb21tZW50TGlzdD48L2NvbW1lbnRzPg==","PE92ZXJyaWRlIFBhcnROYW1lPSIveGwvd29ya3NoZWV0cy9zaGVldA==","LnhtbCIgQ29udGVudFR5cGU9ImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLndvcmtzaGVldCt4bWwiLz4=","PE92ZXJyaWRlIFBhcnROYW1lPSIveGwvY29tbWVudHM=","LnhtbCIgQ29udGVudFR5cGU9ImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLmNvbW1lbnRzK3htbCIgLz4=","IiBDb250ZW50VHlwZT0iaW1hZ2Uv","PE92ZXJyaWRlIFBhcnROYW1lPSIveGwvZHJhd2luZ3MvZHJhd2luZw==","LnhtbCIgQ29udGVudFR5cGU9ImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5kcmF3aW5nK3htbCIvPg==","PFR5cGVzIHhtbG5zPSJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvcGFja2FnZS8yMDA2L2NvbnRlbnQtdHlwZXMiPg==","PE92ZXJyaWRlIFBhcnROYW1lPSIveGwvc3R5bGVzLnhtbCIgQ29udGVudFR5cGU9ImFwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnN0eWxlcyt4bWwiLz4=","PERlZmF1bHQgRXh0ZW5zaW9uPSJyZWxzIiBDb250ZW50VHlwZT0iYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLXBhY2thZ2UucmVsYXRpb25zaGlwcyt4bWwiLz4=","PERlZmF1bHQgRXh0ZW5zaW9uPSJ4bWwiIENvbnRlbnRUeXBlPSJhcHBsaWNhdGlvbi94bWwiIC8+","PE92ZXJyaWRlIFBhcnROYW1lPSIveGwvd29ya2Jvb2sueG1sIiBDb250ZW50VHlwZT0iYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwuc2hlZXQubWFpbit4bWwiLz4=","PERlZmF1bHQgRXh0ZW5zaW9uPSJ2bWwiIENvbnRlbnRUeXBlPSJhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQudm1sRHJhd2luZyIgLz4=","PHNoZWV0Vmlld3M+PHNoZWV0VmlldyA=","IiBhY3RpdmVQYW5lPSJib3R0b21MZWZ0IiBzdGF0ZT0iZnJvemVuIi8+","PC9zaGVldFZpZXc+PC9zaGVldFZpZXdzPg==","PFJlbGF0aW9uc2hpcCBJZD0iY29t","IiBUYXJnZXQ9Ii4uL2NvbW1lbnRz","LnhtbCIgVHlwZT0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9jb21tZW50cyIgLz4=","PFJlbGF0aW9uc2hpcCBJZD0idm1s","IiBUYXJnZXQ9Ii4uL2RyYXdpbmdzL3ZtbERyYXdpbmc=","LnZtbCIgVHlwZT0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy92bWxEcmF3aW5nIiAvPg==","PFJlbGF0aW9uc2hpcCBJZD0icklk","IiBUYXJnZXQ9Ii4uL2RyYXdpbmdzL2RyYXdpbmc=","LnhtbCIgVHlwZT0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcy9kcmF3aW5nIi8+","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pjx3b3Jrc2hlZXQgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9zcHJlYWRzaGVldG1sLzIwMDYvbWFpbiIgeG1sbnM6cj0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL29mZmljZURvY3VtZW50LzIwMDYvcmVsYXRpb25zaGlwcyI+","PGxlZ2FjeURyYXdpbmcgcjppZD0idm1s","PHhmIG51bUZtdElkPSIwIiBhcHBseU51bWJlckZvcm1hdD0iMSIvPg==","PGZpbGw+PHBhdHRlcm5GaWxsIHBhdHRlcm5UeXBlPSJzb2xpZCI+PGZnQ29sb3IgcmdiPSI=","Ii8+PC9wYXR0ZXJuRmlsbD48L2ZpbGw+","PGZhbWlseSB2YWw9IjIiLz48L2ZvbnQ+","IGFwcGx5RmlsbD0iMSIgZmlsbElkPSI=","IGFwcGx5Rm9udD0iMSIgZm9udElkPSI=","IGFwcGx5TnVtYmVyRm9ybWF0PSIxIiBudW1GbXRJZD0i","IGFwcGx5Qm9yZGVyPSIxIiBib3JkZXJJZD0i","IGFwcGx5QWxpZ25tZW50PSIxIj48YWxpZ25tZW50IA==","PHN0eWxlU2hlZXQgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9zcHJlYWRzaGVldG1sLzIwMDYvbWFpbiI+","PGZvbnQ+PHN6IHZhbD0iMTEiLz48Y29sb3IgdGhlbWU9IjEiLz48bmFtZSB2YWw9IkNhbGlicmkiLz48ZmFtaWx5IHZhbD0iMiIvPjxzY2hlbWUgdmFsPSJtaW5vciIvPjwvZm9udD4=","PGZpbGxzPjxmaWxsPjxwYXR0ZXJuRmlsbCBwYXR0ZXJuVHlwZT0ibm9uZSIvPjwvZmlsbD48ZmlsbD48cGF0dGVybkZpbGwgcGF0dGVyblR5cGU9ImdyYXkxMjUiLz48L2ZpbGw+","PGJvcmRlcnM+PGJvcmRlcj48bGVmdC8+PHJpZ2h0Lz48dG9wLz48Ym90dG9tLz48ZGlhZ29uYWwvPjwvYm9yZGVyPg==","PGNlbGxTdHlsZVhmcyBjb3VudD0iMSI+PHhmIG51bUZtdElkPSIwIiBmb250SWQ9IjAiIGZpbGxJZD0iMCIgYm9yZGVySWQ9IjAiLz4=","PGNlbGxTdHlsZXMgY291bnQ9IjEiPjxjZWxsU3R5bGUgbmFtZT0iTm9ybWFsIiB4ZklkPSIwIiBidWlsdGluSWQ9IjAiLz48L2NlbGxTdHlsZXM+","PGR4ZnMgY291bnQ9IjAiLz48dGFibGVTdHlsZXMgY291bnQ9IjAiIGRlZmF1bHRUYWJsZVN0eWxlPSJUYWJsZVN0eWxlTWVkaXVtOSIgZGVmYXVsdFBpdm90U3R5bGU9IlBpdm90U3R5bGVMaWdodDE2Ii8+","PHY6c2hhcGUgaWQ9IjEiIHR5cGU9IiMwIiBzdHlsZT0icG9zaXRpb246YWJzb2x1dGU7bWFyZ2luLWxlZnQ6MjU5LjI1cHQ7bWFyZ2luLXRvcDoxLjVwdDt3aWR0aDoxMDhwdDtoZWlnaHQ6NTkuMjVwdDt6LWluZGV4OjE7dmlzaWJpbGl0eTpoaWRkZW4iIGZpbGxjb2xvcj0iI2ZmZmZlMSIgbzppbnNldG1vZGU9ImF1dG8iPjx2OmZpbGwgY29sb3IyPSIjZmZmZmUxIi8+PHY6c2hhZG93IG9uPSJ0IiBjb2xvcj0iYmxhY2siIG9ic2N1cmVkPSJ0Ii8+PHY6cGF0aCBvOmNvbm5lY3R0eXBlPSJub25lIi8+PHY6dGV4dGJveCBzdHlsZT0ibXNvLWRpcmVjdGlvbi1hbHQ6YXV0byI+PGRpdiBzdHlsZT0idGV4dC1hbGlnbjpyaWdodCI+PC9kaXY+PC92OnRleHRib3g+PHg6Q2xpZW50RGF0YSBPYmplY3RUeXBlPSJOb3RlIj48eDpNb3ZlV2l0aENlbGxzLz48eDpTaXplV2l0aENlbGxzLz48eDpBbmNob3I+MSwgMTUsIDAsIDIsIDMsIDMxLCA0LCAxPC94OkFuY2hvcj48eDpBdXRvRmlsbD5GYWxzZTwveDpBdXRvRmlsbD4=","PC94OkNvbHVtbj48L3g6Q2xpZW50RGF0YT48L3Y6c2hhcGU+","PHhtbCB4bWxuczp2PSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCIgeG1sbnM6bz0idXJuOnNjaGVtYXMtbWljcm9zb2Z0LWNvbTpvZmZpY2U6b2ZmaWNlIiB4bWxuczp4PSJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOm9mZmljZTpleGNlbCI+PG86c2hhcGVsYXlvdXQgdjpleHQ9ImVkaXQiPjxvOmlkbWFwIHY6ZXh0PSJlZGl0IiBkYXRhPSIxIi8+PC9vOnNoYXBlbGF5b3V0Pg==","PHY6c2hhcGV0eXBlIGlkPSIwIiBjb29yZHNpemU9IjIxNjAwLDIxNjAwIiBvOnNwdD0iMjAyIiBwYXRoPSJtLGwsMjE2MDByMjE2MDAsbDIxNjAwLHhlIj48djpzdHJva2Ugam9pbnN0eWxlPSJtaXRlciIvPjx2OnBhdGggZ3JhZGllbnRzaGFwZW9rPSJ0IiBvOmNvbm5lY3R0eXBlPSJyZWN0Ii8+PC92OnNoYXBldHlwZT4=","PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/Pjx3b3JrYm9vayB4bWxucz0iaHR0cDovL3NjaGVtYXMub3BlbnhtbGZvcm1hdHMub3JnL3NwcmVhZHNoZWV0bWwvMjAwNi9tYWluIiB4bWxuczpyPSJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzIj4=","PGJvb2tWaWV3cz48d29ya2Jvb2tWaWV3IA==","IC8+PC9ib29rVmlld3M+PHNoZWV0cz4=","IiBUeXBlPSJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL3dvcmtzaGVldCIgVGFyZ2V0PSJ3b3Jrc2hlZXRzL3NoZWV0","PFJlbGF0aW9uc2hpcHMgeG1sbnM9Imh0dHA6Ly9zY2hlbWFzLm9wZW54bWxmb3JtYXRzLm9yZy9wYWNrYWdlLzIwMDYvcmVsYXRpb25zaGlwcyI+","IiBUeXBlPSJodHRwOi8vc2NoZW1hcy5vcGVueG1sZm9ybWF0cy5vcmcvb2ZmaWNlRG9jdW1lbnQvMjAwNi9yZWxhdGlvbnNoaXBzL3N0eWxlcyIgVGFyZ2V0PSJzdHlsZXMueG1sIi8+","Y29sTW92ZSBjb2xBZGQgY29sUmVtb3Zl","ZWRpdG9yS2V5VXAgZWRpdG9yQ2xpY2s=","KD86W15cKlw/OlxbXF0oXClcK1wtXSshKT8=","KFwkPykoW0EtWl0rKShcJD8pKFtcZF0rKD8hISkp","KFwkPykoWzAtOV0rKTooXCQ/KShbMC05XSsp","KFwkPykoW0EtWl0rKShcJD8pKFtcZF0rKQ==","KFwkPykoW0EtWl0rKTooXCQ/KShbQS1aXSsp","XCQ/KFtBLVpdKyk/XCQ/KFswLTldKyk/XDpcJD8oW0EtWl0rKT9cJD8oWzAtOV0rKT8p","XCQ/W0EtWl0rXCQ/WzAtOV0rKSg/IVs6XGRdKyk=","PGRpdiBzdHlsZT0nZm9udC1zaXplOjAuOWVtO2NvbG9yOiM4ODg7bWFyZ2luLWJvdHRvbTo1cHg7Jz4=","PGRpdiBjbGFzcz0ncHEtaW50ZWwnIHN0eWxlPSd3aWR0aDozNTBweDttYXgtaGVpZ2h0OjMwMHB4O292ZXJmbG93OmF1dG87YmFja2dyb3VuZDojZmZmO2JvcmRlcjoxcHggc29saWQgZ3JheTtib3gtc2hhZG93OiA0cHggNHB4IDJweCAjYWFhYWFhO3BhZGRpbmc6NXB4Oyc+PC9kaXY+","KFxkezEsMn0pLyhcZHsxLDJ9KS8oXGR7Miw0fSk=","KFxkezR9KS0oXGR7MSwyfSktKFxkezEsMn0p","KFxkezEsMn0pKDooXGR7MSwyfSkpPyg6KFxkezEsMn0pKT8oXHMoQU18UE0pKT8=","IHBxLXBpdm90LWxhYmVsIHBxLWJnLTMg","IHBxLXBpdm90LXBhbmUgcHEtYm9yZGVyLTEg","PGRpdiBjbGFzcz0ncHEtcGl2b3QtY29scy1hbGw=","PGxhYmVsPjxpbnB1dCB0eXBlPSdjaGVja2JveCcgY2xhc3M9J3BxLXBpdm90LWNoZWNrYm94JyA=","PGRpdiBjbGFzcz0ncHEtcGl2b3Qtcm93cw==","PGRpdiBkZW55PSdkZW55R3JvdXAnIGNsYXNzPSc=","Jz48c3BhbiBjbGFzcz0ncHEtaWNvbic+PC9zcGFuPg==","PGRpdiBjbGFzcz0ncHEtcGl2b3QtY29scw==","PGRpdiBkZW55PSdkZW55UGl2b3QnIGNsYXNzPSc=","PGRpdiBjbGFzcz0ncHEtcGl2b3QtdmFscw==","PGRpdiBkZW55PSdkZW55QWdnJyBjbGFzcz0n","PHNwYW4gc3R5bGU9J2NvbG9yOiM5OTk7bWFyZ2luOjFweDtkaXNwbGF5OmlubGluZS1ibG9jazsnPg==","PiAucHEtcGl2b3QtY29sOm5vdCgnLnBxLWRlbnktZHJhZycp","PHNwYW4gY2xhc3M9J3VpLWljb24tY2hlY2sgdWktaWNvbic+PC9zcGFuPg==","JyBjbGFzcz0ncHEtcGl2b3QtY29sIHBxLWJvcmRlci0yIA==","YVtocmVmPSd0YWJzLWZpbHRlcidd","Ij48c3BhbiBjbGFzcz0icHEtdGFiLQ==","LWljb24iPiZuYnNwOzwvc3Bhbj48L2E+PC9saT4=","PGRpdiBjbGFzcz0ncHEtaGVhZC1tZW51IHBxLXRoZW1lJyBkaXI9Jw==","PGRpdiBjbGFzcz0ncHEtdGFicycgc3R5bGU9J2JvcmRlci13aWR0aDowOyc+","PGRpdiBjbGFzcz0ncHEtZmlsdGVyLW1lbnUgcHEtdGhlbWUnLz4=","PGRpdiBzdHlsZT0nbWFyZ2luOjAgYXV0byA0cHg7Jz4=","PGRpdiBzdHlsZT0ncGFkZGluZzo0cHg7Jz4=","PGRpdiBkYXRhLXJlbD0nZ3JpZCcgc3R5bGU9J2Rpc3BsYXk6bm9uZTsnPjwvZGl2Pg==","PGRpdiBjbGFzcz0nZmlsdGVyX21vZGVfZGl2JyBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXI7ZGlzcGxheTpub25lO21hcmdpbjo0cHggMCA0cHg7Jz4=","PGxhYmVsPjxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0ncHFfZmlsdGVyX21vZGUnIHZhbHVlPSdBTkQnLz5BTkQ8L2xhYmVsPiZuYnNwOw==","PGxhYmVsPjxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0ncHFfZmlsdGVyX21vZGUnIHZhbHVlPSdPUicvPk9SPC9sYWJlbD4=","PGRpdiBzdHlsZT0nbWFyZ2luOjAgYXV0byA0cHg7Jz48c2VsZWN0Pg==","PGRpdiBzdHlsZT0nbWFyZ2luOjRweCAwIDA7Jz4=","JyB0eXBlPSdidXR0b24nIHN0eWxlPSd3aWR0aDpjYWxjKDUwJSAtIDRweCk7bWFyZ2luOjJweDsnID4=","W25hbWU9InBxX2ZpbHRlcl9tb2RlIl0=","J106bm90KC5wcS1zZWFyY2gtdHh0KQ==","cG9wIHB1c2ggcmV2ZXJzZSBzaGlmdCBzb3J0IHNwbGljZSB1bnNoaWZ0","PHRleHRhcmVhIHN0eWxlPSdwYWRkaW5nOjAgNTBweDt3aWR0aDoxcHg7Ym9yZGVyOm5vbmU7Ym94LXNpemluZzpib3JkZXItYm94O3Zpc2liaWxpdHk6aGlkZGVuOyc+YTwvdGV4dGFyZWE+","JyBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0Og==","cHg7Ym90dG9tOjA7bGVmdDowO3dpZHRoOjEwMCU7Y3Vyc29yOnJvdy1yZXNpemU7Jz48L2Rpdj4=","d2lkdGg6MTAwJTtiYWNrZ3JvdW5kLWNvbG9yOiMwMDA7aGVpZ2h0OjFweDs=","cG9zaXRpb246YWJzb2x1dGU7dG9wOg==","PGlucHV0IGNsYXNzPSdwcS1ib3JkZXItMCcgdmFsdWU9Ig==","IHBxLXRhYi1idXR0b24gcHEtdmFsaWduLWNlbnRlciBwcS1iZy0zIHBxLWJvcmRlci0wJz48ZGl2IGNsYXNzPSc=","IHVpLWljb24nPjwvZGl2PjwvZGl2Pg==","PGRpdiBjbGFzcz0ncHEtdGFicy1jb250IHVpLXdpZGdldC1jb250ZW50Jz4=","PGRpdiBjbGFzcz0ncHEtdGFicy1zdHJpcCcgc3R5bGU9Jw==","LnVpLXNvcnRhYmxlLXBsYWNlaG9sZGVy","PGRpdiBjbGFzcz0ncHEtdGFiLWl0ZW0gcHEtdmFsaWduLWNlbnRlciBwcS1ib3JkZXItMCA=","PGRpdiBzdHlsZT0nbWF4LXdpZHRoOjEwMHB4O2hlaWdodDoxMDBweDtwb3NpdGlvbjpmaXhlZDtsZWZ0OjA7dG9wOjA7b3ZlcmZsb3c6YXV0bzt2aXNpYmlsaXR5OmhpZGRlbjsnPjxkaXYgc3R5bGU9J3dpZHRoOjIwMHB4O2hlaWdodDoxMDBweDsnPjwvZGl2PjwvZGl2Pg==","PGRpdiBzdHlsZT0ncG9zaXRpb246cmVsYXRpdmU7Jz48L2Rpdj4=","PGRpdiBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7bGVmdDowOyc+PC9kaXY+","cHEtZ3JpZC1zdW1tYXJ5LXRhYmxl","PGRpdiBjbGFzcz0icHEtZ3JpZC1jb250Ij4=","PGRpdiBjbGFzcz0icHEtZ3JpZC1ub3Jvd3MiPg==","Ij48ZGl2IGNsYXNzPSJwcS10YWJsZS1yaWdodCA=","PGRpdiBjbGFzcz0icHEtci1zcGFjZXIiIHN0eWxlPSJwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtoZWlnaHQ6MTBweDsiPjwvZGl2Pg==","Ij48ZGl2IGNsYXNzPSJwcS10YWJsZS1sZWZ0IA==","Ij48ZGl2IGNsYXNzPSJwcS10YWJsZS10ciA=","Ij48ZGl2IGNsYXNzPSJwcS10YWJsZS1sdCA=","bW91c2V3aGVlbCBET01Nb3VzZVNjcm9sbA==","JyByb2xlPSdncmlkY2VsbCcgY2xhc3M9J3BxLWdyaWQtbnVtYmVyLWNlbGwgJz4=","LnBxLW1lbnUtaWNvbiwucHEtbWVudS1maWx0ZXItaWNvbg==","cmVmcmVzaCByZWZyZXNoUm93IHJlZnJlc2hDZWxsIHJlZnJlc2hDb2x1bW4=","cmVmcmVzaEhlYWRlciBzb2Z0UmVmcmVzaA==","IGNsYXNzPSdwcS1ncmlkLWNvbC1yZXNpemUtaGFuZGxlIA==","cmVmcmVzaFN1bSBzb2Z0UmVmcmVzaA=="][t])},function(t){return["exportRender","getCascadeInit","pq_rowselect","chkEachChild","cascadeNest","chkEachParent","eventForInit","getCascadeList","_cascadeInit","pq_gsummary","pq_child_sum","titleInFirstCol","checkboxHead","setCellRender","sort_composite","indeterminate","refreshView","summaryInTitleRow","showSummary","skipSingleSummary","grandSummary","pq_grandsummary","summaryData","getCheckedNodes","refreshHeadVal","hasCboxHead","getCellHeader","onHeaderChange","preventDefault","stopPropagation","isImmediatePropagationStopped","originalEvent","isDefaultPrevented","getCellIndices","eventNamespace","pq_celldata","toUpperCase","elementFromPoint","isPlainObject","getOwnPropertyDescriptor","defineProperty","getDataType","formatNumber","attachEvent","ResizeObserver","addResizeListener","responseType","deFormatNumber","triggerHandler","toLowerCase","pq_disabled","pq_selected","pq_disabled_group","tableToArray","formatCurrency","fromCharCode","generateData","scrollWidth","clientWidth","validations","getValueFromDataType","getEditCell","focusInvalid","allowInvalid","invalidClass","activeElement","checkEditable","_isValidCell","removeClass","onScrollCell","isValidCell","rowIndxPage","strFirstPage","strNextPage","strPrevPage","strLastPage","getRppOptions","onChangeSelect","$totalPages","bindCurPage","enableSelection","_setOptions","totalRecords","_createWidget","origOptions","roundCorners","summaryOnTop","collapsible","toolPanelRules","$toolPanelRules","$grid_center","_onGCMouseDown","cRenderBody","_onClickCell","_onDblClickCell","_onMouseDown","_onCellMouseEnter","_onRowMouseEnter","_onCellMouseLeave","_onRowMouseLeave","selectionModel","disableSelection","_onKeyPressDown","_refreshTitle","generateLoading","_refreshResizable","_refreshDraggable","iResizeColumns","cResizeColumns","addEventListener","changedTouches","_blurEditMode","iRenderHead","_refreshLoadingString","_createCollapse","refreshDataAndView","_destroyResizable","uiResizable","removeChild","_destroyDraggable","onKeyPressDown","bodyKeyPressDown","refreshAfterExpand","currentTarget","clicksToEdit","isValidChange","isEditableCell","pq_cellprop","isEditableRow","_onMouseDownCont","setAttribute","_mousePQUpDelegate","_onMouseDownCell","isPropagationStopped","_onMouseDownRow","getRootCellO","highlightCell","highlightRow","unHighlightCell","unHighlightRow","getHeadIndices","getCellIndx","headerCells","_getCreateEventData","remoteRequest","_onDataAvailable","showLoading","showLoadingCounter","hideLoading","getTotalRows","refreshDataFromDataModel","_queueATriggers","backwardCompat","getQueryStringCRUD","filterModel","getQueryStringSort","iFilterData","getQueryStringFilter","postDataOnce","contentType","onRemoteSuccess","offsetWidth","offsetHeight","_refreshPager","getInstance","getColsPrimary","_generateCellRowOutline","_removeEditOutline","refreshCell","scrollColumn","blurIfFocus","setSelection","getFirstVisibleCI","getColModel","getCMPrimary","getOCMPrimary","saveEditCell","getEditCellData","_digestNewRow","_digestData","historyModel","checkEditableAdd","_digestUpdate","_digestDelete","refreshColumn","refreshHeaderCell","quitEditMode","_quitEditMode","getViewPortRowsIndx","getViewPortIndx","getRIOffset","ismergedCell","getFirstEditableColIndx","editFirstCellInRow","keyDownInEdit","keyPressInEdit","keyUpInEdit","cancelBlurCls","autocomplete","_deleteBlurEditMode","createRange","selectNodeContents","getSelection","removeAllRanges","getCellFilter","getEditorIndices","getRowsByClass","getCellsByClass","pq_cellattr","processAttr","isEmptyObject","normalizeList","arrayUnique","_removeClass","_getFirstRC","getFirstVisibleRIP","getLastVisibleRIP","getLastVisibleCI","getNextVisibleCI","getPrevVisibleCI","getPrevVisibleRIP","getNextVisibleRIP","calcWidthCols","formulasModel","incrRowIndx","pressToEdit","getRootCell","getRootCellV","saveAndMove","setDataMergeCell","resizeOrReplace","cGenerateView","minColWidth","maxColWidth","percentColumn","refreshWidth","autoFitCols","isDateFormat","pq_rowstyle","columnBorders","pq_cellstyle","addDisableCls","getHeadCell","iDragColumns","colCollapse","onHeaderCellClick","getSortSpaceSpans","header_active","pq_composed","setDraggables","doubleClick","scrollModel","_setDragLimits","_getDragHelper","outerHeight","cDragColumns","dragColumns","$drag_helper","$arrowBottom","onColMouseDown","setDraggable","setDroppables","updateDragHelper","showFeedback","cHeaderSearch","postRenderCell","createListener","bindListener","getFilterUI","betweenTmpl","getControlStr","onWindowResize","mozFullScreen","webkitIsFullScreen","innerHeight","rowTemplate","maxWidthPixel","getFlexWidth","dimsRelativeTo","_calcOffset","isFullScreen","isReactiveDims","setResizeTimer","getParentDims","_autoResizeTimeout","refreshAfterResize","autoSizeInterval","refreshToolbar","refreshGridWidthAndHeight","setCenterHeight","setGridAndCenterHeightForFlex","setGridWidthForFlex","cCheckBoxColumn","oneDataReady","onDataReady","onCheckBoxChange","onCellKeyDown","onRefreshHeader","onRowSelect","onBeforeRowSelect","onBeforeCheck","renderLabel","cFilterData","iHeaderSearch","iMouseSelection","cMouseSelection","removeAttribute","rowInvalidate","rowCollapse","stateColKeys","replaceWith","showToolbar","refreshHeader","refreshHeaderFilter","_refreshHeaderSortIcons","refreshHeaderSortIcons","dataPrimary","_sortLocalData","getPlainOptions","getDataCascade","removeNullOptions","filterLocalData","sortLocalData","clearFilters","groupOption","columnTemplate","autoGenColumns","getHeaderCells","assignRowSpan","cacheIndices","initTypeColumns","refreshComplete","rowHtDetail","detailModel","onBeforeViewEmpty","onAutoRowHeight","getHeightCell","detachCells","softRefresh","getCellRegion","collapseIcon","initRowHtArrDetailSuper","setCellDims","getCellCont","getCellCoords","getRenderVal","_setGlobalStr","addressLast","inflateRange","removeBlock","gridInstance","commitAddAll","commitUpdateAll","commitDeleteAll","commitUpdate","commitDelete","rollbackUpdate","rollbackDelete","rollbackAdd","getChangesValue","getChangesRaw","getCellData","deleteNodes","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","onMousePQUp","onCellClick","onCellMouseDown","onCellMouseEnter","clearClipBoard","createClipBoard","destroyClipBoard","defaultDate","dpBeforeShow","filterFnSelect","conditionList","getConditionsDT","conditionExclude","cFilterMenu","onFilterChange","lastIndexOf","compatibilityCheck","getCMFromRules","addMissingConditions","copyRuleToColumn","getRulesFromCM","_getRulesFromCM","sortRulesAndFMIndx","isMatchCell","writeSorter","writeSingle","skipCustomSort","initByRemote","tempMultiple","sort_sortType","sort_number","sort_dataType","sort_locale","sort_string","compileSorter","removeCache","localeCompare","alterColumn","calcVisibleRows","findNextVisibleColumn","findNextVisibleRow","calcVisibleColumns","_mergeCells","beforeTrigger","onGroupItemClick","removeGroup","toggleLevel","triggerChange","groupRemoveIcon","summaryEdit","getAggOptions","editorGetData","createHeader","summaryOptions","groupChange","onColumnDrag","onCustomSort","setCascadeInit","initHeadSortable","strGroup_header","initHeaderMenu","updateItems","removeEmptyParent","cascadeInit","initHeadDroppable","onCustomSortTree","summaryRestore","refreshColumns","initcollapsed","renderTitle","renderBodyCell","renderSummary","summaryTitle","updateformatVal","titleDefault","editorSummary","postRenderInterval","contentHelper","addRejectIcon","isDraggable","addAcceptIcon","getChildren","removeFeedback","elementFromXY","contextMenu","getItemHtml","onMouseOver","removeSubMenu","onMouseDown","onBeforeCol","getAllCells","oneRefreshCol","getElementById","iFillHandle","cFillHandle","onSelectChange","onSelectEnd","setDoubleClickable","getFullYear","setFullYear","patternDate2","autofillVal","getContRight","calcMainData","isFormulaChange","formulaSave","isCollapsed","historyDelete","collapseAll","collapseNodes","expandNodes","filterShowChildren","getChildrenAll","onDataAvailable","onDataReadyAfter","onBeforeCellKeyDown","onCustomFilter","onClearFilter","leafIfEmpty","historyMove","refreshOnChange","refreshSummary","refreshViewFull","clearFolderCheckbox","showHideRows","filterLockSummary","iconCollapse","_showHideRows","isSelectedAll","copyFormula","generateCols","headerRowIndx","applyOptions","excelImport","getFileText","getFileTextFromKey","getStyleText","preDefFormats","unescapeXml","uniqueCount","cacheStyles","getPathSheets","getWorkSheet","getMergeCells","customHeight","getBinaryContent","exportExcel","getCsvHeader","postRequest","getExportCM","getWorkbook","getJsonContent","getCSVContent","getHtmlContent","getHtmlHeader","getHtmlBody","nostringify","getXlsHeader","getXlsMergeCells","getWBookRels","getSheetRel","getContentTypes","getStyleIndx","getFormatIndx","getFillIndx","getBorderIndx","getFontIndx","SpreadSheet","onDataReadyDone","onColumnOrder","onBeforeValidateDone","onEditorBegin","onEditorEnd","onEditorKeyUp","onTabChange","onTabRename","eachFormula","execIfDirty","selectionEnd","selectRange","removeStrings","strFormulas","valueToDate","getUTCMonth","getUTCFullYear","setUTCMonth","toLocaleLowerCase","toLocaleUpperCase","onBeforeFilterDone","pivotSortFn","pivotColsTotal","transformData","addAggrInCM","pivotTotalForSingle","getAttribute","_sortCancel","isHideColPane","hidePivotChkBox","strTP_pivot","hideRowPane","strTP_rowPane","strTP_colPane","hideAggPane","strTP_aggPane","onPivotChange","onGroupOption","hideColPane","refreshGrid","showHideColPane","getSortCancel","setSortCancel","pendingRefresh","templateVals","strTP_rowPH","strTP_colPH","strTP_aggPH","setAttrPanes","onHeadCellClick","onHeadClick","iHeaderMenu","strSelectAll","menuInDisable","menuInClose","onTreeExpand","onFilterClick","onMenuClick","getMenuHtml","appendFilter","getRenderLbl","refreshRowFilter","onSel1Change","onSel2Change","$filter_mode","onModeChange","readFilterUI","getHtmlInput","getConditionsCol","strCondition","getOptionStr","singleFilter","strConditions","filterByCond","refreshInputVarsAndEvents","initControls","$filter_mode_div","addEventsInput","isInputHidden","backgroundColor","refreshDataView","getPrototypeOf","prxArrayObjs","scrollHeight","onCellEnter","getSheetOptions","insertAfter","getGridOptions","gridOptions","strTabRemove","scrollLeftVal","setBtnEnable","strTabClose","clientHeight","triggerTblDims","calcTopBottom","calInitFinal","wdContClient","htContClient","getHtDetail","getHeightCellM","assignTblDims","initRowHtArr","setRowHtArr","setColWdArr","getClsStyle","getWidthCellM","getRowClsStyleAttr","onNativeScroll","onMouseWheel","onRefreshTimer","calInitFinalSuper","fullRefresh","removeMergeCells","generateCell","hasMergeCls","generateRow","renderNumCell","getWidthCell","getHeightCellDirty","cRenderHead","onHeadHtChanged","postRenderAll","initRowHtArrSuper","initStripeArr","refreshColumnWidths","initColWdArrSuper","refreshAllCells","initColWdArr","setScrollLeft","initRefreshTimer","_postRender","newScrollPos","hideVScroll","autoRowHead","onHeaderClick","onHeaderKeyDown","onCreateHeader","refreshResizeColumn","createHeaderCell","renderFilterCell"][t]})},2278:function(t,e,n){"use strict";n.d(e,{P:function(){return o}});var i=n(9193),r=n(5917),a=n(7574),o=function(){function t(e,n,i){_classCallCheck(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return _createClass(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return(0,r.of)(this.value);case"E":return t=this.error,new a.y(function(e){return e.error(t)});case"C":return(0,i.c)()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}();o.completeNotification=new o("C"),o.undefinedValueNotification=new o("N",void 0)},7574:function(t,e,n){"use strict";n.d(e,{y:function(){return c}});var i,r=n(7393),a=n(9181),o=n(6490),s=n(6554),l=n(4487),u=n(2494),c=((i=function(t){function e(t){_classCallCheck(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,s=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[a.b])return t[a.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(s.add(i?i.call(s,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),u.v.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,a=e.isStopped;if(n||a)return!1;t=i&&i instanceof r.L?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=h(e))(function(e,i){var r;r=n.subscribe(function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}},i,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:t,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:function(t){return 0===t.length?l.y:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}(e)(this)}},{key:"toPromise",value:function(t){var e=this;return new(t=h(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})}}]),e}(s.L)).create=function(t){return new i(t)},i);function h(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:function(t,e,n){"use strict";n.d(e,{c:function(){return a}});var i=n(2494),r=n(4449),a={closed:!0,next:function(t){},error:function(t){if(i.v.useDeprecatedSynchronousErrorHandling)throw t;(0,r.z)(t)},complete:function(){}}},9765:function(t,e,n){"use strict";n.d(e,{Yc:function(){return c},xQ:function(){return h}});var i,r=n(7574),a=n(7393),o=n(5319),s=n(7971),l=n(8858),u=n(9181),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).destination=t,i}return _createClass(n)}(a.L),h=((i=function(t,e){_inherits(i,t);var n=_createSuper(i);function i(){var t;return _classCallCheck(this,i),(t=n.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _createClass(i,[{key:e,value:function(){return new c(this)}},{key:"lift",value:function(t){var e=new d(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new s.N;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new s.N;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new s.N;return _get(_getPrototypeOf(i.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new l.W(this,t))}},{key:"asObservable",value:function(){var t=new r.y;return t.source=this,t}}]),i}(r.y,u.b)).create=function(t,e){return new d(t,e)},i),d=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).destination=t,r.source=i,r}return _createClass(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):o.w.EMPTY}}]),n}(h)},8858:function(t,e,n){"use strict";n.d(e,{W:function(){return i}});var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).subject=t,r.subscriber=i,r.closed=!1,r}return _createClass(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(n(5319).w)},7393:function(t,e,n){"use strict";n.d(e,{L:function(){return u}});var i=n(9105),r=n(6490),a=n(5319),o=n(9181),s=n(2494),l=n(4449),u=function(t,e){_inherits(i,t);var n=_createSuper(i);function i(t,e,a){var o;switch(_classCallCheck(this,i),(o=n.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=r.c;break;case 1:if(!t){o.destination=r.c;break}if("object"==typeof t){t instanceof i?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(_assertThisInitialized(o))):(o.syncErrorThrowable=!0,o.destination=new c(_assertThisInitialized(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new c(_assertThisInitialized(o),t,e,a)}return o}return _createClass(i,[{key:e,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get(_getPrototypeOf(i.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,n){var r=new i(t,e,n);return r.syncErrorThrowable=!1,r}}]),i}(a.w,o.b),c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,a,o,s){var l;_classCallCheck(this,n),(l=e.call(this))._parentSubscriber=t;var u,c=_assertThisInitialized(l);return(0,i.m)(a)?u=a:a&&(u=a.next,o=a.error,s=a.complete,a!==r.c&&(c=Object.create(a),(0,i.m)(c.unsubscribe)&&l.add(c.unsubscribe.bind(c)),c.unsubscribe=l.unsubscribe.bind(_assertThisInitialized(l)))),l._context=c,l._next=u,l._error=o,l._complete=s,l}return _createClass(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;s.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=s.v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,l.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,l.z)(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};s.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.v.useDeprecatedSynchronousErrorHandling)throw n;(0,l.z)(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!s.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):((0,l.z)(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(u)},5319:function(t,e,n){"use strict";n.d(e,{w:function(){return l}});var i,r=n(9796),a=n(1555),o=n(9105),s=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),l=function(){function t(e){_classCallCheck(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return _createClass(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,l=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var h=0;h<n.length;++h)n[h].remove(this);if((0,o.m)(l)){i&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if((0,r.k)(c))for(var d=-1,f=c.length;++d<f;){var p=c[d];if((0,a.K)(p))try{p.unsubscribe()}catch(g){e=e||[],g instanceof s?e=e.concat(u(g.errors)):e.push(g)}}if(e)throw new s(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var a=this._subscriptions;return null===a?this._subscriptions=[n]:a.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}();function u(t){return t.reduce(function(t,e){return t.concat(e instanceof s?e.errors:e)},[])}l.EMPTY=((i=new l).closed=!0,i)},2494:function(t,e,n){"use strict";n.d(e,{v:function(){return r}});var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},5345:function(t,e,n){"use strict";n.d(e,{IY:function(){return o},Ds:function(){return s},ft:function(){return l}});var i=n(7393),r=n(7574),a=n(7444),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).parent=t,i}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(i.L),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(i.L);function l(t,e){if(!e.closed){if(t instanceof r.y)return t.subscribe(e);var n;try{n=(0,a.s)(t)(e)}catch(i){e.error(i)}return n}}},2441:function(t,e,n){"use strict";n.d(e,{c:function(){return l},N:function(){return u}});var i,r=n(9765),a=n(7574),o=n(5319),s=n(1307),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).source=t,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return _createClass(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new o.w).add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}},{key:"refCount",value:function(){return(0,s.x)()(this)}}]),n}(a.y),u={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(i=l.prototype)._subscribe},_isComplete:{value:i._isComplete,writable:!0},getSubject:{value:i.getSubject},connect:{value:i.connect},refCount:{value:i.refCount}},c=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).connectable=i,r}return _createClass(n,[{key:"_error",value:function(t){this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(r.Yc)},9193:function(t,e,n){"use strict";n.d(e,{E:function(){return r},c:function(){return a}});var i=n(7574),r=new i.y(function(t){return t.complete()});function a(t){return t?function(t){return new i.y(function(e){return t.schedule(function(){return e.complete()})})}(t):r}},4402:function(t,e,n){"use strict";n.d(e,{D:function(){return h}});var i=n(7574),r=n(7444),a=n(5319),o=n(6554),s=n(4087),l=n(377),u=n(4072),c=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new i.y(function(n){var i=new a.w;return i.add(e.schedule(function(){var r=t[o.L]();i.add(r.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}(t,e);if((0,u.t)(t))return function(t,e){return new i.y(function(n){var i=new a.w;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i})}(t,e);if((0,c.z)(t))return(0,s.r)(t,e);if(function(t){return t&&"function"==typeof t[l.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new i.y(function(n){var i,r=new a.w;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(function(){i=t[l.hZ](),r.add(e.schedule(function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof i.y?t:new i.y((0,r.s)(t))}},6693:function(t,e,n){"use strict";n.d(e,{n:function(){return o}});var i=n(7574),r=n(5015),a=n(4087);function o(t,e){return e?(0,a.r)(t,e):new i.y((0,r.V)(t))}},6682:function(t,e,n){"use strict";n.d(e,{T:function(){return s}});var i=n(7574),r=n(4869),a=n(3282),o=n(6693);function s(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var s=Number.POSITIVE_INFINITY,l=null,u=e[e.length-1];return(0,r.K)(u)?(l=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(s=e.pop())):"number"==typeof u&&(s=e.pop()),null===l&&1===e.length&&e[0]instanceof i.y?e[0]:(0,a.J)(s)((0,o.n)(e,l))}},5917:function(t,e,n){"use strict";n.d(e,{of:function(){return o}});var i=n(4869),r=n(6693),a=n(4087);function o(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=e[e.length-1];return(0,i.K)(o)?(e.pop(),(0,a.r)(e,o)):(0,r.n)(e)}},8002:function(t,e,n){"use strict";n.d(e,{U:function(){return r}});var i=n(7393);function r(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new a(t,e))}}var a=function(){function t(e,n){_classCallCheck(this,t),this.project=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}]),t}(),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t)).project=i,a.count=0,a.thisArg=r||_assertThisInitialized(a),a}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(i.L)},3282:function(t,e,n){"use strict";n.d(e,{J:function(){return a}});var i=n(9773),r=n(4487);function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return(0,i.zg)(r.y,t)}},9773:function(t,e,n){"use strict";n.d(e,{zg:function(){return o}});var i=n(8002),r=n(4402),a=n(5345);function o(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(a){return a.pipe(o(function(n,a){return(0,r.D)(t(n,a)).pipe((0,i.U)(function(t,i){return e(n,t,a,i)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new s(t,n))})}var s=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck(this,t),this.project=e,this.concurrent=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck(this,n),(r=e.call(this,t)).project=i,r.concurrent=a,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _createClass(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new a.IY(this),n=this.destination;n.add(e);var i=(0,a.ft)(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(a.Ds)},9746:function(t,e,n){"use strict";n.d(e,{QV:function(){return a},ht:function(){return s}});var i=n(7393),r=n(2278);function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new o(t,e))}}var o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new s(t,this.scheduler,this.delay))}}]),t}(),s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck(this,n),(r=e.call(this,t)).scheduler=i,r.delay=a,r}return _createClass(n,[{key:"scheduleMessage",value:function(t){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new l(t,this.destination)))}},{key:"_next",value:function(t){this.scheduleMessage(r.P.createNext(t))}},{key:"_error",value:function(t){this.scheduleMessage(r.P.createError(t)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(r.P.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()}}]),n}(i.L),l=_createClass(function t(e,n){_classCallCheck(this,t),this.notification=e,this.destination=n})},1307:function(t,e,n){"use strict";n.d(e,{x:function(){return r}});var i=n(7393);function r(){return function(t){return t.lift(new a(t))}}var a=function(){function t(e){_classCallCheck(this,t),this.connectable=e}return _createClass(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new o(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).connectable=i,r}return _createClass(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,i&&(!n||i===n)&&i.unsubscribe()}}else this.connection=null}}]),n}(i.L)},8819:function(t,e,n){"use strict";n.d(e,{B:function(){return s}});var i=n(2441),r=n(1307),a=n(9765);function o(){return new a.xQ}function s(){return function(t){return(0,r.x)()(function(t,e){return function(e){var n;n="function"==typeof t?t:function(){return t};var r=Object.create(e,i.N);return r.source=e,r.subjectFactory=n,r}}(o)(t))}}},9673:function(t,e,n){"use strict";n.d(e,{R:function(){return s}});var i=n(7574),r=n(4581),a=n(6561),o=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.e;return _classCallCheck(this,n),(i=e.call(this)).source=t,i.delayTime=o,i.scheduler=s,(!(0,a.k)(o)||o<0)&&(i.delayTime=0),(!s||"function"!=typeof s.schedule)&&(i.scheduler=r.e),i}return _createClass(n,[{key:"_subscribe",value:function(t){return this.scheduler.schedule(n.dispatch,this.delayTime,{source:this.source,subscriber:t})}}],[{key:"create",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.e;return new n(t,e,i)}},{key:"dispatch",value:function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))}}]),n}(i.y);function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){return n.lift(new l(t,e))}}var l=function(){function t(e,n){_classCallCheck(this,t),this.scheduler=e,this.delay=n}return _createClass(t,[{key:"call",value:function(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}]),t}()},8307:function(t,e,n){"use strict";n.d(e,{b:function(){return o}});var i=n(7393),r=n(8640),a=n(9105);function o(t,e,n){return function(i){return i.lift(new s(t,e,n))}}var s=function(){function t(e,n,i){_classCallCheck(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),l=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,o,s){var l;return _classCallCheck(this,n),(l=e.call(this,t))._tapNext=r.Z,l._tapError=r.Z,l._tapComplete=r.Z,l._tapError=o||r.Z,l._tapComplete=s||r.Z,(0,a.m)(i)?(l._context=_assertThisInitialized(l),l._tapNext=i):i&&(l._context=i,l._tapNext=i.next||r.Z,l._tapError=i.error||r.Z,l._tapComplete=i.complete||r.Z),l}return _createClass(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(i.L)},4087:function(t,e,n){"use strict";n.d(e,{r:function(){return a}});var i=n(7574),r=n(5319);function a(t,e){return new i.y(function(n){var i=new r.w,a=0;return i.add(e.schedule(function(){a!==t.length?(n.next(t[a++]),n.closed||i.add(this.schedule())):n.complete()})),i})}},6465:function(t,e,n){"use strict";n.d(e,{o:function(){return i}});var i=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.pending=!1,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this)}return _createClass(n,[{key:"schedule",value:function(t){return this}}]),n}(n(5319).w))},6102:function(t,e,n){"use strict";n.d(e,{v:function(){return a}});var i,r=((i=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;_classCallCheck(this,t),this.SchedulerAction=e,this.now=n}return _createClass(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}()).now=function(){return Date.now()},i),a=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.now;return _classCallCheck(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==_assertThisInitialized(i)?n.delegate.now():a()})).actions=[],i.active=!1,i.scheduled=void 0,i}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(r)},4581:function(t,e,n){"use strict";n.d(e,{e:function(){return h},E:function(){return c}});var i=1,r=Promise.resolve(),a={};function o(t){return t in a&&(delete a[t],!0)}var s=function(t){var e=i++;return a[e]=!0,r.then(function(){return o(e)&&t()}),e},l=function(t){o(t)},u=n(6465),c=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n(6102).v))(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=s(t.flush.bind(t,null))))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(l(e),t.scheduled=void 0)}}]),n}(u.o)),h=c},3637:function(t,e,n){"use strict";n.d(e,{z:function(){return r},P:function(){return a}});var i=n(6465),r=new(n(6102).v)(i.o),a=r},7771:function(t,e,n){"use strict";n.d(e,{c:function(){return a},N:function(){return r}});var i=n(6465),r=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(n(6102).v))(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return _createClass(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e>0?_get(_getPrototypeOf(n.prototype),"schedule",this).call(this,t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}},{key:"execute",value:function(t,e){return e>0||this.closed?_get(_getPrototypeOf(n.prototype),"execute",this).call(this,t,e):this._execute(t,e)}},{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0||null===i&&this.delay>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):t.flush(this)}}]),n}(i.o)),a=r},377:function(t,e,n){"use strict";n.d(e,{hZ:function(){return i}});var i="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(t,e,n){"use strict";n.d(e,{L:function(){return i}});var i="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(t,e,n){"use strict";n.d(e,{b:function(){return i}});var i="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:function(t,e,n){"use strict";n.d(e,{N:function(){return i}});var i=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},4449:function(t,e,n){"use strict";function i(t){setTimeout(function(){throw t},0)}n.d(e,{z:function(){return i}})},4487:function(t,e,n){"use strict";function i(t){return t}n.d(e,{y:function(){return i}})},9796:function(t,e,n){"use strict";n.d(e,{k:function(){return i}});var i=Array.isArray||function(t){return t&&"number"==typeof t.length}},9489:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var i=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},9105:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.d(e,{m:function(){return i}})},6561:function(t,e,n){"use strict";n.d(e,{k:function(){return r}});var i=n(9796);function r(t){return!(0,i.k)(t)&&t-parseFloat(t)+1>=0}},1555:function(t,e,n){"use strict";function i(t){return null!==t&&"object"==typeof t}n.d(e,{K:function(){return i}})},4072:function(t,e,n){"use strict";function i(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:function(){return i}})},4869:function(t,e,n){"use strict";function i(t){return t&&"function"==typeof t.schedule}n.d(e,{K:function(){return i}})},8640:function(t,e,n){"use strict";function i(){}n.d(e,{Z:function(){return i}})},7444:function(t,e,n){"use strict";n.d(e,{s:function(){return c}});var i=n(5015),r=n(4449),a=n(377),o=n(6554),s=n(9489),l=n(4072),u=n(1555),c=function(t){if(t&&"function"==typeof t[o.L])return function(t){return function(e){var n=t[o.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}(t);if((0,s.z)(t))return(0,i.V)(t);if((0,l.t)(t))return function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,r.z),e}}(t);if(t&&"function"==typeof t[a.hZ])return function(t){return function(e){for(var n=t[a.hZ]();;){var i=void 0;try{i=n.next()}catch(r){return e.error(r),e}if(i.done){e.complete();break}if(e.next(i.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}}(t);var e="You provided ".concat((0,u.K)(t)?"an invalid object":"'".concat(t,"'")," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.");throw new TypeError(e)}},5015:function(t,e,n){"use strict";n.d(e,{V:function(){return i}});var i=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}}},2858:function(t,e,n){"use strict";var i=n(7716),r=null;function a(){return r}var o=new i.OlP("DocumentToken"),s=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:l,token:t,providedIn:"platform"}),t}();function l(){return(0,i.LFG)(c)}var u=new i.OlP("Location Initialized"),c=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i._init(),i}return _createClass(n,[{key:"_init",value:function(){this.location=window.location,this._history=window.history}},{key:"getBaseHrefFromDOM",value:function(){return a().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){var e=a().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),function(){return e.removeEventListener("popstate",t)}}},{key:"onHashChange",value:function(t){var e=a().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),function(){return e.removeEventListener("hashchange",t)}}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"historyGo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._history.go(t)}},{key:"getState",value:function(){return this._history.state}}]),n}(s);return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=(0,i.Yz7)({factory:d,token:t,providedIn:"platform"}),t}();function h(){return!!window.history.pushState}function d(){return new c((0,i.LFG)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}var v=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"historyGo",value:function(t){throw new Error("Not implemented")}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:m,token:t,providedIn:"root"}),t}();function m(t){var e=(0,i.LFG)(o).location;return new y((0,i.LFG)(s),e&&e.origin||"")}var _=new i.OlP("appBaseHref"),y=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;if(_classCallCheck(this,n),(r=e.call(this))._platformLocation=t,r._removeListenerFns=[],null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,_possibleConstructorReturn(r)}return _createClass(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return f(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+g(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+g(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(_,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),b=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._platformLocation=t,r._baseHref="",r._removeListenerFns=[],null!=i&&(r._baseHref=i),r}return _createClass(n,[{key:"ngOnDestroy",value:function(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}},{key:"onPopState",value:function(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){var t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}},{key:"prepareExternalUrl",value:function(t){var e=f(this._baseHref,t);return e.length>0?"#"+e:e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+g(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+g(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformLocation).historyGo)||void 0===e||e.call(t,n)}}]),n}(v);return t.\u0275fac=function(e){return new(e||t)(i.LFG(s),i.LFG(_,8))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),x=function(){var t=function(){function t(e,n){var r=this;_classCallCheck(this,t),this._subject=new i.vpe,this._urlChangeListeners=[],this._platformStrategy=e;var a=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=p(k(a)),this._platformStrategy.onPopState(function(t){r._subject.emit({url:r.path(!0),pop:!0,state:t.state,type:t.type})})}return _createClass(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+g(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,k(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"historyGo",value:function(){var t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;null===(e=(t=this._platformStrategy).historyGo)||void 0===e||e.call(t,n)}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(v),i.LFG(s))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=(0,i.Yz7)({factory:w,token:t,providedIn:"root"}),t}();function w(){return new x((0,i.LFG)(v),(0,i.LFG)(s))}function k(t){return t.replace(/\/index.html$/,"")}var C=((C=C||{})[C.Zero=0]="Zero",C[C.One=1]="One",C[C.Two=2]="Two",C[C.Few=3]="Few",C[C.Many=4]="Many",C[C.Other=5]="Other",C),M=i.kL8,T=_createClass(function t(){_classCallCheck(this,t)}),S=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).locale=t,i}return _createClass(n,[{key:"getPluralCategory",value:function(t,e){switch(M(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}]),n}(T);return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.soG))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}();function A(t,e){e=encodeURIComponent(e);var n,i=_createForOfIteratorHelper(t.split(";"));try{for(i.s();!(n=i.n()).done;){var r=n.value,a=r.indexOf("="),o=_slicedToArray(-1==a?[r,""]:[r.slice(0,a),r.slice(a+1)],2),s=o[0],l=o[1];if(s.trim()===e)return decodeURIComponent(l)}}catch(u){i.e(u)}finally{i.f()}return null}var E=function(){function t(e,n,i,r){_classCallCheck(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return _createClass(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),P=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _createClass(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(n){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat(function(t){return t.name||typeof t}(t),"'. NgFor only supports binding to Iterables such as Arrays."))}}if(this._differ){var e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var a=e._viewContainer.createEmbeddedView(e._template,new E(null,e._ngForOf,-1,-1),null===r?void 0:r),o=new I(t,a);n.push(o)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var s=e._viewContainer.get(i);e._viewContainer.move(s,r);var l=new I(t,s);n.push(l)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,a=this._viewContainer.length;r<a;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=a,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc),i.Y36(i.ZZ4))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),I=_createClass(function t(e,n){_classCallCheck(this,t),this.record=e,this.view=n}),O=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._viewContainer=e,this._context=new R,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){L("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){L("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.s_b),i.Y36(i.Rgc))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),R=_createClass(function t(){_classCallCheck(this,t),this.$implicit=null,this.ngIf=null});function L(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat((0,i.AaK)(e),"'."))}var D=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),N=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),Z=new D,F=function(){var t=function(){function t(e){_classCallCheck(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _createClass(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if((0,i.QGY)(e))return N;if((0,i.F4k)(e))return Z;throw function(t,e){return Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat((0,i.AaK)(t),"'"))}(t,e)}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO,16))},t.\u0275pipe=i.Yjl({name:"async",type:t,pure:!1}),t}(),U=function(){var t=function(){function t(e){_classCallCheck(this,t),this.differs=e,this.keyValues=[],this.compareFn=B}return _createClass(t,[{key:"transform",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:B;if(!t||!(t instanceof Map)&&"object"!=typeof t)return null;this.differ||(this.differ=this.differs.find(t).create());var i=this.differ.diff(t),r=n!==this.compareFn;return i&&(this.keyValues=[],i.forEachItem(function(t){e.keyValues.push(function(t,e){return{key:t,value:e}}(t.key,t.currentValue))})),(i||r)&&(this.keyValues.sort(n),this.compareFn=n),this.keyValues}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.aQg,16))},t.\u0275pipe=i.Yjl({name:"keyvalue",type:t,pure:!1}),t}();function B(t,e){var n=t.key,i=e.key;if(n===i)return 0;if(void 0===n)return 1;if(void 0===i)return-1;if(null===n)return 1;if(null===i)return-1;if("string"==typeof n&&"string"==typeof i)return n<i?-1:1;if("number"==typeof n&&"number"==typeof i)return n-i;if("boolean"==typeof n&&"boolean"==typeof i)return n<i?-1:1;var r=String(n),a=String(i);return r==a?0:r<a?-1:1}var z=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:T,useClass:S}]}),t}(),q=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275prov=(0,i.Yz7)({token:t,providedIn:"root",factory:function(){return new H((0,i.LFG)(o),window)}}),t}(),H=function(){function t(e,n){_classCallCheck(this,t),this.document=e,this.window=n,this.offset=function(){return[0,0]}}return _createClass(t,[{key:"setOffset",value:function(t){this.offset=Array.isArray(t)?function(){return t}:t}},{key:"getScrollPosition",value:function(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}},{key:"scrollToPosition",value:function(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}},{key:"scrollToAnchor",value:function(t){if(this.supportsScrolling()){var e=function(t,e){var n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow))for(var i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;r;){var a=r.shadowRoot;if(a){var o=a.getElementById(e)||a.querySelector('[name="'.concat(e,'"]'));if(o)return o}r=i.nextNode()}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}}},{key:"setHistoryScrollRestoration",value:function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}},{key:"scrollToElement",value:function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}},{key:"attemptFocus",value:function(t){return t.focus(),this.document.activeElement===t}},{key:"supportScrollRestoration",value:function(){try{if(!this.supportsScrolling())return!1;var t=G(this.window.history)||G(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}},{key:"supportsScrolling",value:function(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}]),t}();function G(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}var V,W=_createClass(function t(){_classCallCheck(this,t)}),j=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){t.parentNode&&t.parentNode.removeChild(t)}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getBaseHref",value:function(t){var e=(Y=Y||document.querySelector("base"))?Y.getAttribute("href"):null;return null==e?null:function(t){(V=V||document.createElement("a")).setAttribute("href",t);var e=V.pathname;return"/"===e.charAt(0)?e:"/".concat(e)}(e)}},{key:"resetBaseElement",value:function(){Y=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"getCookie",value:function(t){return A(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,r||(r=t)}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).supportsDOMEvents=!0,t}return _createClass(n)}(function(){return _createClass(function t(){_classCallCheck(this,t)})}())),Y=null,Q=new i.OlP("TRANSITION_ID"),J=[{provide:i.ip1,useFactory:function(t,e,n){return function(){n.get(i.CZH).donePromise.then(function(){for(var n=a(),i=e.querySelectorAll('style[ng-transition="'.concat(t,'"]')),r=0;r<i.length;r++)n.remove(i[r])})}},deps:[Q,o,i.zs3],multi:!0}],X=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addToWindow",value:function(t){i.dqk.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},i.dqk.getAllAngularTestabilities=function(){return t.getAllTestabilities()},i.dqk.getAllAngularRootElements=function(){return t.getAllRootElements()},i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(function(t){var e=i.dqk.getAllAngularTestabilities(),n=e.length,r=!1,a=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(a)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?a().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){(0,i.VLi)(new t)}}]),t}(),$=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),K=new i.OlP("EventManagerPlugins"),tt=function(){var t=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=i}),this._plugins=e.slice().reverse()}return _createClass(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(K),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),et=function(){function t(e){_classCallCheck(this,t),this._doc=e}return _createClass(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=a().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),nt=function(){var t=function(){function t(){_classCallCheck(this,t),this._stylesSet=new Set}return _createClass(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),it=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._doc=t,i._hostNodes=new Map,i._hostNodes.set(t.head,[]),i}return _createClass(n,[{key:"_addStylesToHost",value:function(t,e,n){var i=this;t.forEach(function(t){var r=i._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}},{key:"addHost",value:function(t){var e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}},{key:"removeHost",value:function(t){var e=this._hostNodes.get(t);e&&e.forEach(rt),this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n,i){e._addStylesToHost(t,i,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(t){return t.forEach(rt)})}}]),n}(nt);return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}();function rt(t){a().remove(t)}var at={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ot=/%COMP%/g;function st(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?st(t,r,n):(r=r.replace(ot,t),n.push(r))}return n}function lt(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var ut=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ct(e)}return _createClass(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.ifc.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new ht(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case i.ifc.ShadowDom:return new dt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=st(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(tt),i.LFG(it),i.LFG(i.AFp))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),ct=function(){function t(e){_classCallCheck(this,t),this.eventManager=e,this.data=Object.create(null)}return _createClass(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(at[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=at[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=at[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,r){r&(i.JOm.DashCase|i.JOm.Important)?t.style.setProperty(e,n,r&i.JOm.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&i.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lt(n)):this.eventManager.addEventListener(t,e,lt(n))}}]),t}(),ht=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;_classCallCheck(this,n),(o=e.call(this,t)).component=r;var s=st(a+"-"+r.id,r.styles,[]);return i.addStyles(s),o.contentAttr="_ngcontent-%COMP%".replace(ot,a+"-"+r.id),o.hostAttr="_nghost-%COMP%".replace(ot,a+"-"+r.id),o}return _createClass(n,[{key:"applyToHost",value:function(t){_get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var i=_get(_getPrototypeOf(n.prototype),"createElement",this).call(this,t,e);return _get(_getPrototypeOf(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(ct),dt=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;_classCallCheck(this,n),(o=e.call(this,t)).sharedStylesHost=i,o.hostEl=r,o.shadowRoot=r.attachShadow({mode:"open"}),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=st(a.id,a.styles,[]),l=0;l<s.length;l++){var u=document.createElement("style");u.textContent=s[l],o.shadowRoot.appendChild(u)}return o}return _createClass(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,i){return _get(_getPrototypeOf(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,i)}},{key:"removeChild",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(_get(_getPrototypeOf(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(ct),ft=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this;return t.addEventListener(e,n,!1),function(){return i.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}(et);return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),pt=["alt","control","meta","shift"],gt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},mt={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},_t=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,i){var r=n.parseEventName(e),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return a().onAndCancel(t,r.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(e.pop()),a="";if(pt.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),a+=t+".")}),a+=r,0!=e.length||0===r.length)return null;var o={};return o.domEventName=i,o.fullKey=a,o}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&vt.hasOwnProperty(e)&&(e=vt[e]))}return gt[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),pt.forEach(function(i){i!=n&&mt[i](t)&&(e+=i+".")}),e+=n}},{key:"eventCallback",value:function(t,e,i){return function(r){n.getEventFullKey(r)===t&&i.runGuarded(function(){return e(r)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}(et);return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),yt=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:"browser"},{provide:i.g9A,useValue:function(){j.makeCurrent(),X.init()},multi:!0},{provide:o,useFactory:function(){return(0,i.RDi)(document),document},deps:[]}]),bt=[[],{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function(){return new i.qLn},deps:[]},{provide:K,useClass:ft,multi:!0,deps:[o,i.R0b,i.Lbi]},{provide:K,useClass:_t,multi:!0,deps:[o]},[],{provide:ut,useClass:ut,deps:[tt,it,i.AFp]},{provide:i.FYo,useExisting:ut},{provide:nt,useExisting:it},{provide:it,useClass:it,deps:[o]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:tt,useClass:tt,deps:[K,i.R0b]},{provide:W,useClass:$,deps:[]},[]],xt=function(){var t=function(){function t(e){if(_classCallCheck(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:i.AFp,useValue:e.appId},{provide:Q,useExisting:i.AFp},J]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(t,12))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:bt,imports:[z,i.hGG]}),t}();"undefined"!=typeof window&&window;var wt=n(4402),kt=n(7574),Ct=n(9796),Mt=n(8002),Tt=n(1555);function St(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){var i=e[0];if((0,Ct.k)(i))return At(i,null);if((0,Tt.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){var r=Object.keys(i);return At(r.map(function(t){return i[t]}),r)}}if("function"==typeof e[e.length-1]){var a=e.pop();return At(e=1===e.length&&(0,Ct.k)(e[0])?e[0]:e,null).pipe((0,Mt.U)(function(t){return a.apply(void 0,_toConsumableArray(t))}))}return At(e,null)}function At(t,e){return new kt.y(function(n){var i=t.length;if(0!==i)for(var r=new Array(i),a=0,o=0,s=function(s){var l=(0,wt.D)(t[s]),u=!1;n.add(l.subscribe({next:function(t){u||(u=!0,o++),r[s]=t},error:function(t){return n.error(t)},complete:function(){(++a===i||!u)&&(o===i&&n.next(e?e.reduce(function(t,e,n){return t[e]=r[n],t},{}):r),n.complete())}}))},l=0;l<i;l++)s(l);else n.complete()})}var Et=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._renderer=e,this._elementRef=n,this.onChange=function(t){},this.onTouched=function(){}}return _createClass(t,[{key:"setProperty",value:function(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"registerOnChange",value:function(t){this.onChange=t}},{key:"setDisabledState",value:function(t){this.setProperty("disabled",t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t}),t}(),Pt=function(){var t,e=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(Et);return e.\u0275fac=function(n){return(t||(t=i.n5z(e)))(n||e)},e.\u0275dir=i.lG2({type:e,features:[i.qOj]}),e}(),It=new i.OlP("NgValueAccessor"),Ot={provide:It,useExisting:(0,i.Gpc)(function(){return Rt}),multi:!0},Rt=function(){var t,e=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"writeValue",value:function(t){this.setProperty("checked",t)}}]),n}(Pt);return e.\u0275fac=function(n){return(t||(t=i.n5z(e)))(n||e)},e.\u0275dir=i.lG2({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&i.NdJ("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[i._Bn([Ot]),i.qOj]}),e}(),Lt={provide:It,useExisting:(0,i.Gpc)(function(){return Nt}),multi:!0},Dt=new i.OlP("CompositionEventMode"),Nt=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var o;return _classCallCheck(this,n),(o=e.call(this,t,i))._compositionMode=r,o._composing=!1,null==o._compositionMode&&(o._compositionMode=!function(){var t=a()?a().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}()),o}return _createClass(n,[{key:"writeValue",value:function(t){this.setProperty("value",null==t?"":t)}},{key:"_handleInput",value:function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}]),n}(Et);return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(Dt,8))},t.\u0275dir=i.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&i.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[i._Bn([Lt]),i.qOj]}),t}();function Zt(t){return null==t||0===t.length}function Ft(t){return null!=t&&"number"==typeof t.length}var Ut=new i.OlP("NgValidators"),Bt=new i.OlP("NgAsyncValidators"),zt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"min",value:function(t){return e=t,function(t){if(Zt(t.value)||Zt(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null};var e}},{key:"max",value:function(t){return e=t,function(t){if(Zt(t.value)||Zt(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null};var e}},{key:"required",value:function(t){return Ht(t)}},{key:"requiredTrue",value:function(t){return!0===t.value?null:{required:!0}}},{key:"email",value:function(t){return Gt(t)}},{key:"minLength",value:function(t){return e=t,function(t){return Zt(t.value)||!Ft(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null};var e}},{key:"maxLength",value:function(t){return e=t,function(t){return Ft(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null};var e}},{key:"pattern",value:function(t){return function(t){return t?("string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),function(t){if(Zt(t.value))return null;var i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}):Vt;var e,n}(t)}},{key:"nullValidator",value:function(t){return null}},{key:"compose",value:function(t){return Xt(t)}},{key:"composeAsync",value:function(t){return Kt(t)}}]),t}();function Ht(t){return Zt(t.value)?{required:!0}:null}function Gt(t){return Zt(t.value)||zt.test(t.value)?null:{email:!0}}function Vt(t){return null}function Wt(t){return null!=t}function jt(t){var e=(0,i.QGY)(t)?(0,wt.D)(t):t;return(0,i.CqO)(e),e}function Yt(t){var e={};return t.forEach(function(t){e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Qt(t,e){return e.map(function(e){return e(t)})}function Jt(t){return t.map(function(t){return function(t){return!t.validate}(t)?t:function(e){return t.validate(e)}})}function Xt(t){if(!t)return null;var e=t.filter(Wt);return 0==e.length?null:function(t){return Yt(Qt(t,e))}}function $t(t){return null!=t?Xt(Jt(t)):null}function Kt(t){if(!t)return null;var e=t.filter(Wt);return 0==e.length?null:function(t){return St(Qt(t,e).map(jt)).pipe((0,Mt.U)(Yt))}}function te(t){return null!=t?Kt(Jt(t)):null}function ee(t,e){return null===t?[e]:Array.isArray(t)?[].concat(_toConsumableArray(t),[e]):[t,e]}function ne(t){return t._rawValidators}function ie(t){return t._rawAsyncValidators}function re(t){return t?Array.isArray(t)?t:[t]:[]}function ae(t,e){return Array.isArray(t)?t.includes(e):t===e}function oe(t,e){var n=re(e);return re(t).forEach(function(t){ae(n,t)||n.push(t)}),n}function se(t,e){return re(e).filter(function(e){return!ae(t,e)})}var le=function(){var t=function(){function t(){_classCallCheck(this,t),this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}return _createClass(t,[{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}},{key:"_setValidators",value:function(t){this._rawValidators=t||[],this._composedValidatorFn=$t(this._rawValidators)}},{key:"_setAsyncValidators",value:function(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=te(this._rawAsyncValidators)}},{key:"validator",get:function(){return this._composedValidatorFn||null}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn||null}},{key:"_registerOnDestroy",value:function(t){this._onDestroyCallbacks.push(t)}},{key:"_invokeOnDestroyCallbacks",value:function(){this._onDestroyCallbacks.forEach(function(t){return t()}),this._onDestroyCallbacks=[]}},{key:"reset",value:function(t){this.control&&this.control.reset(t)}},{key:"hasError",value:function(t,e){return!!this.control&&this.control.hasError(t,e)}},{key:"getError",value:function(t,e){return this.control?this.control.getError(t,e):null}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t}),t}(),ue=function(){var t,e=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(le);return e.\u0275fac=function(n){return(t||(t=i.n5z(e)))(n||e)},e.\u0275dir=i.lG2({type:e,features:[i.qOj]}),e}(),ce=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments))._parent=null,t.name=null,t.valueAccessor=null,t}return _createClass(n)}(le),he=function(){function t(e){_classCallCheck(this,t),this._cd=e}return _createClass(t,[{key:"is",value:function(t){var e,n,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===i?void 0:i[t])}}]),t}(),de=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n)}(he);return t.\u0275fac=function(e){return new(e||t)(i.Y36(ce,2))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&i.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[i.qOj]}),t}(),fe=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n)}(he);return t.\u0275fac=function(e){return new(e||t)(i.Y36(ue,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&i.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[i.qOj]}),t}();function pe(t,e){return[].concat(_toConsumableArray(e.path),[t])}function ge(t,e){_e(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&be(t,e)})}(t,e),function(t,e){var n=function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(function(){t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&be(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){var n=function(t){e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(function(){t._unregisterOnDisabledChange(n)})}}(t,e)}function ve(t,e){var n=function(){};e.valueAccessor&&(e.valueAccessor.registerOnChange(n),e.valueAccessor.registerOnTouched(n)),ye(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(function(){}))}function me(t,e){t.forEach(function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _e(t,e){var n=ne(t);null!==e.validator?t.setValidators(ee(n,e.validator)):"function"==typeof n&&t.setValidators([n]);var i=ie(t);null!==e.asyncValidator?t.setAsyncValidators(ee(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);var r=function(){return t.updateValueAndValidity()};me(e._rawValidators,r),me(e._rawAsyncValidators,r)}function ye(t,e){var n=!1;if(null!==t){if(null!==e.validator){var i=ne(t);if(Array.isArray(i)&&i.length>0){var r=i.filter(function(t){return t!==e.validator});r.length!==i.length&&(n=!0,t.setValidators(r))}}if(null!==e.asyncValidator){var a=ie(t);if(Array.isArray(a)&&a.length>0){var o=a.filter(function(t){return t!==e.asyncValidator});o.length!==a.length&&(n=!0,t.setAsyncValidators(o))}}}var s=function(){};return me(e._rawValidators,s),me(e._rawAsyncValidators,s),n}function be(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function xe(t,e){_e(t,e)}function we(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function ke(t,e){t._syncPendingControls(),e.forEach(function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function Ce(t,e){return e?(Array.isArray(e),e.forEach(function(t){t.constructor===Nt?n=t:function(t){return Object.getPrototypeOf(t.constructor)===Pt}(t)?i=t:r=t}),r||i||n||null):null;var n,i,r}function Me(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Te="VALID",Se="INVALID",Ae="PENDING",Ee="DISABLED";function Pe(t){return(Le(t)?t.validators:t)||null}function Ie(t){return Array.isArray(t)?$t(t):t||null}function Oe(t,e){return(Le(e)?e.asyncValidators:t)||null}function Re(t){return Array.isArray(t)?te(t):t||null}function Le(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var De=function(){function t(e,n){_classCallCheck(this,t),this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=function(){},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=n,this._composedValidatorFn=Ie(this._rawValidators),this._composedAsyncValidatorFn=Re(this._rawAsyncValidators)}return _createClass(t,[{key:"validator",get:function(){return this._composedValidatorFn},set:function(t){this._rawValidators=this._composedValidatorFn=t}},{key:"asyncValidator",get:function(){return this._composedAsyncValidatorFn},set:function(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return this.status===Te}},{key:"invalid",get:function(){return this.status===Se}},{key:"pending",get:function(){return this.status==Ae}},{key:"disabled",get:function(){return this.status===Ee}},{key:"enabled",get:function(){return this.status!==Ee}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"setValidators",value:function(t){this._rawValidators=t,this._composedValidatorFn=Ie(t)}},{key:"setAsyncValidators",value:function(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Re(t)}},{key:"addValidators",value:function(t){this.setValidators(oe(t,this._rawValidators))}},{key:"addAsyncValidators",value:function(t){this.setAsyncValidators(oe(t,this._rawAsyncValidators))}},{key:"removeValidators",value:function(t){this.setValidators(se(t,this._rawValidators))}},{key:"removeAsyncValidators",value:function(t){this.setAsyncValidators(se(t,this._rawAsyncValidators))}},{key:"hasValidator",value:function(t){return ae(this._rawValidators,t)}},{key:"hasAsyncValidator",value:function(t){return ae(this._rawAsyncValidators,t)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild(function(t){return t.markAllAsTouched()})}},{key:"markAsUntouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild(function(t){t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"markAsDirty",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}},{key:"markAsPristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild(function(t){t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"markAsPending",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status=Ae,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}},{key:"disable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status=Ee,this.errors=null,this._forEachChild(function(e){e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!0)})}},{key:"enable",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this._parentMarkedDirty(t.onlySelf);this.status=Te,this._forEachChild(function(e){e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(function(t){return t(!1)})}},{key:"_updateAncestors",value:function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(t){this._parent=t}},{key:"updateValueAndValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Te||this.status===Ae)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}},{key:"_updateTreeValidity",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild(function(e){return e._updateTreeValidity(t)}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?Ee:Te}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(t){var e=this;if(this.asyncValidator){this.status=Ae,this._hasOwnPendingAsyncValidator=!0;var n=jt(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(function(n){e._hasOwnPendingAsyncValidator=!1,e.setErrors(n,{emitEvent:t})})}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}},{key:"setErrors",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}},{key:"get",value:function(t){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;var i=t;return e.forEach(function(t){i=i instanceof Ze?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Fe&&i.at(t)||null}),i}(this,t)}},{key:"getError",value:function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}},{key:"hasError",value:function(t,e){return!!this.getError(t,e)}},{key:"root",get:function(){for(var t=this;t._parent;)t=t._parent;return t}},{key:"_updateControlsErrors",value:function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}},{key:"_initObservables",value:function(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?Ee:this.errors?Se:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ae)?Ae:this._anyControlsHaveStatus(Se)?Se:Te}},{key:"_anyControlsHaveStatus",value:function(t){return this._anyControls(function(e){return e.status===t})}},{key:"_anyControlsDirty",value:function(){return this._anyControls(function(t){return t.dirty})}},{key:"_anyControlsTouched",value:function(){return this._anyControls(function(t){return t.touched})}},{key:"_updatePristine",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}},{key:"_updateTouched",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}},{key:"_isBoxedValue",value:function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}},{key:"_registerOnCollectionChange",value:function(t){this._onCollectionChange=t}},{key:"_setUpdateStrategy",value:function(t){Le(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}},{key:"_parentMarkedDirty",value:function(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}]),t}(),Ne=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this,Pe(r),Oe(a,r)))._onChange=[],t._applyFormState(i),t._setUpdateStrategy(r),t._initObservables(),t.updateValueAndValidity({onlySelf:!0,emitEvent:!!t.asyncValidator}),t}return _createClass(n,[{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(function(t){return t(e.value,!1!==n.emitViewToModelChange)}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(t,e)}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(t){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(t){this._onChange.push(t)}},{key:"_unregisterOnChange",value:function(t){Me(this._onChange,t)}},{key:"registerOnDisabledChange",value:function(t){this._onDisabledChange.push(t)}},{key:"_unregisterOnDisabledChange",value:function(t){Me(this._onDisabledChange,t)}},{key:"_forEachChild",value:function(t){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}]),n}(De),Ze=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,Pe(i),Oe(r,i))).controls=t,a._initObservables(),a._setUpdateStrategy(i),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!a.asyncValidator}),a}return _createClass(n,[{key:"registerControl",value:function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}},{key:"addControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"removeControl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"contains",value:function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),Object.keys(t).forEach(function(i){e._throwIfControlMissing(i),e.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(Object.keys(t).forEach(function(i){e.controls[i]&&e.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this._reduceChildren({},function(t,e,n){return t[n]=e instanceof Ne?e.value:e.getRawValue(),t})}},{key:"_syncPendingControls",value:function(){var t=this._reduceChildren(!1,function(t,e){return!!e._syncPendingControls()||t});return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: ".concat(t,"."))}},{key:"_forEachChild",value:function(t){var e=this;Object.keys(this.controls).forEach(function(n){var i=e.controls[n];i&&t(i,n)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)})}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(t){for(var e=0,n=Object.keys(this.controls);e<n.length;e++){var i=n[e],r=this.controls[i];if(this.contains(i)&&t(r))return!0}return!1}},{key:"_reduceValue",value:function(){var t=this;return this._reduceChildren({},function(e,n,i){return(n.enabled||t.disabled)&&(e[i]=n.value),e})}},{key:"_reduceChildren",value:function(t,e){var n=t;return this._forEachChild(function(t,i){n=e(n,t,i)}),n}},{key:"_allControlsDisabled",value:function(){for(var t=0,e=Object.keys(this.controls);t<e.length;t++){var n=e[t];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))})}}]),n}(De),Fe=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,Pe(i),Oe(r,i))).controls=t,a._initObservables(),a._setUpdateStrategy(i),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!!a.asyncValidator}),a}return _createClass(n,[{key:"at",value:function(t){return this.controls[t]}},{key:"push",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}},{key:"insert",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}},{key:"removeAt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}},{key:"setControl",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.controls[t]&&this.controls[t]._registerOnCollectionChange(function(){}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}},{key:"length",get:function(){return this.controls.length}},{key:"setValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(t),t.forEach(function(t,i){e._throwIfControlMissing(i),e.at(i).setValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null!=t&&(t.forEach(function(t,i){e.at(i)&&e.at(i).patchValue(t,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}},{key:"reset",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild(function(n,i){n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}},{key:"getRawValue",value:function(){return this.controls.map(function(t){return t instanceof Ne?t.value:t.getRawValue()})}},{key:"clear",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.controls.length<1||(this._forEachChild(function(t){return t._registerOnCollectionChange(function(){})}),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}},{key:"_syncPendingControls",value:function(){var t=this.controls.reduce(function(t,e){return!!e._syncPendingControls()||t},!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}},{key:"_throwIfControlMissing",value:function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index ".concat(t))}},{key:"_forEachChild",value:function(t){this.controls.forEach(function(e,n){t(e,n)})}},{key:"_updateValue",value:function(){var t=this;this.value=this.controls.filter(function(e){return e.enabled||t.disabled}).map(function(t){return t.value})}},{key:"_anyControls",value:function(t){return this.controls.some(function(e){return e.enabled&&t(e)})}},{key:"_setUpControls",value:function(){var t=this;this._forEachChild(function(e){return t._registerControl(e)})}},{key:"_checkAllValuesPresent",value:function(t){this._forEachChild(function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))})}},{key:"_allControlsDisabled",value:function(){var t,e=_createForOfIteratorHelper(this.controls);try{for(e.s();!(t=e.n()).done;){if(t.value.enabled)return!1}}catch(n){e.e(n)}finally{e.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}]),n}(De),Ue={provide:ue,useExisting:(0,i.Gpc)(function(){return ze})},Be=Promise.resolve(null),ze=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var a;return _classCallCheck(this,n),(a=e.call(this)).submitted=!1,a._directives=[],a.ngSubmit=new i.vpe,a.form=new Ze({},$t(t),te(r)),a}return _createClass(n,[{key:"ngAfterViewInit",value:function(){this._setUpdateStrategy()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"controls",get:function(){return this.form.controls}},{key:"addControl",value:function(t){var e=this;Be.then(function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),ge(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)})}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){var e=this;Be.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name),Me(e._directives,t)})}},{key:"addFormGroup",value:function(t){var e=this;Be.then(function(){var n=e._findContainer(t.path),i=new Ze({});xe(i,t),n.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}},{key:"removeFormGroup",value:function(t){var e=this;Be.then(function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)})}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){var n=this;Be.then(function(){n.form.get(t.path).setValue(e)})}},{key:"setValue",value:function(t){this.control.setValue(t)}},{key:"onSubmit",value:function(t){return this.submitted=!0,ke(this.form,this._directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}},{key:"_findContainer",value:function(t){return t.pop(),t.length?this.form.get(t):this.form}}]),n}(ue);return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ut,10),i.Y36(Bt,10))},t.\u0275dir=i.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&i.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([Ue]),i.qOj]}),t}(),qe={provide:ce,useExisting:(0,i.Gpc)(function(){return Ge})},He=Promise.resolve(null),Ge=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,o){var s;return _classCallCheck(this,n),(s=e.call(this)).control=new Ne,s._registered=!1,s.update=new i.vpe,s._parent=t,s._setValidators(r),s._setAsyncValidators(a),s.valueAccessor=Ce(0,o),s}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),we(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"path",get:function(){return this._parent?pe(this.name,this._parent):[this.name]}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"_setUpControl",value:function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}},{key:"_setUpdateStrategy",value:function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}},{key:"_isStandalone",value:function(){return!this._parent||!(!this.options||!this.options.standalone)}},{key:"_setUpStandalone",value:function(){ge(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}},{key:"_checkForErrors",value:function(){this._isStandalone()||this._checkParentType(),this._checkName()}},{key:"_checkParentType",value:function(){}},{key:"_checkName",value:function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}},{key:"_updateValue",value:function(t){var e=this;He.then(function(){e.control.setValue(t,{emitViewToModelChange:!1})})}},{key:"_updateDisabled",value:function(t){var e=this,n=t.isDisabled.currentValue,i=""===n||n&&"false"!==n;He.then(function(){i&&!e.control.disabled?e.control.disable():!i&&e.control.disabled&&e.control.enable()})}}]),n}(ce);return t.\u0275fac=function(e){return new(e||t)(i.Y36(ue,9),i.Y36(Ut,10),i.Y36(Bt,10),i.Y36(It,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([qe]),i.qOj,i.TTD]}),t}(),Ve=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t}(),We={provide:It,useExisting:(0,i.Gpc)(function(){return Qe}),multi:!0},je=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t}(),Ye=function(){var t=function(){function t(){_classCallCheck(this,t),this._accessors=[]}return _createClass(t,[{key:"add",value:function(t,e){this._accessors.push([t,e])}},{key:"remove",value:function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}},{key:"select",value:function(t){var e=this;this._accessors.forEach(function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)})}},{key:"_isSameGroup",value:function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t},token:t,providedIn:je}),t}(),Qe=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;return _classCallCheck(this,n),(o=e.call(this,t,i))._registry=r,o._injector=a,o.onChange=function(){},o}return _createClass(n,[{key:"ngOnInit",value:function(){this._control=this._injector.get(ce),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(t){this._state=t===this.value,this.setProperty("checked",this._state)}},{key:"registerOnChange",value:function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}}},{key:"fireUncheck",value:function(t){this.writeValue(t)}},{key:"_checkName",value:function(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}]),n}(Pt);return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(Ye),i.Y36(i.zs3))},t.\u0275dir=i.lG2({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&i.NdJ("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[i._Bn([We]),i.qOj]}),t}(),Je=new i.OlP("NgModelWithFormControlWarning"),Xe={provide:ue,useExisting:(0,i.Gpc)(function(){return $e})},$e=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var a;return _classCallCheck(this,n),(a=e.call(this)).validators=t,a.asyncValidators=r,a.submitted=!1,a._onCollectionChange=function(){return a._updateDomValue()},a.directives=[],a.form=null,a.ngSubmit=new i.vpe,a._setValidators(t),a._setAsyncValidators(r),a}return _createClass(n,[{key:"ngOnChanges",value:function(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}},{key:"ngOnDestroy",value:function(){this.form&&(ye(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(function(){}))}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}},{key:"addControl",value:function(t){var e=this.form.get(t.path);return ge(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}},{key:"getControl",value:function(t){return this.form.get(t.path)}},{key:"removeControl",value:function(t){ve(t.control||null,t,!1),Me(this.directives,t)}},{key:"addFormGroup",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormGroup",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormGroup",value:function(t){return this.form.get(t.path)}},{key:"addFormArray",value:function(t){this._setUpFormContainer(t)}},{key:"removeFormArray",value:function(t){this._cleanUpFormContainer(t)}},{key:"getFormArray",value:function(t){return this.form.get(t.path)}},{key:"updateModel",value:function(t,e){this.form.get(t.path).setValue(e)}},{key:"onSubmit",value:function(t){return this.submitted=!0,ke(this.form,this.directives),this.ngSubmit.emit(t),!1}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(t){this.form.reset(t),this.submitted=!1}},{key:"_updateDomValue",value:function(){var t=this;this.directives.forEach(function(e){var n=e.control,i=t.form.get(e.path);n!==i&&(ve(n||null,e),i instanceof Ne&&(ge(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_setUpFormContainer",value:function(t){var e=this.form.get(t.path);xe(e,t),e.updateValueAndValidity({emitEvent:!1})}},{key:"_cleanUpFormContainer",value:function(t){if(this.form){var e=this.form.get(t.path);e&&function(t,e){return ye(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}},{key:"_updateRegistrations",value:function(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(function(){})}},{key:"_updateValidators",value:function(){_e(this.form,this),this._oldForm&&ye(this._oldForm,this)}},{key:"_checkFormPresent",value:function(){}}]),n}(ue);return t.\u0275fac=function(e){return new(e||t)(i.Y36(Ut,10),i.Y36(Bt,10))},t.\u0275dir=i.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&i.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[i._Bn([Xe]),i.qOj,i.TTD]}),t}(),Ke={provide:ce,useExisting:(0,i.Gpc)(function(){return tn})},tn=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r,a,o,s){var l;return _classCallCheck(this,n),(l=e.call(this))._ngModelWarningConfig=s,l._added=!1,l.update=new i.vpe,l._ngModelWarningSent=!1,l._parent=t,l._setValidators(r),l._setAsyncValidators(a),l.valueAccessor=Ce(0,o),l}return _createClass(n,[{key:"isDisabled",set:function(t){}},{key:"ngOnChanges",value:function(t){this._added||this._setUpControl(),we(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(t){this.viewModel=t,this.update.emit(t)}},{key:"path",get:function(){return pe(null==this.name?this.name:this.name.toString(),this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"_checkParentType",value:function(){}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}]),n}(ce);return t.\u0275fac=function(e){return new(e||t)(i.Y36(ue,13),i.Y36(Ut,10),i.Y36(Bt,10),i.Y36(It,10),i.Y36(Je,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[i._Bn([Ke]),i.qOj,i.TTD]}),t._ngModelWarningSentOnce=!1,t}(),en={provide:Ut,useExisting:(0,i.Gpc)(function(){return nn}),multi:!0},nn=function(){var t=function(){function t(){_classCallCheck(this,t),this._required=!1}return _createClass(t,[{key:"required",get:function(){return this._required},set:function(t){this._required=null!=t&&!1!==t&&"false"!="".concat(t),this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this.required?Ht(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&i.uIk("required",e.required?"":null)},inputs:{required:"required"},features:[i._Bn([en])]}),t}(),rn={provide:Ut,useExisting:(0,i.Gpc)(function(){return an}),multi:!0},an=function(){var t=function(){function t(){_classCallCheck(this,t),this._enabled=!1}return _createClass(t,[{key:"email",set:function(t){this._enabled=""===t||!0===t||"true"===t,this._onChange&&this._onChange()}},{key:"validate",value:function(t){return this._enabled?Gt(t):null}},{key:"registerOnValidatorChange",value:function(t){this._onChange=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[i._Bn([rn])]}),t}(),on=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[je]]}),t}(),sn=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[on]}),t}(),ln=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:[{provide:Je,useValue:e.warnOnNgModelWithFormControl}]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[on]}),t}(),un=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"group",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this._reduceControls(t),r=null,a=null;return null!=n&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(n)?(r=null!=n.validators?n.validators:null,a=null!=n.asyncValidators?n.asyncValidators:null,e=null!=n.updateOn?n.updateOn:void 0):(r=null!=n.validator?n.validator:null,a=null!=n.asyncValidator?n.asyncValidator:null)),new Ze(i,{asyncValidators:a,updateOn:e,validators:r})}},{key:"control",value:function(t,e,n){return new Ne(t,e,n)}},{key:"array",value:function(t,e,n){var i=this,r=t.map(function(t){return i._createControl(t)});return new Fe(r,e,n)}},{key:"_reduceControls",value:function(t){var e=this,n={};return Object.keys(t).forEach(function(i){n[i]=e._createControl(t[i])}),n}},{key:"_createControl",value:function(t){return t instanceof Ne||t instanceof Ze||t instanceof Fe?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,i.Yz7)({factory:function(){return new t},token:t,providedIn:ln}),t}(),cn=n(5917),hn=n(9773);function dn(t,e){return(0,hn.zg)(t,e,1)}var fn=n(7393);function pn(t,e){return function(n){return n.lift(new gn(t,e))}}var gn=function(){function t(e,n){_classCallCheck(this,t),this.predicate=e,this.thisArg=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new vn(t,this.predicate,this.thisArg))}}]),t}(),vn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t)).predicate=i,a.thisArg=r,a.count=0,a}return _createClass(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(fn.L),mn=_createClass(function t(){_classCallCheck(this,t)}),_n=_createClass(function t(){_classCallCheck(this,t)}),yn=function(){function t(e){var n=this;_classCallCheck(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),a=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(a):n.headers.set(r,[a])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))})}:this.headers=new Map}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var i=("a"===t.op?this.headers.get(e):void 0)||[];i.push.apply(i,_toConsumableArray(n)),this.headers.set(e,i);break;case"d":var r=t.value;if(r){var a=this.headers.get(e);if(!a)return;0===(a=a.filter(function(t){return-1===r.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,a)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),bn=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"encodeKey",value:function(t){return kn(t)}},{key:"encodeValue",value:function(t){return kn(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}(),xn=/%(\d[a-f0-9])/gi,wn={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function kn(t){return encodeURIComponent(t).replace(xn,function(t,e){var n;return null!==(n=wn[e])&&void 0!==n?n:t})}function Cn(t){return"".concat(t)}var Mn=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck(this,t),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new bn,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){var n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var i=t.indexOf("="),r=_slicedToArray(-1==i?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,i)),e.decodeValue(t.slice(i+1))],2),a=r[0],o=r[1],s=n.get(a)||[];s.push(o),n.set(a,s)}),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(function(t){var i=n.fromObject[t];e.map.set(t,Array.isArray(i)?i:[i])})):this.map=null}return _createClass(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var i=t[n];Array.isArray(i)?i.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(Cn(e.value)),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(Cn(e.value));-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}(),Tn=function(){function t(){_classCallCheck(this,t),this.map=new Map}return _createClass(t,[{key:"set",value:function(t,e){return this.map.set(t,e),this}},{key:"get",value:function(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}},{key:"delete",value:function(t){return this.map.delete(t),this}},{key:"keys",value:function(){return this.map.keys()}}]),t}();function Sn(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function An(t){return"undefined"!=typeof Blob&&t instanceof Blob}function En(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Pn=function(){function t(e,n,i,r){var a;if(_classCallCheck(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new yn),this.context||(this.context=new Tn),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new Mn,this.urlWithParams=n}return _createClass(t,[{key:"serializeBody",value:function(){return null===this.body?null:Sn(this.body)||An(this.body)||En(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof Mn?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||En(this.body)?null:An(this.body)?this.body.type||null:Sn(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mn?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n.method||this.method,r=n.url||this.url,a=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,l=void 0!==n.reportProgress?n.reportProgress:this.reportProgress,u=n.headers||this.headers,c=n.params||this.params,h=null!==(e=n.context)&&void 0!==e?e:this.context;return void 0!==n.setHeaders&&(u=Object.keys(n.setHeaders).reduce(function(t,e){return t.set(e,n.setHeaders[e])},u)),n.setParams&&(c=Object.keys(n.setParams).reduce(function(t,e){return t.set(e,n.setParams[e])},c)),new t(i,r,o,{params:c,headers:u,context:h,reportProgress:l,responseType:a,withCredentials:s})}}]),t}(),In=((In=In||{})[In.Sent=0]="Sent",In[In.UploadProgress=1]="UploadProgress",In[In.ResponseHeader=2]="ResponseHeader",In[In.DownloadProgress=3]="DownloadProgress",In[In.Response=4]="Response",In[In.User=5]="User",In),On=_createClass(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck(this,t),this.headers=e.headers||new yn,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}),Rn=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).type=In.ResponseHeader,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(On),Ln=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),(t=e.call(this,i)).type=In.Response,t.body=void 0!==i.body?i.body:null,t}return _createClass(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(On),Dn=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return _createClass(n)}(On);function Nn(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var Zn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.handler=e}return _createClass(t,[{key:"request",value:function(t,e){var n,i,r,a=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof Pn?n=t:(i=o.headers instanceof yn?o.headers:new yn(o.headers),o.params&&(r=o.params instanceof Mn?o.params:new Mn({fromObject:o.params})),n=new Pn(t,e,void 0!==o.body?o.body:null,{headers:i,context:o.context,params:r,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials}));var s=(0,cn.of)(n).pipe(dn(function(t){return a.handler.handle(t)}));if(t instanceof Pn||"events"===o.observe)return s;var l=s.pipe(pn(function(t){return t instanceof Ln}));switch(o.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe((0,Mt.U)(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return l.pipe((0,Mt.U)(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return l.pipe((0,Mt.U)(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return l.pipe((0,Mt.U)(function(t){return t.body}))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type ".concat(o.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Mn).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,Nn(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,Nn(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,Nn(n,e))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(mn))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),Fn=function(){function t(e,n){_classCallCheck(this,t),this.next=e,this.interceptor=n}return _createClass(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),Un=new i.OlP("HTTP_INTERCEPTORS"),Bn=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),zn=/^\)\]\}',?\n/,qn=function(){var t=function(){function t(e){_classCallCheck(this,t),this.xhrFactory=e}return _createClass(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new kt.y(function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(function(t,e){return i.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var a=t.responseType.toLowerCase();i.responseType="json"!==a?a:"text"}var o=t.serializeBody(),s=null,l=function(){if(null!==s)return s;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new yn(i.getAllResponseHeaders()),a=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return s=new Rn({headers:r,status:e,statusText:n,url:a})},u=function(){var e=l(),r=e.headers,a=e.status,o=e.statusText,s=e.url,u=null;204!==a&&(u=void 0===i.response?i.responseText:i.response),0===a&&(a=u?200:0);var c=a>=200&&a<300;if("json"===t.responseType&&"string"==typeof u){var h=u;u=u.replace(zn,"");try{u=""!==u?JSON.parse(u):null}catch(d){u=h,c&&(c=!1,u={error:d,text:u})}}c?(n.next(new Ln({body:u,headers:r,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new Dn({error:u,headers:r,status:a,statusText:o,url:s||void 0}))},c=function(t){var e=l().url,r=new Dn({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,d=function(e){h||(n.next(l()),h=!0);var r={type:In.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&!!i.responseText&&(r.partialText=i.responseText),n.next(r)},f=function(t){var e={type:In.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",u),i.addEventListener("error",c),i.addEventListener("timeout",c),i.addEventListener("abort",c),t.reportProgress&&(i.addEventListener("progress",d),null!==o&&i.upload&&i.upload.addEventListener("progress",f)),i.send(o),n.next({type:In.Sent}),function(){i.removeEventListener("error",c),i.removeEventListener("abort",c),i.removeEventListener("load",u),i.removeEventListener("timeout",c),t.reportProgress&&(i.removeEventListener("progress",d),null!==o&&i.upload&&i.upload.removeEventListener("progress",f)),i.readyState!==i.DONE&&i.abort()}})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(W))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),Hn=new i.OlP("XSRF_COOKIE_NAME"),Gn=new i.OlP("XSRF_HEADER_NAME"),Vn=_createClass(function t(){_classCallCheck(this,t)}),Wn=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=A(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(o),i.LFG(i.Lbi),i.LFG(Hn))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),jn=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.tokenService=e,this.headerName=n}return _createClass(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null!==i&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Vn),i.LFG(Gn))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),Yn=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.backend=e,this.injector=n,this.chain=null}return _createClass(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(Un,[]);this.chain=e.reduceRight(function(t,e){return new Fn(t,e)},this.backend)}return this.chain.handle(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(_n),i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),Qn=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:jn,useClass:Bn}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:Hn,useValue:e.cookieName}:[],e.headerName?{provide:Gn,useValue:e.headerName}:[]]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[jn,{provide:Un,useExisting:jn,multi:!0},{provide:Vn,useClass:Wn},{provide:Hn,useValue:"XSRF-TOKEN"},{provide:Gn,useValue:"X-XSRF-TOKEN"}]}),t}(),Jn=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Zn,{provide:mn,useClass:Yn},qn,{provide:_n,useExisting:qn}],imports:[[Qn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}();function Xn(t){return t instanceof i.SBq?t.nativeElement:t}var $n=n(9765),Kn=n(9105);function ti(t,e,n,i){return(0,Kn.m)(n)&&(i=n,n=void 0),i?ti(t,e,n).pipe((0,Mt.U)(function(t){return(0,Ct.k)(t)?i.apply(void 0,_toConsumableArray(t)):i(t)})):new kt.y(function(i){ei(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function ei(t,e,n,i,r){var a;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var o=t;t.addEventListener(e,n,r),a=function(){return o.removeEventListener(e,n,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var s=t;t.on(e,n),a=function(){return s.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var l=t;t.addListener(e,n),a=function(){return l.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,c=t.length;u<c;u++)ei(t[u],e,n,i,r)}i.add(a)}var ni=n(6465),ii=new(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"flush",value:function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}}}]),n}(n(6102).v))(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r}return _createClass(n,[{key:"requestAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==i&&i>0?_get(_getPrototypeOf(n.prototype),"requestAsyncId",this).call(this,t,e,i):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(function(){return t.flush(null)})))}},{key:"recycleAsyncId",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==i&&i>0||null===i&&this.delay>0)return _get(_getPrototypeOf(n.prototype),"recycleAsyncId",this).call(this,t,e,i);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}]),n}(ni.o));n(4581);var ri=n(5319);function ai(t){return!!t&&(t instanceof kt.y||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var oi=n(3637),si=n(5345),li=function(){function t(e){_classCallCheck(this,t),this.durationSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ui(t,this.durationSelector))}}]),t}(),ui=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).durationSelector=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{var n;e=(0,this.durationSelector)(t)}catch(n){return this.destination.error(n)}var i=(0,si.ft)(e,new si.IY(this));!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(si.Ds),ci=n(6561),hi=n(4869);function di(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return(0,ci.k)(e)?i=Number(e)<1?1:Number(e):(0,hi.K)(e)&&(n=e),(0,hi.K)(n)||(n=oi.P),new kt.y(function(e){var r=(0,ci.k)(t)?t:+t-n.now();return n.schedule(fi,r,{index:0,period:i,subscriber:e})})}function fi(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function pi(t){return function(e){return e.lift(new gi(t))}}var gi=function(){function t(e){_classCallCheck(this,t),this.notifier=e}return _createClass(t,[{key:"call",value:function(t,e){var n=new vi(t),i=(0,si.ft)(this.notifier,new si.IY(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),vi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).seenValue=!1,i}return _createClass(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(si.Ds),mi=n(3282);function _i(){return(0,mi.J)(1)(cn.of.apply(void 0,arguments))}function yi(t,e){return"function"==typeof e?function(n){return n.pipe(yi(function(n,i){return(0,wt.D)(t(n,i)).pipe((0,Mt.U)(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new xi(t))}}var bi,xi=function(){function t(e){_classCallCheck(this,t),this.project=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new wi(t,this.project))}}]),t}(),wi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).project=i,r.index=0,r}return _createClass(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new si.IY(this),i=this.destination;i.add(n),this.innerSubscription=(0,si.ft)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;(!t||t.closed)&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&_get(_getPrototypeOf(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(si.Ds),ki=n(7771),Ci=n(9746),Mi=n(7971),Ti=n(8858),Si=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck(this,n),(t=e.call(this)).scheduler=a,t._events=[],t._infiniteTimeWindow=!1,t._bufferSize=i<1?1:i,t._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(t._infiniteTimeWindow=!0,t.next=t.nextInfiniteTimeWindow):t.next=t.nextTimeWindow,t}return _createClass(n,[{key:"nextInfiniteTimeWindow",value:function(t){if(!this.isStopped){var e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"nextTimeWindow",value:function(t){this.isStopped||(this._events.push(new Ai(this._getNow(),t)),this._trimBufferThenGetEvents()),_get(_getPrototypeOf(n.prototype),"next",this).call(this,t)}},{key:"_subscribe",value:function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,a=i.length;if(this.closed)throw new Mi.N;if(this.isStopped||this.hasError?e=ri.w.EMPTY:(this.observers.push(t),e=new Ti.W(this,t)),r&&t.add(t=new Ci.ht(t,r)),n)for(var o=0;o<a&&!t.closed;o++)t.next(i[o]);else for(var s=0;s<a&&!t.closed;s++)t.next(i[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e}},{key:"_getNow",value:function(){return(this.scheduler||ki.c).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,a=0;a<r&&!(t-i[a].time<n);)a++;return r>e&&(a=Math.max(a,r-e)),a>0&&i.splice(0,a),i}}]),n}($n.xQ),Ai=_createClass(function t(e,n){_classCallCheck(this,t),this.time=e,this.value=n});function Ei(t,e,n){var i;return i=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,i=t.bufferSize,r=void 0===i?Number.POSITIVE_INFINITY:i,a=t.windowTime,o=void 0===a?Number.POSITIVE_INFINITY:a,s=t.refCount,l=t.scheduler,u=0,c=!1,h=!1;return function(t){var i;u++,!e||c?(c=!1,e=new Si(r,o,l),i=e.subscribe(this),n=t.subscribe({next:function(t){e.next(t)},error:function(t){c=!0,e.error(t)},complete:function(){h=!0,n=void 0,e.complete()}}),h&&(n=void 0)):i=e.subscribe(this),this.add(function(){u--,i.unsubscribe(),i=void 0,n&&!h&&s&&0===u&&(n.unsubscribe(),n=void 0,e=void 0)})}}(i))}}try{bi="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(Gh){bi=!1}var Pi,Ii,Oi=function(){var t=_createClass(function t(e){_classCallCheck(this,t),this._platformId=e,this.isBrowser=this._platformId?function(t){return"browser"===t}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!bi)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT});return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.Lbi))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.Lbi))},token:t,providedIn:"root"}),t}();function Ri(t){return function(){if(null==Pi&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Pi=!0}}))}finally{Pi=Pi||!1}return Pi}()?t:!!t.capture}function Li(t){if(function(){if(null==Ii){var t="undefined"!=typeof document?document.head:null;Ii=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Ii}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function Di(t){return t.composedPath?t.composedPath()[0]:t.target}var Ni=function(){var t=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this._platform=e,this._change=new $n.xQ,this._changeListener=function(t){r._change.next(t)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var t=r._getWindow();t.addEventListener("resize",r._changeListener),t.addEventListener("orientationchange",r._changeListener)}r.change().subscribe(function(){return r._viewportSize=null})})}return _createClass(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi.P;return function(t){return function(e){return e.lift(new li(t))}}(function(){return di(t,e)})}(t)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Oi),i.LFG(i.R0b),i.LFG(o,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(Oi),i.LFG(i.R0b),i.LFG(o,8))},token:t,providedIn:"root"}),t}(),Zi=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t}(),Fi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._value=t,i}return _createClass(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"_subscribe",this).call(this,t);return e&&!e.closed&&t.next(this._value),e}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Mi.N;return this._value}},{key:"next",value:function(t){_get(_getPrototypeOf(n.prototype),"next",this).call(this,this._value=t)}}]),n}($n.xQ),Ui=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),Bi=n(9193);function zi(t){return function(e){return 0===t?(0,Bi.c)():e.lift(new qi(t))}}var qi=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Ui}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Hi(t,this.total))}}]),t}(),Hi=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return _createClass(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(fn.L);function Gi(t){var e=t.subscriber,n=t.counter,i=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:i},i)}"undefined"!=typeof Element&&Element;var Vi=n(6682),Wi=n(8307);function ji(t,e,n){for(var i in e)if(e.hasOwnProperty(i)){var r=e[i];r?t.setProperty(i,r,(null==n?void 0:n.has(i))?"important":""):t.removeProperty(i)}return t}function Yi(t,e){var n=e?"":"none";ji(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function Qi(t,e,n){ji(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},n)}function Ji(t,e){return e&&"none"!=e?t+" "+e:t}function Xi(t){var e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function $i(t,e){return t.getPropertyValue(e).split(",").map(function(t){return t.trim()})}function Ki(t){var e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}}function tr(t,e,n){var i=t.top,r=t.bottom,a=t.left,o=t.right;return n>=i&&n<=r&&e>=a&&e<=o}function er(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function nr(t,e,n,i){var r=t.top,a=t.right,o=t.bottom,s=t.left,l=t.width*e,u=t.height*e;return i>r-u&&i<o+u&&n>s-l&&n<a+l}var ir=function(){function t(e,n){_classCallCheck(this,t),this._document=e,this._viewportRuler=n,this.positions=new Map}return _createClass(t,[{key:"clear",value:function(){this.positions.clear()}},{key:"cache",value:function(t){var e=this;this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),t.forEach(function(t){e.positions.set(t,{scrollPosition:{top:t.scrollTop,left:t.scrollLeft},clientRect:Ki(t)})})}},{key:"handleScroll",value:function(t){var e=Di(t),n=this.positions.get(e);if(!n)return null;var i,r,a=e===this._document?e.documentElement:e,o=n.scrollPosition;if(e===this._document){var s=this._viewportRuler.getViewportScrollPosition();i=s.top,r=s.left}else i=e.scrollTop,r=e.scrollLeft;var l=o.top-i,u=o.left-r;return this.positions.forEach(function(t,n){t.clientRect&&e!==n&&a.contains(n)&&er(t.clientRect,l,u)}),o.top=i,o.left=r,{top:l,left:u}}}]),t}();function rr(t){var e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),i=t.nodeName.toLowerCase();e.removeAttribute("id");for(var r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?lr(t,e):("input"===i||"select"===i||"textarea"===i)&&sr(t,e),ar("canvas",t,e,lr),ar("input, textarea, select",t,e,sr),e}function ar(t,e,n,i){var r=e.querySelectorAll(t);if(r.length)for(var a=n.querySelectorAll(t),o=0;o<r.length;o++)i(r[o],a[o])}var or=0;function sr(t,e){"file"!==e.type&&(e.value=t.value),"radio"===e.type&&e.name&&(e.name="mat-clone-".concat(e.name,"-").concat(or++))}function lr(t,e){var n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch(i){}}var ur=Ri({passive:!0}),cr=Ri({passive:!1}),hr=new Set(["position"]),dr=function(){function t(e,n,i,r,a,o){var s=this;_classCallCheck(this,t),this._config=n,this._document=i,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new $n.xQ,this._pointerMoveSubscription=ri.w.EMPTY,this._pointerUpSubscription=ri.w.EMPTY,this._scrollSubscription=ri.w.EMPTY,this._resizeSubscription=ri.w.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new $n.xQ,this.started=new $n.xQ,this.released=new $n.xQ,this.ended=new $n.xQ,this.entered=new $n.xQ,this.exited=new $n.xQ,this.dropped=new $n.xQ,this.moved=this._moveEvents,this._pointerDown=function(t){if(s.beforeStarted.next(),s._handles.length){var e=s._handles.find(function(e){var n=Di(t);return!!n&&(n===e||e.contains(n))});e&&!s._disabledHandles.has(e)&&!s.disabled&&s._initializeDragSequence(e,t)}else s.disabled||s._initializeDragSequence(s._rootElement,t)},this._pointerMove=function(t){var e=s._getPointerPositionOnPage(t);if(s._hasStartedDragging){s._boundaryElement&&(!s._previewRect||!s._previewRect.width&&!s._previewRect.height)&&(s._previewRect=(s._preview||s._rootElement).getBoundingClientRect()),t.preventDefault();var n=s._getConstrainedPointerPosition(e);if(s._hasMoved=!0,s._lastKnownPointerPosition=e,s._updatePointerDirectionDelta(n),s._dropContainer)s._updateActiveDropContainer(n,e);else{var i=s._activeTransform;i.x=n.x-s._pickupPositionOnPage.x+s._passiveTransform.x,i.y=n.y-s._pickupPositionOnPage.y+s._passiveTransform.y,s._applyRootElementTransform(i.x,i.y),"undefined"!=typeof SVGElement&&s._rootElement instanceof SVGElement&&s._rootElement.setAttribute("transform","translate(".concat(i.x," ").concat(i.y,")"))}s._moveEvents.observers.length&&s._ngZone.run(function(){s._moveEvents.next({source:s,pointerPosition:n,event:t,distance:s._getDragDistance(n),delta:s._pointerDirectionDelta})})}else if(Math.abs(e.x-s._pickupPositionOnPage.x)+Math.abs(e.y-s._pickupPositionOnPage.y)>=s._config.dragStartThreshold){var r=Date.now()>=s._dragStartTime+s._getDragStartDelay(t),a=s._dropContainer;if(!r)return void s._endDragSequence(t);(!a||!a.isDragging()&&!a.isReceiving())&&(t.preventDefault(),s._hasStartedDragging=!0,s._ngZone.run(function(){return s._startDragSequence(t)}))}},this._pointerUp=function(t){s._endDragSequence(t)},this.withRootElement(e).withParent(n.parentDragRef||null),this._parentPositions=new ir(i,a),o.registerDragItem(this)}return _createClass(t,[{key:"disabled",get:function(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)},set:function(t){var e,n=null!=(e=t)&&"false"!="".concat(e);n!==this._disabled&&(this._disabled=n,this._toggleNativeDragInteractions(),this._handles.forEach(function(t){return Yi(t,n)}))}},{key:"getPlaceholderElement",value:function(){return this._placeholder}},{key:"getRootElement",value:function(){return this._rootElement}},{key:"getVisibleElement",value:function(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}},{key:"withHandles",value:function(t){var e=this;this._handles=t.map(function(t){return Xn(t)}),this._handles.forEach(function(t){return Yi(t,e.disabled)}),this._toggleNativeDragInteractions();var n=new Set;return this._disabledHandles.forEach(function(t){e._handles.indexOf(t)>-1&&n.add(t)}),this._disabledHandles=n,this}},{key:"withPreviewTemplate",value:function(t){return this._previewTemplate=t,this}},{key:"withPlaceholderTemplate",value:function(t){return this._placeholderTemplate=t,this}},{key:"withRootElement",value:function(t){var e=this,n=Xn(t);return n!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(function(){n.addEventListener("mousedown",e._pointerDown,cr),n.addEventListener("touchstart",e._pointerDown,ur)}),this._initialTransform=void 0,this._rootElement=n),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}},{key:"withBoundaryElement",value:function(t){var e=this;return this._boundaryElement=t?Xn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(function(){return e._containInsideBoundaryOnResize()})),this}},{key:"withParent",value:function(t){return this._parentDragRef=t,this}},{key:"dispose",value:function(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&gr(this._rootElement),gr(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}},{key:"isDragging",value:function(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}},{key:"reset",value:function(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}},{key:"disableHandle",value:function(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Yi(t,!0))}},{key:"enableHandle",value:function(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Yi(t,this.disabled))}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"_withDropContainer",value:function(t){this._dropContainer=t}},{key:"getFreeDragPosition",value:function(){var t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}},{key:"setFreeDragPosition",value:function(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}},{key:"withPreviewContainer",value:function(t){return this._previewContainer=t,this}},{key:"_sortFromLastPointerPosition",value:function(){var t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}},{key:"_removeSubscriptions",value:function(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}},{key:"_destroyPreview",value:function(){this._preview&&gr(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}},{key:"_destroyPlaceholder",value:function(){this._placeholder&&gr(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}},{key:"_endDragSequence",value:function(t){var e=this;if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(function(){e._cleanupDragArtifacts(t),e._cleanupCachedDimensions(),e._dragDropRegistry.stopDragging(e)});else{this._passiveTransform.x=this._activeTransform.x;var n=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(function(){e.ended.next({source:e,distance:e._getDragDistance(n),dropPoint:n})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}},{key:"_startDragSequence",value:function(t){vr(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();var e=this._dropContainer;if(e){var n=this._rootElement,i=n.parentNode,r=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment(""),o=this._getShadowRoot();i.insertBefore(a,n),this._initialTransform=n.style.transform||"",this._preview=this._createPreviewElement(),Qi(n,!1,hr),this._document.body.appendChild(i.replaceChild(r,n)),this._getPreviewInsertionPoint(i,o).appendChild(this._preview),this.started.next({source:this}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}},{key:"_initializeDragSequence",value:function(t,e){var n=this;this._parentDragRef&&e.stopPropagation();var i,r=this.isDragging(),a=vr(e),o=!a&&0!==e.button,s=this._rootElement,l=Di(e),u=!a&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),c=a?function(t){var e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e):0===(i=e).offsetX&&0===i.offsetY;if(l&&l.draggable&&"mousedown"===e.type&&e.preventDefault(),!(r||o||u||c)){this._handles.length&&(this._rootElementTapHighlight=s.style.webkitTapHighlightColor||"",s.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(t){return n._updateOnScroll(t)}),this._boundaryElement&&(this._boundaryRect=Ki(this._boundaryElement));var h=this._previewTemplate;this._pickupPositionInElement=h&&h.template&&!h.matchSize?{x:0,y:0}:this._getPointerPositionInElement(t,e);var d=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:d.x,y:d.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}}},{key:"_cleanupDragArtifacts",value:function(t){var e=this;Qi(this._rootElement,!0,hr),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(function(){var n=e._dropContainer,i=n.getItemIndex(e),r=e._getPointerPositionOnPage(t),a=e._getDragDistance(r),o=n._isOverContainer(r.x,r.y);e.ended.next({source:e,distance:a,dropPoint:r}),e.dropped.next({item:e,currentIndex:i,previousIndex:e._initialIndex,container:n,previousContainer:e._initialContainer,isPointerOverContainer:o,distance:a,dropPoint:r}),n.drop(e,i,e._initialIndex,e._initialContainer,o,a,r),e._dropContainer=e._initialContainer})}},{key:"_updateActiveDropContainer",value:function(t,e){var n=this,i=t.x,r=t.y,a=e.x,o=e.y,s=this._initialContainer._getSiblingContainerFromPosition(this,i,r);!s&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(i,r)&&(s=this._initialContainer),s&&s!==this._dropContainer&&this._ngZone.run(function(){n.exited.next({item:n,container:n._dropContainer}),n._dropContainer.exit(n),n._dropContainer=s,n._dropContainer.enter(n,i,r,s===n._initialContainer&&s.sortingDisabled?n._initialIndex:void 0),n.entered.next({item:n,container:s,currentIndex:s.getItemIndex(n)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(a,o),this._dropContainer._sortItem(this,i,r,this._pointerDirectionDelta),this._applyPreviewTransform(i-this._pickupPositionInElement.x,r-this._pickupPositionInElement.y))}},{key:"_createPreviewElement",value:function(){var t,e=this._previewTemplate,n=this.previewClass,i=e?e.template:null;if(i&&e){var r=e.matchSize?this._rootElement.getBoundingClientRect():null,a=e.viewContainer.createEmbeddedView(i,e.context);a.detectChanges(),t=mr(a,this._document),this._previewRef=a,e.matchSize?_r(t,r):t.style.transform=fr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{var o=this._rootElement;_r(t=rr(o),o.getBoundingClientRect()),this._initialTransform&&(t.style.transform=this._initialTransform)}return ji(t.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":"".concat(this._config.zIndex||1e3)},hr),Yi(t,!1),t.classList.add("cdk-drag-preview"),t.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(function(e){return t.classList.add(e)}):t.classList.add(n)),t}},{key:"_animatePreviewToPlaceholder",value:function(){var t=this;if(!this._hasMoved)return Promise.resolve();var e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);var n=function(t){var e=getComputedStyle(t),n=$i(e,"transition-property"),i=n.find(function(t){return"transform"===t||"all"===t});if(!i)return 0;var r=n.indexOf(i),a=$i(e,"transition-duration"),o=$i(e,"transition-delay");return Xi(a[r])+Xi(o[r])}(this._preview);return 0===n?Promise.resolve():this._ngZone.runOutsideAngular(function(){return new Promise(function(e){var i=function n(i){var a;(!i||Di(i)===t._preview&&"transform"===i.propertyName)&&(null===(a=t._preview)||void 0===a||a.removeEventListener("transitionend",n),e(),clearTimeout(r))},r=setTimeout(i,1.5*n);t._preview.addEventListener("transitionend",i)})})}},{key:"_createPlaceholderElement",value:function(){var t,e=this._placeholderTemplate,n=e?e.template:null;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),t=mr(this._placeholderRef,this._document)):t=rr(this._rootElement),t.classList.add("cdk-drag-placeholder"),t}},{key:"_getPointerPositionInElement",value:function(t,e){var n=this._rootElement.getBoundingClientRect(),i=t===this._rootElement?null:t,r=i?i.getBoundingClientRect():n,a=vr(e)?e.targetTouches[0]:e,o=this._getViewportScrollPosition();return{x:r.left-n.left+(a.pageX-r.left-o.left),y:r.top-n.top+(a.pageY-r.top-o.top)}}},{key:"_getPointerPositionOnPage",value:function(t){var e=this._getViewportScrollPosition(),n=vr(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,i=n.pageX-e.left,r=n.pageY-e.top;if(this._ownerSVGElement){var a=this._ownerSVGElement.getScreenCTM();if(a){var o=this._ownerSVGElement.createSVGPoint();return o.x=i,o.y=r,o.matrixTransform(a.inverse())}}return{x:i,y:r}}},{key:"_getConstrainedPointerPosition",value:function(t){var e=this._dropContainer?this._dropContainer.lockAxis:null,n=this.constrainPosition?this.constrainPosition(t,this):t,i=n.x,r=n.y;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){var a=this._pickupPositionInElement,o=a.x,s=a.y,l=this._boundaryRect,u=this._previewRect,c=l.top+s,h=l.bottom-(u.height-s);i=pr(i,l.left+o,l.right-(u.width-o)),r=pr(r,c,h)}return{x:i,y:r}}},{key:"_updatePointerDirectionDelta",value:function(t){var e=t.x,n=t.y,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,a=Math.abs(e-r.x),o=Math.abs(n-r.y);return a>this._config.pointerDirectionChangeThreshold&&(i.x=e>r.x?1:-1,r.x=e),o>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}},{key:"_toggleNativeDragInteractions",value:function(){if(this._rootElement&&this._handles){var t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Yi(this._rootElement,t))}}},{key:"_removeRootElementListeners",value:function(t){t.removeEventListener("mousedown",this._pointerDown,cr),t.removeEventListener("touchstart",this._pointerDown,ur)}},{key:"_applyRootElementTransform",value:function(t,e){var n=fr(t,e);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform&&"none"!=this._rootElement.style.transform?this._rootElement.style.transform:""),this._rootElement.style.transform=Ji(n,this._initialTransform)}},{key:"_applyPreviewTransform",value:function(t,e){var n,i=(null===(n=this._previewTemplate)||void 0===n?void 0:n.template)?void 0:this._initialTransform,r=fr(t,e);this._preview.style.transform=Ji(r,i)}},{key:"_getDragDistance",value:function(t){var e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}},{key:"_cleanupCachedDimensions",value:function(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}},{key:"_containInsideBoundaryOnResize",value:function(){var t=this._passiveTransform,e=t.x,n=t.y;if(!(0===e&&0===n||this.isDragging())&&this._boundaryElement){var i=this._boundaryElement.getBoundingClientRect(),r=this._rootElement.getBoundingClientRect();if(!(0===i.width&&0===i.height||0===r.width&&0===r.height)){var a=i.left-r.left,o=r.right-i.right,s=i.top-r.top,l=r.bottom-i.bottom;i.width>r.width?(a>0&&(e+=a),o>0&&(e-=o)):e=0,i.height>r.height?(s>0&&(n+=s),l>0&&(n-=l)):n=0,(e!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:e})}}}},{key:"_getDragStartDelay",value:function(t){var e=this.dragStartDelay;return"number"==typeof e?e:vr(t)?e.touch:e?e.mouse:0}},{key:"_updateOnScroll",value:function(t){var e=this._parentPositions.handleScroll(t);if(e){var n=Di(t);this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&er(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}},{key:"_getViewportScrollPosition",value:function(){var t=this._parentPositions.positions.get(this._document);return t?t.scrollPosition:this._viewportRuler.getViewportScrollPosition()}},{key:"_getShadowRoot",value:function(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Li(this._rootElement)),this._cachedShadowRoot}},{key:"_getPreviewInsertionPoint",value:function(t,e){var n=this._previewContainer||"global";if("parent"===n)return t;if("global"===n){var i=this._document;return e||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return Xn(n)}}]),t}();function fr(t,e){return"translate3d(".concat(Math.round(t),"px, ").concat(Math.round(e),"px, 0)")}function pr(t,e,n){return Math.max(e,Math.min(n,t))}function gr(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function vr(t){return"t"===t.type[0]}function mr(t,e){var n=t.rootNodes;if(1===n.length&&n[0].nodeType===e.ELEMENT_NODE)return n[0];var i=e.createElement("div");return n.forEach(function(t){return i.appendChild(t)}),i}function _r(t,e){t.style.width="".concat(e.width,"px"),t.style.height="".concat(e.height,"px"),t.style.transform=fr(e.left,e.top)}function yr(t,e){return Math.max(0,Math.min(e,t))}var br=function(){function t(e,n,i,r,a){var o=this;_classCallCheck(this,t),this._dragDropRegistry=n,this._ngZone=r,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=function(){return!0},this.sortPredicate=function(){return!0},this.beforeStarted=new $n.xQ,this.entered=new $n.xQ,this.exited=new $n.xQ,this.dropped=new $n.xQ,this.sorted=new $n.xQ,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._draggables=[],this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=ri.w.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new $n.xQ,this._cachedShadowRoot=null,this._startScrollInterval=function(){o._stopScrolling(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi.P;return(!(0,ci.k)(t)||t<0)&&(t=0),(!e||"function"!=typeof e.schedule)&&(e=oi.P),new kt.y(function(n){return n.add(e.schedule(Gi,t,{subscriber:n,counter:0,period:t})),n})}(0,ii).pipe(pi(o._stopScrollTimers)).subscribe(function(){var t=o._scrollNode,e=o.autoScrollStep;1===o._verticalScrollDirection?wr(t,-e):2===o._verticalScrollDirection&&wr(t,e),1===o._horizontalScrollDirection?kr(t,-e):2===o._horizontalScrollDirection&&kr(t,e)})},this.element=Xn(e),this._document=i,this.withScrollableParents([this.element]),n.registerDropContainer(this),this._parentPositions=new ir(i,a)}return _createClass(t,[{key:"dispose",value:function(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"start",value:function(){this._draggingStarted(),this._notifyReceivingSiblings()}},{key:"enter",value:function(t,e,n,i){var r;this._draggingStarted(),null==i?-1===(r=this.sortingDisabled?this._draggables.indexOf(t):-1)&&(r=this._getItemIndexFromPointerPosition(t,e,n)):r=i;var a=this._activeDraggables,o=a.indexOf(t),s=t.getPlaceholderElement(),l=a[r];if(l===t&&(l=a[r+1]),o>-1&&a.splice(o,1),l&&!this._dragDropRegistry.isDragging(l)){var u=l.getRootElement();u.parentElement.insertBefore(s,u),a.splice(r,0,t)}else if(this._shouldEnterAsFirstChild(e,n)){var c=a[0].getRootElement();c.parentNode.insertBefore(s,c),a.unshift(t)}else Xn(this.element).appendChild(s),a.push(t);s.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}},{key:"exit",value:function(t){this._reset(),this.exited.next({item:t,container:this})}},{key:"drop",value:function(t,e,n,i,r,a,o){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:n,container:this,previousContainer:i,isPointerOverContainer:r,distance:a,dropPoint:o})}},{key:"withItems",value:function(t){var e=this,n=this._draggables;return this._draggables=t,t.forEach(function(t){return t._withDropContainer(e)}),this.isDragging()&&(n.filter(function(t){return t.isDragging()}).every(function(e){return-1===t.indexOf(e)})?this._reset():this._cacheItems()),this}},{key:"withDirection",value:function(t){return this._direction=t,this}},{key:"connectedTo",value:function(t){return this._siblings=t.slice(),this}},{key:"withOrientation",value:function(t){return this._orientation=t,this}},{key:"withScrollableParents",value:function(t){var e=Xn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e].concat(_toConsumableArray(t)):t.slice(),this}},{key:"getScrollableParents",value:function(){return this._scrollableElements}},{key:"getItemIndex",value:function(t){return this._isDragging?xr("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,function(e){return e.drag===t}):this._draggables.indexOf(t)}},{key:"isReceiving",value:function(){return this._activeSiblings.size>0}},{key:"_sortItem",value:function(t,e,n,i){if(!this.sortingDisabled&&this._clientRect&&nr(this._clientRect,.05,e,n)){var r=this._itemPositions,a=this._getItemIndexFromPointerPosition(t,e,n,i);if(!(-1===a&&r.length>0)){var o="horizontal"===this._orientation,s=xr(r,function(e){return e.drag===t}),l=r[a],u=l.clientRect,c=s>a?1:-1,h=this._getItemOffsetPx(r[s].clientRect,u,c),d=this._getSiblingOffsetPx(s,r,c),f=r.slice();(function(t,e,n){var i=yr(e,t.length-1),r=yr(n,t.length-1);if(i!==r){for(var a=t[i],o=r<i?-1:1,s=i;s!==r;s+=o)t[s]=t[s+o];t[r]=a}})(r,s,a),this.sorted.next({previousIndex:s,currentIndex:a,container:this,item:t}),r.forEach(function(e,n){if(f[n]!==e){var i=e.drag===t,r=i?h:d,a=i?t.getPlaceholderElement():e.drag.getRootElement();e.offset+=r,o?(a.style.transform=Ji("translate3d(".concat(Math.round(e.offset),"px, 0, 0)"),e.initialTransform),er(e.clientRect,0,r)):(a.style.transform=Ji("translate3d(0, ".concat(Math.round(e.offset),"px, 0)"),e.initialTransform),er(e.clientRect,r,0))}}),this._previousSwap.overlaps=tr(u,e,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=o?i.x:i.y}}}},{key:"_startScrollingIfNecessary",value:function(t,e){var n=this;if(!this.autoScrollDisabled){var i,r=0,a=0;if(this._parentPositions.positions.forEach(function(o,s){var l;s===n._document||!o.clientRect||i||nr(o.clientRect,.05,t,e)&&(l=_slicedToArray(function(t,e,n,i){var r=Cr(e,i),a=Mr(e,n),o=0,s=0;if(r){var l=t.scrollTop;1===r?l>0&&(o=1):t.scrollHeight-l>t.clientHeight&&(o=2)}if(a){var u=t.scrollLeft;1===a?u>0&&(s=1):t.scrollWidth-u>t.clientWidth&&(s=2)}return[o,s]}(s,o.clientRect,t,e),2),r=l[0],a=l[1],(r||a)&&(i=s))}),!r&&!a){var o=this._viewportRuler.getViewportSize(),s=o.width,l=o.height,u={width:s,height:l,top:0,right:s,bottom:l,left:0};r=Cr(u,e),a=Mr(u,t),i=window}i&&(r!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=a,this._scrollNode=i,(r||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}}},{key:"_stopScrolling",value:function(){this._stopScrollTimers.next()}},{key:"_draggingStarted",value:function(){var t=Xn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._cacheItems(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}},{key:"_cacheParentPositions",value:function(){var t=Xn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}},{key:"_cacheItemPositions",value:function(){var t="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(function(t){var e=t.getVisibleElement();return{drag:t,offset:0,initialTransform:e.style.transform||"",clientRect:Ki(e)}}).sort(function(e,n){return t?e.clientRect.left-n.clientRect.left:e.clientRect.top-n.clientRect.top})}},{key:"_reset",value:function(){var t=this;this._isDragging=!1;var e=Xn(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(function(e){var n,i=e.getRootElement();if(i){var r=null===(n=t._itemPositions.find(function(t){return t.drag===e}))||void 0===n?void 0:n.initialTransform;i.style.transform=r||""}}),this._siblings.forEach(function(e){return e._stopReceiving(t)}),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}},{key:"_getSiblingOffsetPx",value:function(t,e,n){var i="horizontal"===this._orientation,r=e[t].clientRect,a=e[t+-1*n],o=r[i?"width":"height"]*n;if(a){var s=i?"left":"top",l=i?"right":"bottom";-1===n?o-=a.clientRect[s]-r[l]:o+=r[s]-a.clientRect[l]}return o}},{key:"_getItemOffsetPx",value:function(t,e,n){var i="horizontal"===this._orientation,r=i?e.left-t.left:e.top-t.top;return-1===n&&(r+=i?e.width-t.width:e.height-t.height),r}},{key:"_shouldEnterAsFirstChild",value:function(t,e){if(!this._activeDraggables.length)return!1;var n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){var r=n[n.length-1].clientRect;return i?t>=r.right:e>=r.bottom}var a=n[0].clientRect;return i?t<=a.left:e<=a.top}},{key:"_getItemIndexFromPointerPosition",value:function(t,e,n,i){var r=this,a="horizontal"===this._orientation,o=xr(this._itemPositions,function(o,s,l){var u=o.drag,c=o.clientRect;if(u===t)return l.length<2;if(i){var h=a?i.x:i.y;if(u===r._previousSwap.drag&&r._previousSwap.overlaps&&h===r._previousSwap.delta)return!1}return a?e>=Math.floor(c.left)&&e<Math.floor(c.right):n>=Math.floor(c.top)&&n<Math.floor(c.bottom)});return-1!==o&&this.sortPredicate(o,t,this)?o:-1}},{key:"_cacheItems",value:function(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}},{key:"_isOverContainer",value:function(t,e){return null!=this._clientRect&&tr(this._clientRect,t,e)}},{key:"_getSiblingContainerFromPosition",value:function(t,e,n){return this._siblings.find(function(i){return i._canReceive(t,e,n)})}},{key:"_canReceive",value:function(t,e,n){if(!this._clientRect||!tr(this._clientRect,e,n)||!this.enterPredicate(t,this))return!1;var i=this._getShadowRoot().elementFromPoint(e,n);if(!i)return!1;var r=Xn(this.element);return i===r||r.contains(i)}},{key:"_startReceiving",value:function(t,e){var n=this,i=this._activeSiblings;!i.has(t)&&e.every(function(t){return n.enterPredicate(t,n)||n._draggables.indexOf(t)>-1})&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}},{key:"_stopReceiving",value:function(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}},{key:"_listenToScrollEvents",value:function(){var t=this;this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(function(e){if(t.isDragging()){var n=t._parentPositions.handleScroll(e);n&&(t._itemPositions.forEach(function(t){er(t.clientRect,n.top,n.left)}),t._itemPositions.forEach(function(e){var n=e.drag;t._dragDropRegistry.isDragging(n)&&n._sortFromLastPointerPosition()}))}else t.isReceiving()&&t._cacheParentPositions()})}},{key:"_getShadowRoot",value:function(){if(!this._cachedShadowRoot){var t=Li(Xn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}},{key:"_notifyReceivingSiblings",value:function(){var t=this,e=this._activeDraggables.filter(function(t){return t.isDragging()});this._siblings.forEach(function(n){return n._startReceiving(t,e)})}}]),t}();function xr(t,e){for(var n=0;n<t.length;n++)if(e(t[n],n,t))return n;return-1}function wr(t,e){t===window?t.scrollBy(0,e):t.scrollTop+=e}function kr(t,e){t===window?t.scrollBy(e,0):t.scrollLeft+=e}function Cr(t,e){var n=t.top,i=t.bottom,r=.05*t.height;return e>=n-r&&e<=n+r?1:e>=i-r&&e<=i+r?2:0}function Mr(t,e){var n=t.left,i=t.right,r=.05*t.width;return e>=n-r&&e<=n+r?1:e>=i-r&&e<=i+r?2:0}var Tr=Ri({passive:!1,capture:!0}),Sr=function(){var t=function(){function t(e,n){var i=this;_classCallCheck(this,t),this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=function(t){return t.isDragging()},this.pointerMove=new $n.xQ,this.pointerUp=new $n.xQ,this.scroll=new $n.xQ,this._preventDefaultWhileDragging=function(t){i._activeDragInstances.length>0&&t.preventDefault()},this._persistentTouchmoveListener=function(t){i._activeDragInstances.length>0&&(i._activeDragInstances.some(i._draggingPredicate)&&t.preventDefault(),i.pointerMove.next(t))},this._document=n}return _createClass(t,[{key:"registerDropContainer",value:function(t){this._dropInstances.has(t)||this._dropInstances.add(t)}},{key:"registerDragItem",value:function(t){var e=this;this._dragInstances.add(t),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(function(){e._document.addEventListener("touchmove",e._persistentTouchmoveListener,Tr)})}},{key:"removeDropContainer",value:function(t){this._dropInstances.delete(t)}},{key:"removeDragItem",value:function(t){this._dragInstances.delete(t),this.stopDragging(t),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Tr)}},{key:"startDragging",value:function(t,e){var n=this;if(!(this._activeDragInstances.indexOf(t)>-1)&&(this._activeDragInstances.push(t),1===this._activeDragInstances.length)){var i=e.type.startsWith("touch");this._globalListeners.set(i?"touchend":"mouseup",{handler:function(t){return n.pointerUp.next(t)},options:!0}).set("scroll",{handler:function(t){return n.scroll.next(t)},options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Tr}),i||this._globalListeners.set("mousemove",{handler:function(t){return n.pointerMove.next(t)},options:Tr}),this._ngZone.runOutsideAngular(function(){n._globalListeners.forEach(function(t,e){n._document.addEventListener(e,t.handler,t.options)})})}}},{key:"stopDragging",value:function(t){var e=this._activeDragInstances.indexOf(t);e>-1&&(this._activeDragInstances.splice(e,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}},{key:"isDragging",value:function(t){return this._activeDragInstances.indexOf(t)>-1}},{key:"scrolled",value:function(t){var e=this,n=[this.scroll];return t&&t!==this._document&&n.push(new kt.y(function(n){return e._ngZone.runOutsideAngular(function(){var i=function(t){e._activeDragInstances.length&&n.next(t)};return t.addEventListener("scroll",i,!0),function(){t.removeEventListener("scroll",i,!0)}})})),Vi.T.apply(void 0,n)}},{key:"ngOnDestroy",value:function(){var t=this;this._dragInstances.forEach(function(e){return t.removeDragItem(e)}),this._dropInstances.forEach(function(e){return t.removeDropContainer(e)}),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}},{key:"_clearGlobalListeners",value:function(){var t=this;this._globalListeners.forEach(function(e,n){t._document.removeEventListener(n,e.handler,e.options)}),this._globalListeners.clear()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.R0b),i.LFG(o))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.R0b),i.LFG(o))},token:t,providedIn:"root"}),t}(),Ar={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Er=function(){var t=function(){function t(e,n,i,r){_classCallCheck(this,t),this._document=e,this._ngZone=n,this._viewportRuler=i,this._dragDropRegistry=r}return _createClass(t,[{key:"createDrag",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar;return new dr(t,e,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}},{key:"createDropList",value:function(t){return new br(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(o),i.LFG(i.R0b),i.LFG(Ni),i.LFG(Sr))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(o),i.LFG(i.R0b),i.LFG(Ni),i.LFG(Sr))},token:t,providedIn:"root"}),t}(),Pr=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[Er],imports:[Zi]}),t}(),Ir=_createClass(function t(){_classCallCheck(this,t)}),Or="*";function Rr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function Lr(t){return{type:6,styles:t,offset:null}}function Dr(t){Promise.resolve(null).then(t)}var Nr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Dr(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this._started=!1}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Zr=function(){function t(e){var n=this;_classCallCheck(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,r=0,a=0,o=this.players.length;0==o?Dr(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++i==o&&n._onFinish()}),t.onDestroy(function(){++r==o&&n._onDestroy()}),t.onStart(function(){++a==o&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function Fr(){return"undefined"!=typeof window&&void 0!==window.document}function Ur(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Br(t){switch(t.length){case 0:return new Nr;case 1:return t[0];default:return new Zr(t)}}function zr(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],l=-1,u=null;if(i.forEach(function(t){var n=t.offset,i=n==l,c=i&&u||{};Object.keys(t).forEach(function(n){var i=n,s=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),s){case"!":s=r[n];break;case Or:s=a[n];break;default:s=e.normalizeStyleValue(n,i,s,o)}c[i]=s}),i||s.push(c),u=c,l=n}),o.length){var c="\n - ";throw new Error("Unable to animate due to the following errors:".concat(c).concat(o.join(c)))}return s}function qr(t,e,n,i){switch(e){case"start":t.onStart(function(){return i(n&&Hr(n,"start",t))});break;case"done":t.onDone(function(){return i(n&&Hr(n,"done",t))});break;case"destroy":t.onDestroy(function(){return i(n&&Hr(n,"destroy",t))})}}function Hr(t,e,n){var i=n.totalTime,r=Gr(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),a=t._data;return null!=a&&(r._data=a),r}function Gr(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:a,disabled:!!o}}function Vr(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function Wr(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var jr=function(t,e){return!1},Yr=function(t,e){return!1},Qr=function(t,e,n){return[]},Jr=Ur();(Jr||"undefined"!=typeof Element)&&(jr=Fr()?function(t,e){for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:function(t,e){return t.contains(e)},Yr=function(){if(Jr||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Yr}(),Qr=function(t,e,n){var i=[];if(n)for(var r=t.querySelectorAll(e),a=0;a<r.length;a++)i.push(r[a]);else{var o=t.querySelector(e);o&&i.push(o)}return i});var Xr=null,$r=!1;function Kr(t){Xr||(Xr=("undefined"!=typeof document?document.body:null)||{},$r=!!Xr.style&&"WebkitAppearance"in Xr.style);var e=!0;return Xr.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in Xr.style)&&$r&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Xr.style)),e}var ta=Yr,ea=jr,na=Qr;function ia(t){var e={};return Object.keys(t).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}var ra=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Kr(t)}},{key:"matchesElement",value:function(t,e){return ta(t,e)}},{key:"containsElement",value:function(t,e){return ea(t,e)}},{key:"query",value:function(t,e,n){return na(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){return new Nr(n,i)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),aa=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.NOOP=new ra,t}(),oa="ng-enter",sa="ng-leave",la="ng-trigger",ua=".ng-trigger",ca="ng-animating",ha=".ng-animating";function da(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:fa(parseFloat(e[1]),e[2])}function fa(t,e){switch(e){case"s":return 1e3*t;default:return t}}function pa(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=0,a="";if("string"==typeof t){var o=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=fa(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(r=fa(parseFloat(s),o[4]));var l=o[5];l&&(a=l)}else i=t;if(!n){var u=!1,c=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),u=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),u=!0),u&&e.splice(c,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:r,easing:a}}(t,e,n)}function ga(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function va(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else ga(t,n);return n}function ma(t,e,n){return n?e+":"+n+";":""}function _a(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=ma(0,i,t.style.getPropertyValue(i))}for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=ma(0,Aa(r),t.style[r]));t.setAttribute("style",e)}function ya(t,e,n){t.style&&(Object.keys(e).forEach(function(i){var r=Sa(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Ur()&&_a(t))}function ba(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=Sa(e);t.style[n]=""}),Ur()&&_a(t))}function xa(t){return Array.isArray(t)?1==t.length?t[0]:Rr(t):t}var wa=new RegExp("{{\\s*(.+?)\\s*}}","g");function ka(t){var e=[];if("string"==typeof t){for(var n;n=wa.exec(t);)e.push(n[1]);wa.lastIndex=0}return e}function Ca(t,e,n){var i=t.toString(),r=i.replace(wa,function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()});return r==i?t:r}function Ma(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var Ta=/-+([a-z0-9])/g;function Sa(t){return t.replace(Ta,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function Aa(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ea(t,e){return 0===t||0===e}function Pa(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],a=[];if(i.forEach(function(t){r.hasOwnProperty(t)||a.push(t),r[t]=n[t]}),a.length)for(var o=function(){var n=e[s];a.forEach(function(e){n[e]=Oa(t,e)})},s=1;s<e.length;s++)o()}return e}function Ia(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function Oa(t,e){return window.getComputedStyle(t)[e]}function Ra(t,e){var n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var a=r[1],o=r[2],s=r[3];e.push(Na(a,s)),"<"==o[0]&&("*"!=a||"*"!=s)&&e.push(Na(s,a))}(t,n,e)}):n.push(t),n}var La=new Set(["true","1"]),Da=new Set(["false","0"]);function Na(t,e){var n=La.has(t)||Da.has(t),i=La.has(e)||Da.has(e);return function(r,a){var o="*"==t||t==r,s="*"==e||e==a;return!o&&n&&"boolean"==typeof r&&(o=r?La.has(t):Da.has(t)),!s&&i&&"boolean"==typeof a&&(s=a?La.has(e):Da.has(e)),o&&s}}var Za=new RegExp("s*:selfs*,?","g");function Fa(t,e,n){return new Ua(t).build(e,n)}var Ua=function(){function t(e){_classCallCheck(this,t),this._driver=e}return _createClass(t,[{key:"build",value:function(t,e){var n=new Ba(e);return this._resetContextStyleTimingState(n),Ia(this,xa(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,a=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var s=t,l=s.name;l.toString().split(/\s*,\s*/).forEach(function(t){s.name=t,a.push(n.visitState(s,e))}),s.name=l}else if(1==t.type){var u=n.visitTransition(t,e);i+=u.queryCount,r+=u.depCount,o.push(u)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:a,transitions:o,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,a=i||{};if(n.styles.forEach(function(t){if(za(t)){var e=t;Object.keys(e).forEach(function(t){ka(e[t]).forEach(function(t){a.hasOwnProperty(t)||r.add(t)})})}}),r.size){var o=Ma(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n=Ia(this,xa(t.animation),e);return{type:1,matchers:Ra(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:qa(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return Ia(n,t,e)}),options:qa(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,a=t.steps.map(function(t){e.currentTime=i;var a=Ia(n,t,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:a,options:qa(t.options)}}},{key:"visitAnimate",value:function(t,e){var n=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Ha(pa(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var r=Ha(0,0,"");return r.dynamic=!0,r.strValue=i,r}return Ha((n=n||pa(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;var i,r=t.styles?t.styles:Lr({});if(5==r.type)i=this.visitKeyframes(r,e);else{var a=t.styles,o=!1;if(!a){o=!0;var s={};n.easing&&(s.easing=n.easing),a=Lr(s)}e.currentTime+=n.duration+n.delay;var l=this.visitStyle(a,e);l.isEmptyStep=o,i=l}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?t==Or?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var i=!1,r=null;return n.forEach(function(t){if(za(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var a in e)if(e[a].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(i){if(n._driver.validateStyleProperty(i)){var o=e.collectedStyles[e.currentQuerySelector],s=o[i],l=!0;s&&(a!=r&&a>=s.startTime&&r<=s.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(s.startTime,'ms" and "').concat(s.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(r,'ms"')),l=!1),a=s.startTime),l&&(o[i]={startTime:a,endTime:r}),e.options&&function(t,e,n){var i=e.params||{},r=ka(t);r.length&&r.forEach(function(t){i.hasOwnProperty(t)||n.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))})}(t[i],e.options,e.errors)}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,a=[],o=!1,s=!1,l=0,u=t.steps.map(function(t){var i=n._makeStyleAst(t,e),u=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(za(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(za(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),c=0;return null!=u&&(r++,c=i.offset=u),s=s||c<0||c>1,o=o||c<l,l=c,a.push(c),i});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");var c=t.steps.length,h=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(c-1));var d=c-1,f=e.currentTime,p=e.currentAnimateTimings,g=p.duration;return u.forEach(function(t,r){var o=h>0?r==d?1:h*r:a[r],s=o*g;e.currentTime=f+p.delay+s,p.duration=s,n._validateStyleAst(t,e),t.offset=o,i.styles.push(t)}),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:Ia(this,xa(t.animation),e),options:qa(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:qa(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:qa(t.options)}}},{key:"visitQuery",value:function(t,e){var n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;var r=_slicedToArray(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(Za,"")),[t=t.replace(/@\*/g,ua).replace(/@\w+/g,function(t){return ua+"-"+t.substr(1)}).replace(/:animating/g,ha),e]}(t.selector),2),a=r[0],o=r[1];e.currentQuerySelector=n.length?n+" "+a:a,Vr(e.collectedStyles,e.currentQuerySelector,{});var s=Ia(this,xa(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:qa(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:pa(t.timings,e.errors,!0);return{type:12,animation:Ia(this,xa(t.animation),e),timings:n,options:null}}}]),t}(),Ba=_createClass(function t(e){_classCallCheck(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null});function za(t){return!Array.isArray(t)&&"object"==typeof t}function qa(t){return t?(t=ga(t)).params&&(t.params=function(t){return t?ga(t):null}(t.params)):t={},t}function Ha(t,e,n){return{duration:t,delay:e,easing:n}}function Ga(t,e,n,i,r,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:o,subTimeline:s}}var Va=function(){function t(){_classCallCheck(this,t),this._map=new Map}return _createClass(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,i=this._map.get(t);i||this._map.set(t,i=[]),(n=i).push.apply(n,_toConsumableArray(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Wa=new RegExp(":enter","g"),ja=new RegExp(":leave","g");function Ya(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Qa).buildKeyframes(t,e,n,i,r,a,o,s,l,u)}var Qa=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,a,o,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new Va;var c=new Xa(t,e,l,i,r,u,[]);c.options=s,c.currentTimeline.setStyles([a],null,c.errors,s),Ia(this,n,c);var h=c.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(o).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([o],null,c.errors,s)}return h.length?h.map(function(t){return t.buildKeyframes()}):[Ga(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,a=this._visitSubInstructions(n,i,i.options);r!=a&&e.transformIntoNewTimeline(a)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?da(n.duration):null,a=null!=n.delay?da(n.delay):null;return 0!==r&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,r,a);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),Ia(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,a=t.options;if(a&&(a.params||a.delay)&&((r=e.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Ja);var o=da(a.delay);r.delayNextStep(o)}t.steps.length&&(t.steps.forEach(function(t){return Ia(n,t,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,a=t.options&&t.options.delay?da(t.options.delay):0;t.steps.forEach(function(o){var s=e.createSubContext(t.options);a&&s.delayNextStep(a),Ia(n,o,s),r=Math.max(r,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return pa(e.params?Ca(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,a=e.createSubContext().currentTimeline;a.easing=n.easing,t.styles.forEach(function(t){a.forwardTime((t.offset||0)*r),a.setStyles(t.styles,t.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},a=r.delay?da(r.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Ja);var o=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;var l=null;s.forEach(function(i,r){e.currentQueryIndex=r;var s=e.createSubContext(t.options,i);a&&s.delayNextStep(a),i===e.element&&(l=s.currentTimeline),Ia(n,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,a=Math.abs(r.duration),o=a*(e.currentQueryTotal-1),s=a*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var l=e.currentTimeline;s&&l.delayNextStep(s);var u=l.currentTime;Ia(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-u+(i.startTime-n.currentTimeline.startTime)}}]),t}(),Ja={},Xa=function(){function t(e,n,i,r,a,o,s,l){_classCallCheck(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ja,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new $a(this._driver,n,0),s.push(this.currentTimeline)}return _createClass(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=da(i.duration)),null!=i.delay&&(r.delay=da(i.delay));var a=i.params;if(a){var o=r.params;o||(o=this.options.params={}),Object.keys(a).forEach(function(t){(!e||!o.hasOwnProperty(t))&&(o[t]=Ca(a[t],o,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,a=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=Ja,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Ka(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,i,r,a){var o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(Wa,"."+this._enterClassName)).replace(ja,"."+this._leaveClassName);var s=this._driver.query(this.element,t,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push.apply(o,_toConsumableArray(s))}return!r&&0==o.length&&a.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),o}}]),t}(),$a=function(){function t(e,n,i,r){_classCallCheck(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||Or,e._currentKeyframe[t]=Or}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var a=i&&i.params||{},o=function(t,e){var n,i={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){i[t]=Or}):va(t,!1,i)}),i}(t,this._globalTimelineStyles);Object.keys(o).forEach(function(t){var e=Ca(o[t],a,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:Or),r._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach(function(a,o){var s=va(a,!0);Object.keys(s).forEach(function(t){var i=s[t];"!"==i?e.add(t):i==Or&&n.add(t)}),i||(s.offset=o/t.duration),r.push(s)});var a=e.size?Ma(e.values()):[],o=n.size?Ma(n.values()):[];if(i){var s=r[0],l=ga(s);s.offset=0,l.offset=1,r=[s,l]}return Ga(this.element,r,a,o,this.duration,this.startTime,this.easing,!1)}}]),t}(),Ka=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s){var l,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck(this,n),(l=e.call(this,t,i,s.delay)).keyframes=r,l.preStyleProps=a,l.postStyleProps=o,l._stretchStartingKeyframe=u,l.timings={duration:s.duration,delay:s.delay,easing:s.easing},l}return _createClass(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=i+n,s=n/o,l=va(t[0],!1);l.offset=0,a.push(l);var u=va(t[0],!1);u.offset=to(s),a.push(u);for(var c=t.length-1,h=1;h<=c;h++){var d=va(t[h],!1);d.offset=to((n+d.offset*i)/o),a.push(d)}i=o,n=0,r="",t=a}return Ga(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}($a);function to(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var eo=_createClass(function t(){_classCallCheck(this,t)}),no=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"normalizePropertyName",value:function(t,e){return Sa(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",a=n.toString().trim();if(io[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return a+r}}]),n}(eo),io=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function ro(t,e,n,i,r,a,o,s,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:a,toState:i,toStyles:o,timelines:s,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}var ao={},oo=function(){function t(e,n,i){_classCallCheck(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return _createClass(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some(function(t){return t(e,n,i,r)})}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],a=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):a}},{key:"build",value:function(t,e,n,i,r,a,o,s,l,u){var c=[],h=this.ast.options&&this.ast.options.params||ao,d=this.buildStyles(n,o&&o.params||ao,c),f=s&&s.params||ao,p=this.buildStyles(i,f,c),g=new Set,v=new Map,m=new Map,_="void"===i,y={params:Object.assign(Object.assign({},h),f)},b=u?[]:Ya(t,e,this.ast.animation,r,a,d,p,y,l,c),x=0;if(b.forEach(function(t){x=Math.max(t.duration+t.delay,x)}),c.length)return ro(e,this._triggerName,n,i,_,d,p,[],[],v,m,x,c);b.forEach(function(t){var n=t.element,i=Vr(v,n,{});t.preStyleProps.forEach(function(t){return i[t]=!0});var r=Vr(m,n,{});t.postStyleProps.forEach(function(t){return r[t]=!0}),n!==e&&g.add(n)});var w=Ma(g.values());return ro(e,this._triggerName,n,i,_,d,p,b,w,v,m,x)}}]),t}(),so=function(){function t(e,n,i){_classCallCheck(this,t),this.styles=e,this.defaultParams=n,this.normalizer=i}return _createClass(t,[{key:"buildStyles",value:function(t,e){var n=this,i={},r=ga(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var a=t;Object.keys(a).forEach(function(t){var o=a[t];o.length>1&&(o=Ca(o,r,e));var s=n.normalizer.normalizePropertyName(t,e);o=n.normalizer.normalizeStyleValue(t,s,o,e),i[s]=o})}}),i}}]),t}(),lo=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states={},n.states.forEach(function(t){r.states[t.name]=new so(t.style,t.options&&t.options.params||{},i)}),uo(this.states,"true","1"),uo(this.states,"false","0"),n.transitions.forEach(function(t){r.transitionFactories.push(new oo(e,t,r.states))}),this.fallbackTransition=function(t,e,n){return new oo(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},e)}(e,this.states)}return _createClass(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find(function(r){return r.match(t,e,n,i)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function uo(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var co=new Va,ho=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _createClass(t,[{key:"register",value:function(t,e){var n=[],i=Fa(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=zr(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[t],s=new Map;if(o?(n=Ya(this._driver,e,o,oa,sa,{},{},r,co,a)).forEach(function(t){var e=Vr(s,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: ".concat(a.join("\n")));s.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=i._driver.computeStyle(e,n,Or)})});var l=Br(n.map(function(t){var e=s.get(t.element);return i._buildPlayer(t,{},e)}));return this._playersById[t]=l,l.onDestroy(function(){return i.destroy(t)}),this.players.push(l),l}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,i){var r=Gr(e,"","","");return qr(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),fo="ng-animate-queued",po="ng-animate-disabled",go=".ng-animate-disabled",vo=[],mo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_o={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},yo="__ng_removed",bo=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck(this,t),this.namespaceId=n;var i,r=e&&e.hasOwnProperty("value");if(this.value=null!=(i=r?e.value:e)?i:null,r){var a=ga(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return _createClass(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),xo="void",wo=new bo(xo),ko=function(){function t(e,n,i){_classCallCheck(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Io(n,this._hostClassName)}return _createClass(t,[{key:"listen",value:function(t,e,n,i){var r,a=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var o=Vr(this._elementListeners,t,[]),s={name:e,phase:n,callback:i};o.push(s);var l=Vr(this._engine.statesByElement,t,{});return l.hasOwnProperty(e)||(Io(t,la),Io(t,la+"-"+e),l[e]=wo),function(){a._engine.afterFlush(function(){var t=o.indexOf(s);t>=0&&o.splice(t,1),a._triggers[e]||delete l[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(e),o=new Mo(this.id,e,t),s=this._engine.statesByElement.get(t);s||(Io(t,la),Io(t,la+"-"+e),this._engine.statesByElement.set(t,s={}));var l=s[e],u=new bo(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),s[e]=u,l||(l=wo),u.value===xo||l.value!==u.value){var c=Vr(this._engine.playersByElement,t,[]);c.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=a.matchTransition(l.value,u.value,t,u.params),d=!1;if(!h){if(!r)return;h=a.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:l,toState:u,player:o,isFallbackTransition:d}),d||(Io(t,fo),o.onStart(function(){Oo(t,fo)})),o.onDone(function(){var e=i.players.indexOf(o);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(o);r>=0&&n.splice(r,1)}}),this.players.push(o),c.push(o),o}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var a=n[r];if(!e.hasOwnProperty(a)||t[a]!==e[a])return!1}return!0}(l.params,u.params)){var f=[],p=a.matchStyles(l.value,l.params,f),g=a.matchStyles(u.value,u.params,f);f.length?this._engine.reportError(f):this._engine.afterFlush(function(){ba(t,p),ya(t,g)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,i){e._elementListeners.set(i,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,i=this._engine.driver.query(t,ua,!0);i.forEach(function(t){if(!t[yo]){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,a=this._engine.statesByElement.get(t);if(a){var o=[];if(Object.keys(a).forEach(function(e){if(r._triggers[e]){var n=r.trigger(t,e,xo,i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Br(o).onDone(function(){return r._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){var r=new Set;n.forEach(function(n){var a=n.name;if(!r.has(a)){r.add(a);var o=e._triggers[a].fallbackTransition,s=i[a]||wo,l=new bo(xo),u=new Mo(e.id,a,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:a,transition:o,fromState:s,toState:l,player:u,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)r=!0;else for(var o=t;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{var s=t[yo];(!s||s===mo)&&(i.afterFlush(function(){return n.clearElementCache(t)}),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){Io(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var a=i.element,o=e._elementListeners.get(a);o&&o.forEach(function(e){if(e.name==i.triggerName){var n=Gr(a,i.triggerName,i.fromState.value,i.toState.value);n._data=t,qr(i.player,e.phase,n,e.callback)}}),r.markedForDestroy?e._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),Co=function(){function t(e,n,i){_classCallCheck(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _createClass(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new ko(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var a=n[i[r]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&e.add(o)}}return e}},{key:"trigger",value:function(t,e,n,i){if(To(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(To(e)){var r=e[yo];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var a=this.collectedLeaveElements.indexOf(e);a>=0&&this.collectedLeaveElements.splice(a,1)}if(t){var o=this._fetchNamespace(t);o&&o.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Io(t,po)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Oo(t,po))}},{key:"removeNode",value:function(t,e,n,i){if(To(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e[yo]={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return To(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,ua,!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,ha,!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return Br(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t[yo];if(n&&n.setForRemoval){if(t[yo]=mo,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,go)&&this.markElementAsDisabled(t,!1),this.driver.query(t,go,!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)Io(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,e)}finally{for(var a=0;a<r.length;a++)r[a]()}}else for(var o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?Br(n).onDone(function(){s.forEach(function(t){return t()})}):s.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,i=new Va,r=[],a=new Map,o=[],s=new Map,l=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(function(t){c.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)c.add(e[i])});var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),f=Eo(d,this.collectedEnterElements),p=new Map,g=0;f.forEach(function(t,e){var n=oa+g++;p.set(e,n),t.forEach(function(t){return Io(t,n)})});for(var v=[],m=new Set,_=new Set,y=0;y<this.collectedLeaveElements.length;y++){var b=this.collectedLeaveElements[y],x=b[yo];x&&x.setForRemoval&&(v.push(b),m.add(b),x.hasAnimation?this.driver.query(b,".ng-star-inserted",!0).forEach(function(t){return m.add(t)}):_.add(b))}var w=new Map,k=Eo(d,Array.from(m));k.forEach(function(t,e){var n=sa+g++;w.set(e,n),t.forEach(function(t){return Io(t,n)})}),t.push(function(){f.forEach(function(t,e){var n=p.get(e);t.forEach(function(t){return Oo(t,n)})}),k.forEach(function(t,e){var n=w.get(e);t.forEach(function(t){return Oo(t,n)})}),v.forEach(function(t){n.processLeaveNode(t)})});for(var C=[],M=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(function(t){var e=t.player,a=t.element;if(C.push(e),n.collectedEnterElements.length){var c=a[yo];if(c&&c.setForMove)return void e.destroy()}var d=!h||!n.driver.containsElement(h,a),f=w.get(a),g=p.get(a),v=n._buildInstruction(t,i,g,f,d);if(v.errors&&v.errors.length)M.push(v);else{if(d)return e.onStart(function(){return ba(a,v.fromStyles)}),e.onDestroy(function(){return ya(a,v.toStyles)}),void r.push(e);if(t.isFallbackTransition)return e.onStart(function(){return ba(a,v.fromStyles)}),e.onDestroy(function(){return ya(a,v.toStyles)}),void r.push(e);v.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),i.append(a,v.timelines),o.push({instruction:v,player:e,element:a}),v.queriedElements.forEach(function(t){return Vr(s,t,[]).push(e)}),v.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var i=l.get(e);i||l.set(e,i=new Set),n.forEach(function(t){return i.add(t)})}}),v.postStyleProps.forEach(function(t,e){var n=Object.keys(t),i=u.get(e);i||u.set(e,i=new Set),n.forEach(function(t){return i.add(t)})})}});if(M.length){var S=[];M.forEach(function(t){S.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return S.push("- ".concat(t,"\n"))})}),C.forEach(function(t){return t.destroy()}),this.reportError(S)}var A=new Map,E=new Map;o.forEach(function(t){var e=t.element;i.has(e)&&(E.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))}),r.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){Vr(A,e,[]).push(t),t.destroy()})});var P=v.filter(function(t){return Do(t,l,u)}),I=new Map;Ao(I,this.driver,_,u,Or).forEach(function(t){Do(t,l,u)&&P.push(t)});var O=new Map;f.forEach(function(t,e){Ao(O,n.driver,new Set(t),l,"!")}),P.forEach(function(t){var e=I.get(t),n=O.get(t);I.set(t,Object.assign(Object.assign({},e),n))});var R=[],L=[],D={};o.forEach(function(t){var e=t.element,o=t.player,s=t.instruction;if(i.has(e)){if(c.has(e))return o.onDestroy(function(){return ya(e,s.toStyles)}),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);var l=D;if(E.size>1){for(var u=e,h=[];u=u.parentNode;){var d=E.get(u);if(d){l=d;break}h.push(u)}h.forEach(function(t){return E.set(t,l)})}var f=n._buildAnimation(o.namespaceId,s,A,a,O,I);if(o.setRealPlayer(f),l===D)R.push(o);else{var p=n.playersByElement.get(l);p&&p.length&&(o.parentPlayer=Br(p)),r.push(o)}}else ba(e,s.fromStyles),o.onDestroy(function(){return ya(e,s.toStyles)}),L.push(o),c.has(e)&&r.push(o)}),L.forEach(function(t){var e=a.get(t.element);if(e&&e.length){var n=Br(e);t.setRealPlayer(n)}}),r.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var N=0;N<v.length;N++){var Z=v[N],F=Z[yo];if(Oo(Z,sa),!F||!F.hasAnimation){var U=[];if(s.size){var B=s.get(Z);B&&B.length&&U.push.apply(U,_toConsumableArray(B));for(var z=this.driver.query(Z,ha,!0),q=0;q<z.length;q++){var H=s.get(z[q]);H&&H.length&&U.push.apply(U,_toConsumableArray(H))}}var G=U.filter(function(t){return!t.destroyed});G.length?Ro(this,Z,G):this.processLeaveNode(Z)}}return v.length=0,R.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),R}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e[yo];return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var a=[];if(e){var o=this.playersByQueriedElement.get(t);o&&(a=o)}else{var s=this.playersByElement.get(t);if(s){var l=!r||r==xo;s.forEach(function(t){t.queued||!l&&t.triggerName!=i||a.push(t)})}}return(n||i)&&(a=a.filter(function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)})),a}},{key:"_beforeAnimationBuild",value:function(t,e,n){var i,r=this,a=e.element,o=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName,l=_createForOfIteratorHelper(e.timelines);try{var u=function(){var t=i.value.element,l=t!==a,u=Vr(n,t,[]);r._getPreviousPlayers(t,l,o,s,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})};for(l.s();!(i=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}ba(a,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,a){var o=this,s=e.triggerName,l=e.element,u=[],c=new Set,h=new Set,d=e.timelines.map(function(e){var d=e.element;c.add(d);var f=d[yo];if(f&&f.removedBeforeQueried)return new Nr(e.duration,e.delay);var p=d!==l,g=function(t){var e=[];return Lo(t,e),e}((n.get(d)||vo).map(function(t){return t.getRealPlayer()})).filter(function(t){return!!t.element&&t.element===d}),v=r.get(d),m=a.get(d),_=zr(0,o._normalizer,0,e.keyframes,v,m),y=o._buildPlayer(e,_,g);if(e.subTimeline&&i&&h.add(d),p){var b=new Mo(t,s,d);b.setRealPlayer(y),u.push(b)}return y});u.forEach(function(t){Vr(o.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var a=i.indexOf(n);i.splice(a,1)}0==i.length&&delete t[e]}return i}(o.playersByQueriedElement,t.element,t)})}),c.forEach(function(t){return Io(t,ca)});var f=Br(d);return f.onDestroy(function(){c.forEach(function(t){return Oo(t,ca)}),ya(l,e.toStyles)}),h.forEach(function(t){Vr(i,t,[]).push(f)}),f}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Nr(t.duration,t.delay)}}]),t}(),Mo=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Nr,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return qr(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){Vr(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function To(t){return t&&1===t.nodeType}function So(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ao(t,e,n,i,r){var a=[];n.forEach(function(t){return a.push(So(t))});var o=[];i.forEach(function(n,i){var a={};n.forEach(function(t){var n=a[t]=e.computeStyle(i,t,r);(!n||0==n.length)&&(i[yo]=_o,o.push(i))}),t.set(i,a)});var s=0;return n.forEach(function(t){return So(t,a[s++])}),o}function Eo(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var i=new Set(e),r=new Map;function a(t){if(!t)return 1;var e=r.get(t);if(e)return e;var o=t.parentNode;return e=n.has(o)?o:i.has(o)?1:a(o),r.set(t,e),e}return e.forEach(function(t){var e=a(t);1!==e&&n.get(e).push(t)}),n}var Po="$$classes";function Io(t,e){if(t.classList)t.classList.add(e);else{var n=t[Po];n||(n=t[Po]={}),n[e]=!0}}function Oo(t,e){if(t.classList)t.classList.remove(e);else{var n=t[Po];n&&delete n[e]}}function Ro(t,e,n){Br(n).onDone(function(){return t.processLeaveNode(e)})}function Lo(t,e){for(var n=0;n<t.length;n++){var i=t[n];i instanceof Zr?Lo(i.players,e):e.push(i)}}function Do(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach(function(t){return r.add(t)}):e.set(t,i),n.delete(t),!0}var No=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new Co(e,n,i),this._timelineEngine=new ho(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return _createClass(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var a=t+"-"+i,o=this._triggerCache[a];if(!o){var s=[],l=Fa(this._driver,r,s);if(s.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(t,e,n){return new lo(t,e,n)}(i,l,this._normalizer),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(e,i,o)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,e,n,i){if("@"==n.charAt(0)){var r=_slicedToArray(Wr(n),2),a=r[0],o=r[1];this._timelineEngine.command(a,e,o,i)}else this._transitionEngine.trigger(t,e,n,i)}},{key:"listen",value:function(t,e,n,i,r){if("@"==n.charAt(0)){var a=_slicedToArray(Wr(n),2),o=a[0],s=a[1];return this._timelineEngine.listen(o,e,s,r)}return this._transitionEngine.listen(t,e,n,i,r)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function Zo(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=Uo(e[0]),e.length>1&&(i=Uo(e[e.length-1]))):e&&(n=Uo(e)),n||i?new Fo(t,n,i):null}var Fo=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return _createClass(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&ya(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(ya(this._element,this._initialStyles),this._endStyles&&(ya(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ba(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ba(this._element,this._endStyles),this._endStyles=null),ya(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function Uo(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];Bo(r)&&((e=e||{})[r]=t[r])}return e}function Bo(t){return"display"===t||"position"===t}var zo="animation",qo="animationend",Ho=function(){function t(e,n,i,r,a,o,s){var l=this;_classCallCheck(this,t),this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return l._handleCallback(t)}}return _createClass(t,[{key:"apply",value:function(){(function(t,e){var n=Qo(t,"").trim();n.length&&(function(t,e){for(var n=0,i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e="".concat(n,", ").concat(e)),Yo(t,"",e)})(this._element,"".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name)),jo(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Go(this._element,this._name,"paused")}},{key:"resume",value:function(){Go(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=Vo(this._element,this._name);this._position=t*this._duration,Yo(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),jo(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){var n=Qo(t,"").split(","),i=Wo(n,e);i>=0&&(n.splice(i,1),Yo(t,"",n.join(",")))}(this._element,this._name))}}]),t}();function Go(t,e,n){Yo(t,"PlayState",n,Vo(t,e))}function Vo(t,e){var n=Qo(t,"");return n.indexOf(",")>0?Wo(n.split(","),e):Wo([n],e)}function Wo(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function jo(t,e,n){n?t.removeEventListener(qo,e):t.addEventListener(qo,e)}function Yo(t,e,n,i){var r=zo+e;if(null!=i){var a=t.style[r];if(a.length){var o=a.split(",");o[i]=n,n=o.join(",")}}t.style[r]=n}function Qo(t,e){return t.style[zo+e]||""}var Jo=function(){function t(e,n,i,r,a,o,s,l){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=a,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+a,this._buildStyler()}return _createClass(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new Ho(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:Oa(t.element,i))})}this.currentSnapshot=e}}]),t}(),Xo=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this)).element=t,r._startingStyles={},r.__initialized=!1,r._styles=ia(i),r}return _createClass(n,[{key:"init",value:function(){var t=this;this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),_get(_getPrototypeOf(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),_get(_getPrototypeOf(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;!this._startingStyles||(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,_get(_getPrototypeOf(n.prototype),"destroy",this).call(this))}}]),n}(Nr),$o=function(){function t(){_classCallCheck(this,t),this._count=0}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Kr(t)}},{key:"matchesElement",value:function(t,e){return ta(t,e)}},{key:"containsElement",value:function(t,e){return ea(t,e)}},{key:"query",value:function(t,e,n){return na(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return ia(t)});var i="@keyframes ".concat(e," {\n"),r="";n.forEach(function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}}),i+="".concat(r,"}\n")}),i+="}\n";var a=document.createElement("style");return a.textContent=i,a}},{key:"animate",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=a.filter(function(t){return t instanceof Jo}),s={};Ea(n,i)&&o.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return s[t]=e[t]})});var l=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"==n||"easing"==n||(e[n]=t[n])})}),e}(e=Pa(t,e,s));if(0==n)return new Xo(t,l);var u="gen_css_kf_"+this._count++,c=this.buildKeyframeElement(t,u,e);(function(t){var e,n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(c);var h=Zo(t,e),d=new Jo(t,e,u,n,i,r,l,h);return d.onDestroy(function(){var t;(t=c).parentNode.removeChild(t)}),d}}]),t}(),Ko=function(){function t(e,n,i,r){_classCallCheck(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _createClass(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:Oa(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),ts=function(){function t(){_classCallCheck(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(es().toString()),this._cssKeyframesDriver=new $o}return _createClass(t,[{key:"validateStyleProperty",value:function(t){return Kr(t)}},{key:"matchesElement",value:function(t,e){return ta(t,e)}},{key:"containsElement",value:function(t,e){return ea(t,e)}},{key:"query",value:function(t,e,n){return na(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,a);var s={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(s.easing=r);var l={},u=a.filter(function(t){return t instanceof Ko});Ea(n,i)&&u.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return l[t]=e[t]})});var c=Zo(t,e=Pa(t,e=e.map(function(t){return va(t,!1)}),l));return new Ko(t,e,s,c)}}]),t}();function es(){return Fr()&&Element.prototype.animate||{}}var ns=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,r){var a;return _classCallCheck(this,n),(a=e.call(this))._nextAnimationId=0,a._renderer=t.createRenderer(r.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}}),a}return _createClass(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?Rr(t):t;return as(this._renderer,null,e,"register",[n]),new is(e,this._renderer)}}]),n}(Ir);return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(o))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),is=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this))._id=t,r._renderer=i,r}return _createClass(n,[{key:"create",value:function(t,e){return new rs(this._id,t,e||{},this._renderer)}}]),n}(function(){return _createClass(function t(){_classCallCheck(this,t)})}()),rs=function(){function t(e,n,i,r){_classCallCheck(this,t),this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _createClass(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return as(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset"),this._started=!1}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function as(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var os="@.disabled",ss=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _createClass(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new ls("",i,this.engine),this._rendererCache.set(i,r)),r}var a=e.id,o=e.id+"-"+this._currentId;this._currentId++,this.engine.register(o,t);return e.data.animation.forEach(function e(i){Array.isArray(i)?i.forEach(e):n.engine.registerTrigger(a,o,t,i.name,i)}),new us(this,o,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,e,n){var i=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return e(n)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){i._zone.run(function(){i._animationCallbacksBuffer.forEach(function(t){var e=_slicedToArray(t,2);(0,e[0])(e[1])}),i._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.FYo),i.LFG(No),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),ls=function(){function t(e,n,i){_classCallCheck(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _createClass(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&e==os?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),us=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;return _classCallCheck(this,n),(o=e.call(this,i,r,a)).factory=t,o.namespaceId=i,o}return _createClass(n,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==os?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,e,n){var i=this;if("@"==e.charAt(0)){var r,a=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),o=e.substr(1),s="";return"@"!=o.charAt(0)&&(o=(r=_slicedToArray(function(t){var e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(o),2))[0],s=r[1]),this.engine.listen(this.namespaceId,a,o,s,function(t){i.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}]),n}(ls),cs=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,t.body,i,r)}return _createClass(n,[{key:"ngOnDestroy",value:function(){this.flush()}}]),n}(No);return t.\u0275fac=function(e){return new(e||t)(i.LFG(o),i.LFG(aa),i.LFG(eo))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),hs=new i.OlP("AnimationModuleType"),ds=[{provide:Ir,useClass:ns},{provide:eo,useFactory:function(){return new no}},{provide:No,useClass:cs},{provide:i.FYo,useFactory:function(t,e,n){return new ss(t,e,n)},deps:[ut,No,i.R0b]}],fs=[{provide:aa,useFactory:function(){return"function"==typeof es()?new ts:new $o}},{provide:hs,useValue:"BrowserAnimations"}].concat(ds),ps=[{provide:aa,useClass:ra},{provide:hs,useValue:"NoopAnimations"}].concat(ds),gs=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"withConfig",value:function(e){return{ngModule:t,providers:e.disableAnimations?ps:fs}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:fs,imports:[xt]}),t}(),vs=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(fn.L),ms=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this)).parent=t,a.outerValue=i,a.outerIndex=r,a.index=0,a}return _createClass(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(fn.L),_s=n(7444);function ys(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new ms(t,n,i);if(!r.closed)return e instanceof kt.y?e.subscribe(r):(0,_s.s)(e)(r)}var bs=n(6693),xs={},ws=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new ks(t,this.resultSelector))}}]),t}(),ks=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return _createClass(n,[{key:"_next",value:function(t){this.values.push(xs),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(ys(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var i=this.values,r=this.toRespond?i[n]===xs?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(vs),Cs=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function Ms(t){return new kt.y(function(e){var n;try{n=t()}catch(i){return void e.error(i)}return(n?(0,wt.D)(n):(0,Bi.c)()).subscribe(e)})}var Ts=n(2441);function Ss(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new As(t,e,n))}}var As=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,t),this.accumulator=e,this.seed=n,this.hasSeed=i}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Es(t,this.accumulator,this.seed,this.hasSeed))}}]),t}(),Es=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;return _classCallCheck(this,n),(o=e.call(this,t)).accumulator=i,o._seed=r,o.hasSeed=a,o.index=0,o}return _createClass(n,[{key:"seed",get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t}},{key:"_next",value:function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=e,this.destination.next(e)}}]),n}(fn.L);function Ps(t){return function(e){var n=new Is(t),i=e.lift(n);return n.caught=i}}var Is=function(){function t(e){_classCallCheck(this,t),this.selector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Os(t,this.selector,this.caught))}}]),t}(),Os=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t)).selector=i,a.caught=r,a}return _createClass(n,[{key:"error",value:function(t){if(!this.isStopped){var e;try{e=this.selector(t,this.caught)}catch(a){return void _get(_getPrototypeOf(n.prototype),"error",this).call(this,a)}this._unsubscribeAndRecycle();var i=new si.IY(this);this.add(i);var r=(0,si.ft)(e,i);r!==i&&this.add(r)}}}]),n}(si.Ds);function Rs(t){return function(e){return 0===t?(0,Bi.c)():e.lift(new Ls(t))}}var Ls=function(){function t(e){if(_classCallCheck(this,t),this.total=e,this.total<0)throw new Ui}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Ds(t,this.total))}}]),t}(),Ds=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).total=i,r.ring=new Array,r.count=0,r}return _createClass(n,[{key:"_next",value:function(t){var e=this.ring,n=this.total,i=this.count++;e.length<n?e.push(t):e[i%n]=t}},{key:"_complete",value:function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var a=e++%n;t.next(i[a])}t.complete()}}]),n}(fn.L);function Ns(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Us;return function(e){return e.lift(new Zs(t))}}var Zs=function(){function t(e){_classCallCheck(this,t),this.errorFactory=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Fs(t,this.errorFactory))}}]),t}(),Fs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).errorFactory=i,r.hasValue=!1,r}return _createClass(n,[{key:"_next",value:function(t){this.hasValue=!0,this.destination.next(t)}},{key:"_complete",value:function(){if(this.hasValue)return this.destination.complete();var t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}]),n}(fn.L);function Us(){return new Cs}function Bs(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(e){return e.lift(new zs(t))}}var zs=function(){function t(e){_classCallCheck(this,t),this.defaultValue=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new qs(t,this.defaultValue))}}]),t}(),qs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).defaultValue=i,r.isEmpty=!0,r}return _createClass(n,[{key:"_next",value:function(t){this.isEmpty=!1,this.destination.next(t)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(fn.L),Hs=n(4487);function Gs(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?pn(function(e,n){return t(e,n,i)}):Hs.y,zi(1),n?Bs(e):Ns(function(){return new Cs}))}}var Vs=n(1307),Ws=function(){function t(e){_classCallCheck(this,t),this.callback=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new js(t,this.callback))}}]),t}(),js=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).add(new ri.w(i)),r}return _createClass(n)}(fn.L),Ys=_createClass(function t(e,n){_classCallCheck(this,t),this.id=e,this.url=n}),Qs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck(this,n),(r=e.call(this,t,i)).navigationTrigger=a,r.restoredState=o,r}return _createClass(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ys),Js=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).urlAfterRedirects=r,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(Ys),Xs=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).reason=r,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(Ys),$s=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).error=r,a}return _createClass(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(Ys),Ks=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ys),tl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ys),el=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o){var s;return _classCallCheck(this,n),(s=e.call(this,t,i)).urlAfterRedirects=r,s.state=a,s.shouldActivate=o,s}return _createClass(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(Ys),nl=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ys),il=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;return _classCallCheck(this,n),(o=e.call(this,t,i)).urlAfterRedirects=r,o.state=a,o}return _createClass(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(Ys),rl=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),t}(),al=function(){function t(e){_classCallCheck(this,t),this.route=e}return _createClass(t,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),t}(),ol=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),sl=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ll=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),ul=function(){function t(e){_classCallCheck(this,t),this.snapshot=e}return _createClass(t,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),t}(),cl=function(){function t(e,n,i){_classCallCheck(this,t),this.routerEvent=e,this.position=n,this.anchor=i}return _createClass(t,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),t}(),hl="primary",dl=function(){function t(e){_classCallCheck(this,t),this.params=e||{}}return _createClass(t,[{key:"has",value:function(t){return Object.prototype.hasOwnProperty.call(this.params,t)}},{key:"get",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null}},{key:"getAll",value:function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),t}();function fl(t){return new dl(t)}var pl="ngNavigationCancelingError";function gl(t){var e=Error("NavigationCancelingError: "+t);return e[pl]=!0,e}function vl(t,e,n){var i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;for(var r={},a=0;a<i.length;a++){var o=i[a],s=t[a];if(o.startsWith(":"))r[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function ml(t,e){var n,i=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!i||!r||i.length!=r.length)return!1;for(var a=0;a<i.length;a++)if(!_l(t[n=i[a]],e[n]))return!1;return!0}function _l(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;var n=_toConsumableArray(t).sort(),i=_toConsumableArray(e).sort();return n.every(function(t,e){return i[e]===t})}return t===e}function yl(t){return Array.prototype.concat.apply([],t)}function bl(t){return t.length>0?t[t.length-1]:null}function xl(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function wl(t){return(0,i.CqO)(t)?t:(0,i.QGY)(t)?(0,wt.D)(Promise.resolve(t)):(0,cn.of)(t)}var kl={exact:function t(e,n,i){if(!Ol(e.segments,n.segments)||!Al(e.segments,n.segments,i)||e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children)if(!e.children[r]||!t(e.children[r],n.children[r],i))return!1;return!0},subset:Tl},Cl={exact:function(t,e){return ml(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return _l(t[n],e[n])})},ignored:function(){return!0}};function Ml(t,e,n){return kl[n.paths](t.root,e.root,n.matrixParams)&&Cl[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Tl(t,e,n){return Sl(t,e,e.segments,n)}function Sl(t,e,n,i){if(t.segments.length>n.length){var r=t.segments.slice(0,n.length);return!(!Ol(r,n)||e.hasChildren()||!Al(r,n,i))}if(t.segments.length===n.length){if(!Ol(t.segments,n)||!Al(t.segments,n,i))return!1;for(var a in e.children)if(!t.children[a]||!Tl(t.children[a],e.children[a],i))return!1;return!0}var o=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ol(t.segments,o)&&Al(t.segments,o,i)&&t.children[hl])&&Sl(t.children[hl],e,s,i)}function Al(t,e,n){return e.every(function(e,i){return Cl[n](t[i].parameters,e.parameters)})}var El=function(){function t(e,n,i){_classCallCheck(this,t),this.root=e,this.queryParams=n,this.fragment=i}return _createClass(t,[{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=fl(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return Dl.serialize(this)}}]),t}(),Pl=function(){function t(e,n){var i=this;_classCallCheck(this,t),this.segments=e,this.children=n,this.parent=null,xl(n,function(t,e){return t.parent=i})}return _createClass(t,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}},{key:"toString",value:function(){return Nl(this)}}]),t}(),Il=function(){function t(e,n){_classCallCheck(this,t),this.path=e,this.parameters=n}return _createClass(t,[{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=fl(this.parameters)),this._parameterMap}},{key:"toString",value:function(){return Hl(this)}}]),t}();function Ol(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}var Rl=_createClass(function t(){_classCallCheck(this,t)}),Ll=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"parse",value:function(t){var e=new Yl(t);return new El(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}},{key:"serialize",value:function(t){var e;return"".concat("/".concat(Zl(t.root,!0)),function(t){var e=Object.keys(t).map(function(e){var n=t[e];return Array.isArray(n)?n.map(function(t){return"".concat(Ul(e),"=").concat(Ul(t))}).join("&"):"".concat(Ul(e),"=").concat(Ul(n))}).filter(function(t){return!!t});return e.length?"?".concat(e.join("&")):""}(t.queryParams)).concat("string"==typeof t.fragment?"#".concat((e=t.fragment,encodeURI(e))):"")}}]),t}(),Dl=new Ll;function Nl(t){return t.segments.map(function(t){return Hl(t)}).join("/")}function Zl(t,e){if(!t.hasChildren())return Nl(t);if(e){var n=t.children[hl]?Zl(t.children[hl],!1):"",i=[];return xl(t.children,function(t,e){e!==hl&&i.push("".concat(e,":").concat(Zl(t,!1)))}),i.length>0?"".concat(n,"(").concat(i.join("//"),")"):n}var r=function(t,e){var n=[];return xl(t.children,function(t,i){i===hl&&(n=n.concat(e(t,i)))}),xl(t.children,function(t,i){i!==hl&&(n=n.concat(e(t,i)))}),n}(t,function(e,n){return n===hl?[Zl(t.children[hl],!1)]:["".concat(n,":").concat(Zl(e,!1))]});return 1===Object.keys(t.children).length&&null!=t.children[hl]?"".concat(Nl(t),"/").concat(r[0]):"".concat(Nl(t),"/(").concat(r.join("//"),")")}function Fl(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ul(t){return Fl(t).replace(/%3B/gi,";")}function Bl(t){return Fl(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zl(t){return decodeURIComponent(t)}function ql(t){return zl(t.replace(/\+/g,"%20"))}function Hl(t){return"".concat(Bl(t.path)).concat(function(t){return Object.keys(t).map(function(e){return";".concat(Bl(e),"=").concat(Bl(t[e]))}).join("")}(t.parameters))}var Gl=/^[^\/()?;=#]+/;function Vl(t){var e=t.match(Gl);return e?e[0]:""}var Wl=/^[^=?&#]+/,jl=/^[^?&#]+/,Yl=function(){function t(e){_classCallCheck(this,t),this.url=e,this.remaining=e}return _createClass(t,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pl([],{}):new Pl([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[hl]=new Pl(t,e)),n}},{key:"parseSegment",value:function(){var t=Vl(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(t),new Il(zl(t),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t}},{key:"parseParam",value:function(t){var e=Vl(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=Vl(this.remaining);i&&(n=i,this.capture(n))}t[zl(e)]=zl(n)}}},{key:"parseQueryParam",value:function(t){var e=function(t){var e=t.match(Wl);return e?e[0]:""}(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(jl);return e?e[0]:""}(this.remaining);i&&(n=i,this.capture(n))}var r=ql(e),a=ql(n);if(t.hasOwnProperty(r)){var o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(a)}else t[r]=a}}},{key:"parseParens",value:function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Vl(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error("Cannot parse url '".concat(this.url,"'"));var r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=hl);var a=this.parseChildren();e[r]=1===Object.keys(a).length?a[hl]:new Pl([],a),this.consumeOptional("//")}return e}},{key:"peekStartsWith",value:function(t){return this.remaining.startsWith(t)}},{key:"consumeOptional",value:function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}},{key:"capture",value:function(t){if(!this.consumeOptional(t))throw new Error('Expected "'.concat(t,'".'))}}]),t}(),Ql=function(){function t(e){_classCallCheck(this,t),this._root=e}return _createClass(t,[{key:"root",get:function(){return this._root.value}},{key:"parent",value:function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}},{key:"children",value:function(t){var e=Jl(t,this._root);return e?e.children.map(function(t){return t.value}):[]}},{key:"firstChild",value:function(t){var e=Jl(t,this._root);return e&&e.children.length>0?e.children[0].value:null}},{key:"siblings",value:function(t){var e=Xl(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})}},{key:"pathFromRoot",value:function(t){return Xl(t,this._root).map(function(t){return t.value})}}]),t}();function Jl(t,e){if(t===e.value)return e;var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var r=Jl(t,n.value);if(r)return r}}catch(a){i.e(a)}finally{i.f()}return null}function Xl(t,e){if(t===e.value)return[e];var n,i=_createForOfIteratorHelper(e.children);try{for(i.s();!(n=i.n()).done;){var r=Xl(t,n.value);if(r.length)return r.unshift(e),r}}catch(a){i.e(a)}finally{i.f()}return[]}var $l=function(){function t(e,n){_classCallCheck(this,t),this.value=e,this.children=n}return _createClass(t,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),t}();function Kl(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var tu=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t)).snapshot=i,ou(_assertThisInitialized(r),t),r}return _createClass(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(Ql);function eu(t,e){var n=function(t,e){var n=new ru([],{},{},"",{},hl,e,null,t.root,-1,{});return new au("",new $l(n,[]))}(t,e),i=new Fi([new Il("",{})]),r=new Fi({}),a=new Fi({}),o=new Fi({}),s=new Fi(""),l=new nu(i,r,o,s,a,hl,e,n.root);return l.snapshot=n.root,new tu(new $l(l,[]),n)}var nu=function(){function t(e,n,i,r,a,o,s,l){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=l}return _createClass(t,[{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe((0,Mt.U)(function(t){return fl(t)}))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Mt.U)(function(t){return fl(t)}))),this._queryParamMap}},{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}}]),t}();function iu(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=t.pathFromRoot,i=0;if("always"!==e)for(i=n.length-1;i>=1;){var r=n[i],a=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function(t){return t.reduce(function(t,e){return{params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(i))}var ru=function(){function t(e,n,i,r,a,o,s,l,u,c,h){_classCallCheck(this,t),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=c,this._resolve=h}return _createClass(t,[{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=fl(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=fl(this.queryParams)),this._queryParamMap}},{key:"toString",value:function(){return"Route(url:'".concat(this.url.map(function(t){return t.toString()}).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}}]),t}(),au=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,i)).url=t,ou(_assertThisInitialized(r),i),r}return _createClass(n,[{key:"toString",value:function(){return su(this._root)}}]),n}(Ql);function ou(t,e){e.value._routerState=t,e.children.forEach(function(e){return ou(t,e)})}function su(t){var e=t.children.length>0?" { ".concat(t.children.map(su).join(", ")," } "):"";return"".concat(t.value).concat(e)}function lu(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ml(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),ml(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!ml(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),ml(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function uu(t,e){return ml(t.params,e.params)&&function(t,e){return Ol(t,e)&&t.every(function(t,n){return ml(t.parameters,e[n].parameters)})}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||uu(t.parent,e.parent))}function cu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){var i=n.value;i._futureSnapshot=e.value;var r=function(t,e,n){return e.children.map(function(e){var i,r=_createForOfIteratorHelper(n.children);try{for(r.s();!(i=r.n()).done;){var a=i.value;if(t.shouldReuseRoute(e.value,a.value.snapshot))return cu(t,e,a)}}catch(o){r.e(o)}finally{r.f()}return cu(t,e)})}(t,e,n);return new $l(i,r)}if(t.shouldAttach(e.value)){var a=t.retrieve(e.value);if(null!==a){var o=a.route;return hu(e,o),o}}var s=function(t){return new nu(new Fi(t.url),new Fi(t.params),new Fi(t.queryParams),new Fi(t.fragment),new Fi(t.data),t.outlet,t.component,t)}(e.value),l=e.children.map(function(e){return cu(t,e)});return new $l(s,l)}function hu(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(var n=0;n<t.children.length;++n)hu(t.children[n],e.children[n])}function du(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fu(t){return"object"==typeof t&&null!=t&&t.outlets}function pu(t,e,n,i,r){var a={};return i&&xl(i,function(t,e){a[e]=Array.isArray(t)?t.map(function(t){return"".concat(t)}):"".concat(t)}),new El(n.root===t?e:gu(n.root,t,e),a,r)}function gu(t,e,n){var i={};return xl(t.children,function(t,r){i[r]=t===e?n:gu(t,e,n)}),new Pl(t.segments,i)}var vu=function(){function t(e,n,i){if(_classCallCheck(this,t),this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&du(i[0]))throw new Error("Root segment cannot have matrix parameters");var r=i.find(fu);if(r&&r!==bl(i))throw new Error("{outlets:{}} has to be the last command")}return _createClass(t,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),t}(),mu=_createClass(function t(e,n,i){_classCallCheck(this,t),this.segmentGroup=e,this.processChildren=n,this.index=i});function _u(t,e,n){if(t||(t=new Pl([],{})),0===t.segments.length&&t.hasChildren())return yu(t,e,n);var i=function(t,e,n){for(var i=0,r=e,a={match:!1,pathIndex:0,commandIndex:0};r<t.segments.length;){if(i>=n.length)return a;var o=t.segments[r],s=n[i];if(fu(s))break;var l="".concat(s),u=i<n.length-1?n[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!ku(l,u,o))return a;i+=2}else{if(!ku(l,{},o))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){var a=new Pl(t.segments.slice(0,i.pathIndex),{});return a.children[hl]=new Pl(t.segments.slice(i.pathIndex),t.children),yu(a,0,r)}return i.match&&0===r.length?new Pl(t.segments,{}):i.match&&!t.hasChildren()?bu(t,e,n):i.match?yu(t,0,r):bu(t,e,n)}function yu(t,e,n){if(0===n.length)return new Pl(t.segments,{});var i=function(t){return fu(t[0])?t[0].outlets:_defineProperty({},hl,t)}(n),r={};return xl(i,function(n,i){"string"==typeof n&&(n=[n]),null!==n&&(r[i]=_u(t.children[i],e,n))}),xl(t.children,function(t,e){void 0===i[e]&&(r[e]=t)}),new Pl(t.segments,r)}function bu(t,e,n){for(var i=t.segments.slice(0,e),r=0;r<n.length;){var a=n[r];if(fu(a)){var o=xu(a.outlets);return new Pl(i,o)}if(0===r&&du(n[0]))i.push(new Il(t.segments[e].path,wu(n[0]))),r++;else{var s=fu(a)?a.outlets[hl]:"".concat(a),l=r<n.length-1?n[r+1]:null;s&&l&&du(l)?(i.push(new Il(s,wu(l))),r+=2):(i.push(new Il(s,{})),r++)}}return new Pl(i,{})}function xu(t){var e={};return xl(t,function(t,n){"string"==typeof t&&(t=[t]),null!==t&&(e[n]=bu(new Pl([],{}),0,t))}),e}function wu(t){var e={};return xl(t,function(t,n){return e[n]="".concat(t)}),e}function ku(t,e,n){return t==n.path&&ml(e,n.parameters)}var Cu=function(){function t(e,n,i,r){_classCallCheck(this,t),this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r}return _createClass(t,[{key:"activate",value:function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),lu(this.futureState.root),this.activateChildRoutes(e,n,t)}},{key:"deactivateChildRoutes",value:function(t,e,n){var i=this,r=Kl(e);t.children.forEach(function(t){var e=t.value.outlet;i.deactivateRoutes(t,r[e],n),delete r[e]}),xl(r,function(t,e){i.deactivateRouteAndItsChildren(t,n)})}},{key:"deactivateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(i===r)if(i.component){var a=n.getContext(i.outlet);a&&this.deactivateChildRoutes(t,e,a.children)}else this.deactivateChildRoutes(t,e,n);else r&&this.deactivateRouteAndItsChildren(e,n)}},{key:"deactivateRouteAndItsChildren",value:function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}},{key:"detachAndStoreRouteSubtree",value:function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var i=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:r})}}},{key:"deactivateRouteAndOutlet",value:function(t,e){for(var n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,r=Kl(t),a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];this.deactivateRouteAndItsChildren(r[s],i)}n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}},{key:"activateChildRoutes",value:function(t,e,n){var i=this,r=Kl(e);t.children.forEach(function(t){i.activateRoutes(t,r[t.value.outlet],n),i.forwardEvent(new ul(t.value.snapshot))}),t.children.length&&this.forwardEvent(new sl(t.value.snapshot))}},{key:"activateRoutes",value:function(t,e,n){var i=t.value,r=e?e.value:null;if(lu(i),i===r)if(i.component){var a=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,a.children)}else this.activateChildRoutes(t,e,n);else if(i.component){var o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){var s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Mu(s.route)}else{var l=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(i.snapshot),u=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=i,o.resolver=u,o.outlet&&o.outlet.activateWith(i,u),this.activateChildRoutes(t,null,o.children)}}else this.activateChildRoutes(t,null,n)}}]),t}();function Mu(t){lu(t.value),t.children.forEach(Mu)}var Tu=_createClass(function t(e,n){_classCallCheck(this,t),this.routes=e,this.module=n});function Su(t){return"function"==typeof t}function Au(t){return t instanceof El}var Eu=Symbol("INITIAL_VALUE");function Pu(){return yi(function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i,r;return(0,hi.K)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&(0,Ct.k)(e[0])&&(e=e[0]),(0,bs.n)(e,r).lift(new ws(i))}(t.map(function(t){return t.pipe(zi(1),function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return(0,hi.K)(i)?(e.pop(),function(t){return _i(e,t,i)}):function(t){return _i(e,t)}}(Eu))})).pipe(Ss(function(t,e){var n=!1;return e.reduce(function(t,i,r){return t!==Eu?t:(i===Eu&&(n=!0),n||!1!==i&&r!==e.length-1&&!Au(i)?t:i)},t)},Eu),pn(function(t){return t!==Eu}),(0,Mt.U)(function(t){return Au(t)?t:!0===t}),zi(1))})}var Iu=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i._UZ(0,"router-outlet")},directives:function(){return[Ec]},encapsulation:2}),t}();function Ou(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<t.length;n++){var i=t[n];Ru(i,Lu(e,i))}}function Ru(t,e){t.children&&Ou(t.children,e)}function Lu(t,e){return e?t||e.path?t&&!e.path?"".concat(t,"/"):!t&&e.path?e.path:"".concat(t,"/").concat(e.path):"":t}function Du(t){var e=t.children&&t.children.map(Du),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==hl&&(n.component=Iu),n}function Nu(t){return t.outlet||hl}function Zu(t,e){var n=t.filter(function(t){return Nu(t)===e});return n.push.apply(n,_toConsumableArray(t.filter(function(t){return Nu(t)!==e}))),n}var Fu={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Uu(t,e,n){var i;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Fu):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};var r=(e.matcher||vl)(n,t,e);if(!r)return Object.assign({},Fu);var a={};xl(r.posParams,function(t,e){a[e]=t.path});var o=r.consumed.length>0?Object.assign(Object.assign({},a),r.consumed[r.consumed.length-1].parameters):a;return{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o,positionalParamSegments:null!==(i=r.posParams)&&void 0!==i?i:{}}}function Bu(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"corrected";if(n.length>0&&function(t,e,n){return n.some(function(n){return zu(t,e,n)&&Nu(n)!==hl})}(t,n,i)){var a=new Pl(e,function(t,e,n,i){var r={};r[hl]=i,i._sourceSegment=t,i._segmentIndexShift=e.length;var a,o=_createForOfIteratorHelper(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(""===s.path&&Nu(s)!==hl){var l=new Pl([],{});l._sourceSegment=t,l._segmentIndexShift=e.length,r[Nu(s)]=l}}}catch(u){o.e(u)}finally{o.f()}return r}(t,e,i,new Pl(n,t.children)));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(function(n){return zu(t,e,n)})}(t,n,i)){var o=new Pl(t.segments,function(t,e,n,i,r,a){var o,s={},l=_createForOfIteratorHelper(i);try{for(l.s();!(o=l.n()).done;){var u=o.value;if(zu(t,n,u)&&!r[Nu(u)]){var c=new Pl([],{});c._sourceSegment=t,c._segmentIndexShift="legacy"===a?t.segments.length:e.length,s[Nu(u)]=c}}}catch(h){l.e(h)}finally{l.f()}return Object.assign(Object.assign({},r),s)}(t,e,n,i,t.children,r));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}var s=new Pl(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function zu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function qu(t,e,n,i){return!!(Nu(t)===i||i!==hl&&zu(e,n,t))&&("**"===t.path||Uu(e,t,n).matched)}function Hu(t,e,n){return 0===e.length&&!t.children[n]}var Gu=_createClass(function t(e){_classCallCheck(this,t),this.segmentGroup=e||null}),Vu=_createClass(function t(e){_classCallCheck(this,t),this.urlTree=e});function Wu(t){return new kt.y(function(e){return e.error(new Gu(t))})}function ju(t){return new kt.y(function(e){return e.error(new Vu(t))})}function Yu(t){return new kt.y(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(t,"'")))})}var Qu=function(){function t(e,n,r,a,o){_classCallCheck(this,t),this.configLoader=n,this.urlSerializer=r,this.urlTree=a,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(i.h0i)}return _createClass(t,[{key:"apply",value:function(){var t=this,e=Bu(this.urlTree.root,[],[],this.config).segmentGroup,n=new Pl(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,n,hl).pipe((0,Mt.U)(function(e){return t.createUrlTree(Ju(e),t.urlTree.queryParams,t.urlTree.fragment)})).pipe(Ps(function(e){if(e instanceof Vu)return t.allowRedirects=!1,t.match(e.urlTree);throw e instanceof Gu?t.noMatchError(e):e}))}},{key:"match",value:function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,hl).pipe((0,Mt.U)(function(n){return e.createUrlTree(Ju(n),t.queryParams,t.fragment)})).pipe(Ps(function(t){throw t instanceof Gu?e.noMatchError(t):t}))}},{key:"noMatchError",value:function(t){return new Error("Cannot match any routes. URL Segment: '".concat(t.segmentGroup,"'"))}},{key:"createUrlTree",value:function(t,e,n){var i=t.segments.length>0?new Pl([],_defineProperty({},hl,t)):t;return new El(i,e,n)}},{key:"expandSegmentGroup",value:function(t,e,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Mt.U)(function(t){return new Pl([],t)})):this.expandSegment(t,n,e,n.segments,i,!0)}},{key:"expandChildren",value:function(t,e,n){for(var i=this,r=[],a=0,o=Object.keys(n.children);a<o.length;a++){var s=o[a];"primary"===s?r.unshift(s):r.push(s)}return(0,wt.D)(r).pipe(dn(function(r){var a=n.children[r],o=Zu(e,r);return i.expandSegmentGroup(t,o,a,r).pipe((0,Mt.U)(function(t){return{segment:t,outlet:r}}))}),Ss(function(t,e){return t[e.outlet]=e.segment,t},{}),function(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?pn(function(e,n){return t(e,n,i)}):Hs.y,Rs(1),n?Bs(e):Ns(function(){return new Cs}))}}())}},{key:"expandSegment",value:function(t,e,n,i,r,a){var o=this;return(0,wt.D)(n).pipe(dn(function(s){return o.expandSegmentAgainstRoute(t,e,n,s,i,r,a).pipe(Ps(function(t){if(t instanceof Gu)return(0,cn.of)(null);throw t}))}),Gs(function(t){return!!t}),Ps(function(t,n){if(t instanceof Cs||"EmptyError"===t.name){if(Hu(e,i,r))return(0,cn.of)(new Pl([],{}));throw new Gu(e)}throw t}))}},{key:"expandSegmentAgainstRoute",value:function(t,e,n,i,r,a,o){return qu(i,e,r,a)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,r,a):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,i,r,a):Wu(e):Wu(e)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,a){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,i,a):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,i,r,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(t,e,n,i){var r=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?ju(a):this.lineralizeSegments(n,a).pipe((0,hn.zg)(function(n){var a=new Pl(n,{});return r.expandSegment(t,a,e,n,i,!1)}))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(t,e,n,i,r,a){var o=this,s=Uu(e,i,r),l=s.matched,u=s.consumedSegments,c=s.lastChild,h=s.positionalParamSegments;if(!l)return Wu(e);var d=this.applyRedirectCommands(u,i.redirectTo,h);return i.redirectTo.startsWith("/")?ju(d):this.lineralizeSegments(i,d).pipe((0,hn.zg)(function(i){return o.expandSegment(t,e,n,i.concat(r.slice(c)),a,!1)}))}},{key:"matchSegmentAgainstRoute",value:function(t,e,n,i,r){var a=this;if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,cn.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Mt.U)(function(t){return n._loadedConfig=t,new Pl(i,{})})):(0,cn.of)(new Pl(i,{}));var o=Uu(e,n,i),s=o.matched,l=o.consumedSegments,u=o.lastChild;if(!s)return Wu(e);var c=i.slice(u);return this.getChildConfig(t,n,i).pipe((0,hn.zg)(function(t){var i=t.module,o=t.routes,s=Bu(e,l,c,o),u=s.segmentGroup,h=s.slicedSegments,d=new Pl(u.segments,u.children);if(0===h.length&&d.hasChildren())return a.expandChildren(i,o,d).pipe((0,Mt.U)(function(t){return new Pl(l,t)}));if(0===o.length&&0===h.length)return(0,cn.of)(new Pl(l,{}));var f=Nu(n)===r;return a.expandSegment(i,d,o,h,f?hl:r,!0).pipe((0,Mt.U)(function(t){return new Pl(l.concat(t.segments),t.children)}))}))}},{key:"getChildConfig",value:function(t,e,n){var i=this;return e.children?(0,cn.of)(new Tu(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,cn.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,hn.zg)(function(n){return n?i.configLoader.load(t.injector,e).pipe((0,Mt.U)(function(t){return e._loadedConfig=t,t})):(r=e,new kt.y(function(t){return t.error(gl("Cannot load children because the guard of the route \"path: '".concat(r.path,"'\" returned false")))}));var r})):(0,cn.of)(new Tu([],t))}},{key:"runCanLoadGuards",value:function(t,e,n){var i=this,r=e.canLoad;if(!r||0===r.length)return(0,cn.of)(!0);var a=r.map(function(i){var r,a,o=t.get(i);if((a=o)&&Su(a.canLoad))r=o.canLoad(e,n);else{if(!Su(o))throw new Error("Invalid CanLoad guard");r=o(e,n)}return wl(r)});return(0,cn.of)(a).pipe(Pu(),(0,Wi.b)(function(t){if(Au(t)){var e=gl('Redirecting to "'.concat(i.urlSerializer.serialize(t),'"'));throw e.url=t,e}}),(0,Mt.U)(function(t){return!0===t}))}},{key:"lineralizeSegments",value:function(t,e){for(var n=[],i=e.root;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return(0,cn.of)(n);if(i.numberOfChildren>1||!i.children[hl])return Yu(t.redirectTo);i=i.children[hl]}}},{key:"applyRedirectCommands",value:function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}},{key:"applyRedirectCreatreUrlTree",value:function(t,e,n,i){var r=this.createSegmentGroup(t,e.root,n,i);return new El(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}},{key:"createQueryParams",value:function(t,e){var n={};return xl(t,function(t,i){if("string"==typeof t&&t.startsWith(":")){var r=t.substring(1);n[i]=e[r]}else n[i]=t}),n}},{key:"createSegmentGroup",value:function(t,e,n,i){var r=this,a=this.createSegments(t,e.segments,n,i),o={};return xl(e.children,function(e,a){o[a]=r.createSegmentGroup(t,e,n,i)}),new Pl(a,o)}},{key:"createSegments",value:function(t,e,n,i){var r=this;return e.map(function(e){return e.path.startsWith(":")?r.findPosParam(t,e,i):r.findOrReturn(e,n)})}},{key:"findPosParam",value:function(t,e,n){var i=n[e.path.substring(1)];if(!i)throw new Error("Cannot redirect to '".concat(t,"'. Cannot find '").concat(e.path,"'."));return i}},{key:"findOrReturn",value:function(t,e){var n,i=0,r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.path===t.path)return e.splice(i),a;i++}}catch(o){r.e(o)}finally{r.f()}return t}}]),t}();function Ju(t){for(var e={},n=0,i=Object.keys(t.children);n<i.length;n++){var r=i[n],a=Ju(t.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function(t){if(1===t.numberOfChildren&&t.children[hl]){var e=t.children[hl];return new Pl(t.segments.concat(e.segments),e.children)}return t}(new Pl(t.segments,e))}var Xu=_createClass(function t(e){_classCallCheck(this,t),this.path=e,this.route=this.path[this.path.length-1]}),$u=_createClass(function t(e,n){_classCallCheck(this,t),this.component=e,this.route=n});function Ku(t,e,n){var i=t._root;return ec(i,e?e._root:null,n,[i.value])}function tc(t,e,n){var i=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(i?i.module.injector:n).get(t)}function ec(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=Kl(e);return t.children.forEach(function(t){(function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},a=t.value,o=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(o&&a.routeConfig===o.routeConfig){var l=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ol(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ol(t.url,e.url)||!ml(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uu(t,e)||!ml(t.queryParams,e.queryParams);case"paramsChange":default:return!uu(t,e)}}(o,a,a.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Xu(i)):(a.data=o.data,a._resolvedData=o._resolvedData),ec(t,e,a.component?s?s.children:null:n,i,r),l&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new $u(s.outlet.component,o))}else o&&nc(e,s,r),r.canActivateChecks.push(new Xu(i)),ec(t,null,a.component?s?s.children:null:n,i,r)})(t,a[t.value.outlet],n,i.concat([t.value]),r),delete a[t.value.outlet]}),xl(a,function(t,e){return nc(t,n.getContext(e),r)}),r}function nc(t,e,n){var i=Kl(t),r=t.value;xl(i,function(t,i){nc(t,r.component?e?e.children.getContext(i):null:e,n)}),n.canDeactivateChecks.push(new $u(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}var ic=_createClass(function t(){_classCallCheck(this,t)});function rc(t){return new kt.y(function(e){return e.error(t)})}var ac=function(){function t(e,n,i,r,a,o){_classCallCheck(this,t),this.rootComponentType=e,this.config=n,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return _createClass(t,[{key:"recognize",value:function(){var t=Bu(this.urlTree.root,[],[],this.config.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,hl);if(null===e)return null;var n=new ru([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},hl,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new $l(n,e),r=new au(this.url,i);return this.inheritParamsAndData(r._root),r}},{key:"inheritParamsAndData",value:function(t){var e=this,n=t.value,i=iu(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})}},{key:"processSegmentGroup",value:function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}},{key:"processChildren",value:function(t,e){for(var n=[],i=0,r=Object.keys(e.children);i<r.length;i++){var a=r[i],o=e.children[a],s=Zu(t,a),l=this.processSegmentGroup(s,o,a);if(null===l)return null;n.push.apply(n,_toConsumableArray(l))}var u=oc(n);return u.sort(function(t,e){return t.value.outlet===hl?-1:e.value.outlet===hl?1:t.value.outlet.localeCompare(e.value.outlet)}),u}},{key:"processSegment",value:function(t,e,n,i){var r,a=_createForOfIteratorHelper(t);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=this.processSegmentAgainstRoute(o,e,n,i);if(null!==s)return s}}catch(l){a.e(l)}finally{a.f()}return Hu(e,n,i)?[]:null}},{key:"processSegmentAgainstRoute",value:function(t,e,n,i){if(t.redirectTo||!qu(t,e,n,i))return null;var r,a=[],o=[];if("**"===t.path){var s=n.length>0?bl(n).parameters:{};r=new ru(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uc(t),Nu(t),t.component,t,sc(e),lc(e)+n.length,cc(t))}else{var l=Uu(e,t,n);if(!l.matched)return null;a=l.consumedSegments,o=n.slice(l.lastChild),r=new ru(a,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,uc(t),Nu(t),t.component,t,sc(e),lc(e)+a.length,cc(t))}var u,c=(u=t).children?u.children:u.loadChildren?u._loadedConfig.routes:[],h=Bu(e,a,o,c.filter(function(t){return void 0===t.redirectTo}),this.relativeLinkResolution),d=h.segmentGroup,f=h.slicedSegments;if(0===f.length&&d.hasChildren()){var p=this.processChildren(c,d);return null===p?null:[new $l(r,p)]}if(0===c.length&&0===f.length)return[new $l(r,[])];var g=Nu(t)===i,v=this.processSegment(c,d,f,g?hl:i);return null===v?null:[new $l(r,v)]}}]),t}();function oc(t){var e,n=[],i=new Set,r=_createForOfIteratorHelper(t);try{var a=function(){var t,r=e.value;if(!function(t){var e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}(r))return n.push(r),"continue";var a=n.find(function(t){return r.value.routeConfig===t.value.routeConfig});void 0!==a?((t=a.children).push.apply(t,_toConsumableArray(r.children)),i.add(a)):n.push(r)};for(r.s();!(e=r.n()).done;)a()}catch(c){r.e(c)}finally{r.f()}var o,s=_createForOfIteratorHelper(i);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=oc(l.children);n.push(new $l(l.value,u))}}catch(c){s.e(c)}finally{s.f()}return n.filter(function(t){return!i.has(t)})}function sc(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function lc(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function uc(t){return t.data||{}}function cc(t){return t.resolve||{}}function hc(t){return yi(function(e){var n=t(e);return n?(0,wt.D)(n).pipe((0,Mt.U)(function(){return e})):(0,cn.of)(e)})}var dc=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldDetach",value:function(t){return!1}},{key:"store",value:function(t,e){}},{key:"shouldAttach",value:function(t){return!1}},{key:"retrieve",value:function(t){return null}},{key:"shouldReuseRoute",value:function(t,e){return t.routeConfig===e.routeConfig}}]),t}()),fc=new i.OlP("ROUTES"),pc=function(){function t(e,n,i,r){_classCallCheck(this,t),this.loader=e,this.compiler=n,this.onLoadStartListener=i,this.onLoadEndListener=r}return _createClass(t,[{key:"load",value:function(t,e){var n=this;if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);var r=this.loadModuleFactory(e.loadChildren).pipe((0,Mt.U)(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var a=r.create(t);return new Tu(yl(a.injector.get(fc,void 0,i.XFs.Self|i.XFs.Optional)).map(Du),a)}),Ps(function(t){throw e._loader$=void 0,t}));return e._loader$=new Ts.c(r,function(){return new $n.xQ}).pipe((0,Vs.x)()),e._loader$}},{key:"loadModuleFactory",value:function(t){var e=this;return"string"==typeof t?(0,wt.D)(this.loader.load(t)):wl(t()).pipe((0,hn.zg)(function(t){return t instanceof i.YKP?(0,cn.of)(t):(0,wt.D)(e.compiler.compileModuleAsync(t))}))}}]),t}(),gc=_createClass(function t(){_classCallCheck(this,t),this.outlet=null,this.route=null,this.resolver=null,this.children=new vc,this.attachRef=null}),vc=function(){function t(){_classCallCheck(this,t),this.contexts=new Map}return _createClass(t,[{key:"onChildOutletCreated",value:function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}},{key:"onChildOutletDestroyed",value:function(t){var e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}},{key:"onOutletDeactivated",value:function(){var t=this.contexts;return this.contexts=new Map,t}},{key:"onOutletReAttached",value:function(t){this.contexts=t}},{key:"getOrCreateContext",value:function(t){var e=this.getContext(t);return e||(e=new gc,this.contexts.set(t,e)),e}},{key:"getContext",value:function(t){return this.contexts.get(t)||null}}]),t}(),mc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"shouldProcessUrl",value:function(t){return!0}},{key:"extract",value:function(t){return t}},{key:"merge",value:function(t,e){return t}}]),t}();function _c(t){throw t}function yc(t,e,n){return e.parse("/")}function bc(t,e){return(0,cn.of)(null)}var xc={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kc=function(){var t=function(){function t(e,n,r,a,o,s,l,u){var c=this;_classCallCheck(this,t),this.rootComponentType=e,this.urlSerializer=n,this.rootContexts=r,this.location=a,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $n.xQ,this.errorHandler=_c,this.malformedUriErrorHandler=yc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bc,afterPreactivation:bc},this.urlHandlingStrategy=new mc,this.routeReuseStrategy=new dc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(i.h0i),this.console=o.get(i.c2e);var h=o.get(i.R0b);this.isNgZoneEnabled=h instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new El(new Pl([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pc(s,l,function(t){return c.triggerEvent(new rl(t))},function(t){return c.triggerEvent(new al(t))}),this.routerState=eu(this.currentUrlTree,this.rootComponentType),this.transitions=new Fi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass(t,[{key:"browserPageId",get:function(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}},{key:"setupNavigations",value:function(t){var e=this,n=this.events;return t.pipe(pn(function(t){return 0!==t.id}),(0,Mt.U)(function(t){return Object.assign(Object.assign({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),yi(function(t){var i=!1,r=!1;return(0,cn.of)(t).pipe((0,Wi.b)(function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?Object.assign(Object.assign({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}}),yi(function(t){var i=e.browserUrlTree.toString(),a=!e.navigated||t.extractedUrl.toString()!==i||i!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||a)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Cc(t.source)&&(e.browserUrlTree=t.extractedUrl),(0,cn.of)(t).pipe(yi(function(t){var i=e.transitions.getValue();return n.next(new Qs(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),i!==e.transitions.getValue()?Bi.E:Promise.resolve(t)}),function(t,e,n,i){return yi(function(r){return function(t,e,n,i,r){return new Qu(t,e,n,i,r).apply()}(t,e,n,r.extractedUrl,i).pipe((0,Mt.U)(function(t){return Object.assign(Object.assign({},r),{urlAfterRedirects:t})}))})}(e.ngModule.injector,e.configLoader,e.urlSerializer,e.config),(0,Wi.b)(function(t){e.currentNavigation=Object.assign(Object.assign({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,n,i,a,o){return(0,hn.zg)(function(i){return function(t,e,n,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";try{var s=new ac(t,e,n,i,a,o).recognize();return null===s?rc(new ic):(0,cn.of)(s)}catch(r){return rc(r)}}(t,n,i.urlAfterRedirects,(s=i.urlAfterRedirects,e.serializeUrl(s)),a,o).pipe((0,Mt.U)(function(t){return Object.assign(Object.assign({},i),{targetSnapshot:t})}));var s})}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),(0,Wi.b)(function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,t),e.browserUrlTree=t.urlAfterRedirects);var i=new Ks(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(i)}));if(a&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var o=t.id,s=t.extractedUrl,l=t.source,u=t.restoredState,c=t.extras,h=new Qs(o,e.serializeUrl(s),l,u);n.next(h);var d=eu(s,e.rootComponentType).snapshot;return(0,cn.of)(Object.assign(Object.assign({},t),{targetSnapshot:d,urlAfterRedirects:s,extras:Object.assign(Object.assign({},c),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Bi.E}),hc(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,a=t.rawUrl,o=t.extras,s=o.skipLocationChange,l=o.replaceUrl;return e.hooks.beforePreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})}),(0,Wi.b)(function(t){var n=new tl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(0,Mt.U)(function(t){return Object.assign(Object.assign({},t),{guards:Ku(t.targetSnapshot,t.currentSnapshot,e.rootContexts)})}),function(t,e){return(0,hn.zg)(function(n){var i=n.targetSnapshot,r=n.currentSnapshot,a=n.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?(0,cn.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,i){return(0,wt.D)(t).pipe((0,hn.zg)(function(t){return function(t,e,n,i,r){var a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,cn.of)(!0);var o=a.map(function(a){var o,s=tc(a,e,r);if(function(t){return t&&Su(t.canDeactivate)}(s))o=wl(s.canDeactivate(t,e,n,i));else{if(!Su(s))throw new Error("Invalid CanDeactivate guard");o=wl(s(t,e,n,i))}return o.pipe(Gs())});return(0,cn.of)(o).pipe(Pu())}(t.component,t.route,n,e,i)}),Gs(function(t){return!0!==t},!0))}(s,i,r,t).pipe((0,hn.zg)(function(n){return n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,i){return(0,wt.D)(e).pipe(dn(function(e){return _i(function(t,e){return null!==t&&e&&e(new ol(t)),(0,cn.of)(!0)}(e.route.parent,i),function(t,e){return null!==t&&e&&e(new ll(t)),(0,cn.of)(!0)}(e.route,i),function(t,e,n){var i=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t}).map(function(e){return Ms(function(){var r=e.guards.map(function(r){var a,o=tc(r,e.node,n);if(function(t){return t&&Su(t.canActivateChild)}(o))a=wl(o.canActivateChild(i,t));else{if(!Su(o))throw new Error("Invalid CanActivateChild guard");a=wl(o(i,t))}return a.pipe(Gs())});return(0,cn.of)(r).pipe(Pu())})});return(0,cn.of)(r).pipe(Pu())}(t,e.path,n),function(t,e,n){var i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,cn.of)(!0);var r=i.map(function(i){return Ms(function(){var r,a=tc(i,e,n);if(function(t){return t&&Su(t.canActivate)}(a))r=wl(a.canActivate(e,t));else{if(!Su(a))throw new Error("Invalid CanActivate guard");r=wl(a(e,t))}return r.pipe(Gs())})});return(0,cn.of)(r).pipe(Pu())}(t,e.route,n))}),Gs(function(t){return!0!==t},!0))}(i,o,t,e):(0,cn.of)(n)}),(0,Mt.U)(function(t){return Object.assign(Object.assign({},n),{guardsResult:t})}))})}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),(0,Wi.b)(function(t){if(Au(t.guardsResult)){var n=gl('Redirecting to "'.concat(e.serializeUrl(t.guardsResult),'"'));throw n.url=t.guardsResult,n}var i=new el(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(i)}),pn(function(t){return!!t.guardsResult||(e.restoreHistory(t),e.cancelNavigationTransition(t,""),!1)}),hc(function(t){if(t.guards.canActivateChecks.length)return(0,cn.of)(t).pipe((0,Wi.b)(function(t){var n=new nl(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),yi(function(t){var n=!1;return(0,cn.of)(t).pipe(function(t,e){return(0,hn.zg)(function(n){var i=n.targetSnapshot,r=n.guards.canActivateChecks;if(!r.length)return(0,cn.of)(n);var a=0;return(0,wt.D)(r).pipe(dn(function(n){return function(t,e,n,i){return function(t,e,n,i){var r=Object.keys(t);if(0===r.length)return(0,cn.of)({});var a={};return(0,wt.D)(r).pipe((0,hn.zg)(function(r){return function(t,e,n,i){var r=tc(t,e,i);return wl(r.resolve?r.resolve(e,n):r(e,n))}(t[r],e,n,i).pipe((0,Wi.b)(function(t){a[r]=t}))}),Rs(1),(0,hn.zg)(function(){return Object.keys(a).length===r.length?(0,cn.of)(a):Bi.E}))}(t._resolve,t,e,i).pipe((0,Mt.U)(function(e){return t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),iu(t,n).resolve),null}))}(n.route,i,t,e)}),(0,Wi.b)(function(){return a++}),Rs(1),(0,hn.zg)(function(t){return a===r.length?(0,cn.of)(n):Bi.E}))})}(e.paramsInheritanceStrategy,e.ngModule.injector),(0,Wi.b)({next:function(){return n=!0},complete:function(){n||(e.restoreHistory(t),e.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}))}),(0,Wi.b)(function(t){var n=new il(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}))}),hc(function(t){var n=t.targetSnapshot,i=t.id,r=t.extractedUrl,a=t.rawUrl,o=t.extras,s=o.skipLocationChange,l=o.replaceUrl;return e.hooks.afterPreactivation(n,{navigationId:i,appliedUrlTree:r,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})}),(0,Mt.U)(function(t){var n=function(t,e,n){var i=cu(t,e._root,n?n._root:void 0);return new tu(i,e)}(e.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:n})}),(0,Wi.b)(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(t.urlAfterRedirects,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,t),e.browserUrlTree=t.urlAfterRedirects)}),function(t,e,n){return(0,Mt.U)(function(i){return new Cu(e,i.targetRouterState,i.currentRouterState,n).activate(t),i})}(e.rootContexts,e.routeReuseStrategy,function(t){return e.triggerEvent(t)}),(0,Wi.b)({next:function(){i=!0},complete:function(){i=!0}}),function(t){return function(e){return e.lift(new Ws(t))}}(function(){var n;if(!i&&!r){var a="Navigation ID ".concat(t.id," is not equal to the current navigation id ").concat(e.navigationId);"replace"===e.canceledNavigationResolution?(e.restoreHistory(t),e.cancelNavigationTransition(t,a)):e.cancelNavigationTransition(t,a)}(null===(n=e.currentNavigation)||void 0===n?void 0:n.id)===t.id&&(e.currentNavigation=null)}),Ps(function(i){if(r=!0,function(t){return t&&t[pl]}(i)){var a=Au(i.url);a||(e.navigated=!0,e.restoreHistory(t,!0));var o=new Xs(t.id,e.serializeUrl(t.extractedUrl),i.message);n.next(o),a?setTimeout(function(){var n=e.urlHandlingStrategy.merge(i.url,e.rawUrlTree),r={skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Cc(t.source)};e.scheduleNavigation(n,"imperative",null,r,{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{e.restoreHistory(t,!0);var s=new $s(t.id,e.serializeUrl(t.extractedUrl),i);n.next(s);try{t.resolve(e.errorHandler(i))}catch(o){t.reject(o)}}return Bi.E}))}))}},{key:"resetRootComponentType",value:function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}},{key:"setTransition",value:function(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.extractLocationChangeInfoFromEvent(e);t.shouldScheduleNavigation(t.lastLocationChangeInfo,n)&&setTimeout(function(){var e=n.source,i=n.state,r=n.urlTree,a={replaceUrl:!0};if(i){var o=Object.assign({},i);delete o.navigationId,delete o.\u0275routerPageId,0!==Object.keys(o).length&&(a.state=o)}t.scheduleNavigation(r,e,i,a)},0),t.lastLocationChangeInfo=n}))}},{key:"extractLocationChangeInfoFromEvent",value:function(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}},{key:"shouldScheduleNavigation",value:function(t,e){if(!t)return!0;var n=e.urlTree.toString()===t.urlTree.toString();return e.transitionId!==t.transitionId||!n||!("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source)}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(t){this.events.next(t)}},{key:"resetConfig",value:function(t){Ou(t),this.config=t.map(Du),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}},{key:"createUrlTree",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.relativeTo,i=e.queryParams,r=e.fragment,a=e.queryParamsHandling,o=e.preserveFragment,s=n||this.routerState.root,l=o?this.currentUrlTree.fragment:r,u=null;switch(a){case"merge":u=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=i||null}return null!==u&&(u=this.removeEmptyProps(u)),function(t,e,n,i,r){if(0===n.length)return pu(e.root,e.root,e,i,r);var a=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new vu(!0,0,t);var e=0,n=!1,i=t.reduce(function(t,i,r){if("object"==typeof i&&null!=i){if(i.outlets){var a={};return xl(i.outlets,function(t,e){a[e]="string"==typeof t?t.split("/"):t}),[].concat(_toConsumableArray(t),[{outlets:a}])}if(i.segmentPath)return[].concat(_toConsumableArray(t),[i.segmentPath])}return"string"!=typeof i?[].concat(_toConsumableArray(t),[i]):0===r?(i.split("/").forEach(function(i,r){0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?e++:""!=i&&t.push(i))}),t):[].concat(_toConsumableArray(t),[i])},[]);return new vu(n,e,i)}(n);if(a.toRoot())return pu(e.root,new Pl([],{}),e,i,r);var o=function(t,e,n){if(t.isAbsolute)return new mu(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){var i=n.snapshot._urlSegment;return new mu(i,i===e.root,0)}var r=du(t.commands[0])?0:1;return function(t,e,n){for(var i=t,r=e,a=n;a>r;){if(a-=r,!(i=i.parent))throw new Error("Invalid number of '../'");r=i.segments.length}return new mu(i,!1,r-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(a,e,t),s=o.processChildren?yu(o.segmentGroup,o.index,a.commands):_u(o.segmentGroup,o.index,a.commands);return pu(o.segmentGroup,s,e,i,r)}(s,this.currentUrlTree,t,u,null!=l?l:null)}},{key:"navigateByUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1},n=Au(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}},{key:"navigate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(e))}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}},{key:"serializeUrl",value:function(t){return this.urlSerializer.serialize(t)}},{key:"parseUrl",value:function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}},{key:"isActive",value:function(t,e){var n;if(n=!0===e?Object.assign({},xc):!1===e?Object.assign({},wc):e,Au(t))return Ml(this.currentUrlTree,t,n);var i=this.parseUrl(t);return Ml(this.currentUrlTree,i,n)}},{key:"removeEmptyProps",value:function(t){return Object.keys(t).reduce(function(e,n){var i=t[n];return null!=i&&(e[n]=i),e},{})}},{key:"processNavigations",value:function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.currentPageId=e.targetPageId,t.events.next(new Js(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ".concat(e))})}},{key:"scheduleNavigation",value:function(t,e,n,i,r){var a,o;if(this.disposed)return Promise.resolve(!1);var s,l,u,c=this.getTransition(),h=Cc(e)&&c&&!Cc(c.source),d=(this.lastSuccessfulId===c.id||this.currentNavigation?c.rawUrl:c.urlAfterRedirects).toString()===t.toString();if(h&&d)return Promise.resolve(!0);r?(s=r.resolve,l=r.reject,u=r.promise):u=new Promise(function(t,e){s=t,l=e});var f,p=++this.navigationId;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),f=n&&n.\u0275routerPageId?n.\u0275routerPageId:i.replaceUrl||i.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):f=0,this.setTransition({id:p,targetPageId:f,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:i,resolve:s,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(function(t){return Promise.reject(t)})}},{key:"setBrowserUrl",value:function(t,e){var n=this.urlSerializer.serialize(t),i=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",i):this.location.go(n,"",i)}},{key:"restoreHistory",value:function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("computed"===this.canceledNavigationResolution){var r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(e=this.currentNavigation)||void 0===e?void 0:e.finalUrl)||0===r?this.currentUrlTree===(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}},{key:"resetState",value:function(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}},{key:"cancelNavigationTransition",value:function(t,e){var n=new Xs(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}},{key:"generateNgRouterState",value:function(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.DyG),i.LFG(Rl),i.LFG(vc),i.LFG(x),i.LFG(i.zs3),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}();function Cc(t){return"imperative"!==t}var Mc=function(){var t=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this.router=e,this.route=n,this.commands=[],this.onChanges=new $n.xQ,null==i&&r.setAttribute(a.nativeElement,"tabindex","0")}return _createClass(t,[{key:"ngOnChanges",value:function(t){this.onChanges.next(this)}},{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"onClick",value:function(){var t={skipLocationChange:Sc(this.skipLocationChange),replaceUrl:Sc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Sc(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(kc),i.Y36(nu),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t}(),Tc=function(){var t=function(){function t(e,n,i){var r=this;_classCallCheck(this,t),this.router=e,this.route=n,this.locationStrategy=i,this.commands=[],this.onChanges=new $n.xQ,this.subscription=e.events.subscribe(function(t){t instanceof Js&&r.updateTargetUrlAndHref()})}return _createClass(t,[{key:"routerLink",set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}},{key:"ngOnChanges",value:function(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(t,e,n,i,r){if(0!==t||e||n||i||r||"string"==typeof this.target&&"_self"!=this.target)return!0;var a={skipLocationChange:Sc(this.skipLocationChange),replaceUrl:Sc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Sc(this.preserveFragment)})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(kc),i.Y36(nu),i.Y36(v))},t.\u0275dir=i.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(i.Ikx("href",e.href,i.LSH),i.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[i.TTD]}),t}();function Sc(t){return""===t||!!t}var Ac=function(){var t=function(){function t(e,n,i,r,a,o){var s=this;_classCallCheck(this,t),this.router=e,this.element=n,this.renderer=i,this.cdr=r,this.link=a,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(function(t){t instanceof Js&&s.update()})}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;(0,cn.of)(this.links.changes,this.linksWithHrefs.changes,(0,cn.of)(null)).pipe((0,mi.J)()).subscribe(function(e){t.update(),t.subscribeToEachLinkOnChanges()})}},{key:"subscribeToEachLinkOnChanges",value:function(){var t,e=this;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();var n=[].concat(_toConsumableArray(this.links.toArray()),_toConsumableArray(this.linksWithHrefs.toArray()),[this.link,this.linkWithHref]).filter(function(t){return!!t}).map(function(t){return t.onChanges});this.linkInputChangesSubscription=(0,wt.D)(n).pipe((0,mi.J)()).subscribe(function(t){e.isActive!==e.isLinkActive(e.router)(t)&&e.update()})}},{key:"routerLinkActive",set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(function(t){return!!t})}},{key:"ngOnChanges",value:function(t){this.update()}},{key:"ngOnDestroy",value:function(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}},{key:"update",value:function(){var t=this;!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.cdr.markForCheck(),t.classes.forEach(function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)}))})}},{key:"isLinkActive",value:function(t){var e=function(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return function(n){return t.isActive(n.urlTree,e)}}},{key:"hasActiveLinks",value:function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(kc),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(Mc,8),i.Y36(Tc,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;(1&t&&(i.Suo(n,Mc,5),i.Suo(n,Tc,5)),2&t)&&(i.iGM(r=i.CRH())&&(e.links=r),i.iGM(r=i.CRH())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.TTD]}),t}(),Ec=function(){var t=function(){function t(e,n,r,a,o){_classCallCheck(this,t),this.parentContexts=e,this.location=n,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.name=a||hl,e.onChildOutletCreated(this.name,this)}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t}},{key:"attach",value:function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}},{key:"deactivate",value:function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}},{key:"activateWith",value:function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new Pc(t,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(vc),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},t.\u0275dir=i.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t}(),Pc=function(){function t(e,n,i){_classCallCheck(this,t),this.route=e,this.childContexts=n,this.parent=i}return _createClass(t,[{key:"get",value:function(t,e){return t===nu?this.route:t===vc?this.childContexts:this.parent.get(t,e)}}]),t}(),Ic=_createClass(function t(){_classCallCheck(this,t)}),Oc=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return(0,cn.of)(null)}}]),t}(),Rc=function(){var t=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=new pc(n,i,function(t){return e.triggerEvent(new rl(t))},function(t){return e.triggerEvent(new al(t))})}return _createClass(t,[{key:"setUpPreloading",value:function(){var t=this;this.subscription=this.router.events.pipe(pn(function(t){return t instanceof Js}),dn(function(){return t.preload()})).subscribe(function(){})}},{key:"preload",value:function(){var t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription&&this.subscription.unsubscribe()}},{key:"processRoutes",value:function(t,e){var n,i=[],r=_createForOfIteratorHelper(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var o=a._loadedConfig;i.push(this.processRoutes(o.module,o.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(t,a)):a.children&&i.push(this.processRoutes(t,a.children))}}catch(s){r.e(s)}finally{r.f()}return(0,wt.D)(i).pipe((0,mi.J)(),(0,Mt.U)(function(t){}))}},{key:"preloadConfig",value:function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return(e._loadedConfig?(0,cn.of)(e._loadedConfig):n.loader.load(t.injector,e)).pipe((0,hn.zg)(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(kc),i.LFG(i.v3s),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(Ic))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),Lc=function(){var t=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck(this,t),this.router=e,this.viewportScroller=n,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}return _createClass(t,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Qs?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Js&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})}},{key:"consumeScrollEvents",value:function(){var t=this;return this.router.events.subscribe(function(e){e instanceof cl&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})}},{key:"scheduleScrollEvent",value:function(t,e){this.router.triggerEvent(new cl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(kc),i.LFG(q),i.LFG(void 0))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),Dc=new i.OlP("ROUTER_CONFIGURATION"),Nc=new i.OlP("ROUTER_FORROOT_GUARD"),Zc=[x,{provide:Rl,useClass:Ll},{provide:kc,useFactory:function(t,e,n,i,r,a,o){var s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},l=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,c=new kc(null,t,e,n,i,r,a,yl(o));return l&&(c.urlHandlingStrategy=l),u&&(c.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(s,c),s.enableTracing&&c.events.subscribe(function(t){var e,n;null===(e=console.group)||void 0===e||e.call(console,"Router Event: ".concat(t.constructor.name)),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),c},deps:[Rl,vc,x,i.zs3,i.v3s,i.Sil,fc,Dc,[function(){return _createClass(function t(){_classCallCheck(this,t)})}(),new i.FiY],[function(){return _createClass(function t(){_classCallCheck(this,t)})}(),new i.FiY]]},vc,{provide:nu,useFactory:function(t){return t.routerState.root},deps:[kc]},{provide:i.v3s,useClass:i.EAV},Rc,Oc,function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"preload",value:function(t,e){return e().pipe(Ps(function(){return(0,cn.of)(null)}))}}]),t}(),{provide:Dc,useValue:{enableTracing:!1}}];function Fc(){return new i.PXZ("Router",kc)}var Uc=function(){var t=function(){function t(e,n){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(e,n){return{ngModule:t,providers:[Zc,Hc(e),{provide:Nc,useFactory:qc,deps:[[kc,new i.FiY,new i.tp0]]},{provide:Dc,useValue:n||{}},{provide:v,useFactory:zc,deps:[s,[new i.tBr(_),new i.FiY],Dc]},{provide:Lc,useFactory:Bc,deps:[kc,q,Dc]},{provide:Ic,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Oc},{provide:i.PXZ,multi:!0,useFactory:Fc},[Gc,{provide:i.ip1,multi:!0,useFactory:Vc,deps:[Gc]},{provide:jc,useFactory:Wc,deps:[Gc]},{provide:i.tb,multi:!0,useExisting:jc}]]}}},{key:"forChild",value:function(e){return{ngModule:t,providers:[Hc(e)]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Nc,8),i.LFG(kc,8))},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t}();function Bc(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Lc(t,e,n)}function zc(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new b(t,e):new y(t,e)}function qc(t){return"guarded"}function Hc(t){return[{provide:i.deG,multi:!0,useValue:t},{provide:fc,multi:!0,useValue:t}]}var Gc=function(){var t=function(){function t(e){_classCallCheck(this,t),this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $n.xQ}return _createClass(t,[{key:"appInitializer",value:function(){var t=this;return this.injector.get(u,Promise.resolve(null)).then(function(){if(t.destroyed)return Promise.resolve(!0);var e=null,n=new Promise(function(t){return e=t}),i=t.injector.get(kc),r=t.injector.get(Dc);return"disabled"===r.initialNavigation?(i.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(i.hooks.afterPreactivation=function(){return t.initNavigation?(0,cn.of)(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},i.initialNavigation()):e(!0),n})}},{key:"bootstrapListener",value:function(t){var e=this.injector.get(Dc),n=this.injector.get(Rc),r=this.injector.get(Lc),a=this.injector.get(kc),o=this.injector.get(i.z2F);t===o.components[0]&&(("enabledNonBlocking"===e.initialNavigation||void 0===e.initialNavigation)&&a.initialNavigation(),n.setUpPreloading(),r.init(),a.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"ngOnDestroy",value:function(){this.destroyed=!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.zs3))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}();function Vc(t){return t.appInitializer.bind(t)}function Wc(t){return t.bootstrapListener.bind(t)}var jc=new i.OlP("Router Initializer"),Yc=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-blank-page"]],decls:17,vars:0,consts:[[1,"container"],[1,"scroller"],[1,"inner"],[1,"blue"],[1,"blueb"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"span"),i._uU(4,"\u65ad\u9762\u6027\u80fd\u7167\u67fb"),i.qZA(),i.TgZ(5,"span"),i._uU(6,"\u672c\u30d7\u30ed\u30b0\u30e9\u30e0\u306f\u3001\u9244\u9053\u69cb\u9020\u7269\u7b49\u8a2d\u8a08\u6a19\u6e96\u30fb\u540c\u89e3\u8aac"),i.qZA(),i.TgZ(7,"span"),i._uU(8,"\u30b3\u30f3\u30af\u30ea\u30fc\u30c8\u69cb\u9020\u7269\u2015\u5e73\u621016\u5e744\u6708\u306b\u6e96\u62e0\u3057\u305f\u3001"),i.qZA(),i.TgZ(9,"span"),i._uU(10,"\u65ad\u9762\u306e"),i.TgZ(11,"a",3),i._uU(12,"\u91e3\u308a\u5408\u3044\u8a08\u7b97"),i.qZA(),i._uU(13,"\u304a\u3088\u3073 "),i.TgZ(14,"a",4),i._uU(15,"\u5fdc\u529b\u5ea6\u306e\u7b97\u5b9a"),i.qZA(),i._uU(16,"\u3092\u884c\u3046\u30d7\u30ed\u30b0\u30e9\u30e0\u3067\u3059\u3002"),i.qZA(),i.qZA(),i.qZA(),i.qZA())},styles:["*[_ngcontent-%COMP%]{margin:0;padding:0;font-weight:200;font-family:helvetica neue,helvetica,arial,sans-sans-serif;-webkit-font-smoothing:antialiased}a[_ngcontent-%COMP%]{color:#000;text-decoration:none}a[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none}body[_ngcontent-%COMP%]{background:#fafafa}.container[_ngcontent-%COMP%]{width:100%;height:50px;position:fixed;top:50%;left:50%;margin-left:-25%;margin-top:-25px}p[_ngcontent-%COMP%]{float:left;line-height:50px;font-size:200%;color:#888}.scroller[_ngcontent-%COMP%]{height:50px;line-height:50px;float:left;margin-left:5px;overflow:hidden}.scroller[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;font-size:200%;color:#000}.scroller[_ngcontent-%COMP%]   .inner[_ngcontent-%COMP%]{-webkit-animation:scroll 10s 1 ease-out;animation:scroll 10s 1 ease-out;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.blue[_ngcontent-%COMP%]{-webkit-animation:color .25s 1 linear;animation:color .25s 1 linear;-webkit-animation-delay:8s;animation-delay:8s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.blueb[_ngcontent-%COMP%]{-webkit-animation:color .25s 1 linear;animation:color .25s 1 linear;-webkit-animation-delay:8.25s;animation-delay:8.25s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes color{0%{color:#000}to{color:#2c90c6}}@keyframes color{0%{color:#000}to{color:#2c90c6}}@-webkit-keyframes scroll{11%{margin-top:0}22%{margin-top:0}33%{margin-top:-50px}44%{margin-top:-50px}55%{margin-top:-100px}66%{margin-top:-100px}77%{margin-top:-150px}88%{margin-top:-150px}to{margin-top:-150px}}@keyframes scroll{11%{margin-top:0}22%{margin-top:0}33%{margin-top:-50px}44%{margin-top:-50px}55%{margin-top:-100px}66%{margin-top:-100px}77%{margin-top:-150px}88%{margin-top:-150px}to{margin-top:-150px}}"]}),t}(),Qc=function(){var t=function(){function t(){_classCallCheck(this,t),this.rebar_List=[{D:10,As:71.33},{D:13,As:126.7},{D:16,As:198.6},{D:19,As:286.5},{D:22,As:387.1},{D:25,As:506.7},{D:29,As:642.4},{D:32,As:794.2},{D:35,As:956.6},{D:38,As:1140},{D:41,As:1340},{D:51,As:2027}]}return _createClass(t,[{key:"getExt",value:function(t){var e=t.lastIndexOf(".");return-1===e?"":t.slice(e+1).toLowerCase()}},{key:"getRebar",value:function(t){return this.rebar_List.find(function(e){return e.D===t})}},{key:"getNextRebar",value:function(t){var e,n=this.toNumber(t);if(null!==n){for(var i=0;i<this.rebar_List.length-1;i++)if(n===this.rebar_List[i].D){e=this.rebar_List[i+1];break}return e}}},{key:"getPreviousRebar",value:function(t){var e,n=this.toNumber(t);if(null!==n){for(var i=1;i<this.rebar_List.length;i++)if(n===this.rebar_List[i].D){e=this.rebar_List[i-1];break}return e}}},{key:"getAs",value:function(t){var e=0;if(t.indexOf("\u03c6")>=0){var n=this.toNumber(t.replace("\u03c6",""));if(null===n)return 0;e=Math.pow(n,2)*Math.PI/4}else if(t.indexOf("R")>=0){var i=this.toNumber(t.replace("R",""));if(null===i)return 0;e=Math.pow(i,2)*Math.PI/4}else if(t.indexOf("D")>=0){var r=this.toNumber(t.replace("D",""));if(null===r)return 0;var a=this.rebar_List.find(function(t){return t.D===r});if(void 0===a)return 0;e=a.As}else if(null===(e=this.toNumber(t)))return 0;return e}},{key:"toNumber",value:function(t){var e,n=null;try{if(null==t)return null;var i=t.toString().trim();i.length>0&&(e=+i,n=isNaN(e)?null:e)}catch(i){n=null}return n}},{key:"Radians",value:function(t){return t*(Math.PI/180)}},{key:"getFsyk",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"tensionBar",i={fsy:null,fsu:null,id:""};return t<=e[0].separate?(i.fsy=this.toNumber(e[0][n].fsy),i.fsu=this.toNumber(e[0][n].fsu),i.id="1"):(i.fsy=this.toNumber(e[1][n].fsy),i.fsu=this.toNumber(e[1][n].fsu),i.id="2"),i}},{key:"getFsyk2",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fsy",i={id:""};return null!==t?t<=e[0].separate?(i.fsyk=this.toNumber(e[0].fsyk),i.fsvyk=this.toNumber(e[0].fsvyk),i.fsuk=this.toNumber(e[0].fsuk),i.id="1"):t<=e[1].separate?(i.fsyk=this.toNumber(e[1].fsyk),i.fsvyk=this.toNumber(e[1].fsvyk),i.fsuk=this.toNumber(e[1].fsuk),i.id="2"):(i.fsyk=this.toNumber(e[2].fsyk),i.fsvyk=this.toNumber(e[2].fsvyk),i.fsuk=this.toNumber(e[2].fsuk),i.id="3"):i[n]=null,i}},{key:"getConcreteElastic",value:function(t){var e=this.getFck(t);return{fck:e.fck*e.rfck,rc:e.rc,Ec:e.Ec,ElasticID:"c"}}},{key:"getFck",value:function(t){var e={fck:null,rc:null,Ec:null,fcd:null,rfck:null,rEc:null,rfbok:null,rVcd:null},n=t.pile_factor;if(e.rfck=void 0!==n?n.rfck:1,e.rEc=void 0!==n?n.rEc:1,e.rfbok=void 0!==n?n.rfbok:1,e.rVcd=void 0!==n?n.rVcd:1,e.rc=1,"M_rc"in t.safety_factor?e.rc=t.safety_factor.M_rc:"V_rc"in t.safety_factor&&(e.rc=t.safety_factor.V_rc),"fck"in t.material_concrete){var i=t.material_concrete.fck;e.fck=i*e.rfck;var r=this.getEc(e.fck);e.Ec=r*e.rEc,e.fcd=e.rfck*i/e.rc}return e}},{key:"getEc",value:function(t){return(e=[18,24,30,40,50,60,70,80],n=[22,25,28,31,33,35,37,38],function(t){var i=e.reduce(function(e,n,i){return n<=t?i:e},0),r=i===e.length-1?e.length-2:i;return(n[r+1]-n[r])/(e[r+1]-e[r])*(t-e[r])+n[r]})(t);var e,n}},{key:"rebarInfo",value:function(t){if(null===this.toNumber(t.rebar_dia))return null;var e=Math.abs(t.rebar_dia),n=t.rebar_dia>0?"D":"R",i=this.toNumber(t.rebar_n);null===i&&(i=0);var r=this.toNumber(t.rebar_lines);null===r&&(r=i);var a=Math.ceil(i/r),o=this.toNumber(t.rebar_space);null===o&&(o=0);var s=this.toNumber(t.rebar_cover);null===s&&(s=0);var l=this.toNumber(t.cos);null===l&&(l=1);var u=this.toNumber(t.rebar_ss);return null===u&&(u=0),{rebar_dia:e,mark:n,rebar_n:i,n:a,dsc:s,line:r,space:o,rebar_ss:u,cos:l}}},{key:"sideInfo",value:function(t,e,n,i,r){if(null===r||null===t.side_dia)return null;var a=Math.abs(t.side_dia),o=t.side_dia>0?"D":"R",s=t.side_n;if(0===s)return null;var l=t.side_ss;null===this.toNumber(l)&&(l=(r-n-i)/(s+1));var u=t.side_cover;null===this.toNumber(u)&&(u=i+l);var c=e.side_cover;return null===this.toNumber(c)&&(c=0),{mark:o,side_dia:a,n:s,space:l,cover:u,cover2:c,line:2}}},{key:"getBarCenterPosition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.dsc,i=t.rebar_n,r=t.line,a=t.space,o=null===e?t.cos:e;if(null===n)return 0;if(null===i||i<=0||null===r||r<=0||null===a||a<=0||i<r)return n/o;var s=Math.ceil(i/r),l=n;if(s>1){for(var u=i,c=0,h=0;h<s;h++)c+=(n+h*a)*Math.min(r,u),u-=r;l=c/i}return l/=o}},{key:"table_To_text",value:function(t){for(var e="",n=t.rows,i={1:{row:0,col:0},2:{row:0,col:0},3:{row:0,col:0}},r=0;r<n.length;r++){var a=t.rows[r].cells,o="";if(o+=this.getRowSpan(i),"\u65ad\u9762\u5f62\u72b6"!==a[0].innerText)for(var s=0;s<a.length;s++){o+=a[s].innerText.replace(" ","").replace("\n",""),o+=s===a.length-1?"":"\t";for(var l=1;l<a[s].colSpan;l++)o+="\t";if(a[s].rowSpan>1)for(var u=0,c=Object.keys(i);u<c.length;u++){var h=c[u];if(i[h].row<2){i[h]={row:a[s].rowSpan,col:a[s].colSpan};break}}}else o=this.getShapeText(a);e+=o+"\r\n"}return e}},{key:"getRowSpan",value:function(t){for(var e="",n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];if(t[r].row>1){for(var a=0;a<t[r].col;a++)e+="\t";t[r].row-=1}}return e}},{key:"getShapeText",value:function(t){var e="",n="",i="",r="",a="",o=t[0].innerText,s=t[1].innerText;e+="\t".repeat(t[0].colSpan-1)+"\u5e45\t"+s,r+="\t".repeat(t[0].colSpan+t[1].colSpan),a+=o+"\t".repeat(t[0].colSpan+t[1].colSpan);for(var l=2;l<t.length;l++){var u=t[l].innerText.split("\n");n+=u[0],i+=u[2],l===t.length-1?(n+="\n",i+=""):(n+="\t",i+="\t");for(var c=t[l].getElementsByTagName("DIV"),h=void 0,d=0;d<c[0].children.length;d++)if("IMG"===c[0].children[d].tagName){h=c[0].children[d];break}var f=h.alt;(""===f||null==f)&&(r+="\t"),-1!==f.indexOf("under")?r+="\u4e0b\u5074\u5f15\u5f35\t":-1!==f.indexOf("upper")&&(r+="\u4e0a\u5074\u5f15\u5f35\t"),-1!==f.indexOf("rectangle")?a+="\u77e9\u5f62\t":-1!==f.indexOf("tsection")?a+="T\u578b\t":-1!==f.indexOf("circle")?a+="\u5186\u5f62\t":-1!==f.indexOf("Oval")&&(a+="\u5c0f\u5224\u578b\t")}return(r+="\n")+(a+="\n")+((e+="\t")+n+"\t".repeat(t[0].colSpan-1)+"\u9ad8\u3055\t\t")+i}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[]]}),t}(),Jc=function(){var t=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.pickup_torsional_moment=new Array,this.specification1_list=new Array,this.specification2_list=new Array,this.conditions_list=new Array,this.specification1_list=this.default_specification1(),this.set_default_pickup()}},{key:"default_specification1",value:function(){return[{id:0,title:"\u9244\u9053",selected:!0},{id:1,title:"\u571f\u6728\u5b66\u4f1a",selected:!1}]}},{key:"set_default_pickup",value:function(){var t,e=this,n=this.get_specification1(),i=this.default_pickup_torsional(n),r=new Array,a=_createForOfIteratorHelper(i);try{var o=function(){var n=t.value,i=e.pickup_torsional_moment.find(function(t){return t.id===n.id});void 0!==i&&(n.no=i.no),r.push(n)};for(a.s();!(t=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}this.pickup_torsional_moment=r,this.specification2_list=this.default_specification2(n),this.conditions_list=this.default_conditions(n)}},{key:"default_pickup_moment",value:function(t){var e=new Array;switch(t){case 0:case 1:e=[{id:2,title:"\u5b89\u5168\u6027 \uff08\u75b2\u52b4\u7834\u58ca\uff09\u75b2\u52b4\u9650",no:null},{id:3,title:"\u5b89\u5168\u6027 \uff08\u75b2\u52b4\u7834\u58ca\uff09\u6c38\u4e45\u4f5c\u7528",no:null},{id:4,title:"\u5b89\u5168\u6027 \uff08\u75b2\u52b4\u7834\u58ca\uff09\u6c38\u4e45\uff0b\u5909\u52d5",no:null},{id:5,title:"\u5b89\u5168\u6027 \uff08\u7834\u58ca\uff09",no:null},{id:7,title:"\u5fa9\u65e7\u6027 \uff08\u640d\u50b7\uff09\u5730\u9707\u6642",no:null}];break;case 2:e=[{id:3,title:"\u75b2\u52b4\u9650\u754c\u3000\u6c38\u4e45\u8377\u91cd",no:null},{id:4,title:"\u75b2\u52b4\u9650\u754c\u3000\u6c38\u4e45\uff0b\u5909\u52d5",no:null},{id:5,title:"\u7d42\u5c40\u9650\u754c",no:null},{id:6,title:"\u5730\u9707\u6642 \u4f7f\u7528\u9650\u754c",no:null},{id:7,title:"\u5730\u9707\u6642 \u7d42\u5c40\u9650\u754c",no:null}]}return e}},{key:"default_pickup_torsional",value:function(t){var e=new Array;switch(t){case 0:case 1:e=[{id:2,title:"\u5b89\u5168\u6027 \uff08\u75b2\u52b4\u7834\u58ca\uff09\u75b2\u52b4\u9650",no:null},{id:3,title:"\u5b89\u5168\u6027 \uff08\u75b2\u52b4\u7834\u58ca\uff09\u6c38\u4e45\u4f5c\u7528",no:null},{id:4,title:"\u5b89\u5168\u6027 \uff08\u75b2\u52b4\u7834\u58ca\uff09\u6c38\u4e45\uff0b\u5909\u52d5",no:null},{id:5,title:"\u5b89\u5168\u6027 \uff08\u7834\u58ca\uff09",no:null},{id:7,title:"\u5fa9\u65e7\u6027 \uff08\u640d\u50b7\uff09\u5730\u9707\u6642",no:null}];break;case 2:e=[{id:5,title:"\u7d42\u5c40\u9650\u754c",no:null},{id:6,title:"\u5730\u9707\u6642 \u4f7f\u7528\u9650\u754c",no:null},{id:7,title:"\u5730\u9707\u6642 \u7d42\u5c40\u9650\u754c",no:null}]}return e}},{key:"set_pickup_torsional_moment",value:function(t,e){var n=this.pickup_torsional_moment.find(function(e){return e.id===t});void 0!==n&&(n.no=e)}},{key:"default_specification2",value:function(t){var e=new Array;switch(t){case 0:e=[{id:0,title:"\uff2a\uff32\u5404\u793e",selected:!0},{id:1,title:"\u904b\u8f38\u6a5f\u69cb",selected:!1},{id:2,title:"\uff2a\uff32\u6771\u65e5\u672c",selected:!1}];break;case 1:case 2:e=[]}return e}},{key:"set_specification2",value:function(t){void 0!==this.specification2_list.find(function(e){return e.id===t})&&this.specification2_list.map(function(e){return e.selected=e.id===t})}},{key:"default_conditions",value:function(t){var e=new Array;switch(t){case 0:case 1:case 2:e=[{id:"JR-001",title:"\u3072\u3073\u5272\u308c\u5e45\u5236\u9650\u5024\u306b\u7528\u3044\u308b\u304b\u3076\u308a\u306f 100mm \u3092\u4e0a\u9650\u3068\u3059\u308b",selected:!0},{id:"JR-003",title:"\u5186\u5f62\u65ad\u9762\u3067\u9244\u7b4b\u3092\u9802\u70b9\u306b\uff11\u672c\u914d\u7f6e\u3059\u308b",selected:!0},{id:"JR-004",title:"\u305b\u3093\u65ad\u8010\u529b\u306b\u304a\u3051\u308b\u03b2n\u7b97\u5b9a\u6642\u306e Mud \u306f\u8ef8\u529b\u3092\u8003\u616e\u3057\u306a\u3044",selected:!1}]}return e}},{key:"set_conditions",value:function(t,e){var n=this.conditions_list.find(function(e){return e.id===t});void 0!==n&&(n.selected=e)}},{key:"pickup_torsional_moment_no",value:function(t){var e=this.pickup_torsional_moment.find(function(e){return e.id===t});return void 0!==e?this.helper.toNumber(e.no):null}},{key:"get_specification1",value:function(){return this.specification1_list.find(function(t){return!0===t.selected}).id}},{key:"get_specification2",value:function(){var t=this.specification2_list.find(function(t){return!0===t.selected});return void 0!==t?t.id:-1}},{key:"set_specification1",value:function(t){var e=this.specification1_list.findIndex(function(e){return e.id===t});return this.specification1_list.map(function(t){return t.selected=t.id===e}),this.set_default_pickup(),this.getSaveData()}},{key:"setSaveData",value:function(t){this.specification1_list=this.default_specification1();var e,n=_createForOfIteratorHelper(this.specification1_list);try{var i=function(){var n=e.value,i=t.specification1_list.find(function(t){return t.id===n.id});void 0!==i&&(n.selected=i.selected)};for(n.s();!(e=n.n()).done;)i()}catch(h){n.e(h)}finally{n.f()}var r=this.get_specification1();if(this.pickup_torsional_moment=this.default_pickup_torsional(r),"pickup_torsional_moment"in t)for(var a=0;a<t.pickup_torsional_moment.length;a++)for(var o=this.pickup_torsional_moment[a],s=t.pickup_torsional_moment[a],l=0,u=Object.keys(o);l<u.length;l++){var c=u[l];c in s&&(o[c]=s[c])}this.conditions_list=t.conditions_list}},{key:"setPickUpData",value:function(){}},{key:"getSaveData",value:function(){return{pickup_torsional_moment:this.pickup_torsional_moment,specification1_list:this.specification1_list,conditions_list:this.conditions_list}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Qc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Xc=function(){var t=function(){function t(e){_classCallCheck(this,t),this.helper=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.member_list=new Array}},{key:"default_member",value:function(t){return{m_no:t,m_len:null,g_no:null,g_id:"",g_name:"",shape:"",eff_len:null,n:null}}},{key:"getTableColumns",value:function(t){var e=this.getData(t);return void 0!==e?null===e.g_no&&(e.g_id=""):(e=this.default_member(t),this.member_list.push(e)),e}},{key:"getCalcData",value:function(t){var e=this.getData(t);return JSON.parse(JSON.stringify({temp:e})).temp}},{key:"getData",value:function(t){return this.member_list.find(function(e){return e.m_no===t})}},{key:"getSameGroupeMembers",value:function(t){var e=this.getCalcData(t);return"g_id"in e&&null!=e.g_id&&0!==e.g_id.trim().length?this.member_list.filter(function(t){return t.g_id===e.g_id}):[]}},{key:"setTableColumns",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.member_list=new Array,e){var n,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;this.isEnable(r)&&(null===r.g_no&&(r.g_id="blank"),this.member_list.push(r))}}catch(u){i.e(u)}finally{i.f()}}else{var a,o=_createForOfIteratorHelper(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(this.isEnable(s))null===s.g_no&&(s.g_id=""),this.member_list.push(s);else{var l=this.default_member(s.m_no);l.m_len=s.m_len,this.member_list.push(l)}}}catch(u){o.e(u)}finally{o.f()}}}},{key:"setPickUpData",value:function(t){var e=this,n=t[Object.keys(t)[0]],i=this.member_list.slice(0,this.member_list.length);this.member_list=new Array;var r=0;n.forEach(function(t,e,n){r=Math.max(r,t.m_no)});for(var a=function(t){var r=n.filter(function(e,n,i){return e.m_no===t});if(0===r.length)return"continue";var a=0;r.forEach(function(t,e,n){a=Math.max(a,t.position)});var o=i.find(function(e){return e.m_no===t});void 0===o&&(o=e.default_member(t)),o.m_len=a,e.member_list.push(o)},o=1;o<=r;o++)a(o)}},{key:"checkMemberEnables",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.member_list,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(this.isEnable(i))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEnable",value:function(t){return null!=t.g_name&&t.g_name.trim().length>0||null!=t.shape&&t.shape.trim().length>0||null!=t.B||null!=t.H||null!=t.Bt||null!=t.t}},{key:"getGroupeName",value:function(t){var e=this.getGroupeList()[t][0],n="";return""===(n=null===e.g_name||""===e.g_name?e.g_id:e.g_name)&&(n="No"+t),n}},{key:"getGroupeList",value:function(){var t=this,e=this.getGroupes();e.sort();var n,i=new Array,r=_createForOfIteratorHelper(e);try{var a=function(){var e=n.value,r=t.member_list.filter(function(t){return t.g_id===e});i.push(r)};for(r.s();!(n=r.n()).done;)a()}catch(o){r.e(o)}finally{r.f()}return JSON.parse(JSON.stringify({temp:i})).temp}},{key:"getGroupes",value:function(){var t,e=new Array,n=_createForOfIteratorHelper(this.member_list);try{var i=function(){var n=t.value;!("g_id"in n)||null==n.g_id||0===n.g_id.trim().length||void 0===e.find(function(t){return t===n.g_id})&&e.push(n.g_id)};for(n.s();!(t=n.n()).done;)i()}catch(r){n.e(r)}finally{n.f()}return e}},{key:"getSaveData",value:function(){var t,e=[],n=_createForOfIteratorHelper(this.member_list);try{for(n.s();!(t=n.n()).done;){for(var i=t.value,r=this.default_member(i.m_no),a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];s in i&&(r[s]=i[s])}e.push(r)}}catch(l){n.e(l)}finally{n.f()}return e}},{key:"setSaveData",value:function(t){this.clear();var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){for(var i=e.value,r=this.default_member(i.m_no),a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];s in i&&(r[s]=i[s])}this.member_list.push(r)}}catch(l){n.e(l)}finally{n.f()}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Qc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),$c=function(){var t=function(){function t(e){_classCallCheck(this,t),this.members=e,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.position_list=new Array}},{key:"getTableColumn",value:function(t){var e=this.getCalcData(t);return void 0===e&&(e=this.default_position(t),this.position_list.push(e)),e}},{key:"getCalcData",value:function(t){return this.position_list.find(function(e){return e.index===t})}},{key:"getSaveData",value:function(){return this.position_list}},{key:"setSaveData",value:function(t){this.clear();var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){for(var i=e.value,r=this.default_position(i.index),a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];s in i&&(r[s]=i[s])}this.position_list.push(r)}}catch(l){n.e(l)}finally{n.f()}}},{key:"setTableColumns",value:function(t){var e,n=this,i=_createForOfIteratorHelper(t);try{var r=function(){var t=e.value,i=n.default_position(t.index),r=n.position_list.findIndex(function(e){return e.index===t.index});if(r>=0)for(var a=n.position_list[r],o=0,s=Object.keys(i);o<s.length;o++){var l=s[o];l in a&&(i[l]=a[l])}for(var u=0,c=Object.keys(i);u<c.length;u++){var h=c[u];h in t&&(i[h]=t[h])}r>=0?n.position_list[r]=i:n.position_list.push(i)};for(i.s();!(e=i.n()).done;)r()}catch(a){i.e(a)}finally{i.f()}}},{key:"getTableColumns",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=new Array,i=_createForOfIteratorHelper(this.getGroupeList(e));try{for(i.s();!(t=i.n()).done;){var r,a=t.value,o=[],s=_createForOfIteratorHelper(a);try{for(s.s();!(r=s.n()).done;){var l=r.value;if(0===l.positions.length){var u=this.default_position(l.m_no);u.m_no=l.m_no,u.g_name=l.g_name,o.push(u)}else{var c,h=_createForOfIteratorHelper(l.positions);try{for(h.s();!(c=h.n()).done;){var d=c.value;o.push(d)}}catch(f){h.e(f)}finally{h.f()}}}}catch(f){s.e(f)}finally{s.f()}n.push(o)}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"getGroupeList",value:function(){var t,e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.members.getGroupeList(),r=_createForOfIteratorHelper(i);try{for(r.s();!(t=r.n()).done;){var a,o=t.value,s=_createForOfIteratorHelper(o);try{var l=function(){var t=a.value;t.positions=new Array;var i=e.position_list.filter(function(e){return e.m_no===t.m_no});if(0===i.length&&n){var r,o=_createForOfIteratorHelper(i=e.position_list.filter(function(e){return e.index===t.m_no}));try{for(o.s();!(r=o.n()).done;){var s=r.value;s.m_no=t.m_no,t.positions.push(s)}}catch(h){o.e(h)}finally{o.f()}}else{var l,u=_createForOfIteratorHelper(i);try{for(u.s();!(l=u.n()).done;){var c=l.value;t.positions.push(c)}}catch(h){u.e(h)}finally{u.f()}}};for(s.s();!(a=s.n()).done;)l()}catch(u){s.e(u)}finally{s.f()}}}catch(u){r.e(u)}finally{r.f()}return JSON.parse(JSON.stringify({temp:i})).temp}},{key:"getSameGroupePoints",value:function(t){var e,n=this,i=[],r=this.getCalcData(t),a=_createForOfIteratorHelper(this.members.getSameGroupeMembers(r.m_no));try{var o=function(){var t,r=e.value,a=_createForOfIteratorHelper(n.position_list.filter(function(t){return t.m_no===r.m_no}));try{for(a.s();!(t=a.n()).done;){var o=t.value;i.push(o)}}catch(s){a.e(s)}finally{a.f()}};for(a.s();!(e=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}return i}},{key:"getGroupeName",value:function(t){return this.members.getGroupeName(t)}},{key:"default_position",value:function(t){return{index:t,m_no:null,position:null,p_name:null,p_id:null,isMyCalc:!1,isVyCalc:!1,isMzCalc:!1,isVzCalc:!1,isMtCalc:!1,La:null}}},{key:"setPickUpData",value:function(t){var e=this,n=t[Object.keys(t)[0]],i=this.position_list.slice(0,this.position_list.length);this.position_list=new Array;var r,a=_createForOfIteratorHelper(n);try{var o=function(){var t=r.value,n=i.find(function(e){return e.index===t.index}),a=e.default_position(t.index);if(void 0!==n)for(var o=0,s=Object.keys(a);o<s.length;o++){var l=s[o];l in n&&(a[l]=n[l])}for(var u=0,c=Object.keys(a);u<c.length;u++){var h=c[u];h in t&&(a[h]=t[h])}e.position_list.push(a)};for(a.s();!(r=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}},{key:"designPointChange",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.position_list,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var i=t.value;if(this.isEnable(i))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEnable",value:function(t){for(var e=0,n=["isMyCalc","isVyCalc","isMzCalc","isVzCalc","isMtCalc"];e<n.length;e++){var i=n[e];if(i in t&&!0===t[i])return!0}return!1}},{key:"setManualData",value:function(){var t,e=[],n=_createForOfIteratorHelper(this.getTableColumns(!0));try{for(n.s();!(t=n.n()).done;){var i,r=_createForOfIteratorHelper(t.value);try{for(r.s();!(i=r.n()).done;){var a=i.value;a.isMzCalc=!0,a.isVyCalc=!0,a.isMtCalc=!0,e.push(a)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){n.e(o)}finally{n.f()}this.setTableColumns(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Xc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Kc=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.helper=e,this.points=n,this.members=i,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.bar_list=new Array}},{key:"default_bars",value:function(t){var e=this.default(t);return e.m_no=null,e.position=null,e.g_name=null,e.p_name=null,e.b=null,e.h=null,e}},{key:"default",value:function(t){return{index:t,haunch_M:null,haunch_V:null,rebar1:this.default_rebar("\u4e0a\u5074"),rebar2:this.default_rebar("\u4e0b\u5074"),sidebar1:this.default_sidebar(),sidebar2:this.default_sidebar(),stirrup:this.default_stirrup(),bend:this.default_bend(),tan:null}}},{key:"default_rebar",value:function(t){return{title:t,rebar_dia:null,rebar_n:null,rebar_cover:null,rebar_lines:null,rebar_space:null,rebar_ss:null,cos:null,enable:!0}}},{key:"default_sidebar",value:function(){return{side_dia:null,side_n:null,side_cover:null,side_ss:null}}},{key:"default_stirrup",value:function(){return{stirrup_dia:null,stirrup_n:null,stirrup_ss:null}}},{key:"default_bend",value:function(){return{bending_dia:null,bending_n:null,bending_ss:null,bending_angle:null}}},{key:"getTableColumns",value:function(){for(var t=new Array,e=this.points.getGroupeList(),n=0;n<e.length;n++){var i,r=[],a=_createForOfIteratorHelper(e[n]);try{for(a.s();!(i=a.n()).done;)for(var o=i.value,s=0,l=0;l<o.positions.length;l++){var u=o.positions[l];if(this.points.isEnable(u)){var c=this.getTableColumn(u.index);c.m_no=o.m_no,c.b=o.B,c.h=o.H,c.position=u.position,c.g_name=u.g_name,c.p_name=u.p_name,"sidebar"in c&&(c.sidebar1=c.sidebar);var h={},d={};h.m_no=0===s?c.m_no:"",h.index=c.index;var f=this.helper.toNumber(c.position);h.position=null===f?"":f.toFixed(3),h.g_name=c.g_name,h.p_name=c.p_name,h.bh=c.b,h.haunch_height=c.haunch_M,h.design_point_id=c.rebar1.title,h.rebar_dia=c.rebar1.rebar_dia,h.rebar_n=c.rebar1.rebar_n,h.rebar_cover=c.rebar1.rebar_cover,h.rebar_lines=c.rebar1.rebar_lines,h.rebar_space=c.rebar1.rebar_space,h.rebar_ss=c.rebar1.rebar_ss,h.cos=c.rebar1.cos,h.enable=c.rebar1.enable,h.side_dia=c.sidebar1.side_dia,h.side_n=c.sidebar1.side_n,h.side_cover=c.sidebar1.side_cover,h.side_ss=c.sidebar1.side_ss,h.stirrup_dia=c.stirrup.stirrup_dia,h.stirrup_n=c.stirrup.stirrup_n,h.stirrup_ss=c.stirrup.stirrup_ss,h.tan=c.tan,h.bending_dia=c.bend.bending_dia,h.bending_n=c.bend.bending_n,h.bending_ss=c.bend.bending_ss,h.bending_angle=c.bend.bending_angle,r.push(h),d.bh=c.h,d.haunch_height=c.haunch_V,d.design_point_id=c.rebar2.title,d.rebar_dia=c.rebar2.rebar_dia,d.rebar_n=c.rebar2.rebar_n,d.rebar_cover=c.rebar2.rebar_cover,d.rebar_lines=c.rebar2.rebar_lines,d.rebar_space=c.rebar2.rebar_space,d.rebar_ss=c.rebar2.rebar_ss,d.cos=c.rebar2.cos,d.enable=c.rebar2.enable,"sidebar2"in c&&(d.side_cover=c.sidebar2.side_cover),r.push(d),s++}}}catch(p){a.e(p)}finally{a.f()}t.push(r)}return t}},{key:"getTableColumn",value:function(t){var e=this.bar_list.find(function(e){return e.index===t});return void 0===e&&(e=this.default_bars(t),this.bar_list.push(e)),e}},{key:"getCalcData",value:function(t){for(var e=this,n=null,i=JSON.parse(JSON.stringify({temp:this.bar_list})).temp,r=this.points.getSameGroupePoints(t),a=function(a){var o=r[a];if(!e.points.isEnable(o))return"continue";var s=i.find(function(t){return t.index===o.index});if(void 0===s)return"continue";if(null===n){n=e.default(t);for(var l=0,u=Object.keys(n);l<u.length;l++){var c=u[l];if(["rebar1","rebar2","sidebar1","sidebar2","stirrup","bend"].includes(c))for(var h=0,d=Object.keys(n[c]);h<d.length;h++){var f=d[h];f in s[c]&&(n[c][f]=s[c][f])}else n[c]=s[c]}}for(var p=!0,g=0,v=["rebar1","rebar2","sidebar1","sidebar2","stirrup"];g<v.length;g++)for(var m=v[g],_=s[m],y=n[m],b=0,x=Object.keys(y);b<x.length;b++){var w=x[b];"cos"===w||"enable"===w||"title"===w||null===y[w]&&w in _&&(y[w]=e.helper.toNumber(_[w]),p=!1)}return!0===p?"break":void 0},o=r.findIndex(function(e){return e.index===t});o>=0;o--){var s=a(o);if("continue"!==s&&"break"===s)break}return n}},{key:"setTableColumns",value:function(t){this.bar_list=new Array;for(var e=0;e<t.length;e+=2){var n=t[e],i=t[e+1],r=this.default_bars(n.index);r.g_name=n.g_name,r.position=n.position,r.m_no=n.m_no,r.p_name=n.p_name,r.b=n.bh,r.h=i.bh,r.haunch_M=n.haunch_height,r.haunch_V=i.haunch_height,r.rebar1.title=n.design_point_id,r.rebar1.rebar_dia=n.rebar_dia,r.rebar1.rebar_n=n.rebar_n,r.rebar1.rebar_cover=n.rebar_cover,r.rebar1.rebar_lines=n.rebar_lines,r.rebar1.rebar_space=n.rebar_space,r.rebar1.rebar_ss=n.rebar_ss,r.rebar1.cos=n.cos,r.rebar1.enable=n.enable,r.rebar2.title=i.design_point_id,r.rebar2.rebar_dia=i.rebar_dia,r.rebar2.rebar_n=i.rebar_n,r.rebar2.rebar_cover=i.rebar_cover,r.rebar2.rebar_lines=i.rebar_lines,r.rebar2.rebar_space=i.rebar_space,r.rebar2.rebar_ss=i.rebar_ss,r.rebar2.cos=i.cos,r.rebar2.enable=i.enable,r.sidebar1.side_dia=n.side_dia,r.sidebar1.side_n=n.side_n,r.sidebar1.side_cover=n.side_cover,r.sidebar1.side_ss=n.side_ss,r.sidebar2.side_cover=i.side_cover,r.stirrup.stirrup_dia=n.stirrup_dia,r.stirrup.stirrup_n=n.stirrup_n,r.stirrup.stirrup_ss=n.stirrup_ss,r.bend.bending_dia=n.bending_dia,r.bend.bending_n=n.bending_n,r.bend.bending_ss=n.bending_ss,r.bend.bending_angle=n.bending_angle,r.tan=n.tan;for(var a=0,o=Object.keys(r);a<o.length;a++){var s=o[a],l=r[s];if(["rebar1","rebar2","sidebar1","sidebar2","stirrup","bend"].includes(s))for(var u=0,c=Object.keys(l);u<c.length;u++){var h=c[u];void 0===l[h]&&(l[h]=null)}else void 0===l&&(r[s]=null)}this.bar_list.push(r)}}},{key:"setPickUpData",value:function(){}},{key:"getSaveData",value:function(){return this.bar_list}},{key:"setSaveData",value:function(t){this.bar_list=t}},{key:"getGroupeName",value:function(t){return this.points.getGroupeName(t)}},{key:"matchBarSize",value:function(t){var e,n=null,i=this.helper.toNumber(t),r=_createForOfIteratorHelper(this.helper.rebar_List);try{for(r.s();!(e=r.n()).done;){if(e.value.D===i){n=i;break}}}catch(a){r.e(a)}finally{r.f()}return n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Qc),i.LFG($c),i.LFG(Xc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),th=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.points=e,this.bars=n,this.helper=i,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.steel_list=new Array}},{key:"default_steels",value:function(t){return{m_no:null,index:t,position:null,p_name:null,1:this.default_steel("1"),2:this.default_steel("2"),3:this.default_steel("3"),4:this.default_steel("4"),5:this.default_steel("5")}}},{key:"default_steel",value:function(t){return{title:t,steel_b:null,steel_h:null,steel_w:null,lib_b:null,lib_h:null,lib_w:null,lib_n:null}}},{key:"getTableColumns",value:function(){for(var t=new Array,e=this.points.getGroupeList(),n=0;n<e.length;n++){var i,r=[],a=_createForOfIteratorHelper(e[n]);try{for(a.s();!(i=a.n()).done;)for(var o=i.value,s=0,l=0;l<o.positions.length;l++){var u=o.positions[l];if(this.points.isEnable(u)){var c=this.getTableColumn(u.index);c.m_no=o.m_no,c.shape=o.shape,c.g_id=o.g_id,c.position=u.position;var h={},d={},f={},p={},g={};h.m_no=0===s?o.m_no:"",h.shape=o.shape=o.shape,h.index=c.index;var v=this.helper.toNumber(c.position);h.position=null===v?"":v.toFixed(3),h.p_name=c.p_name,h.g_id=c.g_id,h.design_point_id=c[1].title,h.steel_b=c[1].steel_b,h.steel_h=c[1].steel_h,h.steel_w=c[1].steel_w,h.lib_b=c[1].lib_b,h.lib_h=c[1].lib_h,h.lib_w=c[1].lib_w,h.lib_n=c[1].lib_n,r.push(h),d.design_point_id=c[2].title,d.steel_b=c[2].steel_b,d.steel_h=c[2].steel_h,d.steel_w=c[2].steel_w,d.lib_b=c[2].lib_b,d.lib_h=c[2].lib_h,d.lib_w=c[2].lib_w,d.lib_n=c[2].lib_n,r.push(d),f.design_point_id=c[3].title,f.steel_b=c[3].steel_b,f.steel_h=c[3].steel_h,f.steel_w=c[3].steel_w,f.lib_b=c[3].lib_b,f.lib_h=c[3].lib_h,f.lib_w=c[3].lib_w,f.lib_n=c[3].lib_n,r.push(f),p.design_point_id=c[4].title,p.steel_b=c[4].steel_b,p.steel_h=c[4].steel_h,p.steel_w=c[4].steel_w,p.lib_b=c[4].lib_b,p.lib_h=c[4].lib_h,p.lib_w=c[4].lib_w,p.lib_n=c[4].lib_n,r.push(p),g.design_point_id=c[5].title,g.steel_b=c[5].steel_b,g.steel_h=c[5].steel_h,g.steel_w=c[5].steel_w,g.lib_b=c[5].lib_b,g.lib_h=c[5].lib_h,g.lib_w=c[5].lib_w,g.lib_n=c[5].lib_n,r.push(g),s++}}}catch(m){a.e(m)}finally{a.f()}t.push(r)}return t}},{key:"getTableColumn",value:function(t){var e=this.steel_list.find(function(e){return e.index===t});return void 0===e&&(e=this.default_steels(t),this.steel_list.push(e)),e}},{key:"getCalcData",value:function(t){for(var e=this,n=null,i=JSON.parse(JSON.stringify({temp:this.steel_list})).temp,r=this.points.getSameGroupePoints(t),a=function(a){var o=r[a];if(!e.points.isEnable(o))return"continue";var s=i.find(function(t){return t.index===o.index});if(void 0!==s&&null===n){n=e.default_steels(t);for(var l=0,u=Object.keys(n);l<u.length;l++){var c=u[l];n[c]=s[c]}}},o=r.findIndex(function(e){return e.index===t});o>=0;o--)a(o);return n}},{key:"setTableColumns",value:function(t){this.steel_list=new Array;for(var e=0;e<t.length;e+=5){var n=t[e],i=t[e+1],r=t[e+2],a=t[e+3],o=t[e+4],s=this.default_steels(n.index);s.m_no=n.m_no,s.position=n.position,s.p_name=n.p_name,s[1].title=n.design_point_id,s[1].steel_b=n.steel_b,s[1].steel_h=n.steel_h,s[1].steel_w=n.steel_w,s[1].lib_b=n.lib_b,s[1].lib_h=n.lib_h,s[1].lib_w=n.lib_w,s[1].lib_n=n.lib_n,s[2].title=i.design_point_id,s[2].steel_b=i.steel_b,s[2].steel_h=i.steel_h,s[2].steel_w=i.steel_w,s[2].lib_b=i.lib_b,s[2].lib_h=i.lib_h,s[2].lib_w=i.lib_w,s[2].lib_n=i.lib_n,s[3].title=r.design_point_id,s[3].steel_b=r.steel_b,s[3].steel_h=r.steel_h,s[3].steel_w=r.steel_w,s[3].lib_b=r.lib_b,s[3].lib_h=r.lib_h,s[3].lib_w=r.lib_w,s[3].lib_n=r.lib_n,s[4].title=a.design_point_id,s[4].steel_b=a.steel_b,s[4].steel_h=a.steel_h,s[4].steel_w=a.steel_w,s[4].lib_b=a.lib_b,s[4].lib_h=a.lib_h,s[4].lib_w=a.lib_w,s[4].lib_n=a.lib_n,s[5].title=o.design_point_id,s[5].steel_b=o.steel_b,s[5].steel_h=o.steel_h,s[5].steel_w=o.steel_w,s[5].lib_b=o.lib_b,s[5].lib_h=o.lib_h,s[5].lib_w=o.lib_w,s[5].lib_n=o.lib_n,this.steel_list.push(s)}}},{key:"setPickUpData",value:function(){}},{key:"getSaveData",value:function(){return this.steel_list}},{key:"setSaveData",value:function(t){this.steel_list=t}},{key:"getGroupeName",value:function(t){return this.points.getGroupeName(t)}},{key:"getSteelJson",value:function(t){for(var e,n=this.getTableColumns(),i={},r=5,a=0,o=Object.keys(n);a<o.length;a++)for(var s=n[o[a]],l=0;l<s.length;l++)if("index"in s[l]){("\u7bb1\u5f62/\u03c0\u5f62"===s[l].shape||"\u92fc\u7ba1"===s[l].shape)&&(r=5);var u=["steel_b","steel_h","steel_w","lib_b","lib_h","lib_w","lib_n"],c=!0;t:for(var h=0;h<r;h++){var d,f=s[l+h],p=_createForOfIteratorHelper(u);try{for(p.s();!(d=p.n()).done;){if(null!=f[d.value]){c=!1;break t}}}catch(T){p.e(T)}finally{p.f()}}if(c){if(0===Object.keys(i).length)continue;for(var g=0,v=Object.keys(i);g<v.length;g++)for(var m=v[g],_=this.helper.toNumber(m),y=0,b=["steel_b","steel_h","steel_w","lib_b","lib_h","lib_w","lib_n"];y<b.length;y++){var x=b[y];s[l+_][x]=i[_][x]}}else for(var w=0;w<r;w++)i[w]=s[l+w]}var k,C=_createForOfIteratorHelper(n);try{for(C.s();!(k=C.n()).done;){var M=k.value;if(M[0].g_id==t){e=M;break}}}catch(T){C.e(T)}finally{C.f()}return e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG($c),i.LFG(Kc),i.LFG(Qc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),eh=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.helper=e,this.points=n,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.crack_list=new Array}},{key:"default_crack",value:function(t){return{index:t,m_no:null,g_name:null,p_name:null,section:null,buckle_u:!0,buckle_s:!0,buckle_l:!0}}},{key:"getTableColumns",value:function(){for(var t=new Array,e=this.points.getGroupeList(),n=0;n<e.length;n++){var i,r=[],a=_createForOfIteratorHelper(e[n]);try{for(a.s();!(i=a.n()).done;)for(var o=i.value,s=0,l=0;l<o.positions.length;l++){var u=o.positions[l];if(this.points.isEnable(u)){var c=this.getTableColumn(u.index);c.m_no=0===s?o.m_no:"",c.b=o.B,c.h=o.H,c.position=u.position,c.g_name=u.g_name,c.p_name=u.p_name,c.g_id=o.g_id,r.push(c),s++}}}catch(h){a.e(h)}finally{a.f()}t.push(r)}return t}},{key:"getTableColumn",value:function(t){var e=this.crack_list.find(function(e){return e.index===t});return void 0===e&&(e=this.default_crack(t),this.crack_list.push(e)),e}},{key:"getCalcData",value:function(t){var e=this.crack_list.find(function(e){return e.index===t});return null==e&&(e=this.default_crack(t)),JSON.parse(JSON.stringify({temp:e})).temp}},{key:"setTableColumns",value:function(t){this.crack_list=new Array;var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=this.default_crack(i.index);r.m_no=i.m_no,r.g_name=i.g_name,r.p_name=i.p_name,r.section=i.section,r.buckle_u=i.buckle_u,r.buckle_s=i.buckle_s,r.buckle_l=i.buckle_l,this.crack_list.push(r)}}catch(a){n.e(a)}finally{n.f()}}},{key:"setPickUpData",value:function(){}},{key:"getSaveData",value:function(){return this.crack_list}},{key:"setSaveData",value:function(t){this.crack_list=t}},{key:"getGroupeName",value:function(t){return this.points.getGroupeName(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Qc),i.LFG($c))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),nh=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.helper=e,this.points=n,this.bars=i,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.train_A_count=null,this.train_B_count=null,this.service_life=null,this.reference_count=2e6,this.fatigue_list=new Array}},{key:"default_fatigue",value:function(t){return{m_no:null,index:t,g_name:null,p_name:null,b:null,h:null,M1:this.default_fatigue_coefficient("Md"),V1:this.default_fatigue_coefficient("Vd"),M2:this.default_fatigue_coefficient("Md"),V2:this.default_fatigue_coefficient("Vd")}}},{key:"default_fatigue_coefficient",value:function(t){var e={SA:null,SB:null,NA06:null,NB06:null,NA12:null,NB12:null,A:null,B:null};return"Md"===t?(e.r1_1=null,e.r1_3=null,e.Class=null,e.weld=null):(e.r1_2=null,e.r1_3=null),e}},{key:"getTableColumns",value:function(){for(var t=new Array,e=this.points.getGroupeList(),n=0;n<e.length;n++){var i,r=[],a=_createForOfIteratorHelper(e[n]);try{for(a.s();!(i=a.n()).done;)for(var o=i.value,s=0,l=0;l<o.positions.length;l++){var u=o.positions[l];if(this.points.isEnable(u)){var c=this.getTableColumn(u.index),h={},d={};h.m_no=0===s?u.m_no:"",h.index=c.index;var f=this.helper.toNumber(u.position);h.position=null===f?"":f.toFixed(3),h.g_name=u.g_name,h.p_name=u.p_name,h.bh=o.B,h.design_point_id=c.title1;for(var p=0,g=Object.keys(c.M1);p<g.length;p++){var v=g[p];h["M_"+v]=c.M1[v]}for(var m=0,_=Object.keys(c.V1);m<_.length;m++){var y=_[m];h["V_"+y]=c.V1[y]}r.push(h),d.bh=o.H,d.design_point_id=c.title2;for(var b=0,x=Object.keys(c.M2);b<x.length;b++){var w=x[b];d["M_"+w]=c.M2[w]}for(var k=0,C=Object.keys(c.V2);k<C.length;k++){var M=C[k];d["V_"+M]=c.V2[M]}r.push(d),s++}}}catch(T){a.e(T)}finally{a.f()}t.push(r)}return t}},{key:"getTableColumn",value:function(t){var e=this.fatigue_list.find(function(e){return e.index===t}),n=this.bars.getTableColumn(t);return void 0===e&&((e=this.default_fatigue(t)).titgle1=n.title1,this.fatigue_list.push(e)),e.title1=n.rebar1.title,e.title2=n.rebar2.title,e}},{key:"getCalcData",value:function(t){var e,n=this,i={upper:this.default_fatigue_coefficient("Md"),bottom:this.default_fatigue_coefficient("Md"),share:this.default_fatigue_coefficient("Vd")},r=_createForOfIteratorHelper(this.points.getGroupeList());try{for(r.s();!(e=r.n()).done;){for(var a=e.value,o=!1,s=a.length-1;s>=0;s--)for(var l=a[s],u=function(e){var r=l.positions[e];if(r.index===t&&(o=!0),!1===o)return"continue";var a=!0,s=n.fatigue_list.find(function(t){return t.index===r.index});if(void 0===s)return"continue";for(var u=s.M1,c=0,h=Object.keys(i.upper);c<h.length;c++){var d=h[c];null===i.upper[d]&&d in u&&(i.upper[d]="Class"!==d&&"weld"!==d?n.helper.toNumber(u[d]):u[d],a=!1)}for(var f=s.M2,p=0,g=Object.keys(i.bottom);p<g.length;p++){var v=g[p];null===i.bottom[v]&&v in f&&(i.bottom[v]="Class"!==v&&"weld"!==v?n.helper.toNumber(f[v]):f[v],a=!1)}for(var m=0,_=["V1","V2"];m<_.length;m++)for(var y=s[_[m]],b=0,x=Object.keys(i.share);b<x.length;b++){var w=x[b];null===i.share[w]&&w in y&&(i.share[w]=n.helper.toNumber(y[w]),a=!1)}return!0===a?{v:i}:void 0},c=l.positions.length-1;c>=0;c--){var h=u(c);if("continue"!==h&&"object"==typeof h)return h.v}if(!0===o)return i}}catch(d){r.e(d)}finally{r.f()}return i}},{key:"setTableColumns",value:function(t){this.train_A_count=t.train_A_count,this.train_B_count=t.train_B_count,this.service_life=t.service_life,this.fatigue_list=new Array;for(var e=t.table_datas,n=0;n<e.length;n+=2){var i=e[n],r=e[n+1],a=this.default_fatigue(i.index);a.M1.SA=i.M_SA,a.M1.SB=i.M_SB,a.M1.NA06=i.M_NA06,a.M1.NB06=i.M_NB06,a.M1.NA12=i.M_NA12,a.M1.NB12=i.M_NB12,a.M1.A=i.M_A,a.M1.B=i.M_B,a.M1.r1_1=i.M_r1_1,a.M1.r1_3=i.M_r1_3,a.M1.Class=i.M_Class,a.M1.weld=i.M_weld,a.V1.SA=i.V_SA,a.V1.SB=i.V_SB,a.V1.NA06=i.V_NA06,a.V1.NB06=i.V_NB06,a.V1.NA12=i.V_NA12,a.V1.NB12=i.V_NB12,a.V1.A=i.V_A,a.V1.B=i.V_B,a.V1.r1_2=i.V_r1_2,a.V1.r1_3=i.V_r1_3,a.M2.SA=r.M_SA,a.M2.SB=r.M_SB,a.M2.NA06=r.M_NA06,a.M2.NB06=r.M_NB06,a.M2.NA12=r.M_NA12,a.M2.NB12=r.M_NB12,a.M2.A=r.M_A,a.M2.B=r.M_B,a.M2.r1_1=r.M_r1_1,a.M2.r1_3=r.M_r1_3,a.M2.Class=r.M_Class,a.M2.weld=r.M_weld,a.V2.SA=r.V_SA,a.V2.SB=r.V_SB,a.V2.NA06=r.V_NA06,a.V2.NB06=r.V_NB06,a.V2.NA12=r.V_NA12,a.V2.NB12=r.V_NB12,a.V2.A=r.V_A,a.V2.B=r.V_B,a.V2.r1_2=r.V_r1_2,a.V2.r1_3=r.V_r1_3,this.fatigue_list.push(a)}}},{key:"setPickUpData",value:function(){}},{key:"getSaveData",value:function(){return{fatigue_list:this.fatigue_list,train_A_count:this.train_A_count,train_B_count:this.train_B_count,service_life:this.service_life}}},{key:"setSaveData",value:function(t){this.fatigue_list=t.fatigue_list,this.train_A_count=t.train_A_count,this.train_B_count=t.train_B_count,this.service_life=t.service_life}},{key:"getGroupeName",value:function(t){return this.points.getGroupeName(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Qc),i.LFG($c),i.LFG(Kc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ih=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.basic=e,this.members=n,this.helper=i,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.safety_factor={},this.material_bar={},this.material_steel={},this.material_concrete={},this.pile_factor={}}},{key:"default_safety_factor",value:function(){var t;switch(this.basic.get_specification1()){case 0:case 1:t=[{id:2,title:"\u5b89\u5168\u6027 \uff08\u75b2\u52b4\u7834\u58ca\uff09",ri:1.2,rb_T:1,rb_C:1,rb_S:1,rs:1.1},{id:5,title:"\u5b89\u5168\u6027 \uff08\u7834\u58ca\uff09",ri:1.2,rb_T:1.05,rb_C:1.1,rb_S:1.05,rs:1.1},{id:7,title:"\u5fa9\u65e7\u6027 \uff08\u640d\u50b7\uff09\u5730\u9707\u6642",ri:1,rb_T:1.05,rb_C:1.05,rb_S:1.05,rs:1.1},{id:8,title:"\u6700\u5c0f\u9244\u7b4b\u91cf",ri:1,rb_T:1.05,rb_C:1.05,rb_S:1.05,rs:1.1}];break;case 2:t=new Array}return t}},{key:"default_material_bar",value:function(){return[{separate:25,tensionBar:{fsy:345,fsu:490},sidebar:{fsy:345,fsu:490},stirrup:{fsy:345,fsu:490},bend:{fsy:345,fsu:490}},{separate:29,tensionBar:{fsy:345,fsu:490},sidebar:{fsy:345,fsu:490},stirrup:{fsy:345,fsu:490},bend:{fsy:345,fsu:490}}]}},{key:"default_material_steel",value:function(){return[{separate:16,fsyk:245,fsvyk:140,fsuk:400},{separate:40,fsyk:235,fsvyk:135,fsuk:400},{separate:75,fsyk:215,fsvyk:125,fsuk:400}]}},{key:"default_material_concrete",value:function(){return{fck:24,dmax:25}}},{key:"default_pile_factor",value:function(){var t=[];switch(this.basic.get_specification1()){case 0:case 1:t=[{id:"pile-000",title:"\u4f7f\u7528\u3057\u306a\u3044",rfck:1,rfbok:1,rEc:1,rVcd:1,selected:!0},{id:"pile-001",title:"\u6ce5\u6c34\u6bd4\u91cd1.04\u4ee5\u4e0b",rfck:.8,rfbok:.7,rEc:.8,rVcd:.9,selected:!1},{id:"pile-002",title:"\u81ea\u7136\u6ce5\u6c34, \u6ce5\u6c34\u6bd4\u91cd1.10\u4ee5\u4e0b",rfck:.7,rfbok:.6,rEc:.8,rVcd:.9,selected:!1},{id:"pile-003",title:"\u30d9\u30f3\u30c8\u30ca\u30a4\u30c8\u6ce5\u6c34",rfck:.6,rfbok:.5,rEc:.7,rVcd:.8,selected:!1},{id:"pile-004",title:"\u6c17\u4e2d\u65bd\u5de5",rfck:.9,rfbok:.9,rEc:.9,rVcd:1,selected:!1}];break;case 2:t=new Array}return t}},{key:"getTableColumns",value:function(){var t,e={},n={},i={},r={},a={},o=this.members.getGroupeList(),s=_createForOfIteratorHelper(o);try{for(s.s();!(t=s.n()).done;){var l=t.value[0].g_id,u=this.default_safety_factor(),c=this.default_material_bar(),h=this.default_material_steel(),d=this.default_material_concrete(),f=this.default_pile_factor();if(l in this.safety_factor){var p,g=this.safety_factor[l],v=_createForOfIteratorHelper(u);try{var m=function(){var t=p.value,e=g.find(function(e){return e.id===t.id});if(void 0!==e)for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];t[r]=r in e?e[r]:null}};for(v.s();!(p=v.n()).done;)m()}catch(H){v.e(H)}finally{v.f()}}if(l in this.material_bar)for(var _=this.material_bar[l],y=0;y<c.length;y++)for(var b=c[y],x=_[y],w=0,k=Object.keys(b);w<k.length;w++){var C=k[w];C in x&&(b[C]=x[C])}if(l in this.material_steel)for(var M=this.material_steel[l],T=0;T<h.length;T++)for(var S=h[T],A=M[T],E=0,P=Object.keys(S);E<P.length;E++){var I=P[E];I in A&&(S[I]=A[I])}if(l in this.material_concrete)for(var O=this.material_concrete[l],R=0,L=Object.keys(d);R<L.length;R++){var D=L[R];D in O&&(d[D]=O[D])}if(l in this.pile_factor)for(var N=this.pile_factor[l],Z=0;Z<f.length;Z++)for(var F=f[Z],U=N[Z],B=0,z=Object.keys(F);B<z.length;B++){var q=z[B];q in U&&(F[q]=U[q])}e[l]=u,n[l]=c,i[l]=h,r[l]=d,a[l]=f}}catch(H){s.e(H)}finally{s.f()}return{groupe_list:o,safety_factor:e,material_bar:n,material_steel:i,material_concrete:r,pile_factor:a}}},{key:"setTableColumns",value:function(t){this.clear();for(var e=0,n=Object.keys(t.safety_factor);e<n.length;e++){var i=n[e],r=this.default_safety_factor(),a=this.default_material_bar(),o=this.default_material_steel(),s=this.default_material_concrete(),l=this.default_pile_factor();if(i in t.safety_factor){var u,c=t.safety_factor[i],h=_createForOfIteratorHelper(r);try{var d=function(){var t=u.value,e=c.find(function(e){return e.id===t.id});if(void 0!==e)for(var n=0,i=Object.keys(t);n<i.length;n++){var r=i[n];r in e&&(t[r]=e[r])}};for(h.s();!(u=h.n()).done;)d()}catch(F){h.e(F)}finally{h.f()}}if(i in t.material_bar)for(var f=t.material_bar[i],p=0;p<a.length;p++)for(var g=a[p],v=f[p],m=0,_=Object.keys(g);m<_.length;m++){var y=_[m];y in v&&(g[y]=v[y])}if(i in t.material_steel)for(var b=t.material_steel[i],x=0;x<o.length;x++)for(var w=o[x],k=b[x],C=0,M=Object.keys(w);C<M.length;C++){var T=M[C];T in k&&(w[T]=k[T])}if(i in t.material_concrete)for(var S=t.material_concrete[i],A=0,E=Object.keys(s);A<E.length;A++){var P=E[A];P in S&&(s[P]=S[P])}if(i in t.pile_factor)for(var I=t.pile_factor[i],O=0;O<l.length;O++)for(var R=l[O],L=I[O],D=0,N=Object.keys(R);D<N.length;D++){var Z=N[D];Z in L&&(R[Z]=L[Z])}this.safety_factor[i]=r,this.material_bar[i]=a,this.material_steel[i]=o,this.material_concrete[i]=s,this.pile_factor[i]=l}}},{key:"getSaveData",value:function(){return{safety_factor:this.safety_factor,material_bar:this.material_bar,material_steel:this.material_steel,material_concrete:this.material_concrete,pile_factor:this.pile_factor}}},{key:"setSaveData",value:function(t){this.safety_factor=t.safety_factor,this.material_bar=t.material_bar,this.material_steel=t.material_steel,this.material_concrete=t.material_concrete,this.pile_factor=t.pile_factor}},{key:"getGroupeName",value:function(t){return this.members.getGroupeName(t)}},{key:"getCalcData",value:function(t,e,n){var i={},r=this.getSafetyFactor(t,e,n);null===this.helper.toNumber(r.range)&&(r.range=3),i.safety_factor=r;var a=this.material_bar[e];void 0===a&&(a=this.default_material_bar()),i.material_bar=a;var o=this.material_concrete[e];void 0===o&&(o=this.default_material_concrete()),i.material_concrete=o;var s=this.material_steel[e];void 0===s&&(s=this.default_material_steel()),i.material_steel=s;var l=this.pile_factor[e];return void 0===l&&(l=this.default_pile_factor()),i.pile_factor=l.find(function(t){return!0===t.selected}),i}},{key:"getSafetyFactor",value:function(t,e,n){var i,r=this.safety_factor[e];if(void 0===r){i=(r=this.default_safety_factor())[n];for(var a=0,o=Object.keys(i);a<o.length;a++){var s=o[a];"id"===s||"title"===s||(i[s]=null)}}else void 0===(i=r[n])&&(i=this.default_safety_factor()[n]);for(var l=this.default_safety_factor()[n],u=0,c=Object.keys(l);u<c.length;u++){var h=c[u];(!(h in i)||null==i[h])&&(i[h]=l[h])}var d={};return d.rb_T=i.rb_T,d.rb_C=i.rb_C,d.rb_S=i.rb_S,d.rs=i.rs,d.ri=i.ri,d.range=i.range,d}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Jc),i.LFG(Xc),i.LFG(Qc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),rh=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.helper=e,this.basic=n,this.points=i,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.force=new Array}},{key:"getColumnHeaders1",value:function(){return[{title:"\u7b97\u51fa\u70b9\u540d",align:"left",dataType:"string",dataIndx:"p_name",frozen:!0,sortable:!1,width:250},{title:"\u5b89\u5168\u6027",align:"center",colModel:[{title:"(\u7834\u58ca)",align:"center",colModel:[{title:"Md<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"5_Md",sortable:!1,width:100},{title:"Vd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"5_Vd",sortable:!1,width:100},{title:"Nd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"5_Nd",sortable:!1,width:100},{title:"Mt<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"5_Mt",sortable:!1,width:100}]}]}]}},{key:"getColumnHeaders2",value:function(){return[{title:"\u7b97\u51fa\u70b9\u540d",align:"left",dataType:"string",dataIndx:"p_name",frozen:!0,sortable:!1,width:250},{title:"\u75b2\u52b4\u7834\u58ca",align:"center",colModel:[{title:"\u75b2\u52b4\u9650",align:"center",colModel:[{title:"Md<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"2_Md",sortable:!1,width:100},{title:"Vd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"2_Vd",sortable:!1,width:100},{title:"Nd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"2_Nd",sortable:!1,width:100},{title:"Mt<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"2_Mt",sortable:!1,width:100}]},{title:"\u6c38\u4e45\u4f5c\u7528",align:"center",colModel:[{title:"Md<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"3_Md",sortable:!1,width:100},{title:"Vd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"3_Vd",sortable:!1,width:100},{title:"Nd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"3_Nd",sortable:!1,width:100},{title:"Mt<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"3_Mt",sortable:!1,width:100}]},{title:"\u6c38\u4e45\uff0b\u5909\u52d5",align:"center",colModel:[{title:"Md<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"4_Md",sortable:!1,width:100},{title:"Vd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"4_Vd",sortable:!1,width:100},{title:"Nd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"4_Nd",sortable:!1,width:100},{title:"Mt<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"4_Mt",sortable:!1,width:100}]}]}]}},{key:"getColumnHeaders3",value:function(){return[{title:"\u7b97\u51fa\u70b9\u540d",align:"left",dataType:"string",dataIndx:"p_name",frozen:!0,sortable:!1,width:250},{title:"\u5fa9\u65e7\u6027",align:"center",colModel:[{title:"(\u640d\u50b7)",align:"center",colModel:[{title:"Md<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"5_Md",sortable:!1,width:100},{title:"Vd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"5_Vd",sortable:!1,width:100},{title:"Nd<br/>(kN)",dataType:"float",format:"#.00",dataIndx:"5_Nd",sortable:!1,width:100},{title:"Mt<br/>(kN\u30fbm)",dataType:"float",format:"#.00",dataIndx:"5_Mt",sortable:!1,width:100}]}]}]}},{key:"default_column",value:function(t){var e,n={index:t},i=_createForOfIteratorHelper(this.basic.pickup_torsional_moment);try{for(i.s();!(e=i.n()).done;){var r=e.value.id;n[r+"_Mt"]=null,n[r+"_Md"]=null,n[r+"_Vd"]=null,n[r+"_Nd"]=null}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"getTable1Columns",value:function(t){var e=this.force.find(function(e){return e.index===t});void 0===e&&(e=this.default_column(t),this.force.push(e));var n=this.points.getTableColumn(t),i=void 0!==n?n.La:null;return e.p_name=void 0!==n?n.p_name:"",e.La=i,e}},{key:"setTableColumns",value:function(t){this.clear();var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){for(var i=e.value,r=this.default_column(i.index),a=!1,o=0,s=Object.keys(r);o<s.length;o++){var l=s[o];if(l in i){var u=this.helper.toNumber(i[l]);null!==u&&(r[l]=u,a=!0)}}!0===a&&this.force.push(r);var c=this.points.getCalcData(r.index);c.p_name=i.p_name,c.La=i.La}}catch(h){n.e(h)}finally{n.f()}}},{key:"getSaveData",value:function(){return this.force}},{key:"setSaveData",value:function(t){this.force=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Qc),i.LFG(Jc),i.LFG($c))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ah=function(){var t=function(){function t(e){_classCallCheck(this,t),this.members=e,this.clear()}return _createClass(t,[{key:"default_print_selected",value:function(){return{print_calculate_checked:!1,print_section_force_checked:!1,print_summary_table_checked:!1,calculate_moment_checked:!1,calculate_shear_force:!1,calculate_torsional_moment:!1}}},{key:"clear",value:function(){this.print_selected=this.default_print_selected(),this.calc_checked=new Array}},{key:"getColumnData",value:function(){for(var t=new Array,e=this.members.getGroupeList(),n=0;n<e.length;n++){var i=!0;n<this.calc_checked.length&&(i=this.calc_checked[n]),t.push({checked:i,g_name:e[n][0].g_name})}return t}},{key:"setColumnData",value:function(t){this.calc_checked=new Array;var e,n=_createForOfIteratorHelper(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;this.calc_checked.push(i.calc_checked)}}catch(r){n.e(r)}finally{n.f()}}},{key:"getSaveData",value:function(){return this.print_selected}},{key:"setSaveData",value:function(t){for(var e in this.print_selected=this.default_print_selected(),Object.keys(this.print_selected))e in t&&(this.print_selected[e]=t[e])}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Xc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),oh=function(){var t=function(){function t(e,n,i,r,a,o,s,l,u,c,h){_classCallCheck(this,t),this.helper=e,this.bars=n,this.steel=i,this.basic=r,this.points=a,this.crack=o,this.fatigues=s,this.members=l,this.safety=u,this.force=c,this.calc=h,this.clear()}return _createClass(t,[{key:"clear",value:function(){this.pickup_filename="",this.pickup_data={},this.basic.clear(),this.members.clear(),this.crack.clear(),this.points.clear(),this.bars.clear(),this.fatigues.clear(),this.safety.clear(),this.force.clear()}},{key:"isManual",value:function(){return 0===this.pickup_filename.trim().length}},{key:"is3DPickUp",value:function(){return"csv"===this.helper.getExt(this.pickup_filename)}},{key:"readPickUpData",value:function(t,e){try{for(var n=t.split("\n"),i={},r=0,a="",o=this.helper.getExt(e),s=1;s<n.length;++s){var l=n[s].trim();if(0!==l.length){var u=void 0;switch(o){case"pik":u=this.pikFileRead(n[s]);break;case"csv":u=this.csvFileRead(l);break;default:return this.pickup_filename="",void(this.pickup_data={})}u.mark!==a&&(r=0),a=u.mark,u.pickUpNo in i||(i[u.pickUpNo]=new Array);var c=i[u.pickUpNo],h={index:r+1,m_no:u.m_no,p_id:u.p_id,position:u.position};c.length>r?h=c[r]:c.push(h),u.mark in h||(h[u.mark]={max:{},min:{}});var d=h[u.mark];d.max={Mtd:u.maxMdx,Mdy:u.maxMdy,Mdz:u.maxMdz,Vdy:u.maxVdy,Vdz:u.maxVdz,Nd:u.maxNd,comb:u.maxPickupCase},d.min={Mtd:u.minMdx,Mdy:u.minMdy,Mdz:u.minMdz,Vdy:u.minVdy,Vdz:u.minVdz,Nd:u.minNd,comb:u.minPickupCase},r+=1}}this.basic.setPickUpData(),this.members.setPickUpData(i),this.points.setPickUpData(i),this.bars.setPickUpData(),this.steel.setPickUpData(),this.basic.setPickUpData(),this.crack.setPickUpData(),this.fatigues.setPickUpData(),this.force.clear(),this.pickup_filename=e,this.pickup_data=i}catch(n){this.pickup_filename="",this.pickup_data={}}}},{key:"pikFileRead",value:function(t){var e=t.slice(5,10).trim(),n=e;switch(e){case"M":n="mz";break;case"S":n="fy";break;case"N":n="fx"}return{pickUpNo:t.slice(0,5).trim(),mark:n,m_no:this.helper.toNumber(t.slice(10,15)),maxPickupCase:t.slice(15,20).trim(),minPickupCase:t.slice(20,25).trim(),p_id:t.slice(25,30).trim(),position:this.helper.toNumber(t.slice(30,40)),maxMdx:0,maxMdy:0,maxMdz:this.helper.toNumber(t.slice(40,50)),maxVdy:this.helper.toNumber(t.slice(50,60)),maxVdz:0,maxNd:-1*this.helper.toNumber(t.slice(60,70)),minMdx:0,minMdy:0,minMdz:this.helper.toNumber(t.slice(70,80)),minVdy:this.helper.toNumber(t.slice(80,90)),minVdz:0,minNd:-1*this.helper.toNumber(t.slice(90,100))}}},{key:"csvFileRead",value:function(t){var e=t.split(",");return{pickUpNo:e[0].trim(),mark:e[1].trim(),m_no:this.helper.toNumber(e[2].trim()),maxPickupCase:e[3].trim(),minPickupCase:e[4].trim(),p_id:e[5].trim(),position:this.helper.toNumber(e[6]),maxNd:-1*this.helper.toNumber(e[7]),maxVdy:this.helper.toNumber(e[8]),maxVdz:this.helper.toNumber(e[9]),maxMdx:this.helper.toNumber(e[10]),maxMdy:this.helper.toNumber(e[11]),maxMdz:this.helper.toNumber(e[12]),minNd:-1*this.helper.toNumber(e[13]),minVdy:this.helper.toNumber(e[14]),minVdz:this.helper.toNumber(e[15]),minMdx:this.helper.toNumber(e[16]),minMdy:this.helper.toNumber(e[17]),minMdz:this.helper.toNumber(e[18])}}},{key:"getInputText",value:function(){var t=this.getInputJson();return JSON.stringify(t)}},{key:"getInputJson",value:function(){return{pickup_filename:this.pickup_filename,pickup_data:this.pickup_data,basic:this.basic.getSaveData(),members:this.members.getSaveData(),crack:this.crack.getSaveData(),points:this.points.getSaveData(),bar:this.bars.getSaveData(),steel:this.steel.getSaveData(),fatigues:this.fatigues.getSaveData(),safety:this.safety.getSaveData(),force:this.force.getSaveData(),calc:this.calc.getSaveData()}}},{key:"readInputData",value:function(t){var e=JSON.parse(t);this.setInputData(e)}},{key:"setInputData",value:function(t){this.clear(),"pickup_filename"in t&&(this.pickup_filename=t.pickup_filename),"pickup_data"in t?this.pickup_data=t.pickup_data:this.pickup_filename="","basic"in t?this.basic.setSaveData(t.basic):this.basic.clear(),"members"in t?this.members.setSaveData(t.members):this.members.clear(),"crack"in t?this.crack.setSaveData(t.crack):this.crack.clear(),"points"in t?this.points.setSaveData(t.points):this.points.clear(),"bar"in t?this.bars.setSaveData(t.bar):this.bars.clear(),"steel"in t?this.steel.setSaveData(t.steel):this.steel.clear(),"fatigues"in t?this.fatigues.setSaveData(t.fatigues):this.fatigues.clear(),"safety"in t?this.safety.setSaveData(t.safety):this.safety.clear(),"force"in t?this.force.setSaveData(t.force):this.force.clear(),"calc"in t?this.calc.setSaveData(t.calc):this.calc.clear()}},{key:"getPickUpData",value:function(){return JSON.parse(JSON.stringify({temp:this.pickup_data})).temp}},{key:"getPickupFilename",value:function(){return this.pickup_filename}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Qc),i.LFG(Kc),i.LFG(th),i.LFG(Jc),i.LFG($c),i.LFG(eh),i.LFG(nh),i.LFG(Xc),i.LFG(ih),i.LFG(rh),i.LFG(ah))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),sh=n(2037),lh=n.n(sh);n(1187),n(4146);var uh=["pqgrid"],ch=function(){var t=function(){function t(){_classCallCheck(this,t),this.grid=null}return _createClass(t,[{key:"createGrid",value:function(){this.grid=lh().grid(this.div.nativeElement,this.options)}},{key:"ngOnChanges",value:function(t){t.options.firstChange||(this.grid.destroy(),this.createGrid())}},{key:"ngAfterViewInit",value:function(){this.createGrid()}},{key:"refreshDataAndView",value:function(){null!==this.grid&&this.grid.refreshDataAndView()}},{key:"refresh",value:function(){null!==this.grid&&this.grid.refresh()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-sheet"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(uh,5),2&t)&&(i.iGM(n=i.CRH())&&(e.div=n.first))},inputs:{options:"options"},features:[i.TTD],decls:3,vars:0,consts:[[1,"datasheet"],["pqgrid",""]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"div",null,1),i.qZA())},styles:[""]}),t}(),hh=["grid3"];function dh(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"div",6),i.TgZ(2,"section",7),i.TgZ(3,"h5"),i._uU(4,"\u30d4\u30c3\u30af\u30a2\u30c3\u30d7"),i.qZA(),i._UZ(5,"app-sheet",8,9),i.qZA(),i.qZA(),i.BQk()),2&t){var n=i.oxw();i.xp6(5),i.Q6J("options",n.options3)}}function fh(t,e){if(1&t){var n=i.EpF();i.ynx(0),i.TgZ(1,"div"),i.TgZ(2,"label"),i.TgZ(3,"input",10),i.NdJ("ngModelChange",function(t){return i.CHM(n),i.oxw().specification1_select_id=t})("change",function(){var t=i.CHM(n).index;return i.oxw().setSpecification1(t)}),i.qZA(),i._uU(4),i.qZA(),i.qZA(),i.BQk()}if(2&t){var r=e.$implicit,a=e.index,o=i.oxw();i.xp6(3),i.MGl("id","specification1",a,""),i.Q6J("ngModel",o.specification1_select_id)("value",r.id)("checked",r.selected),i.xp6(1),i.hij(" ",r.title," ")}}function ph(t,e){if(1&t){var n=i.EpF();i.ynx(0),i.TgZ(1,"div"),i.TgZ(2,"input",11),i.NdJ("ngModelChange",function(t){return i.CHM(n).$implicit.selected=t}),i.qZA(),i._uU(3),i.qZA(),i.BQk()}if(2&t){var r=e.$implicit,a=e.index;i.xp6(2),i.MGl("name","conditions",a,""),i.MGl("id","conditions",a,""),i.Q6J("ngModel",r.selected)("value",r.id)("checked",r.selected),i.xp6(1),i.hij(" ",r.title," ")}}var gh=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.basic=e,this.save=n,this.columnHeaders=[],this.table3_datas=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.basic.getSaveData();this.specification1_list=t.specification1_list,this.specification1_select_id=this.basic.get_specification1(),this.conditions_list=t.conditions_list,this.setTitle(this.save.isManual()),this.table3_datas=t.pickup_torsional_moment,this.options3={height:210,showTop:!1,reactive:!0,sortable:!1,locale:"jp",numberCell:{show:!0},colModel:this.columnHeaders,dataModel:{data:this.table3_datas}}}},{key:"setTitle",value:function(t){this.columnHeaders=t?[]:[{title:"\u65ad\u9762\u7167\u67fb\u306b\u7528\u3044\u308b\u5fdc\u529b",dataType:"string",dataIndx:"title",editable:!1,sortable:!1,width:270,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"Pickup No",align:"center",dataType:"integer",dataIndx:"no",sortable:!1,width:148}]}},{key:"isManual",value:function(){return this.save.isManual()}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){this.basic.setSaveData({pickup_torsional_moment:this.table3_datas,specification1_list:this.specification1_list,conditions_list:this.conditions_list})}},{key:"setSpecification1",value:function(t){var e=this.basic.set_specification1(t);this.specification1_list=e.specification1_list,this.conditions_list=e.conditions_list,this.table3_datas=e.pickup_torsional_moment,this.grid3.refreshDataAndView(),this.specification1_select_id=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(Jc),i.Y36(oh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-basic-information"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(hh,5),2&t)&&(i.iGM(n=i.CRH())&&(e.grid3=n.first))},decls:12,vars:3,consts:[[4,"ngIf"],[1,"right-contents"],[1,"right-left-contents"],[1,"specification1-fieldset"],[4,"ngFor","ngForOf"],[1,"conditions-checkbox"],[1,"left-contents"],[1,"pickup-table"],[3,"options"],["grid3",""],["type","radio","name","specification1",3,"id","ngModel","value","checked","ngModelChange","change"],["type","checkbox",3,"name","id","ngModel","value","checked","ngModelChange"]],template:function(t,e){1&t&&(i.YNc(0,dh,7,1,"ng-container",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i.TgZ(3,"div",3),i.TgZ(4,"fieldset"),i.TgZ(5,"legend"),i._uU(6,"\u9069\u7528"),i.qZA(),i.YNc(7,fh,5,5,"ng-container",4),i.qZA(),i.qZA(),i.qZA(),i.TgZ(8,"div",5),i.TgZ(9,"h5"),i._uU(10,"\u8a2d\u8a08\u6761\u4ef6"),i.qZA(),i.YNc(11,ph,4,6,"ng-container",4),i.qZA(),i.qZA()),2&t&&(i.Q6J("ngIf",!e.isManual()),i.xp6(7),i.Q6J("ngForOf",e.specification1_list),i.xp6(4),i.Q6J("ngForOf",e.conditions_list))},directives:[O,P,ch,Qe,Nt,de,Ge,Rt],styles:[".left-contents[_ngcontent-%COMP%]{width:450px;float:left;position:relative;margin-right:15px}.left-contents[_ngcontent-%COMP%]   .pickup-table[_ngcontent-%COMP%]{width:100%;margin-bottom:.8em}.right-contents[_ngcontent-%COMP%]{position:relative;float:left}.right-contents[_ngcontent-%COMP%]   .right-left-contents[_ngcontent-%COMP%]{width:100px;position:relative;float:left;margin-right:15px}.right-contents[_ngcontent-%COMP%]   .right-left-contents[_ngcontent-%COMP%]   .specification1-fieldset[_ngcontent-%COMP%]{margin-bottom:70px}.right-contents[_ngcontent-%COMP%]   .right-left-contents[_ngcontent-%COMP%]   .specification1-fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:.8em}.right-contents[_ngcontent-%COMP%]   .right-right-contents[_ngcontent-%COMP%]{position:relative;float:left}.right-contents[_ngcontent-%COMP%]   .right-right-contents[_ngcontent-%COMP%]   .specification2-fieldset[_ngcontent-%COMP%]{width:200px;margin-bottom:.8em}.right-contents[_ngcontent-%COMP%]   .right-right-contents[_ngcontent-%COMP%]   .specification2-fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:.8em}.right-contents[_ngcontent-%COMP%]   .conditions-checkbox[_ngcontent-%COMP%]{float:right;width:100%}legend[_ngcontent-%COMP%]{font-size:16px;line-height:1.1}fieldset[_ngcontent-%COMP%]{border:1px #cacaca solid}"]}),t}(),vh=function(){var t=function(){function t(){_classCallCheck(this,t),this.activeComponentRef=null}return _createClass(t,[{key:"nativeGlobal",value:function(){return window}},{key:"setActiveComponent",value:function(t){this.activeComponentRef=t}},{key:"saveActiveComponentData",value:function(){null!==this.activeComponentRef&&"saveData"in this.activeComponentRef&&this.activeComponentRef.saveData()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),mh=function(){var t=function(){function t(e,n,i,r){_classCallCheck(this,t),this.config=e,this.save=n,this.members=i,this.points=r,this.isMemberEnable=!1,this.isDesignPointEnable=!1}return _createClass(t,[{key:"isManual",value:function(){return this.save.isManual()}},{key:"onActivate",value:function(t){this.config.setActiveComponent(t)}},{key:"onDeactivate",value:function(t){this.config.setActiveComponent(null)}},{key:"activePageChenge",value:function(t){this.deactiveButtons(),document.getElementById(t.toString()).classList.add("is-active")}},{key:"deactiveButtons",value:function(){for(var t=0;t<=9;t++){var e=document.getElementById(t+"");null!=e&&e.classList.contains("is-active")&&e.classList.remove("is-active")}}},{key:"memberChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.members.checkMemberEnables();if(this.isMemberEnable!==t){for(var e=0,n=["2","7"];e<n.length;e++){var i=n[e],r=document.getElementById(i);null!=r&&(!0===t?r.classList.contains("disabled")&&r.classList.remove("disabled"):r.classList.contains("disabled")||r.classList.add("disabled"))}this.isMemberEnable=t}this.isManual()&&this.designPointChange(this.isMemberEnable)}},{key:"designPointChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.points.designPointChange();if(this.isDesignPointEnable!==t){for(var e=0,n=["3","4","5","6","7"];e<n.length;e++){var i=n[e],r=document.getElementById(i);null!=r&&(!0===t?r.classList.contains("disabled")&&r.classList.remove("disabled"):r.classList.contains("disabled")||r.classList.add("disabled"))}this.isDesignPointEnable=t}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(vh),i.Y36(oh),i.Y36(Xc),i.Y36($c))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-root"]],decls:46,vars:2,consts:[[1,"header"],[1,"container"],[1,"liner"],[1,"c-container"],[1,"c-mainNavArea"],[1,"c-mainNavArea__nav"],[1,"c-mainNavArea__navItem"],["routerLink","./basic-information","routerLinkActive","selected-item","id","0",1,"c-mainNavArea__navItemTitle",3,"click"],["routerLink","./members","routerLinkActive","selected-item","id","1",1,"c-mainNavArea__navItemTitle","is-active",3,"click"],[1,"c-mainNavArea__navItem",3,"hidden"],["routerLink","./design-points","routerLinkActive","selected-item","id","2",1,"c-mainNavArea__navItemTitle","disabled",3,"click"],["routerLink","./section-forces","routerLinkActive","selected-item","id","8",1,"c-mainNavArea__navItemTitle",3,"click"],["routerLink","./steels","routerLinkActive","selected-item","id","4",1,"c-mainNavArea__navItemTitle","disabled",3,"click"],["routerLink","./crack","routerLinkActive","selected-item","id","5",1,"c-mainNavArea__navItemTitle","disabled",3,"click"],["routerLink","./fatigues","routerLinkActive","selected-item","id","6",1,"c-mainNavArea__navItemTitle","disabled",3,"click"],["routerLink","./safety-factors-material-strengths","routerLinkActive","selected-item","id","7",1,"c-mainNavArea__navItemTitle","disabled",3,"click"],["routerLink","./calculation-print","routerLinkActive","selected-item","id","9",1,"c-mainNavArea__navItemTitle",3,"click"],[1,"c-contentsArea"],[3,"activate","deactivate"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"div",2),i._UZ(3,"app-menu"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"div",4),i.TgZ(6,"nav"),i.TgZ(7,"ul",5),i.TgZ(8,"li",6),i.TgZ(9,"a",7),i.NdJ("click",function(){return e.activePageChenge(0)}),i.TgZ(10,"span"),i._uU(11,"\u57fa\u672c\u30c7\u30fc\u30bf"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(12,"li",6),i.TgZ(13,"a",8),i.NdJ("click",function(){return e.activePageChenge(1)}),i.TgZ(14,"span"),i._uU(15,"\u90e8\u6750\u30fb\u65ad\u9762"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(16,"li",9),i.TgZ(17,"a",10),i.NdJ("click",function(){return e.activePageChenge(2)}),i.TgZ(18,"span"),i._uU(19,"\u7b97\u51fa\u70b9"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(20,"li",9),i.TgZ(21,"a",11),i.NdJ("click",function(){return e.activePageChenge(8)}),i.TgZ(22,"span"),i._uU(23,"\u65ad\u9762\u529b"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(24,"li",6),i.TgZ(25,"a",12),i.NdJ("click",function(){return e.activePageChenge(4)}),i.TgZ(26,"span"),i._uU(27,"\u9244\u9aa8\u914d\u7f6e"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(28,"li",6),i.TgZ(29,"a",13),i.NdJ("click",function(){return e.activePageChenge(5)}),i.TgZ(30,"span"),i._uU(31,"\u69cb\u9020\u6761\u4ef6"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(32,"li",6),i.TgZ(33,"a",14),i.NdJ("click",function(){return e.activePageChenge(6)}),i.TgZ(34,"span"),i._uU(35,"\u75b2\u52b4\u30c7\u30fc\u30bf"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(36,"li",6),i.TgZ(37,"a",15),i.NdJ("click",function(){return e.activePageChenge(7)}),i.TgZ(38,"span"),i._uU(39,"\u5b89\u5168\u4fc2\u6570\u30fb\u6750\u6599\u5f37\u5ea6"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(40,"li",6),i.TgZ(41,"a",16),i.NdJ("click",function(){return e.activePageChenge(9)}),i.TgZ(42,"span"),i._uU(43,"\u8a08\u7b97\u30fb\u5370\u5237"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(44,"div",17),i.TgZ(45,"router-outlet",18),i.NdJ("activate",function(t){return e.onActivate(t)})("deactivate",function(t){return e.onDeactivate(t)}),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(16),i.Q6J("hidden",e.isManual()),i.xp6(4),i.Q6J("hidden",!e.isManual()))},styles:[".header[_ngcontent-%COMP%]{position:fixed;width:100%;display:flex;color:#fff;background-color:#4e3d2f;z-index:1000}.header[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{position:relative;max-width:100%;padding:0 8px!important}a.disabled[_ngcontent-%COMP%]{pointer-events:none;color:#9b9b9b}.c-container[_ngcontent-%COMP%]{margin:0 auto;width:100%;max-width:2500px;min-width:1024px}.c-mainNavArea[_ngcontent-%COMP%]{width:220px;height:100%;background:#f3f4f6;border-right:1px solid #d6d9e0;position:fixed;top:64px;left:0;overflow-y:auto;z-index:500;transition:width .3s ease}.c-mainNavArea[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:0}.c-mainNavArea__nav[_ngcontent-%COMP%]{margin-bottom:0;padding-left:0}.c-mainNavArea__navItem[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{background:#fff;color:#2f3f4e;font-size:14px}.c-mainNavArea__navItem[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#2f3f4e;color:#fff}.c-mainNavArea__navItemTitle[_ngcontent-%COMP%]{transform:translate(0);display:block;border-bottom:1px solid #000080;padding:10px 15px;font-size:16px;color:#2f3f4e;cursor:pointer;position:relative}.c-mainNavArea__navItemTitle[_ngcontent-%COMP%]:hover{background:#2f3f4e0c;text-decoration:none}.c-contentsArea[_ngcontent-%COMP%]{margin-left:220px;padding:70px 10px 10px}@media screen and (max-width: 767px){.c-contentsArea[_ngcontent-%COMP%]{padding:124px 10px 10px}}"]}),t}(),_h=["grid"],yh=function(){var t=function(){function t(e,n,i,r){_classCallCheck(this,t),this.members=e,this.points=n,this.save=i,this.app=r,this.columnHeaders=new Array,this.ROWS_COUNT=0,this.table_datas=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this,e=this.save.isManual();this.setTitle(e),this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight().toString(),width:e?500:620,numberCell:{show:e},colModel:this.columnHeaders,change:function(e,n){var i,r=_createForOfIteratorHelper(n.updateList);try{for(r.s();!(i=r.n()).done;)for(var a=i.value,o=0,s=Object.keys(a.newRow);o<s.length;o++){var l=s[o],u=a.newRow[l],c=a.rowIndx;if("g_no"===l){if(null==u){t.table_datas[c].g_id="";continue}for(var h=0;h<t.table_datas.length;h++)if(a.rowIndx!==h){var d=t.table_datas[h],f=d.g_no;if(null!==f&&f===u&&(""!==d.g_name||void 0!==d.g_name)){t.table_datas[c].g_name=d.g_name;break}}t.table_datas[c].g_id=u.toString()}else null===t.table_datas[c].g_no&&(t.table_datas[c].g_id="blank");if("g_name"===l){if(null==u||""===(u=u.trim()))continue;for(var p=0;p<t.table_datas.length;p++){var g=t.table_datas[p];a.rowIndx!==p?null!==g.g_no&&g.g_no===t.table_datas[a.rowIndx].g_no&&(g.g_name=u):g.g_name=u}}if("shape"===l){var v=a.newRow[l],m=a.rowIndx;if(null===v)continue;switch(v=v.trim()){case"1":case"I\u5f62":t.table_datas[m].shape="I\u5f62";break;case"2":case"H\u5f62":t.table_datas[m].shape="H\u5f62";break;case"3":case"\u7bb1\u5f62/\u03c0\u5f62":t.table_datas[m].shape="\u7bb1\u5f62/\u03c0\u5f62";break;case"5":case"\u92fc\u7ba1":t.table_datas[m].shape="\u92fc\u7ba1";break;default:t.table_datas[m].shape=""}}}}catch(y){r.e(y)}finally{r.f()}var _=t.members.checkMemberEnables(t.table_datas);t.app.memberChange(_)}},!0===this.save.isManual()?(this.ROWS_COUNT=this.rowsCount(),this.options.beforeTableView=function(e,n){var i=t.table_datas.length;null!=n.initV&&n.finalV>=i-1&&(t.loadData(i+t.ROWS_COUNT),t.grid.refreshDataAndView())},this.loadData(this.ROWS_COUNT)):this.table_datas=this.members.getSaveData(),this.options.dataModel={data:this.table_datas}}},{key:"setTitle",value:function(t){this.columnHeaders=t?[]:[{title:"\u90e8\u6750<br/>\u756a\u53f7",align:"center",dataType:"integer",dataIndx:"m_no",editable:!1,sortable:!1,width:60,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u90e8\u6750\u9577",dataType:"float",format:"#.000",dataIndx:"m_len",editable:!1,sortable:!1,width:90,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}}],this.columnHeaders.push({title:"\u30b0\u30eb\u30fc\u30d7No",align:"center",dataType:"float",dataIndx:"g_no",sortable:!1,width:80},{title:"\u90e8\u6750\u540d",align:"center",dataType:"string",dataIndx:"g_name",sortable:!1,width:110},{title:"\u65ad\u9762\u5f62\u72b6",dataType:"string",dataIndx:"shape",sortable:!1,width:80},{title:"\u6709\u52b9\u5ea7\u5c48\u9577(m)",align:"center",dataType:"number",format:"#.000",dataIndx:"eff_len",sortable:!1,width:100},{title:"\u90e8\u6750\u6570",align:"center",dataType:"float",dataIndx:"n",sortable:!1,width:80})}},{key:"loadData",value:function(t){for(var e=this.table_datas.length+1;e<=t;e++){var n=this.members.getTableColumns(e);this.table_datas.push(n)}}},{key:"ngAfterViewInit",value:function(){this.grid.refreshDataAndView()}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){this.members.setTableColumns(this.table_datas,this.save.isManual()),this.save.isManual()&&this.points.setManualData()}},{key:"tableHeight",value:function(){var t=window.innerHeight;return t-=100}},{key:"rowsCount",value:function(){var t=this.tableHeight();return Math.round(t/30)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(Xc),i.Y36($c),i.Y36(oh),i.Y36(mh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-members"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(_h,5),2&t)&&(i.iGM(n=i.CRH())&&(e.grid=n.first))},decls:45,vars:1,consts:[[1,"member"],[1,"ht-container"],["ht_container",""],[3,"options"],["grid",""],[1,"guide"],["width","50px"],["width","70px"],["src","./assets/img/shape_I.png"],["src","./assets/img/shape_H.png"],["src","./assets/img/shape_box.png"],["src","./assets/img/shape_pipe.png"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1,2),i._UZ(3,"app-sheet",3,4),i.qZA(),i.TgZ(5,"div",5),i.TgZ(6,"p"),i._uU(7,"\u65ad\u9762\u5f62\u72b6"),i.qZA(),i.TgZ(8,"table"),i.TgZ(9,"thead"),i.TgZ(10,"tr"),i.TgZ(11,"th",6),i._uU(12,"\u756a\u53f7"),i.qZA(),i.TgZ(13,"th",7),i._uU(14,"\u69cb\u9020"),i.qZA(),i._UZ(15,"th"),i.qZA(),i.qZA(),i.TgZ(16,"tbody"),i.TgZ(17,"tr"),i.TgZ(18,"td"),i._uU(19,"1"),i.qZA(),i.TgZ(20,"td"),i._uU(21,"I\u5f62"),i.qZA(),i.TgZ(22,"td"),i._UZ(23,"img",8),i.qZA(),i.qZA(),i.TgZ(24,"tr"),i.TgZ(25,"td"),i._uU(26,"2"),i.qZA(),i.TgZ(27,"td"),i._uU(28,"H\u5f62"),i.qZA(),i.TgZ(29,"td"),i._UZ(30,"img",9),i.qZA(),i.qZA(),i.TgZ(31,"tr"),i.TgZ(32,"td"),i._uU(33,"3"),i.qZA(),i.TgZ(34,"td"),i._uU(35,"\u7bb1\u5f62"),i.qZA(),i.TgZ(36,"td"),i._UZ(37,"img",10),i.qZA(),i.qZA(),i.TgZ(38,"tr"),i.TgZ(39,"td"),i._uU(40,"5"),i.qZA(),i.TgZ(41,"td"),i._uU(42,"\u92fc\u7ba1"),i.qZA(),i.TgZ(43,"td"),i._UZ(44,"img",11),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("options",e.options))},directives:[ch],styles:[".member[_ngcontent-%COMP%]{display:flex}.datasheet[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content}.guide[_ngcontent-%COMP%]{margin-top:10px;margin-left:15px}.guide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0}.guide[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .guide[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .guide[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #cfcfcf;font-weight:normal;font-size:14px;text-align:center;padding:0}.guide[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%], .guide[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%], .guide[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%]{width:100px;height:100px;border:0}@media screen and (max-width: 890px){.member[_ngcontent-%COMP%]{display:block}}"]}),t}(),bh=["grid"];function xh(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"li",5),i.TgZ(1,"a",6),i.NdJ("click",function(){var t=i.CHM(n).index;return i.oxw().activePageChenge(t)}),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.qZA(),i.qZA()}if(2&t){var r=e.index,a=i.oxw();i.xp6(1),i.MGl("id","pos",r,""),i.xp6(2),i.Oqu(a.getGroupeName(r))}}var wh=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.points=e,this.save=n,this.app=i,this.option_list=new Array,this.columnHeaders=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.setTitle(this.save.isManual()),this.table_datas=this.points.getTableColumns(),this.option_list=new Array;for(var e=function(e){var n={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:t.tableHeight().toString(),numberCell:{show:!1},colModel:t.columnHeaders,dataModel:{data:t.table_datas[e]},freezeCols:t.save.isManual()?2:4,change:function(n,i){var r,a=_createForOfIteratorHelper(i.updateList);try{for(a.s();!(r=a.n()).done;)for(var o=r.value,s=0,l=Object.keys(o.newRow);s<l.length;s++){var u=l[s];if(!0===o.newRow[u]){var c=t.table_datas[e][o.rowIndx];"isMyCalc"===u&&(c.isMzCalc=!1),"isMzCalc"===u&&(c.isMyCalc=!1),"isVyCalc"===u&&(c.isVzCalc=!1),"isVzCalc"===u&&(c.isVyCalc=!1)}}}catch(g){a.e(g)}finally{a.f()}var h,d=!1,f=_createForOfIteratorHelper(t.table_datas);try{for(f.s();!(h=f.n()).done;){var p=h.value;if(!0===t.points.designPointChange(p)){d=!0;break}}}catch(g){f.e(g)}finally{f.f()}t.app.designPointChange(d)}};t.option_list.push(n)},n=0;n<this.table_datas.length;n++)e(n);this.options=this.option_list[0],this.groupe_name=new Array;for(var i=0;i<this.table_datas.length;i++)this.groupe_name.push(this.points.getGroupeName(i))}},{key:"ngAfterViewInit",value:function(){this.activeButtons(0)}},{key:"setTitle",value:function(t){t?this.columnHeaders=[{title:"",align:"left",dataType:"string",dataIndx:"m_no",frozen:!0,sortable:!1,width:70,editable:!1,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u7b97\u51fa\u70b9\u540d",dataType:"string",dataIndx:"p_name",frozen:!0,sortable:!1,width:250},{title:"\u305b\u3093\u65ad\u30b9\u30d1\u30f3\u9577(mm)",dataType:"float",dataIndx:"La",sortable:!1,width:140}]:(this.columnHeaders=[{title:"\u90e8\u6750\u756a\u53f7",align:"left",dataType:"string",dataIndx:"m_no",frozen:!0,sortable:!1,width:70,editable:!1,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u7b97\u51fa\u70b9",dataType:"string",dataIndx:"p_id",frozen:!0,sortable:!1,width:85,editable:!1,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u4f4d\u7f6e",dataType:"float",format:"#.000",dataIndx:"position",frozen:!0,sortable:!1,width:110,editable:!1,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u7b97\u51fa\u70b9\u540d",dataType:"string",dataIndx:"p_name",frozen:!0,sortable:!1,width:250}],this.save.is3DPickUp()?this.columnHeaders.push({title:"\u66f2\u3052\u7167\u67fb",align:"center",colModel:[{title:"y\u8ef8\u5468\u308a",align:"center",dataType:"bool",dataIndx:"isMyCalc",type:"checkbox",sortable:!1,width:120},{title:"z\u8ef8\u5468\u308a",align:"center",dataType:"bool",dataIndx:"isMzCalc",type:"checkbox",sortable:!1,width:120}]},{title:"\u305b\u3093\u65ad\u7167\u67fb",align:"center",colModel:[{title:"y\u8ef8\u65b9\u5411",align:"center",dataType:"bool",dataIndx:"isVyCalc",type:"checkbox",sortable:!1,width:120},{title:"z\u8ef8\u65b9\u5411",align:"center",dataType:"bool",dataIndx:"isVzCalc",type:"checkbox",sortable:!1,width:120}]},{title:"\u306d\u3058\u308a\u7167\u67fb",align:"center",dataType:"bool",dataIndx:"isMtCalc",type:"checkbox",sortable:!1,width:120}):this.columnHeaders.push({title:"\u66f2\u3052\u7167\u67fb",align:"center",dataType:"bool",dataIndx:"isMzCalc",type:"checkbox",sortable:!1,width:120},{title:"\u305b\u3093\u65ad\u7167\u67fb",align:"center",dataType:"bool",dataIndx:"isVyCalc",type:"checkbox",sortable:!1,width:120}),this.columnHeaders.push({title:"\u305b\u3093\u65ad\u30b9\u30d1\u30f3\u9577(mm)",dataType:"float",dataIndx:"La",sortable:!1,width:140}))}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){var t,e=[],n=_createForOfIteratorHelper(this.table_datas);try{for(n.s();!(t=n.n()).done;){var i,r=_createForOfIteratorHelper(t.value);try{for(r.s();!(i=r.n()).done;){var a=i.value;e.push(a)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){n.e(o)}finally{n.f()}this.save.isManual()?this.points.setSaveData(e):this.points.setTableColumns(e)}},{key:"tableHeight",value:function(){var t=window.innerHeight;return t-=230}},{key:"activePageChenge",value:function(t){this.activeButtons(t),this.options=this.option_list[t],this.grid.options=this.options,this.grid.refreshDataAndView()}},{key:"activeButtons",value:function(t){for(var e=0;e<=this.table_datas.length;e++){var n=document.getElementById("pos"+e);null!=n&&(e===t?n.classList.add("is-active"):n.classList.contains("is-active")&&n.classList.remove("is-active"))}}},{key:"getGroupeName",value:function(t){return this.groupe_name[t]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36($c),i.Y36(oh),i.Y36(mh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-design-points"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(bh,5),2&t)&&(i.iGM(n=i.CRH())&&(e.grid=n.first))},decls:7,vars:2,consts:[[1,"c-subNavArea"],[1,"c-subNavArea__nav"],["class","c-subNavArea__navItem",4,"ngFor","ngForOf"],[3,"options"],["grid",""],[1,"c-subNavArea__navItem"],[1,"c-subNavArea__navItemTitle",3,"id","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"nav"),i.TgZ(2,"ul",1),i.YNc(3,xh,4,2,"li",2),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div"),i._UZ(5,"app-sheet",3,4),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngForOf",e.table_datas),i.xp6(2),i.Q6J("options",e.options))},directives:[P,ch],styles:["",'@charset "UTF-8";.c-subNavArea__nav[_ngcontent-%COMP%]{text-align:left;margin-left:-10px;font-size:0;background:#fff;color:#2f3f4e;font-size:14px}.c-subNavArea[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#2f3f4e;color:#fff}.c-subNavArea__navItem[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;font-size:14px}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]{transform:translate(0);display:block;border-bottom:1px solid #000080;padding:10px 15px;font-size:16px;color:#2f3f4e;cursor:pointer;position:relative}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]:hover{background:#2f3f4e0c;text-decoration:none}']}),t}(),kh=["grid"];function Ch(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"li",5),i.TgZ(1,"a",6),i.NdJ("click",function(){var t=i.CHM(n).index;return i.oxw().activePageChenge(t)}),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.qZA(),i.qZA()}if(2&t){var r=e.index,a=i.oxw();i.xp6(1),i.MGl("id","bar",r,""),i.xp6(2),i.Oqu(a.getGroupeName(r))}}for(var Mh=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.bars=e,this.save=n,this.option_list=new Array,this.beamHeaders=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.setTitle(this.save.isManual()),this.table_datas=this.bars.getTableColumns(),this.option_list=new Array;for(var e=function(e){var n={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:t.tableHeight().toString(),numberCell:{show:!1},colModel:t.beamHeaders,dataModel:{data:t.table_datas[e]},freezeCols:t.save.isManual()?3:4,change:function(n,i){var r,a=_createForOfIteratorHelper(i.updateList);try{for(a.s();!(r=a.n()).done;)for(var o=r.value,s=0,l=Object.keys(o.newRow);s<l.length;s++){var u=l[s],c=o.oldRow[u];if(void 0!==o.newRow[u]&&("rebar_dia"===u||"side_dia"===u||"stirrup_dia"===u)){var h=t.bars.matchBarSize(o.newRow[u]),d=o.rowIndx;null===h&&(t.table_datas[e][d][u]=c)}}}catch(f){a.e(f)}finally{a.f()}}};t.option_list.push(n)},n=0;n<this.table_datas.length;n++)e(n);this.options=this.option_list[0],this.groupe_name=new Array;for(var i=0;i<this.table_datas.length;i++)this.groupe_name.push(this.bars.getGroupeName(i))}},{key:"ngAfterViewInit",value:function(){this.activeButtons(0)}},{key:"setTitle",value:function(t){this.beamHeaders=t?[{title:"",align:"center",dataType:"integer",dataIndx:"m_no",editable:!1,sortable:!1,width:60,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}}]:[{title:"\u90e8\u6750<br/>\u756a\u53f7",align:"center",dataType:"integer",dataIndx:"m_no",editable:!1,sortable:!1,width:60,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u4f4d\u7f6e",dataType:"float",format:"#.000",dataIndx:"position",editable:!1,sortable:!1,width:110,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}}];var e="\u4e0a\u7aef\u4f4d\u7f6e";(this.save.isManual()||this.save.is3DPickUp())&&(e="\u4e0a\u7aef\u4f4d\u7f6e<br/>/\u5074\u304b\u3076\u308a"),this.beamHeaders.push({title:"\u7b97\u51fa\u70b9\u540d",dataType:"string",dataIndx:"p_name",editable:!1,frozen:!0,sortable:!1,width:250,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u65ad\u9762<br/>B<br/>H",align:"center",dataType:"float",dataIndx:"bh",editable:!1,frozen:!0,sortable:!1,width:85,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u30cf\u30f3\u30c1\u9ad8",align:"center",colModel:[{title:"\u66f2\u3052",align:"center",colModel:[{title:"\u305b\u3093\u65ad",align:"center",dataType:"float",dataIndx:"haunch_height",sortable:!1,width:85}]}]},{title:"\u4f4d\u7f6e",align:"center",dataType:"string",dataIndx:"design_point_id",editable:!0,sortable:!1,width:40},{title:"\u8ef8\u65b9\u5411\u9244\u7b4b",align:"center",colModel:[{title:"\u9244\u7b4b\u5f84",dataType:"integer",dataIndx:"rebar_dia",sortable:!1,width:70},{title:"\u672c\u6570",dataType:"float",dataIndx:"rebar_n",sortable:!1,width:70},{title:"\u304b\u3076\u308a<br/>1\u65ad\u76ee",dataType:"float",dataIndx:"rebar_cover",sortable:!1,width:70},{title:"\u306a\u3089\u3073<br/>\u672c\u6570",dataType:"float",dataIndx:"rebar_lines",sortable:!1,width:70},{title:"\u30a2\u30ad",dataType:"float",dataIndx:"rebar_space",sortable:!1,width:70},{title:"\u9593\u9694",dataType:"float",dataIndx:"rebar_ss",sortable:!1,width:70}]},{title:"\u5074\u65b9\u9244\u7b4b",align:"center",colModel:[{title:"\u9244\u7b4b\u5f84",dataType:"integer",dataIndx:"side_dia",sortable:!1,width:70},{title:"\u672c\u6570\u7247",dataType:"float",dataIndx:"side_n",sortable:!1,width:70},{title:e,dataType:"float",dataIndx:"side_cover",sortable:!1,width:85},{title:"\u9593\u9694",dataType:"float",dataIndx:"side_ss",sortable:!1,width:70}]},{title:"\u305b\u3093\u65ad\u88dc\u5f37\u9244\u7b4b",align:"center",colModel:[{title:"\u9244\u7b4b\u5f84",dataType:"integer",dataIndx:"stirrup_dia",sortable:!1,width:70},{title:"\u672c\u6570",dataType:"float",dataIndx:"stirrup_n",sortable:!1,width:70},{title:"\u9593\u9694",dataType:"float",dataIndx:"stirrup_ss",sortable:!1,width:70}]},{title:"\u4e3b\u9244\u7b4b\u306e\u659c\u7387",dataType:"float",dataIndx:"cos",sortable:!1,width:85},{title:"tan\u03b3+tan\u03b2",dataType:"float",dataIndx:"tan",sortable:!1,width:85},{title:"\u6298\u66f2\u3052\u9244\u7b4b",align:"center",colModel:[{title:"\u9244\u7b4b\u5f84",dataType:"integer",dataIndx:"bending_dia",sortable:!1,width:70},{title:"\u672c\u6570",dataType:"float",dataIndx:"bending_n",sortable:!1,width:70},{title:"\u9593\u9694",dataType:"float",dataIndx:"bending_ss",sortable:!1,width:70},{title:"\u89d2\u5ea6",dataType:"float",dataIndx:"bending_angle",sortable:!1,width:70}]},{title:"\u51e6\u7406",align:"center",dataType:"bool",dataIndx:"enable",type:"checkbox",sortable:!1,width:40})}},{key:"getGroupeName",value:function(t){return this.groupe_name[t]}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){var t,e=[],n=_createForOfIteratorHelper(this.table_datas);try{for(n.s();!(t=n.n()).done;){var i,r=_createForOfIteratorHelper(t.value);try{for(r.s();!(i=r.n()).done;){var a=i.value;e.push(a)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){n.e(o)}finally{n.f()}this.bars.setTableColumns(e)}},{key:"tableHeight",value:function(){var t=window.innerHeight;return t-=230}},{key:"activePageChenge",value:function(t){this.activeButtons(t),this.options=this.option_list[t],this.grid.options=this.options,this.grid.refreshDataAndView()}},{key:"activeButtons",value:function(t){for(var e=0;e<=this.table_datas.length;e++){var n=document.getElementById("bar"+e);null!=n&&(e===t?n.classList.add("is-active"):n.classList.contains("is-active")&&n.classList.remove("is-active"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(Kc),i.Y36(oh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-bars"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(kh,5),2&t)&&(i.iGM(n=i.CRH())&&(e.grid=n.first))},decls:7,vars:2,consts:[[1,"c-subNavArea"],[1,"c-subNavArea__nav"],["class","c-subNavArea__navItem",4,"ngFor","ngForOf"],[3,"options"],["grid",""],[1,"c-subNavArea__navItem"],[1,"c-subNavArea__navItemTitle",3,"id","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"nav"),i.TgZ(2,"ul",1),i.YNc(3,Ch,4,2,"li",2),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div"),i._UZ(5,"app-sheet",3,4),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngForOf",e.table_datas),i.xp6(2),i.Q6J("options",e.options))},directives:[P,ch],styles:["",'@charset "UTF-8";.c-subNavArea__nav[_ngcontent-%COMP%]{text-align:left;margin-left:-10px;font-size:0;background:#fff;color:#2f3f4e;font-size:14px}.c-subNavArea[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#2f3f4e;color:#fff}.c-subNavArea__navItem[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;font-size:14px}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]{transform:translate(0);display:block;border-bottom:1px solid #000080;padding:10px 15px;font-size:16px;color:#2f3f4e;cursor:pointer;position:relative}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]:hover{background:#2f3f4e0c;text-decoration:none}']}),t}(),Th=n(8239),Sh=1001,Ah=1003,Eh=1006,Ph=1015,Ih=1016,Oh=1020,Rh=1022,Lh=1023,Dh=1026,Nh=1027,Zh=2400,Fh=2401,Uh=3e3,Bh=35044,zh=35048,qh=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"addEventListener",value:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)}},{key:"hasEventListener",value:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)}},{key:"removeEventListener",value:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}}},{key:"dispatchEvent",value:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t);t.target=null}}}}]),t}(),Hh=[],Gh=0;Gh<256;Gh++)Hh[Gh]=(Gh<16?"0":"")+Gh.toString(16);var Vh=Math.PI/180,Wh=180/Math.PI;function jh(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(Hh[255&t]+Hh[t>>8&255]+Hh[t>>16&255]+Hh[t>>24&255]+"-"+Hh[255&e]+Hh[e>>8&255]+"-"+Hh[e>>16&15|64]+Hh[e>>24&255]+"-"+Hh[63&n|128]+Hh[n>>8&255]+"-"+Hh[n>>16&255]+Hh[n>>24&255]+Hh[255&i]+Hh[i>>8&255]+Hh[i>>16&255]+Hh[i>>24&255]).toUpperCase()}function Yh(t,e,n){return Math.max(e,Math.min(n,t))}function Qh(t,e,n){return(1-n)*t+n*e}function Jh(t){return 0==(t&t-1)&&0!==t}function Xh(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}var $h=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.x=e,this.y=n}return _createClass(t,[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){return Math.atan2(-this.y,-this.x)+Math.PI}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,a=this.y-t.y;return this.x=r*n-a*i+t.x,this.y=r*i+a*n+t.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}}]),t}();$h.prototype.isVector2=!0;var Kh,td=function(){function t(){_classCallCheck(this,t),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return _createClass(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,l){var u=this.elements;return u[0]=t,u[1]=i,u[2]=o,u[3]=e,u[4]=r,u[5]=s,u[6]=n,u[7]=a,u[8]=l,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[3],s=n[6],l=n[1],u=n[4],c=n[7],h=n[2],d=n[5],f=n[8],p=i[0],g=i[3],v=i[6],m=i[1],_=i[4],y=i[7],b=i[2],x=i[5],w=i[8];return r[0]=a*p+o*m+s*b,r[3]=a*g+o*_+s*x,r[6]=a*v+o*y+s*w,r[1]=l*p+u*m+c*b,r[4]=l*g+u*_+c*x,r[7]=l*v+u*y+c*w,r[2]=h*p+d*m+f*b,r[5]=h*g+d*_+f*x,r[8]=h*v+d*y+f*w,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8];return e*a*u-e*o*l-n*r*u+n*o*s+i*r*l-i*a*s}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=u*a-o*l,h=o*s-u*r,d=l*r-a*s,f=e*c+n*h+i*d;if(0===f)return this.set(0,0,0,0,0,0,0,0,0);var p=1/f;return t[0]=c*p,t[1]=(i*l-u*n)*p,t[2]=(o*n-i*a)*p,t[3]=h*p,t[4]=(u*e-i*s)*p,t[5]=(i*r-o*e)*p,t[6]=d*p,t[7]=(n*s-l*e)*p,t[8]=(a*e-n*r)*p,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).invert().transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,i,r,a,o){var s=Math.cos(r),l=Math.sin(r);return this.set(n*s,n*l,-n*(s*a+l*o)+a+t,-i*l,i*s,-i*(-l*a+s*o)+o+e,0,0,1),this}},{key:"scale",value:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],a=i[3],o=i[6],s=i[1],l=i[4],u=i[7];return i[0]=e*r+n*s,i[3]=e*a+n*l,i[6]=e*o+n*u,i[1]=-n*r+e*s,i[4]=-n*a+e*l,i[7]=-n*o+e*u,this}},{key:"translate",value:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),t}();td.prototype.isMatrix3=!0;var ed=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"getDataURL",value:function(t){if(/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement)return t.src;var e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===Kh&&(Kh=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Kh.width=t.width,Kh.height=t.height;var n=Kh.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=Kh}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}}]),t}(),nd=0,id=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Sh,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sh,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Eh,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1008,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Lh,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:1009,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Uh;return _classCallCheck(this,n),t=e.call(this),Object.defineProperty(_assertThisInitialized(t),"id",{value:nd++}),t.uuid=jh(),t.name="",t.image=i,t.mipmaps=[],t.mapping=r,t.wrapS=a,t.wrapT=o,t.magFilter=s,t.minFilter=l,t.anisotropy=h,t.format=u,t.internalFormat=null,t.type=c,t.offset=new $h(0,0),t.repeat=new $h(1,1),t.center=new $h(0,0),t.rotation=0,t.matrixAutoUpdate=!0,t.matrix=new td,t.generateMipmaps=!0,t.premultiplyAlpha=!1,t.flipY=!0,t.unpackAlignment=4,t.encoding=d,t.version=0,t.onUpdate=null,t}return _createClass(n,[{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this}},{key:"toJSON",value:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=jh()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var a=0,o=i.length;a<o;a++)r.push(rd(i[a].isDataTexture?i[a].image:i[a]))}else r=rd(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case Sh:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case Sh:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}}]),n}(qh);function rd(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?ed.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}id.DEFAULT_IMAGE=void 0,id.DEFAULT_MAPPING=300,id.prototype.isTexture=!0;var ad=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,t),this.x=e,this.y=n,this.z=i,this.w=r}return _createClass(t,[{key:"width",get:function(){return this.z},set:function(t){this.z=t}},{key:"height",get:function(){return this.w},set:function(t){this.w=t}},{key:"set",value:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*i+a[12]*r,this.y=a[1]*e+a[5]*n+a[9]*i+a[13]*r,this.z=a[2]*e+a[6]*n+a[10]*i+a[14]*r,this.w=a[3]*e+a[7]*n+a[11]*i+a[15]*r,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,i,r,a=.01,o=.1,s=t.elements,l=s[0],u=s[4],c=s[8],h=s[1],d=s[5],f=s[9],p=s[2],g=s[6],v=s[10];if(Math.abs(u-h)<a&&Math.abs(c-p)<a&&Math.abs(f-g)<a){if(Math.abs(u+h)<o&&Math.abs(c+p)<o&&Math.abs(f+g)<o&&Math.abs(l+d+v-3)<o)return this.set(1,0,0,0),this;e=Math.PI;var m=(l+1)/2,_=(d+1)/2,y=(v+1)/2,b=(u+h)/4,x=(c+p)/4,w=(f+g)/4;return m>_&&m>y?m<a?(n=0,i=.707106781,r=.707106781):(i=b/(n=Math.sqrt(m)),r=x/n):_>y?_<a?(n=.707106781,i=0,r=.707106781):(n=b/(i=Math.sqrt(_)),r=w/i):y<a?(n=.707106781,i=.707106781,r=0):(n=x/(r=Math.sqrt(y)),i=w/r),this.set(n,i,r,e),this}var k=Math.sqrt((g-f)*(g-f)+(c-p)*(c-p)+(h-u)*(h-u));return Math.abs(k)<.001&&(k=1),this.x=(g-f)/k,this.y=(c-p)/k,this.z=(h-u)/k,this.w=Math.acos((l+d+v-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this.w=t.w+(e.w-t.w)*n,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}]),t}();ad.prototype.isVector4=!0;var od=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,n),(r=e.call(this)).width=t,r.height=i,r.depth=1,r.scissor=new ad(0,0,t,i),r.scissorTest=!1,r.viewport=new ad(0,0,t,i),r.texture=new id(void 0,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),r.texture.image={width:t,height:i,depth:1},r.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,r.texture.minFilter=void 0!==a.minFilter?a.minFilter:Eh,r.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,r.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,r.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,r}return _createClass(n,[{key:"setTexture",value:function(t){t.image={width:this.width,height:this.height,depth:this.depth},this.texture=t}},{key:"setSize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;(this.width!==t||this.height!==e||this.depth!==n)&&(this.width=t,this.height=e,this.depth=n,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.image=y4({},this.texture.image),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(qh);od.prototype.isWebGLRenderTarget=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;_classCallCheck(this,n);var o=(a=e.call(this,t,i)).texture;a.texture=[];for(var s=0;s<r;s++)a.texture[s]=o.clone();return a}return _createClass(n,[{key:"setSize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==t||this.height!==e||this.depth!==n){this.width=t,this.height=e,this.depth=n;for(var i=0,r=this.texture.length;i<r;i++)this.texture[i].image.width=t,this.texture[i].image.height=e,this.texture[i].image.depth=n;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}},{key:"copy",value:function(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(var e=0,n=t.texture.length;e<n;e++)this.texture[e]=t.texture[e].clone();return this}}]),n}(od).prototype.isWebGLMultipleRenderTargets=!0;var sd=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,i,r)).samples=4,a}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.samples=t.samples,this}}]),n}(od);sd.prototype.isWebGLMultisampleRenderTarget=!0;var ld=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,t),this._x=e,this._y=n,this._z=i,this._w=r}return _createClass(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,a=t._order,o=Math.cos,s=Math.sin,l=o(n/2),u=o(i/2),c=o(r/2),h=s(n/2),d=s(i/2),f=s(r/2);switch(a){case"XYZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"YXZ":this._x=h*u*c+l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"ZXY":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c-h*d*f;break;case"ZYX":this._x=h*u*c-l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c+h*d*f;break;case"YZX":this._x=h*u*c+l*d*f,this._y=l*d*c+h*u*f,this._z=l*u*f-h*d*c,this._w=l*u*c-h*d*f;break;case"XZY":this._x=h*u*c-l*d*f,this._y=l*d*c-h*u*f,this._z=l*u*f+h*d*c,this._w=l*u*c+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==e&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=t.elements,n=e[0],i=e[4],r=e[8],a=e[1],o=e[5],s=e[9],l=e[2],u=e[6],c=e[10],h=n+o+c;if(h>0){var d=.5/Math.sqrt(h+1);this._w=.25/d,this._x=(u-s)*d,this._y=(r-l)*d,this._z=(a-i)*d}else if(n>o&&n>c){var f=2*Math.sqrt(1+n-o-c);this._w=(u-s)/f,this._x=.25*f,this._y=(i+a)/f,this._z=(r+l)/f}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(r-l)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(s+u)/p}else{var g=2*Math.sqrt(1+c-n-o);this._w=(a-i)/g,this._x=(r+l)/g,this._y=(s+u)/g,this._z=.25*g}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(t,e){var n=t.dot(e)+1;return n<Number.EPSILON?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(Yh(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t._x,i=t._y,r=t._z,a=t._w,o=e._x,s=e._y,l=e._z,u=e._w;return this._x=n*u+a*o+i*l-r*s,this._y=i*u+a*s+r*o-n*l,this._z=r*u+a*l+n*s-i*o,this._w=a*u-n*o-i*s-r*l,this._onChangeCallback(),this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,a=this._w,o=a*t._w+n*t._x+i*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=i,this._z=r,this;var s=1-o*o;if(s<=Number.EPSILON){var l=1-e;return this._w=l*a+e*this._w,this._x=l*n+e*this._x,this._y=l*i+e*this._y,this._z=l*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var u=Math.sqrt(s),c=Math.atan2(u,o),h=Math.sin((1-e)*c)/u,d=Math.sin(e*c)/u;return this._w=a*h+this._w*d,this._x=n*h+this._x*d,this._y=i*h+this._y*d,this._z=r*h+this._z*d,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(t,e,n){this.copy(t).slerp(e,n)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}},{key:"fromBufferAttribute",value:function(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(t,e,n,i){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(t,e,i)}},{key:"slerpFlat",value:function(t,e,n,i,r,a,o){var s=n[i+0],l=n[i+1],u=n[i+2],c=n[i+3],h=r[a+0],d=r[a+1],f=r[a+2],p=r[a+3];if(0===o)return t[e+0]=s,t[e+1]=l,t[e+2]=u,void(t[e+3]=c);if(1===o)return t[e+0]=h,t[e+1]=d,t[e+2]=f,void(t[e+3]=p);if(c!==p||s!==h||l!==d||u!==f){var g=1-o,v=s*h+l*d+u*f+c*p,m=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){var y=Math.sqrt(_),b=Math.atan2(y,v*m);g=Math.sin(g*b)/y,o=Math.sin(o*b)/y}var x=o*m;if(s=s*g+h*x,l=l*g+d*x,u=u*g+f*x,c=c*g+p*x,g===1-o){var w=1/Math.sqrt(s*s+l*l+u*u+c*c);s*=w,l*=w,u*=w,c*=w}}t[e]=s,t[e+1]=l,t[e+2]=u,t[e+3]=c}},{key:"multiplyQuaternionsFlat",value:function(t,e,n,i,r,a){var o=n[i],s=n[i+1],l=n[i+2],u=n[i+3],c=r[a],h=r[a+1],d=r[a+2],f=r[a+3];return t[e]=o*f+u*c+s*d-l*h,t[e+1]=s*f+u*h+l*c-o*d,t[e+2]=l*f+u*d+o*h-s*c,t[e+3]=u*f-o*c-s*h-l*d,t}}]),t}();ld.prototype.isQuaternion=!0;var ud=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;_classCallCheck(this,t),this.x=e,this.y=n,this.z=i}return _createClass(t,[{key:"set",value:function(t,e,n){return void 0===n&&(n=this.z),this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setComponent",value:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}},{key:"getComponent",value:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(hd.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return this.applyQuaternion(hd.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this}},{key:"applyNormalMatrix",value:function(t){return this.applyMatrix3(t).normalize()}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,a=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*a,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*a,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*a,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,a=t.y,o=t.z,s=t.w,l=s*e+a*i-o*n,u=s*n+o*e-r*i,c=s*i+r*n-a*e,h=-r*e-a*n-o*i;return this.x=l*s+h*-r+u*-o-c*-a,this.y=u*s+h*-a+c*-r-l*-o,this.z=c*s+h*-o+l*-a-u*-r,this}},{key:"project",value:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}},{key:"unproject",value:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.x=t.x+(e.x-t.x)*n,this.y=t.y+(e.y-t.y)*n,this.z=t.z+(e.z-t.z)*n,this}},{key:"cross",value:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=e.x,o=e.y,s=e.z;return this.x=i*s-r*o,this.y=r*a-n*s,this.z=n*o-i*a,this}},{key:"projectOnVector",value:function(t){var e=t.lengthSq();if(0===e)return this.set(0,0,0);var n=t.dot(this)/e;return this.copy(t).multiplyScalar(n)}},{key:"projectOnPlane",value:function(t){return cd.copy(this).projectOnVector(t),this.sub(cd)}},{key:"reflect",value:function(t){return this.sub(cd.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;var n=this.dot(t)/e;return Math.acos(Yh(n,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"setFromMatrix3Column",value:function(t,e){return this.fromArray(t.elements,3*e)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"fromBufferAttribute",value:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}]),t}();ud.prototype.isVector3=!0;var cd=new ud,hd=new ld,dd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ud(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud(-1/0,-1/0,-1/0);_classCallCheck(this,t),this.min=e,this.max=n}return _createClass(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.length;s<l;s+=3){var u=t[s],c=t[s+1],h=t[s+2];u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromBufferAttribute",value:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=t.count;s<l;s++){var u=t.getX(s),c=t.getY(s),h=t.getZ(s);u<e&&(e=u),c<n&&(n=c),h<i&&(i=h),u>r&&(r=u),c>a&&(a=c),h>o&&(o=h)}return this.min.set(e,n,i),this.max.set(r,a,o),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=pd.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"setFromObject",value:function(t){return this.makeEmpty(),this.expandByObject(t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(t){t.updateWorldMatrix(!1,!1);var e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),gd.copy(e.boundingBox),gd.applyMatrix4(t.matrixWorld),this.union(gd));for(var n=t.children,i=0,r=n.length;i<r;i++)this.expandByObject(n[i]);return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){return this.clampPoint(t.center,pd),pd.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"intersectsTriangle",value:function(t){if(this.isEmpty())return!1;this.getCenter(wd),kd.subVectors(this.max,wd),vd.subVectors(t.a,wd),md.subVectors(t.b,wd),_d.subVectors(t.c,wd),yd.subVectors(md,vd),bd.subVectors(_d,md),xd.subVectors(vd,_d);var e=[0,-yd.z,yd.y,0,-bd.z,bd.y,0,-xd.z,xd.y,yd.z,0,-yd.x,bd.z,0,-bd.x,xd.z,0,-xd.x,-yd.y,yd.x,0,-bd.y,bd.x,0,-xd.y,xd.x,0];return!(!Td(e,vd,md,_d,kd)||(e=[1,0,0,0,1,0,0,0,1],!Td(e,vd,md,_d,kd)))&&(Cd.crossVectors(yd,bd),Td(e=[Cd.x,Cd.y,Cd.z],vd,md,_d,kd))}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return pd.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"getBoundingSphere",value:function(t){return this.getCenter(t.center),t.radius=.5*this.getSize(pd).length(),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(fd[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),fd[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),fd[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),fd[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),fd[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),fd[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),fd[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),fd[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(fd)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();dd.prototype.isBox3=!0;var fd=[new ud,new ud,new ud,new ud,new ud,new ud,new ud,new ud],pd=new ud,gd=new dd,vd=new ud,md=new ud,_d=new ud,yd=new ud,bd=new ud,xd=new ud,wd=new ud,kd=new ud,Cd=new ud,Md=new ud;function Td(t,e,n,i,r){for(var a=0,o=t.length-3;a<=o;a+=3){Md.fromArray(t,a);var s=r.x*Math.abs(Md.x)+r.y*Math.abs(Md.y)+r.z*Math.abs(Md.z),l=e.dot(Md),u=n.dot(Md),c=i.dot(Md);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}var Sd=new dd,Ad=new ud,Ed=new ud,Pd=new ud,Id=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ud,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;_classCallCheck(this,t),this.center=e,this.radius=n}return _createClass(t,[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):Sd.setFromPoints(t).getCenter(n);for(var i=0,r=0,a=t.length;r<a;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"expandByPoint",value:function(t){Pd.subVectors(t,this.center);var e=Pd.lengthSq();if(e>this.radius*this.radius){var n=Math.sqrt(e),i=.5*(n-this.radius);this.center.add(Pd.multiplyScalar(i/n)),this.radius+=i}return this}},{key:"union",value:function(t){return Ed.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(Ad.copy(t.center).add(Ed)),this.expandByPoint(Ad.copy(t.center).sub(Ed)),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Od=new ud,Rd=new ud,Ld=new ud,Dd=new ud,Nd=new ud,Zd=new ud,Fd=new ud,Ud=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ud,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud(0,0,-1);_classCallCheck(this,t),this.origin=e,this.direction=n}return _createClass(t,[{key:"set",value:function(t,e){return this.origin.copy(t),this.direction.copy(e),this}},{key:"copy",value:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}},{key:"at",value:function(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}},{key:"lookAt",value:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this}},{key:"recast",value:function(t){return this.origin.copy(this.at(t,Od)),this}},{key:"closestPointToPoint",value:function(t,e){e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(t){return Math.sqrt(this.distanceSqToPoint(t))}},{key:"distanceSqToPoint",value:function(t){var e=Od.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Od.copy(this.direction).multiplyScalar(e).add(this.origin),Od.distanceToSquared(t))}},{key:"distanceSqToSegment",value:function(t,e,n,i){Rd.copy(t).add(e).multiplyScalar(.5),Ld.copy(e).sub(t).normalize(),Dd.copy(this.origin).sub(Rd);var r,a,o,s,l=.5*t.distanceTo(e),u=-this.direction.dot(Ld),c=Dd.dot(this.direction),h=-Dd.dot(Ld),d=Dd.lengthSq(),f=Math.abs(1-u*u);if(f>0)if(a=u*c-h,s=l*f,(r=u*h-c)>=0)if(a>=-s)if(a<=s){var p=1/f;o=(r*=p)*(r+u*(a*=p)+2*c)+a*(u*r+a+2*h)+d}else a=l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+d;else a=-l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+d;else a<=-s?o=-(r=Math.max(0,-(-u*l+c)))*r+(a=r>0?-l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d:a<=s?(r=0,o=(a=Math.min(Math.max(-l,-h),l))*(a+2*h)+d):o=-(r=Math.max(0,-(u*l+c)))*r+(a=r>0?l:Math.min(Math.max(-l,-h),l))*(a+2*h)+d;else a=u>0?-l:l,o=-(r=Math.max(0,-(u*a+c)))*r+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(Ld).multiplyScalar(a).add(Rd),o}},{key:"intersectSphere",value:function(t,e){Od.subVectors(t.center,this.origin);var n=Od.dot(this.direction),i=Od.dot(Od)-n*n,r=t.radius*t.radius;if(i>r)return null;var a=Math.sqrt(r-i),o=n-a,s=n+a;return o<0&&s<0?null:this.at(o<0?s:o,e)}},{key:"intersectsSphere",value:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}},{key:"distanceToPlane",value:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null}},{key:"intersectPlane",value:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)}},{key:"intersectsPlane",value:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}},{key:"intersectBox",value:function(t,e){var n,i,r,a,o,s,l=1/this.direction.x,u=1/this.direction.y,c=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,i=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,i=(t.min.x-h.x)*l),u>=0?(r=(t.min.y-h.y)*u,a=(t.max.y-h.y)*u):(r=(t.max.y-h.y)*u,a=(t.min.y-h.y)*u),n>a||r>i||((r>n||n!=n)&&(n=r),(a<i||i!=i)&&(i=a),c>=0?(o=(t.min.z-h.z)*c,s=(t.max.z-h.z)*c):(o=(t.max.z-h.z)*c,s=(t.min.z-h.z)*c),n>s||o>i)||((o>n||n!=n)&&(n=o),(s<i||i!=i)&&(i=s),i<0)?null:this.at(n>=0?n:i,e)}},{key:"intersectsBox",value:function(t){return null!==this.intersectBox(t,Od)}},{key:"intersectTriangle",value:function(t,e,n,i,r){Nd.subVectors(e,t),Zd.subVectors(n,t),Fd.crossVectors(Nd,Zd);var a,o=this.direction.dot(Fd);if(o>0){if(i)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Dd.subVectors(this.origin,t);var s=a*this.direction.dot(Zd.crossVectors(Dd,Zd));if(s<0)return null;var l=a*this.direction.dot(Nd.cross(Dd));if(l<0||s+l>o)return null;var u=-a*Dd.dot(Fd);return u<0?null:this.at(u/o,r)}},{key:"applyMatrix4",value:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}},{key:"equals",value:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}(),Bd=function(){function t(){_classCallCheck(this,t),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return _createClass(t,[{key:"set",value:function(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,g){var v=this.elements;return v[0]=t,v[4]=e,v[8]=n,v[12]=i,v[1]=r,v[5]=a,v[9]=o,v[13]=s,v[2]=l,v[6]=u,v[10]=c,v[14]=h,v[3]=d,v[7]=f,v[11]=p,v[15]=g,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"setFromMatrix3",value:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,i=1/zd.setFromMatrixColumn(t,0).length(),r=1/zd.setFromMatrixColumn(t,1).length(),a=1/zd.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(i),l=Math.sin(i),u=Math.cos(r),c=Math.sin(r);if("XYZ"===t.order){var h=a*u,d=a*c,f=o*u,p=o*c;e[0]=s*u,e[4]=-s*c,e[8]=l,e[1]=d+f*l,e[5]=h-p*l,e[9]=-o*s,e[2]=p-h*l,e[6]=f+d*l,e[10]=a*s}else if("YXZ"===t.order){var g=s*u,v=s*c,m=l*u,_=l*c;e[0]=g+_*o,e[4]=m*o-v,e[8]=a*l,e[1]=a*c,e[5]=a*u,e[9]=-o,e[2]=v*o-m,e[6]=_+g*o,e[10]=a*s}else if("ZXY"===t.order){var y=s*u,b=s*c,x=l*u,w=l*c;e[0]=y-w*o,e[4]=-a*c,e[8]=x+b*o,e[1]=b+x*o,e[5]=a*u,e[9]=w-y*o,e[2]=-a*l,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var k=a*u,C=a*c,M=o*u,T=o*c;e[0]=s*u,e[4]=M*l-C,e[8]=k*l+T,e[1]=s*c,e[5]=T*l+k,e[9]=C*l-M,e[2]=-l,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var S=a*s,A=a*l,E=o*s,P=o*l;e[0]=s*u,e[4]=P-S*c,e[8]=E*c+A,e[1]=c,e[5]=a*u,e[9]=-o*u,e[2]=-l*u,e[6]=A*c+E,e[10]=S-P*c}else if("XZY"===t.order){var I=a*s,O=a*l,R=o*s,L=o*l;e[0]=s*u,e[4]=-c,e[8]=l*u,e[1]=I*c+L,e[5]=a*u,e[9]=O*c-R,e[2]=R*c-O,e[6]=o*u,e[10]=L*c+I}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(Hd,t,Gd)}},{key:"lookAt",value:function(t,e,n){var i=this.elements;return jd.subVectors(t,e),0===jd.lengthSq()&&(jd.z=1),jd.normalize(),Vd.crossVectors(n,jd),0===Vd.lengthSq()&&(1===Math.abs(n.z)?jd.x+=1e-4:jd.z+=1e-4,jd.normalize(),Vd.crossVectors(n,jd)),Vd.normalize(),Wd.crossVectors(jd,Vd),i[0]=Vd.x,i[4]=Wd.x,i[8]=jd.x,i[1]=Vd.y,i[5]=Wd.y,i[9]=jd.y,i[2]=Vd.z,i[6]=Wd.z,i[10]=jd.z,this}},{key:"multiply",value:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,i=e.elements,r=this.elements,a=n[0],o=n[4],s=n[8],l=n[12],u=n[1],c=n[5],h=n[9],d=n[13],f=n[2],p=n[6],g=n[10],v=n[14],m=n[3],_=n[7],y=n[11],b=n[15],x=i[0],w=i[4],k=i[8],C=i[12],M=i[1],T=i[5],S=i[9],A=i[13],E=i[2],P=i[6],I=i[10],O=i[14],R=i[3],L=i[7],D=i[11],N=i[15];return r[0]=a*x+o*M+s*E+l*R,r[4]=a*w+o*T+s*P+l*L,r[8]=a*k+o*S+s*I+l*D,r[12]=a*C+o*A+s*O+l*N,r[1]=u*x+c*M+h*E+d*R,r[5]=u*w+c*T+h*P+d*L,r[9]=u*k+c*S+h*I+d*D,r[13]=u*C+c*A+h*O+d*N,r[2]=f*x+p*M+g*E+v*R,r[6]=f*w+p*T+g*P+v*L,r[10]=f*k+p*S+g*I+v*D,r[14]=f*C+p*A+g*O+v*N,r[3]=m*x+_*M+y*E+b*R,r[7]=m*w+_*T+y*P+b*L,r[11]=m*k+_*S+y*I+b*D,r[15]=m*C+_*A+y*O+b*N,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],a=t[1],o=t[5],s=t[9],l=t[13],u=t[2],c=t[6],h=t[10],d=t[14];return t[3]*(+r*s*c-i*l*c-r*o*h+n*l*h+i*o*d-n*s*d)+t[7]*(+e*s*d-e*l*h+r*a*h-i*a*d+i*l*u-r*s*u)+t[11]*(+e*l*c-e*o*d-r*a*c+n*a*d+r*o*u-n*l*u)+t[15]*(-i*o*u-e*s*c+e*o*h+i*a*c-n*a*h+n*s*u)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this}},{key:"invert",value:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],a=t[4],o=t[5],s=t[6],l=t[7],u=t[8],c=t[9],h=t[10],d=t[11],f=t[12],p=t[13],g=t[14],v=t[15],m=c*g*l-p*h*l+p*s*d-o*g*d-c*s*v+o*h*v,_=f*h*l-u*g*l-f*s*d+a*g*d+u*s*v-a*h*v,y=u*p*l-f*c*l+f*o*d-a*p*d-u*o*v+a*c*v,b=f*c*s-u*p*s-f*o*h+a*p*h+u*o*g-a*c*g,x=e*m+n*_+i*y+r*b;if(0===x)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/x;return t[0]=m*w,t[1]=(p*h*r-c*g*r-p*i*d+n*g*d+c*i*v-n*h*v)*w,t[2]=(o*g*r-p*s*r+p*i*l-n*g*l-o*i*v+n*s*v)*w,t[3]=(c*s*r-o*h*r-c*i*l+n*h*l+o*i*d-n*s*d)*w,t[4]=_*w,t[5]=(u*g*r-f*h*r+f*i*d-e*g*d-u*i*v+e*h*v)*w,t[6]=(f*s*r-a*g*r-f*i*l+e*g*l+a*i*v-e*s*v)*w,t[7]=(a*h*r-u*s*r+u*i*l-e*h*l-a*i*d+e*s*d)*w,t[8]=y*w,t[9]=(f*c*r-u*p*r-f*n*d+e*p*d+u*n*v-e*c*v)*w,t[10]=(a*p*r-f*o*r+f*n*l-e*p*l-a*n*v+e*o*v)*w,t[11]=(u*o*r-a*c*r-u*n*l+e*c*l+a*n*d-e*o*d)*w,t[12]=b*w,t[13]=(u*p*i-f*c*i+f*n*h-e*p*h-u*n*g+e*c*g)*w,t[14]=(f*o*i-a*p*i-f*n*s+e*p*s+a*n*g-e*o*g)*w,t[15]=(a*c*i-u*o*i+u*n*s-e*c*s-a*n*h+e*o*h)*w,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,a=t.x,o=t.y,s=t.z,l=r*a,u=r*o;return this.set(l*a+n,l*o-i*s,l*s+i*o,0,l*o+i*s,u*o+n,u*s-i*a,0,l*s-i*o,u*s+i*a,r*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n,i,r,a){return this.set(1,n,r,0,t,1,a,0,e,i,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var i=this.elements,r=e._x,a=e._y,o=e._z,s=e._w,l=r+r,u=a+a,c=o+o,h=r*l,d=r*u,f=r*c,p=a*u,g=a*c,v=o*c,m=s*l,_=s*u,y=s*c,b=n.x,x=n.y,w=n.z;return i[0]=(1-(p+v))*b,i[1]=(d+y)*b,i[2]=(f-_)*b,i[3]=0,i[4]=(d-y)*x,i[5]=(1-(h+v))*x,i[6]=(g+m)*x,i[7]=0,i[8]=(f+_)*w,i[9]=(g-m)*w,i[10]=(1-(h+p))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this}},{key:"decompose",value:function(t,e,n){var i=this.elements,r=zd.set(i[0],i[1],i[2]).length(),a=zd.set(i[4],i[5],i[6]).length(),o=zd.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],qd.copy(this);var s=1/r,l=1/a,u=1/o;return qd.elements[0]*=s,qd.elements[1]*=s,qd.elements[2]*=s,qd.elements[4]*=l,qd.elements[5]*=l,qd.elements[6]*=l,qd.elements[8]*=u,qd.elements[9]*=u,qd.elements[10]*=u,e.setFromRotationMatrix(qd),n.x=r,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(t,e,n,i,r,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,s=2*r/(n-i),l=(e+t)/(e-t),u=(n+i)/(n-i),c=-(a+r)/(a-r),h=-2*a*r/(a-r);return o[0]=2*r/(e-t),o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=s,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=c,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(t,e,n,i,r,a){var o=this.elements,s=1/(e-t),l=1/(n-i),u=1/(a-r),c=(e+t)*s,h=(n+i)*l,d=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}}]),t}();Bd.prototype.isMatrix4=!0;var zd=new ud,qd=new Bd,Hd=new ud(0,0,0),Gd=new ud(1,1,1),Vd=new ud,Wd=new ud,jd=new ud,Yd=new Bd,Qd=new ld,Jd=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.DefaultOrder;_classCallCheck(this,t),this._x=e,this._y=n,this._z=i,this._order=r}return _createClass(t,[{key:"x",get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}},{key:"set",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=t,this._y=e,this._z=n,this._order=i,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.elements,r=i[0],a=i[4],o=i[8],s=i[1],l=i[5],u=i[9],c=i[2],h=i[6],d=i[10];switch(e){case"XYZ":this._y=Math.asin(Yh(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-a,r)):(this._x=Math.atan2(h,l),this._z=0);break;case"YXZ":this._x=Math.asin(-Yh(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,d),this._z=Math.atan2(s,l)):(this._y=Math.atan2(-c,r),this._z=0);break;case"ZXY":this._x=Math.asin(Yh(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-c,d),this._z=Math.atan2(-a,l)):(this._y=0,this._z=Math.atan2(s,r));break;case"ZYX":this._y=Math.asin(-Yh(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(h,d),this._z=Math.atan2(s,r)):(this._x=0,this._z=Math.atan2(-a,l));break;case"YZX":this._z=Math.asin(Yh(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,l),this._y=Math.atan2(-c,r)):(this._x=0,this._y=Math.atan2(o,d));break;case"XZY":this._z=Math.asin(-Yh(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,l),this._y=Math.atan2(o,r)):(this._x=Math.atan2(-u,d),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(t,e,n){return Yd.makeRotationFromQuaternion(t),this.setFromRotationMatrix(Yd,e,n)}},{key:"setFromVector3",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(t.x,t.y,t.z,e)}},{key:"reorder",value:function(t){return Qd.setFromEuler(this),this.setFromQuaternion(Qd,t)}},{key:"equals",value:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}},{key:"fromArray",value:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}},{key:"toVector3",value:function(t){return t?t.set(this._x,this._y,this._z):new ud(this._x,this._y,this._z)}},{key:"_onChange",value:function(t){return this._onChangeCallback=t,this}},{key:"_onChangeCallback",value:function(){}}]),t}();Jd.prototype.isEuler=!0,Jd.DefaultOrder="XYZ",Jd.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Xd=function(){function t(){_classCallCheck(this,t),this.mask=1}return _createClass(t,[{key:"set",value:function(t){this.mask=1<<t|0}},{key:"enable",value:function(t){this.mask|=1<<t|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(t){this.mask^=1<<t|0}},{key:"disable",value:function(t){this.mask&=~(1<<t|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(t){return 0!=(this.mask&t.mask)}}]),t}(),$d=0,Kd=new ud,tf=new ld,ef=new Bd,nf=new ud,rf=new ud,af=new ud,of=new ld,sf=new ud(1,0,0),lf=new ud(0,1,0),uf=new ud(0,0,1),cf={type:"added"},hf={type:"removed"},df=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;_classCallCheck(this,n),t=e.call(this),Object.defineProperty(_assertThisInitialized(t),"id",{value:$d++}),t.uuid=jh(),t.name="",t.type="Object3D",t.parent=null,t.children=[],t.up=n.DefaultUp.clone();var i=new ud,r=new Jd,a=new ld,o=new ud(1,1,1);return r._onChange(function(){a.setFromEuler(r,!1)}),a._onChange(function(){r.setFromQuaternion(a,void 0,!1)}),Object.defineProperties(_assertThisInitialized(t),{position:{configurable:!0,enumerable:!0,value:i},rotation:{configurable:!0,enumerable:!0,value:r},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new Bd},normalMatrix:{value:new td}}),t.matrix=new Bd,t.matrixWorld=new Bd,t.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,t.matrixWorldNeedsUpdate=!1,t.layers=new Xd,t.visible=!0,t.castShadow=!1,t.receiveShadow=!1,t.frustumCulled=!0,t.renderOrder=0,t.animations=[],t.userData={},t}return _createClass(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(t){return this.quaternion.premultiply(t),this}},{key:"setRotationFromAxisAngle",value:function(t,e){this.quaternion.setFromAxisAngle(t,e)}},{key:"setRotationFromEuler",value:function(t){this.quaternion.setFromEuler(t,!0)}},{key:"setRotationFromMatrix",value:function(t){this.quaternion.setFromRotationMatrix(t)}},{key:"setRotationFromQuaternion",value:function(t){this.quaternion.copy(t)}},{key:"rotateOnAxis",value:function(t,e){return tf.setFromAxisAngle(t,e),this.quaternion.multiply(tf),this}},{key:"rotateOnWorldAxis",value:function(t,e){return tf.setFromAxisAngle(t,e),this.quaternion.premultiply(tf),this}},{key:"rotateX",value:function(t){return this.rotateOnAxis(sf,t)}},{key:"rotateY",value:function(t){return this.rotateOnAxis(lf,t)}},{key:"rotateZ",value:function(t){return this.rotateOnAxis(uf,t)}},{key:"translateOnAxis",value:function(t,e){return Kd.copy(t).applyQuaternion(this.quaternion),this.position.add(Kd.multiplyScalar(e)),this}},{key:"translateX",value:function(t){return this.translateOnAxis(sf,t)}},{key:"translateY",value:function(t){return this.translateOnAxis(lf,t)}},{key:"translateZ",value:function(t){return this.translateOnAxis(uf,t)}},{key:"localToWorld",value:function(t){return t.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(t){return t.applyMatrix4(ef.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(t,e,n){t.isVector3?nf.copy(t):nf.set(t,e,n);var i=this.parent;this.updateWorldMatrix(!0,!1),rf.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ef.lookAt(rf,nf,this.up):ef.lookAt(nf,rf,this.up),this.quaternion.setFromRotationMatrix(ef),i&&(ef.extractRotation(i.matrixWorld),tf.setFromRotationMatrix(ef),this.quaternion.premultiply(tf.invert()))}},{key:"add",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(cf)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}},{key:"remove",value:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(hf)),this}},{key:"removeFromParent",value:function(){var t=this.parent;return null!==t&&t.remove(this),this}},{key:"clear",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.parent=null,e.dispatchEvent(hf)}return this.children.length=0,this}},{key:"attach",value:function(t){return this.updateWorldMatrix(!0,!1),ef.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),ef.multiply(t.parent.matrixWorld)),t.applyMatrix4(ef),this.add(t),t.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(t){return this.getObjectByProperty("id",t)}},{key:"getObjectByName",value:function(t){return this.getObjectByProperty("name",t)}},{key:"getObjectByProperty",value:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}}},{key:"getWorldPosition",value:function(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rf,t,af),t}},{key:"getWorldScale",value:function(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(rf,of,t),t}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)}},{key:"traverseVisible",value:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}}},{key:"traverseAncestors",value:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)}},{key:"updateWorldMatrix",value:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,a=i.length;r<a;r++)i[r].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(t){var e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(i.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(i.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++)r(t.shapes,o[s]);else r(t.shapes,o)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var u=[],c=0,h=this.material.length;c<h;c++)u.push(r(t.materials,this.material[c]));i.material=u}else i.material=r(t.materials,this.material);if(this.children.length>0){i.children=[];for(var d=0;d<this.children.length;d++)i.children.push(this.children[d].toJSON(t).object)}if(this.animations.length>0){i.animations=[];for(var f=0;f<this.animations.length;f++)i.animations.push(r(t.animations,this.animations[f]))}if(e){var p=x(t.geometries),g=x(t.materials),v=x(t.textures),m=x(t.images),_=x(t.shapes),y=x(t.skeletons),b=x(t.animations);p.length>0&&(n.geometries=p),g.length>0&&(n.materials=g),v.length>0&&(n.textures=v),m.length>0&&(n.images=m),_.length>0&&(n.shapes=_),y.length>0&&(n.skeletons=y),b.length>0&&(n.animations=b)}return n.object=i,n;function x(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}}},{key:"clone",value:function(t){return(new this.constructor).copy(this,t)}},{key:"copy",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++)this.add(t.children[n].clone());return this}}]),n}(qh);df.DefaultUp=new ud(0,1,0),df.DefaultMatrixAutoUpdate=!0,df.prototype.isObject3D=!0;var ff=new ud,pf=new ud,gf=new ud,vf=new ud,mf=new ud,_f=new ud,yf=new ud,bf=new ud,xf=new ud,wf=new ud,kf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ud,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ud;_classCallCheck(this,t),this.a=e,this.b=n,this.c=i}return _createClass(t,[{key:"set",value:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}},{key:"getArea",value:function(){return ff.subVectors(this.c,this.b),pf.subVectors(this.a,this.b),.5*ff.cross(pf).length()}},{key:"getMidpoint",value:function(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(e){return t.getNormal(this.a,this.b,this.c,e)}},{key:"getPlane",value:function(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(e,n){return t.getBarycoord(e,this.a,this.b,this.c,n)}},{key:"getUV",value:function(e,n,i,r,a){return t.getUV(e,this.a,this.b,this.c,n,i,r,a)}},{key:"containsPoint",value:function(e){return t.containsPoint(e,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(e){return t.isFrontFacing(this.a,this.b,this.c,e)}},{key:"intersectsBox",value:function(t){return t.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(t,e){var n,i,r=this.a,a=this.b,o=this.c;mf.subVectors(a,r),_f.subVectors(o,r),bf.subVectors(t,r);var s=mf.dot(bf),l=_f.dot(bf);if(s<=0&&l<=0)return e.copy(r);xf.subVectors(t,a);var u=mf.dot(xf),c=_f.dot(xf);if(u>=0&&c<=u)return e.copy(a);var h=s*c-u*l;if(h<=0&&s>=0&&u<=0)return n=s/(s-u),e.copy(r).addScaledVector(mf,n);wf.subVectors(t,o);var d=mf.dot(wf),f=_f.dot(wf);if(f>=0&&d<=f)return e.copy(o);var p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return i=l/(l-f),e.copy(r).addScaledVector(_f,i);var g=u*f-d*c;if(g<=0&&c-u>=0&&d-f>=0)return yf.subVectors(o,a),i=(c-u)/(c-u+(d-f)),e.copy(a).addScaledVector(yf,i);var v=1/(g+p+h);return n=p*v,i=h*v,e.copy(r).addScaledVector(mf,n).addScaledVector(_f,i)}},{key:"equals",value:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}],[{key:"getNormal",value:function(t,e,n,i){i.subVectors(n,e),ff.subVectors(t,e),i.cross(ff);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)}},{key:"getBarycoord",value:function(t,e,n,i,r){ff.subVectors(i,e),pf.subVectors(n,e),gf.subVectors(t,e);var a=ff.dot(ff),o=ff.dot(pf),s=ff.dot(gf),l=pf.dot(pf),u=pf.dot(gf),c=a*l-o*o;if(0===c)return r.set(-2,-1,-1);var h=1/c,d=(l*s-o*u)*h,f=(a*u-o*s)*h;return r.set(1-d-f,f,d)}},{key:"containsPoint",value:function(t,e,n,i){return this.getBarycoord(t,e,n,i,vf),vf.x>=0&&vf.y>=0&&vf.x+vf.y<=1}},{key:"getUV",value:function(t,e,n,i,r,a,o,s){return this.getBarycoord(t,e,n,i,vf),s.set(0,0),s.addScaledVector(r,vf.x),s.addScaledVector(a,vf.y),s.addScaledVector(o,vf.z),s}},{key:"isFrontFacing",value:function(t,e,n,i){return ff.subVectors(n,e),pf.subVectors(t,e),ff.cross(pf).dot(i)<0}}]),t}(),Cf=0,Mf=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),t=e.call(this),Object.defineProperty(_assertThisInitialized(t),"id",{value:Cf++}),t.uuid=jh(),t.name="",t.type="Material",t.fog=!0,t.blending=1,t.side=0,t.vertexColors=!1,t.opacity=1,t.transparent=!1,t.blendSrc=204,t.blendDst=205,t.blendEquation=100,t.blendSrcAlpha=null,t.blendDstAlpha=null,t.blendEquationAlpha=null,t.depthFunc=3,t.depthTest=!0,t.depthWrite=!0,t.stencilWriteMask=255,t.stencilFunc=519,t.stencilRef=0,t.stencilFuncMask=255,t.stencilFail=7680,t.stencilZFail=7680,t.stencilZPass=7680,t.stencilWrite=!1,t.clippingPlanes=null,t.clipIntersection=!1,t.clipShadows=!1,t.shadowSide=null,t.colorWrite=!0,t.precision=null,t.polygonOffset=!1,t.polygonOffsetFactor=0,t.polygonOffsetUnits=0,t.dithering=!1,t.alphaTest=0,t.alphaToCoverage=!1,t.premultipliedAlpha=!1,t.visible=!0,t.toneMapped=!0,t.userData={},t.version=0,t}return _createClass(n,[{key:"onBuild",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}}},{key:"toJSON",value:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var r=i(t.textures),a=i(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}}]),n}(qh);Mf.prototype.isMaterial=!0;var Tf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Sf={h:0,s:0,l:0},Af={h:0,s:0,l:0};function Ef(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function Pf(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function If(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}var Of=function(){var t=function(){function t(e,n,i){return _classCallCheck(this,t),void 0===n&&void 0===i?this.set(e):this.setRGB(e,n,i)}return _createClass(t,[{key:"set",value:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}},{key:"setScalar",value:function(t){return this.r=t,this.g=t,this.b=t,this}},{key:"setHex",value:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}},{key:"setRGB",value:function(t,e,n){return this.r=t,this.g=e,this.b=n,this}},{key:"setHSL",value:function(t,e,n){if(t=function(t,e){return(t%1+1)%1}(t),e=Yh(e,0,1),n=Yh(n,0,1),0===e)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=Ef(r,i,t+1/3),this.g=Ef(r,i,t),this.b=Ef(r,i,t-1/3)}return this}},{key:"setStyle",value:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){var i,r=n[2];switch(n[1]){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){var a=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100;return e(i[4]),this.setHSL(a,o,s)}}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(t)){var l=n[1],u=l.length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}},{key:"setColorName",value:function(t){var e=Tf[t.toLowerCase()];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}},{key:"copyGammaToLinear",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}},{key:"copyLinearToGamma",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this}},{key:"convertGammaToLinear",value:function(t){return this.copyGammaToLinear(this,t),this}},{key:"convertLinearToGamma",value:function(t){return this.copyLinearToGamma(this,t),this}},{key:"copySRGBToLinear",value:function(t){return this.r=Pf(t.r),this.g=Pf(t.g),this.b=Pf(t.b),this}},{key:"copyLinearToSRGB",value:function(t){return this.r=If(t.r),this.g=If(t.g),this.b=If(t.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}},{key:"getHexString",value:function(){return("000000"+this.getHex().toString(16)).slice(-6)}},{key:"getHSL",value:function(t){var e,n,i=this.r,r=this.g,a=this.b,o=Math.max(i,r,a),s=Math.min(i,r,a),l=(s+o)/2;if(s===o)e=0,n=0;else{var u=o-s;switch(n=l<=.5?u/(o+s):u/(2-o-s),o){case i:e=(r-a)/u+(r<a?6:0);break;case r:e=(a-i)/u+2;break;case a:e=(i-r)/u+4}e/=6}return t.h=e,t.s=n,t.l=l,t}},{key:"getStyle",value:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}},{key:"offsetHSL",value:function(t,e,n){return this.getHSL(Sf),Sf.h+=t,Sf.s+=e,Sf.l+=n,this.setHSL(Sf.h,Sf.s,Sf.l),this}},{key:"add",value:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}},{key:"addColors",value:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}},{key:"addScalar",value:function(t){return this.r+=t,this.g+=t,this.b+=t,this}},{key:"sub",value:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}},{key:"multiply",value:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}},{key:"multiplyScalar",value:function(t){return this.r*=t,this.g*=t,this.b*=t,this}},{key:"lerp",value:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}},{key:"lerpColors",value:function(t,e,n){return this.r=t.r+(e.r-t.r)*n,this.g=t.g+(e.g-t.g)*n,this.b=t.b+(e.b-t.b)*n,this}},{key:"lerpHSL",value:function(t,e){this.getHSL(Sf),t.getHSL(Af);var n=Qh(Sf.h,Af.h,e),i=Qh(Sf.s,Af.s,e),r=Qh(Sf.l,Af.l,e);return this.setHSL(n,i,r),this}},{key:"equals",value:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}},{key:"fromArray",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}},{key:"toArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},{key:"fromBufferAttribute",value:function(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),t}();return t.NAMES=Tf,t}();Of.prototype.isColor=!0,Of.prototype.r=1,Of.prototype.g=1,Of.prototype.b=1;var Rf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshBasicMaterial",i.color=new Of(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.morphTargets=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.morphTargets=t.morphTargets,this}}]),n}(Mf);Rf.prototype.isMeshBasicMaterial=!0;var Lf=new ud,Df=new $h,Nf=function(){function t(e,n,i){if(_classCallCheck(this,t),Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=n,this.count=void 0!==e?e.length/n:0,this.normalized=!0===i,this.usage=Bh,this.updateRange={offset:0,count:-1},this.version=0}return _createClass(t,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"copy",value:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}},{key:"copyAt",value:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this}},{key:"copyArray",value:function(t){return this.array.set(t),this}},{key:"copyColorsArray",value:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),a=new Of),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this}},{key:"copyVector2sArray",value:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),a=new $h),e[n++]=a.x,e[n++]=a.y}return this}},{key:"copyVector3sArray",value:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),a=new ud),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this}},{key:"copyVector4sArray",value:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var a=t[i];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),a=new ad),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this}},{key:"applyMatrix3",value:function(t){if(2===this.itemSize)for(var e=0,n=this.count;e<n;e++)Df.fromBufferAttribute(this,e),Df.applyMatrix3(t),this.setXY(e,Df.x,Df.y);else if(3===this.itemSize)for(var i=0,r=this.count;i<r;i++)Lf.fromBufferAttribute(this,i),Lf.applyMatrix3(t),this.setXYZ(i,Lf.x,Lf.y,Lf.z);return this}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.count;e<n;e++)Lf.x=this.getX(e),Lf.y=this.getY(e),Lf.z=this.getZ(e),Lf.applyMatrix4(t),this.setXYZ(e,Lf.x,Lf.y,Lf.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)Lf.x=this.getX(e),Lf.y=this.getY(e),Lf.z=this.getZ(e),Lf.applyNormalMatrix(t),this.setXYZ(e,Lf.x,Lf.y,Lf.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)Lf.x=this.getX(e),Lf.y=this.getY(e),Lf.z=this.getZ(e),Lf.transformDirection(t),this.setXYZ(e,Lf.x,Lf.y,Lf.z);return this}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}},{key:"getX",value:function(t){return this.array[t*this.itemSize]}},{key:"setX",value:function(t,e){return this.array[t*this.itemSize]=e,this}},{key:"getY",value:function(t){return this.array[t*this.itemSize+1]}},{key:"setY",value:function(t,e){return this.array[t*this.itemSize+1]=e,this}},{key:"getZ",value:function(t){return this.array[t*this.itemSize+2]}},{key:"setZ",value:function(t,e){return this.array[t*this.itemSize+2]=e,this}},{key:"getW",value:function(t){return this.array[t*this.itemSize+3]}},{key:"setW",value:function(t,e){return this.array[t*this.itemSize+3]=e,this}},{key:"setXY",value:function(t,e,n){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,i){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this}},{key:"setXYZW",value:function(t,e,n,i,r){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==Bh&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}]),t}();Nf.prototype.isBufferAttribute=!0;var Zf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,new Uint16Array(t),i,r)}return _createClass(n)}(Nf),Ff=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,new Uint32Array(t),i,r)}return _createClass(n)}(Nf);(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,new Uint16Array(t),i,r)}return _createClass(n)})(Nf).prototype.isFloat16BufferAttribute=!0;var Uf=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){return _classCallCheck(this,n),e.call(this,new Float32Array(t),i,r)}return _createClass(n)}(Nf);function Bf(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;var zf=0,qf=new Bd,Hf=new df,Gf=new ud,Vf=new dd,Wf=new dd,jf=new ud,Yf=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),t=e.call(this),Object.defineProperty(_assertThisInitialized(t),"id",{value:zf++}),t.uuid=jh(),t.name="",t.type="BufferGeometry",t.index=null,t.attributes={},t.morphAttributes={},t.morphTargetsRelative=!1,t.groups=[],t.boundingBox=null,t.boundingSphere=null,t.drawRange={start:0,count:1/0},t.userData={},t}return _createClass(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(t){return this.index=Array.isArray(t)?new(Bf(t)>65535?Ff:Zf)(t,1):t,this}},{key:"getAttribute",value:function(t){return this.attributes[t]}},{key:"setAttribute",value:function(t,e){return this.attributes[t]=e,this}},{key:"deleteAttribute",value:function(t){return delete this.attributes[t],this}},{key:"hasAttribute",value:function(t){return void 0!==this.attributes[t]}},{key:"addGroup",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:t,count:e,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(t,e){this.drawRange.start=t,this.drawRange.count=e}},{key:"applyMatrix4",value:function(t){var e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var i=(new td).getNormalMatrix(t);n.applyNormalMatrix(i),n.needsUpdate=!0}var r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(t),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(t){return qf.makeRotationFromQuaternion(t),this.applyMatrix4(qf),this}},{key:"rotateX",value:function(t){return qf.makeRotationX(t),this.applyMatrix4(qf),this}},{key:"rotateY",value:function(t){return qf.makeRotationY(t),this.applyMatrix4(qf),this}},{key:"rotateZ",value:function(t){return qf.makeRotationZ(t),this.applyMatrix4(qf),this}},{key:"translate",value:function(t,e,n){return qf.makeTranslation(t,e,n),this.applyMatrix4(qf),this}},{key:"scale",value:function(t,e,n){return qf.makeScale(t,e,n),this.applyMatrix4(qf),this}},{key:"lookAt",value:function(t){return Hf.lookAt(t),Hf.updateMatrix(),this.applyMatrix4(Hf.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gf).negate(),this.translate(Gf.x,Gf.y,Gf.z),this}},{key:"setFromPoints",value:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Uf(e,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new dd);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ud(-1/0,-1/0,-1/0),new ud(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++)Vf.setFromBufferAttribute(e[n]),this.morphTargetsRelative?(jf.addVectors(this.boundingBox.min,Vf.min),this.boundingBox.expandByPoint(jf),jf.addVectors(this.boundingBox.max,Vf.max),this.boundingBox.expandByPoint(jf)):(this.boundingBox.expandByPoint(Vf.min),this.boundingBox.expandByPoint(Vf.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new Id);var t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ud,1/0);if(t){var n=this.boundingSphere.center;if(Vf.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++)Wf.setFromBufferAttribute(e[i]),this.morphTargetsRelative?(jf.addVectors(Vf.min,Wf.min),Vf.expandByPoint(jf),jf.addVectors(Vf.max,Wf.max),Vf.expandByPoint(jf)):(Vf.expandByPoint(Wf.min),Vf.expandByPoint(Wf.max));Vf.getCenter(n);for(var a=0,o=0,s=t.count;o<s;o++)jf.fromBufferAttribute(t,o),a=Math.max(a,n.distanceToSquared(jf));if(e)for(var l=0,u=e.length;l<u;l++)for(var c=e[l],h=this.morphTargetsRelative,d=0,f=c.count;d<f;d++)jf.fromBufferAttribute(c,d),h&&(Gf.fromBufferAttribute(t,d),jf.add(Gf)),a=Math.max(a,n.distanceToSquared(jf));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeFaceNormals",value:function(){}},{key:"computeTangents",value:function(){var t=this.index,e=this.attributes;if(null!==t&&void 0!==e.position&&void 0!==e.normal&&void 0!==e.uv){var n=t.array,i=e.position.array,r=e.normal.array,a=e.uv.array,o=i.length/3;void 0===e.tangent&&this.setAttribute("tangent",new Nf(new Float32Array(4*o),4));for(var s=e.tangent.array,l=[],u=[],c=0;c<o;c++)l[c]=new ud,u[c]=new ud;var h=new ud,d=new ud,f=new ud,p=new $h,g=new $h,v=new $h,m=new ud,_=new ud,y=this.groups;0===y.length&&(y=[{start:0,count:n.length}]);for(var b=0,x=y.length;b<x;++b)for(var w=y[b],k=w.start,C=k,M=k+w.count;C<M;C+=3)N(n[C+0],n[C+1],n[C+2]);for(var T=new ud,S=new ud,A=new ud,E=new ud,P=0,I=y.length;P<I;++P)for(var O=y[P],R=O.start,L=R,D=R+O.count;L<D;L+=3)Z(n[L+0]),Z(n[L+1]),Z(n[L+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function N(t,e,n){h.fromArray(i,3*t),d.fromArray(i,3*e),f.fromArray(i,3*n),p.fromArray(a,2*t),g.fromArray(a,2*e),v.fromArray(a,2*n),d.sub(h),f.sub(h),g.sub(p),v.sub(p);var r=1/(g.x*v.y-v.x*g.y);!isFinite(r)||(m.copy(d).multiplyScalar(v.y).addScaledVector(f,-g.y).multiplyScalar(r),_.copy(f).multiplyScalar(g.x).addScaledVector(d,-v.x).multiplyScalar(r),l[t].add(m),l[e].add(m),l[n].add(m),u[t].add(_),u[e].add(_),u[n].add(_))}function Z(t){A.fromArray(r,3*t),E.copy(A);var e=l[t];T.copy(e),T.sub(A.multiplyScalar(A.dot(e))).normalize(),S.crossVectors(E,e);var n=S.dot(u[t])<0?-1:1;s[4*t]=T.x,s[4*t+1]=T.y,s[4*t+2]=T.z,s[4*t+3]=n}}},{key:"computeVertexNormals",value:function(){var t=this.index,e=this.getAttribute("position");if(void 0!==e){var n=this.getAttribute("normal");if(void 0===n)n=new Nf(new Float32Array(3*e.count),3),this.setAttribute("normal",n);else for(var i=0,r=n.count;i<r;i++)n.setXYZ(i,0,0,0);var a=new ud,o=new ud,s=new ud,l=new ud,u=new ud,c=new ud,h=new ud,d=new ud;if(t)for(var f=0,p=t.count;f<p;f+=3){var g=t.getX(f+0),v=t.getX(f+1),m=t.getX(f+2);a.fromBufferAttribute(e,g),o.fromBufferAttribute(e,v),s.fromBufferAttribute(e,m),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),l.fromBufferAttribute(n,g),u.fromBufferAttribute(n,v),c.fromBufferAttribute(n,m),l.add(h),u.add(h),c.add(h),n.setXYZ(g,l.x,l.y,l.z),n.setXYZ(v,u.x,u.y,u.z),n.setXYZ(m,c.x,c.y,c.z)}else for(var _=0,y=e.count;_<y;_+=3)a.fromBufferAttribute(e,_+0),o.fromBufferAttribute(e,_+1),s.fromBufferAttribute(e,_+2),h.subVectors(s,o),d.subVectors(a,o),h.cross(d),n.setXYZ(_+0,h.x,h.y,h.z),n.setXYZ(_+1,h.x,h.y,h.z),n.setXYZ(_+2,h.x,h.y,h.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i].array,a=t.attributes[i],o=a.array,s=a.itemSize*e,l=Math.min(o.length,r.length-s),u=0,c=s;u<l;u++,c++)r[c]=o[u];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)}},{key:"normalizeNormals",value:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)jf.fromBufferAttribute(t,e),jf.normalize(),t.setXYZ(e,jf.x,jf.y,jf.z)}},{key:"toNonIndexed",value:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=t.normalized,a=new n.constructor(e.length*i),o=0,s=0,l=0,u=e.length;l<u;l++){o=t.isInterleavedBufferAttribute?e[l]*t.data.stride+t.offset:e[l]*i;for(var c=0;c<i;c++)a[s++]=n[o++]}return new Nf(a,i,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var e=new n,i=this.index.array,r=this.attributes;for(var a in r){var o=t(r[a],i);e.setAttribute(a,o)}var s=this.morphAttributes;for(var l in s){for(var u=[],c=s[l],h=0,d=c.length;h<d;h++){var f=t(c[h],i);u.push(f)}e.morphAttributes[l]=u}e.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,g=0,v=p.length;g<v;g++){var m=p[g];e.addGroup(m.start,m.count,m.materialIndex)}return e}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var a in r)t.data.attributes[a]=r[a].toJSON(t.data);var o={},s=!1;for(var l in this.morphAttributes){for(var u=this.morphAttributes[l],c=[],h=0,d=u.length;h<d;h++)c.push(u[h].toJSON(t.data));c.length>0&&(o[l]=c,s=!0)}s&&(t.data.morphAttributes=o,t.data.morphTargetsRelative=this.morphTargetsRelative);var f=this.groups;f.length>0&&(t.data.groups=JSON.parse(JSON.stringify(f)));var p=this.boundingSphere;return null!==p&&(t.data.boundingSphere={center:p.center.toArray(),radius:p.radius}),t}},{key:"clone",value:function(){return(new n).copy(this)}},{key:"copy",value:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var e={};this.name=t.name;var n=t.index;null!==n&&this.setIndex(n.clone(e));var i=t.attributes;for(var r in i)this.setAttribute(r,i[r].clone(e));var a=t.morphAttributes;for(var o in a){for(var s=[],l=a[o],u=0,c=l.length;u<c;u++)s.push(l[u].clone(e));this.morphAttributes[o]=s}this.morphTargetsRelative=t.morphTargetsRelative;for(var h=t.groups,d=0,f=h.length;d<f;d++){var p=h[d];this.addGroup(p.start,p.count,p.materialIndex)}var g=t.boundingBox;null!==g&&(this.boundingBox=g.clone());var v=t.boundingSphere;return null!==v&&(this.boundingSphere=v.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(qh);Yf.prototype.isBufferGeometry=!0;var Qf=new Bd,Jf=new Ud,Xf=new Id,$f=new ud,Kf=new ud,tp=new ud,ep=new ud,np=new ud,ip=new ud,rp=new ud,ap=new ud,op=new ud,sp=new $h,lp=new $h,up=new $h,cp=new ud,hp=new ud,dp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yf,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Rf;return _classCallCheck(this,n),(t=e.call(this)).type="Mesh",t.geometry=i,t.material=r,t.updateMorphTargets(),t}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}},{key:"updateMorphTargets",value:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(t,e){var n,i=this.geometry,r=this.material,a=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),Xf.copy(i.boundingSphere),Xf.applyMatrix4(a),!1!==t.ray.intersectsSphere(Xf))&&(Qf.copy(a).invert(),Jf.copy(t.ray).applyMatrix4(Qf),null===i.boundingBox||!1!==Jf.intersectsBox(i.boundingBox)))if(i.isBufferGeometry){var o=i.index,s=i.attributes.position,l=i.morphAttributes.position,u=i.morphTargetsRelative,c=i.attributes.uv,h=i.attributes.uv2,d=i.groups,f=i.drawRange;if(null!==o)if(Array.isArray(r))for(var p=0,g=d.length;p<g;p++)for(var v=d[p],m=r[v.materialIndex],_=Math.max(v.start,f.start),y=Math.min(v.start+v.count,f.start+f.count);_<y;_+=3){var b=o.getX(_),x=o.getX(_+1),w=o.getX(_+2);(n=fp(this,m,t,Jf,s,l,u,c,h,b,x,w))&&(n.faceIndex=Math.floor(_/3),n.face.materialIndex=v.materialIndex,e.push(n))}else for(var k=Math.max(0,f.start),C=Math.min(o.count,f.start+f.count);k<C;k+=3){var M=o.getX(k),T=o.getX(k+1),S=o.getX(k+2);(n=fp(this,r,t,Jf,s,l,u,c,h,M,T,S))&&(n.faceIndex=Math.floor(k/3),e.push(n))}else if(void 0!==s)if(Array.isArray(r))for(var A=0,E=d.length;A<E;A++)for(var P=d[A],I=r[P.materialIndex],O=Math.max(P.start,f.start),R=Math.min(P.start+P.count,f.start+f.count);O<R;O+=3)(n=fp(this,I,t,Jf,s,l,u,c,h,O,O+1,O+2))&&(n.faceIndex=Math.floor(O/3),n.face.materialIndex=P.materialIndex,e.push(n));else for(var L=Math.max(0,f.start),D=Math.min(s.count,f.start+f.count);L<D;L+=3)(n=fp(this,r,t,Jf,s,l,u,c,h,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),e.push(n))}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),n}(df);function fp(t,e,n,i,r,a,o,s,l,u,c,h){$f.fromBufferAttribute(r,u),Kf.fromBufferAttribute(r,c),tp.fromBufferAttribute(r,h);var d=t.morphTargetInfluences;if(e.morphTargets&&a&&d){rp.set(0,0,0),ap.set(0,0,0),op.set(0,0,0);for(var f=0,p=a.length;f<p;f++){var g=d[f],v=a[f];0!==g&&(ep.fromBufferAttribute(v,u),np.fromBufferAttribute(v,c),ip.fromBufferAttribute(v,h),o?(rp.addScaledVector(ep,g),ap.addScaledVector(np,g),op.addScaledVector(ip,g)):(rp.addScaledVector(ep.sub($f),g),ap.addScaledVector(np.sub(Kf),g),op.addScaledVector(ip.sub(tp),g)))}$f.add(rp),Kf.add(ap),tp.add(op)}t.isSkinnedMesh&&(t.boneTransform(u,$f),t.boneTransform(c,Kf),t.boneTransform(h,tp));var m=function(t,e,n,i,r,a,o,s){if(null===(1===e.side?i.intersectTriangle(o,a,r,!0,s):i.intersectTriangle(r,a,o,2!==e.side,s)))return null;hp.copy(s),hp.applyMatrix4(t.matrixWorld);var l=n.ray.origin.distanceTo(hp);return l<n.near||l>n.far?null:{distance:l,point:hp.clone(),object:t}}(t,e,n,i,$f,Kf,tp,cp);if(m){s&&(sp.fromBufferAttribute(s,u),lp.fromBufferAttribute(s,c),up.fromBufferAttribute(s,h),m.uv=kf.getUV(cp,$f,Kf,tp,sp,lp,up,new $h)),l&&(sp.fromBufferAttribute(l,u),lp.fromBufferAttribute(l,c),up.fromBufferAttribute(l,h),m.uv2=kf.getUV(cp,$f,Kf,tp,sp,lp,up,new $h));var _={a:u,b:c,c:h,normal:new ud,materialIndex:0};kf.getNormal($f,Kf,tp,_.normal),m.face=_}return m}dp.prototype.isMesh=!0;var pp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;_classCallCheck(this,n),(t=e.call(this)).type="BoxGeometry",t.parameters={width:i,height:r,depth:a,widthSegments:o,heightSegments:s,depthSegments:l};var u=_assertThisInitialized(t);o=Math.floor(o),s=Math.floor(s),l=Math.floor(l);var c=[],h=[],d=[],f=[],p=0,g=0;function v(t,e,n,i,r,a,o,s,l,v,m){for(var _=a/l,y=o/v,b=a/2,x=o/2,w=s/2,k=l+1,C=v+1,M=0,T=0,S=new ud,A=0;A<C;A++)for(var E=A*y-x,P=0;P<k;P++)S[t]=(P*_-b)*i,S[e]=E*r,S[n]=w,h.push(S.x,S.y,S.z),S[t]=0,S[e]=0,S[n]=s>0?1:-1,d.push(S.x,S.y,S.z),f.push(P/l),f.push(1-A/v),M+=1;for(var I=0;I<v;I++)for(var O=0;O<l;O++){var R=p+O+k*(I+1),L=p+(O+1)+k*(I+1),D=p+(O+1)+k*I;c.push(p+O+k*I,R,D),c.push(R,L,D),T+=6}u.addGroup(g,T,m),g+=T,p+=M}return v("z","y","x",-1,-1,a,r,i,l,s,0),v("z","y","x",1,-1,a,r,-i,l,s,1),v("x","z","y",1,1,i,a,r,o,l,2),v("x","z","y",1,-1,i,a,-r,o,l,3),v("x","y","z",1,-1,i,r,a,o,s,4),v("x","y","z",-1,-1,i,r,-a,o,s,5),t.setIndex(c),t.setAttribute("position",new Uf(h,3)),t.setAttribute("normal",new Uf(d,3)),t.setAttribute("uv",new Uf(f,2)),t}return _createClass(n,null,[{key:"fromJSON",value:function(t){return new n(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}]),n}(Yf);function gp(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];e[n][i]=r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.clone():Array.isArray(r)?r.slice():r}return e}function vp(t){for(var e={},n=0;n<t.length;n++){var i=gp(t[n]);for(var r in i)e[r]=i[r]}return e}var mp={clone:gp,merge:vp},_p=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="ShaderMaterial",i.defines={},i.uniforms={},i.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",i.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",i.linewidth=1,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.lights=!1,i.clipping=!1,i.morphTargets=!1,i.morphNormals=!1,i.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},i.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},i.index0AttributeName=void 0,i.uniformsNeedUpdate=!1,i.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),i.setValues(t)),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=gp(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);for(var i in e.glslVersion=this.glslVersion,e.uniforms={},this.uniforms){var r=this.uniforms[i].value;e.uniforms[i]=r&&r.isTexture?{type:"t",value:r.toJSON(t).uuid}:r&&r.isColor?{type:"c",value:r.getHex()}:r&&r.isVector2?{type:"v2",value:r.toArray()}:r&&r.isVector3?{type:"v3",value:r.toArray()}:r&&r.isVector4?{type:"v4",value:r.toArray()}:r&&r.isMatrix3?{type:"m3",value:r.toArray()}:r&&r.isMatrix4?{type:"m4",value:r.toArray()}:{value:r}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(e.extensions=a),e}}]),n}(Mf);_p.prototype.isShaderMaterial=!0;var yp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="Camera",t.matrixWorldInverse=new Bd,t.projectionMatrix=new Bd,t.projectionMatrixInverse=new Bd,t}return _createClass(n,[{key:"copy",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(t){this.updateWorldMatrix(!0,!1);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}},{key:"updateMatrixWorld",value:function(t){_get(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(t,e){_get(_getPrototypeOf(n.prototype),"updateWorldMatrix",this).call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(df);yp.prototype.isCamera=!0;var bp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return _classCallCheck(this,n),(t=e.call(this)).type="PerspectiveCamera",t.fov=i,t.zoom=1,t.near=a,t.far=o,t.focus=10,t.aspect=r,t.view=null,t.filmGauge=35,t.filmOffset=0,t.updateProjectionMatrix(),t}return _createClass(n,[{key:"copy",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}},{key:"setFocalLength",value:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*Wh*Math.atan(e),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var t=Math.tan(.5*Vh*this.fov);return.5*this.getFilmHeight()/t}},{key:"getEffectiveFOV",value:function(){return 2*Wh*Math.atan(Math.tan(.5*Vh*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(t,e,n,i,r,a){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=this.near,e=t*Math.tan(.5*Vh*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,s=a.fullHeight;r+=a.offsetX*i/o,e-=a.offsetY*n/s,i*=a.width/o,n*=a.height/s}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}]),n}(yp);bp.prototype.isPerspectiveCamera=!0;var xp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;if(_classCallCheck(this,n),(a=e.call(this)).type="CubeCamera",!0!==r.isWebGLCubeRenderTarget)return _possibleConstructorReturn(a,void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."));a.renderTarget=r;var o=new bp(90,1,t,i);o.layers=a.layers,o.up.set(0,-1,0),o.lookAt(new ud(1,0,0)),a.add(o);var s=new bp(90,1,t,i);s.layers=a.layers,s.up.set(0,-1,0),s.lookAt(new ud(-1,0,0)),a.add(s);var l=new bp(90,1,t,i);l.layers=a.layers,l.up.set(0,0,1),l.lookAt(new ud(0,1,0)),a.add(l);var u=new bp(90,1,t,i);u.layers=a.layers,u.up.set(0,0,-1),u.lookAt(new ud(0,-1,0)),a.add(u);var c=new bp(90,1,t,i);c.layers=a.layers,c.up.set(0,-1,0),c.lookAt(new ud(0,0,1)),a.add(c);var h=new bp(90,1,t,i);return h.layers=a.layers,h.up.set(0,-1,0),h.lookAt(new ud(0,0,-1)),a.add(h),_possibleConstructorReturn(a)}return _createClass(n,[{key:"update",value:function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,i=_slicedToArray(this.children,6),r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],u=i[5],c=t.xr.enabled,h=t.getRenderTarget();t.xr.enabled=!1;var d=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,t.setRenderTarget(n,0),t.render(e,r),t.setRenderTarget(n,1),t.render(e,a),t.setRenderTarget(n,2),t.render(e,o),t.setRenderTarget(n,3),t.render(e,s),t.setRenderTarget(n,4),t.render(e,l),n.texture.generateMipmaps=d,t.setRenderTarget(n,5),t.render(e,u),t.setRenderTarget(h),t.xr.enabled=c}}]),n}(df),wp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c,h){var d;return _classCallCheck(this,n),(d=e.call(this,t=void 0!==t?t:[],i=void 0!==i?i:301,r,a,o,s,l=void 0!==l?l:Rh,u,c,h))._needsFlipEnvMap=!0,d.flipY=!1,d}return _createClass(n,[{key:"images",get:function(){return this.image},set:function(t){this.image=t}}]),n}(id);wp.prototype.isCubeTexture=!0;var kp=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),Number.isInteger(i)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),i=r),(a=e.call(this,t,t,i)).texture=new wp(void 0,(i=i||{}).mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),a.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,a.texture.minFilter=void 0!==i.minFilter?i.minFilter:Eh,a.texture._needsFlipEnvMap=!1,a}return _createClass(n,[{key:"fromEquirectangularTexture",value:function(t,e){this.texture.type=e.type,this.texture.format=Lh,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;var n=new pp(5,5,5),i=new _p({name:"CubemapFromEquirect",uniforms:gp({tEquirect:{value:null}}),vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",side:1,blending:0});i.uniforms.tEquirect.value=e;var r=new dp(n,i),a=e.minFilter;return 1008===e.minFilter&&(e.minFilter=Eh),new xp(1,10,this).update(t,r),e.minFilter=a,r.geometry.dispose(),r.material.dispose(),this}},{key:"clear",value:function(t,e,n,i){for(var r=t.getRenderTarget(),a=0;a<6;a++)t.setRenderTarget(this,a),t.clear(e,n,i);t.setRenderTarget(r)}}]),n}(od);kp.prototype.isWebGLCubeRenderTarget=!0;var Cp=new ud,Mp=new ud,Tp=new td,Sp=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ud(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck(this,t),this.normal=e,this.constant=n}return _createClass(t,[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){var i=Cp.subVectors(n,e).cross(Mp.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}},{key:"intersectLine",value:function(t,e){var n=t.delta(Cp),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;var r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?null:e.copy(n).multiplyScalar(r).add(t.start)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||Tp.getNormalMatrix(t),i=this.coplanarPoint(Cp).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();Sp.prototype.isPlane=!0;var Ap=new Id,Ep=new ud,Pp=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Sp,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Sp,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Sp,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Sp,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Sp,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new Sp;_classCallCheck(this,t),this.planes=[e,n,i,r,a,o]}return _createClass(t,[{key:"set",value:function(t,e,n,i,r,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(i),o[4].copy(r),o[5].copy(a),this}},{key:"copy",value:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],l=n[5],u=n[6],c=n[7],h=n[8],d=n[9],f=n[10],p=n[11],g=n[12],v=n[13],m=n[14],_=n[15];return e[0].setComponents(o-i,c-s,p-h,_-g).normalize(),e[1].setComponents(o+i,c+s,p+h,_+g).normalize(),e[2].setComponents(o+r,c+l,p+d,_+v).normalize(),e[3].setComponents(o-r,c-l,p-d,_-v).normalize(),e[4].setComponents(o-a,c-u,p-f,_-m).normalize(),e[5].setComponents(o+a,c+u,p+f,_+m).normalize(),this}},{key:"intersectsObject",value:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Ap.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Ap)}},{key:"intersectsSprite",value:function(t){return Ap.center.set(0,0,0),Ap.radius=.7071067811865476,Ap.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ap)}},{key:"intersectsSphere",value:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++)if(e[r].distanceToPoint(n)<i)return!1;return!0}},{key:"intersectsBox",value:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if(Ep.x=i.normal.x>0?t.max.x:t.min.x,Ep.y=i.normal.y>0?t.max.y:t.min.y,Ep.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(Ep)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),t}();function Ip(){var t=null,e=!1,n=null,i=null;function r(e,a){n(e,a),i=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==n&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Op(t,e){var n=e.isWebGL2,i=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),i.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);var n=i.get(e);n&&(t.deleteBuffer(n.buffer),i.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){var a=i.get(e);(!a||a.version<e.version)&&i.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version})}else{e.isInterleavedBufferAttribute&&(e=e.data);var o=i.get(e);void 0===o?i.set(e,function(e,i){var r=e.array,a=e.usage,o=t.createBuffer();t.bindBuffer(i,o),t.bufferData(i,r,a),e.onUploadCallback();var s=5126;return r instanceof Float32Array?s=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?n?s=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):s=5123:r instanceof Int16Array?s=5122:r instanceof Uint32Array?s=5125:r instanceof Int32Array?s=5124:r instanceof Int8Array?s=5120:(r instanceof Uint8Array||r instanceof Uint8ClampedArray)&&(s=5121),{buffer:o,type:s,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):o.version<e.version&&(function(e,i,r){var a=i.array,o=i.updateRange;t.bindBuffer(r,e),-1===o.count?t.bufferSubData(r,0,a):(n?t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):t.bufferSubData(r,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,e,r),o.version=e.version)}}}}var Rp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;_classCallCheck(this,n),(t=e.call(this)).type="PlaneGeometry",t.parameters={width:i,height:r,widthSegments:a,heightSegments:o};for(var s=i/2,l=r/2,u=Math.floor(a),c=Math.floor(o),h=u+1,d=c+1,f=i/u,p=r/c,g=[],v=[],m=[],_=[],y=0;y<d;y++)for(var b=y*p-l,x=0;x<h;x++)v.push(x*f-s,-b,0),m.push(0,0,1),_.push(x/u),_.push(1-y/c);for(var w=0;w<c;w++)for(var k=0;k<u;k++){var C=k+h*(w+1),M=k+1+h*(w+1),T=k+1+h*w;g.push(k+h*w,C,T),g.push(C,M,T)}return t.setIndex(g),t.setAttribute("position",new Uf(v,3)),t.setAttribute("normal",new Uf(m,3)),t.setAttribute("uv",new Uf(_,2)),t}return _createClass(n,null,[{key:"fromJSON",value:function(t){return new n(t.width,t.height,t.widthSegments,t.heightSegments)}}]),n}(Yf),Lp={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotVH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSNMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition.xyz / vWorldPosition.w;\n\tvec3 v = normalize( cameraPosition - pos );\n\tfloat ior = ( 1.0 + 0.4 * reflectivity ) / ( 1.0 - 0.4 * reflectivity );\n\tvec3 transmission = transmissionFactor * getIBLVolumeRefraction(\n\t\tnormal, v, roughnessFactor, material.diffuseColor, totalSpecular,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec4 vWorldPosition;\n\tvec3 getVolumeTransmissionRay(vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix) {\n\t\tvec3 refractionVector = refract(-v, normalize(n), 1.0 / ior);\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length(vec3(modelMatrix[0].xyz));\n\t\tmodelScale.y = length(vec3(modelMatrix[1].xyz));\n\t\tmodelScale.z = length(vec3(modelMatrix[2].xyz));\n\t\treturn normalize(refractionVector) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness(float roughness, float ior) {\n\t\treturn roughness * clamp(ior * 2.0 - 2.0, 0.0, 1.0);\n\t}\n\tvec3 getTransmissionSample(vec2 fragCoord, float roughness, float ior) {\n\t\tfloat framebufferLod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness, ior);\n\t\treturn texture2DLodEXT(transmissionSamplerMap, fragCoord.xy, framebufferLod).rgb;\n\t}\n\tvec3 applyVolumeAttenuation(vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance) {\n\t\tif (attenuationDistance == 0.0) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log(attenuationColor) / attenuationDistance;\n\t\t\tvec3 transmittance = exp(-attenuationCoefficient * transmissionDistance);\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec3 getIBLVolumeRefraction(vec3 n, vec3 v, float perceptualRoughness, vec3 baseColor, vec3 specularColor,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay(n, v, thickness, ior, modelMatrix);\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4(refractedRayExit, 1.0);\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec3 transmittedLight = getTransmissionSample(refractionCoords, perceptualRoughness, ior);\n\t\tvec3 attenuatedColor = applyVolumeAttenuation(transmittedLight, length(transmissionRay), attenuationColor, attenuationDistance);\n\t\treturn (1.0 - specularColor) * attenuatedColor * baseColor;\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform vec3 attenuationColor;\n\tuniform float attenuationDistance;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <transmission_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#ifdef USE_TRANSMISSION\n\tvarying vec4 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition;\n#endif\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Dp={common:{diffuse:{value:new Of(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new td},uv2Transform:{value:new td},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new $h(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Of(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Of(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new td}},sprite:{diffuse:{value:new Of(16777215)},opacity:{value:1},center:{value:new $h(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new td}}},Np={basic:{uniforms:vp([Dp.common,Dp.specularmap,Dp.envmap,Dp.aomap,Dp.lightmap,Dp.fog]),vertexShader:Lp.meshbasic_vert,fragmentShader:Lp.meshbasic_frag},lambert:{uniforms:vp([Dp.common,Dp.specularmap,Dp.envmap,Dp.aomap,Dp.lightmap,Dp.emissivemap,Dp.fog,Dp.lights,{emissive:{value:new Of(0)}}]),vertexShader:Lp.meshlambert_vert,fragmentShader:Lp.meshlambert_frag},phong:{uniforms:vp([Dp.common,Dp.specularmap,Dp.envmap,Dp.aomap,Dp.lightmap,Dp.emissivemap,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,Dp.fog,Dp.lights,{emissive:{value:new Of(0)},specular:{value:new Of(1118481)},shininess:{value:30}}]),vertexShader:Lp.meshphong_vert,fragmentShader:Lp.meshphong_frag},standard:{uniforms:vp([Dp.common,Dp.envmap,Dp.aomap,Dp.lightmap,Dp.emissivemap,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,Dp.roughnessmap,Dp.metalnessmap,Dp.fog,Dp.lights,{emissive:{value:new Of(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lp.meshphysical_vert,fragmentShader:Lp.meshphysical_frag},toon:{uniforms:vp([Dp.common,Dp.aomap,Dp.lightmap,Dp.emissivemap,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,Dp.gradientmap,Dp.fog,Dp.lights,{emissive:{value:new Of(0)}}]),vertexShader:Lp.meshtoon_vert,fragmentShader:Lp.meshtoon_frag},matcap:{uniforms:vp([Dp.common,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,Dp.fog,{matcap:{value:null}}]),vertexShader:Lp.meshmatcap_vert,fragmentShader:Lp.meshmatcap_frag},points:{uniforms:vp([Dp.points,Dp.fog]),vertexShader:Lp.points_vert,fragmentShader:Lp.points_frag},dashed:{uniforms:vp([Dp.common,Dp.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lp.linedashed_vert,fragmentShader:Lp.linedashed_frag},depth:{uniforms:vp([Dp.common,Dp.displacementmap]),vertexShader:Lp.depth_vert,fragmentShader:Lp.depth_frag},normal:{uniforms:vp([Dp.common,Dp.bumpmap,Dp.normalmap,Dp.displacementmap,{opacity:{value:1}}]),vertexShader:Lp.normal_vert,fragmentShader:Lp.normal_frag},sprite:{uniforms:vp([Dp.sprite,Dp.fog]),vertexShader:Lp.sprite_vert,fragmentShader:Lp.sprite_frag},background:{uniforms:{uvTransform:{value:new td},t2D:{value:null}},vertexShader:Lp.background_vert,fragmentShader:Lp.background_frag},cube:{uniforms:vp([Dp.envmap,{opacity:{value:1}}]),vertexShader:Lp.cube_vert,fragmentShader:Lp.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lp.equirect_vert,fragmentShader:Lp.equirect_frag},distanceRGBA:{uniforms:vp([Dp.common,Dp.displacementmap,{referencePosition:{value:new ud},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lp.distanceRGBA_vert,fragmentShader:Lp.distanceRGBA_frag},shadow:{uniforms:vp([Dp.lights,Dp.fog,{color:{value:new Of(0)},opacity:{value:1}}]),vertexShader:Lp.shadow_vert,fragmentShader:Lp.shadow_frag}};function Zp(t,e,n,i,r){var a,o,s=new Of(0),l=0,u=null,c=0,h=null;function d(t,e){n.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return s},setClearColor:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(t),d(s,l=e)},getClearAlpha:function(){return l},setClearAlpha:function(t){d(s,l=t)},render:function(n,r){var f=!1,p=!0===r.isScene?r.background:null;p&&p.isTexture&&(p=e.get(p));var g=t.xr,v=g.getSession&&g.getSession();v&&"additive"===v.environmentBlendMode&&(p=null),null===p?d(s,l):p&&p.isColor&&(d(p,1),f=!0),(t.autoClear||f)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),p&&(p.isCubeTexture||306===p.mapping)?(void 0===o&&((o=new dp(new pp(1,1,1),new _p({name:"BackgroundCubeMaterial",uniforms:gp(Np.cube.uniforms),vertexShader:Np.cube.vertexShader,fragmentShader:Np.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(o)),o.material.uniforms.envMap.value=p,o.material.uniforms.flipEnvMap.value=p.isCubeTexture&&p._needsFlipEnvMap?-1:1,(u!==p||c!==p.version||h!==t.toneMapping)&&(o.material.needsUpdate=!0,u=p,c=p.version,h=t.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null)):p&&p.isTexture&&(void 0===a&&((a=new dp(new Rp(2,2),new _p({name:"BackgroundMaterial",uniforms:gp(Np.background.uniforms),vertexShader:Np.background.vertexShader,fragmentShader:Np.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(a)),a.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),a.material.uniforms.uvTransform.value.copy(p.matrix),(u!==p||c!==p.version||h!==t.toneMapping)&&(a.material.needsUpdate=!0,u=p,c=p.version,h=t.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Fp(t,e,n,i){var r=t.getParameter(34921),a=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==a,s={},l=d(null),u=l;function c(e){return i.isWebGL2?t.bindVertexArray(e):a.bindVertexArrayOES(e)}function h(e){return i.isWebGL2?t.deleteVertexArray(e):a.deleteVertexArrayOES(e)}function d(t){for(var e=[],n=[],i=[],a=0;a<r;a++)e[a]=0,n[a]=0,i[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:n,attributeDivisors:i,object:t,attributes:{},index:null}}function f(){for(var t=u.newAttributes,e=0,n=t.length;e<n;e++)t[e]=0}function p(t){g(t,0)}function g(n,r){var a=u.enabledAttributes,o=u.attributeDivisors;u.newAttributes[n]=1,0===a[n]&&(t.enableVertexAttribArray(n),a[n]=1),o[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),o[n]=r)}function v(){for(var e=u.newAttributes,n=u.enabledAttributes,i=0,r=n.length;i<r;i++)n[i]!==e[i]&&(t.disableVertexAttribArray(i),n[i]=0)}function m(e,n,r,a,o,s){!0!==i.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,n,r,a,o,s):t.vertexAttribIPointer(e,n,r,o,s)}function _(){y(),u!==l&&c((u=l).object)}function y(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,h,_,y){var b=!1;if(o){var x=function(e,n,r){var o=!0===r.wireframe,l=s[e.id];void 0===l&&(l={},s[e.id]=l);var u=l[n.id];void 0===u&&(u={},l[n.id]=u);var c=u[o];return void 0===c&&(c=d(i.isWebGL2?t.createVertexArray():a.createVertexArrayOES()),u[o]=c),c}(_,h,l);u!==x&&c((u=x).object),(b=function(t,e){var n=u.attributes,i=t.attributes,r=0;for(var a in i){var o=n[a],s=i[a];if(void 0===o||o.attribute!==s||o.data!==s.data)return!0;r++}return u.attributesNum!==r||u.index!==e}(_,y))&&function(t,e){var n={},i=t.attributes,r=0;for(var a in i){var o=i[a],s={};s.attribute=o,o.data&&(s.data=o.data),n[a]=s,r++}u.attributes=n,u.attributesNum=r,u.index=e}(_,y)}else{var w=!0===l.wireframe;(u.geometry!==_.id||u.program!==h.id||u.wireframe!==w)&&(u.geometry=_.id,u.program=h.id,u.wireframe=w,b=!0)}!0===r.isInstancedMesh&&(b=!0),null!==y&&n.update(y,34963),b&&(function(r,a,o,s){if(!1!==i.isWebGL2||!r.isInstancedMesh&&!s.isInstancedBufferGeometry||null!==e.get("ANGLE_instanced_arrays")){f();var l=s.attributes,u=o.getAttributes(),c=a.defaultAttributeValues;for(var h in u){var d=u[h];if(d>=0){var _=l[h];if(void 0!==_){var y=_.normalized,b=_.itemSize,x=n.get(_);if(void 0===x)continue;var w=x.buffer,k=x.type,C=x.bytesPerElement;if(_.isInterleavedBufferAttribute){var M=_.data,T=M.stride,S=_.offset;M&&M.isInstancedInterleavedBuffer?(g(d,M.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=M.meshPerAttribute*M.count)):p(d),t.bindBuffer(34962,w),m(d,b,k,y,T*C,S*C)}else _.isInstancedBufferAttribute?(g(d,_.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=_.meshPerAttribute*_.count)):p(d),t.bindBuffer(34962,w),m(d,b,k,y,0,0)}else if("instanceMatrix"===h){var A=n.get(r.instanceMatrix);if(void 0===A)continue;var E=A.buffer,P=A.type;g(d+0,1),g(d+1,1),g(d+2,1),g(d+3,1),t.bindBuffer(34962,E),t.vertexAttribPointer(d+0,4,P,!1,64,0),t.vertexAttribPointer(d+1,4,P,!1,64,16),t.vertexAttribPointer(d+2,4,P,!1,64,32),t.vertexAttribPointer(d+3,4,P,!1,64,48)}else if("instanceColor"===h){var I=n.get(r.instanceColor);if(void 0===I)continue;var O=I.buffer,R=I.type;g(d,1),t.bindBuffer(34962,O),t.vertexAttribPointer(d,3,R,!1,12,0)}else if(void 0!==c){var L=c[h];if(void 0!==L)switch(L.length){case 2:t.vertexAttrib2fv(d,L);break;case 3:t.vertexAttrib3fv(d,L);break;case 4:t.vertexAttrib4fv(d,L);break;default:t.vertexAttrib1fv(d,L)}}}}v()}}(r,l,h,_),null!==y&&t.bindBuffer(34963,n.get(y).buffer))},reset:_,resetDefaultState:y,dispose:function(){for(var t in _(),s){var e=s[t];for(var n in e){var i=e[n];for(var r in i)h(i[r].object),delete i[r];delete e[n]}delete s[t]}},releaseStatesOfGeometry:function(t){if(void 0!==s[t.id]){var e=s[t.id];for(var n in e){var i=e[n];for(var r in i)h(i[r].object),delete i[r];delete e[n]}delete s[t.id]}},releaseStatesOfProgram:function(t){for(var e in s){var n=s[e];if(void 0!==n[t.id]){var i=n[t.id];for(var r in i)h(i[r].object),delete i[r];delete n[t.id]}}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:v}}function Up(t,e,n,i){var r,a=i.isWebGL2;this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.update(i,r,1)},this.renderInstances=function(i,o,s){if(0!==s){var l,u;if(a)l=t,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(l=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[u](r,i,o,s),n.update(o,r,s)}}}function Bp(t,e,n){var i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",s=r(o);s!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",s,"instead."),o=s);var l=a||e.has("WEBGL_draw_buffers"),u=!0===n.logarithmicDepthBuffer,c=t.getParameter(34930),h=t.getParameter(35660),d=t.getParameter(3379),f=t.getParameter(34076),p=t.getParameter(34921),g=t.getParameter(36347),v=t.getParameter(36348),m=t.getParameter(36349),_=h>0,y=a||e.has("OES_texture_float");return{isWebGL2:a,drawBuffers:l,getMaxAnisotropy:function(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){var n=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:h,maxTextureSize:d,maxCubemapSize:f,maxAttributes:p,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:m,vertexTextures:_,floatFragmentTextures:y,floatVertexTextures:_&&y,maxSamples:a?t.getParameter(36183):0}}function zp(t){var e=this,n=null,i=0,r=!1,a=!1,o=new Sp,s=new td,l={value:null,needsUpdate:!1};function u(){l.value!==n&&(l.value=n,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(t,n,i,r){var a=null!==t?t.length:0,u=null;if(0!==a){if(u=l.value,!0!==r||null===u){var c=i+4*a,h=n.matrixWorldInverse;s.getNormalMatrix(h),(null===u||u.length<c)&&(u=new Float32Array(c));for(var d=0,f=i;d!==a;++d,f+=4)o.copy(t[d]).applyMatrix4(h,s),o.normal.toArray(u,f),u[f+3]=o.constant}l.value=u,l.needsUpdate=!0}return e.numPlanes=a,e.numIntersection=0,u}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,a){var o=0!==t.length||e||0!==i||r;return r=e,n=c(t,a,0),i=t.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,u()},this.setState=function(e,o,s){var h=e.clippingPlanes,d=e.clipIntersection,f=e.clipShadows,p=t.get(e);if(!r||null===h||0===h.length||a&&!f)a?c(null):u();else{var g=a?0:i,v=4*g,m=p.clippingState||null;l.value=m,m=c(h,o,v,s);for(var _=0;_!==v;++_)m[_]=n[_];p.clippingState=m,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=g}}}function qp(t){var e=new WeakMap;function n(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function i(t){var n=t.target;n.removeEventListener("dispose",i);var r=e.get(n);void 0!==r&&(e.delete(n),r.dispose())}return{get:function(r){if(r&&r.isTexture){var a=r.mapping;if(303===a||304===a){if(e.has(r))return n(e.get(r).texture,r.mapping);var o=r.image;if(o&&o.height>0){var s=t.getRenderTarget(),l=new kp(o.height/2);return l.fromEquirectangularTexture(t,r),e.set(r,l),t.setRenderTarget(s),r.addEventListener("dispose",i),n(l.texture,r.mapping)}return null}}return r},dispose:function(){e=new WeakMap}}}function Hp(t){var e={};function n(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return e[n]=i,i}return{has:function(t){return null!==n(t)},init:function(t){t.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float")},get:function(t){var e=n(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function Gp(t,e,n,i){var r={},a=new WeakMap;function o(t){var s=t.target;for(var l in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[l]);s.removeEventListener("dispose",o),delete r[s.id];var u=a.get(s);u&&(e.remove(u),a.delete(s)),i.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(t){var n=[],i=t.index,r=t.attributes.position,o=0;if(null!==i){var s=i.array;o=i.version;for(var l=0,u=s.length;l<u;l+=3){var c=s[l+0],h=s[l+1],d=s[l+2];n.push(c,h,h,d,d,c)}}else{o=r.version;for(var f=0,p=r.array.length/3-1;f<p;f+=3){var g=f+0,v=f+1,m=f+2;n.push(g,v,v,m,m,g)}}var _=new(Bf(n)>65535?Ff:Zf)(n,1);_.version=o;var y=a.get(t);y&&e.remove(y),a.set(t,_)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",o),r[e.id]=!0,n.memory.geometries++),e},update:function(t){var n=t.attributes;for(var i in n)e.update(n[i],34962);var r=t.morphAttributes;for(var a in r)for(var o=r[a],s=0,l=o.length;s<l;s++)e.update(o[s],34962)},getWireframeAttribute:function(t){var e=a.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&s(t)}else s(t);return a.get(t)}}}function Vp(t,e,n,i){var r,a,o,s=i.isWebGL2;this.setMode=function(t){r=t},this.setIndex=function(t){a=t.type,o=t.bytesPerElement},this.render=function(e,i){t.drawElements(r,i,a,e*o),n.update(i,r,1)},this.renderInstances=function(i,l,u){if(0!==u){var c,h;if(s)c=t,h="drawElementsInstanced";else if(h="drawElementsInstancedANGLE",null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[h](r,l,a,i*o,u),n.update(l,r,u)}}}function Wp(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function jp(t,e){return t[0]-e[0]}function Yp(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Qp(t){for(var e={},n=new Float32Array(8),i=[],r=0;r<8;r++)i[r]=[r,0];return{update:function(r,a,o,s){var l=r.morphTargetInfluences,u=void 0===l?0:l.length,c=e[a.id];if(void 0===c||c.length!==u){c=[];for(var h=0;h<u;h++)c[h]=[h,0];e[a.id]=c}for(var d=0;d<u;d++){var f=c[d];f[0]=d,f[1]=l[d]}c.sort(Yp);for(var p=0;p<8;p++)p<u&&c[p][1]?(i[p][0]=c[p][0],i[p][1]=c[p][1]):(i[p][0]=Number.MAX_SAFE_INTEGER,i[p][1]=0);i.sort(jp);for(var g=o.morphTargets&&a.morphAttributes.position,v=o.morphNormals&&a.morphAttributes.normal,m=0,_=0;_<8;_++){var y=i[_],b=y[0],x=y[1];b!==Number.MAX_SAFE_INTEGER&&x?(g&&a.getAttribute("morphTarget"+_)!==g[b]&&a.setAttribute("morphTarget"+_,g[b]),v&&a.getAttribute("morphNormal"+_)!==v[b]&&a.setAttribute("morphNormal"+_,v[b]),n[_]=x,m+=x):(g&&!0===a.hasAttribute("morphTarget"+_)&&a.deleteAttribute("morphTarget"+_),v&&!0===a.hasAttribute("morphNormal"+_)&&a.deleteAttribute("morphNormal"+_),n[_]=0)}var w=a.morphTargetsRelative?1:1-m;s.getUniforms().setValue(t,"morphTargetBaseInfluence",w),s.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Jp(t,e,n,i){var r=new WeakMap;function a(t){var e=t.target;e.removeEventListener("dispose",a),n.remove(e.instanceMatrix),null!==e.instanceColor&&n.remove(e.instanceColor)}return{update:function(t){var o=i.render.frame,s=e.get(t,t.geometry);return r.get(s)!==o&&(e.update(s),r.set(s,o)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",a)&&t.addEventListener("dispose",a),n.update(t.instanceMatrix,34962),null!==t.instanceColor&&n.update(t.instanceColor,34962)),s},dispose:function(){r=new WeakMap}}}Np.physical={uniforms:vp([Np.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new $h(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new Of(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new $h},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Of(0)}}]),vertexShader:Lp.meshphysical_vert,fragmentShader:Lp.meshphysical_frag};var Xp=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck(this,n),(t=e.call(this,null)).image={data:i,width:r,height:a,depth:o},t.magFilter=Ah,t.minFilter=Ah,t.wrapR=Sh,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t.needsUpdate=!0,t}return _createClass(n)}(id);Xp.prototype.isDataTexture2DArray=!0;var $p=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck(this,n),(t=e.call(this,null)).image={data:i,width:r,height:a,depth:o},t.magFilter=Ah,t.minFilter=Ah,t.wrapR=Sh,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t.needsUpdate=!0,t}return _createClass(n)}(id);$p.prototype.isDataTexture3D=!0;var Kp=new id,tg=new Xp,eg=new $p,ng=new wp,ig=[],rg=[],ag=new Float32Array(16),og=new Float32Array(9),sg=new Float32Array(4);function lg(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,a=ig[r];if(void 0===a&&(a=new Float32Array(r),ig[r]=a),0!==e){i.toArray(a,0);for(var o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function ug(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function cg(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function hg(t,e){var n=rg[e];void 0===n&&(n=new Int32Array(e),rg[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function dg(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function fg(t,e){var n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ug(n,e))return;t.uniform2fv(this.addr,e),cg(n,e)}}function pg(t,e){var n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ug(n,e))return;t.uniform3fv(this.addr,e),cg(n,e)}}function gg(t,e){var n=this.cache;if(void 0!==e.x)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ug(n,e))return;t.uniform4fv(this.addr,e),cg(n,e)}}function vg(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ug(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),cg(n,e)}else{if(ug(n,i))return;sg.set(i),t.uniformMatrix2fv(this.addr,!1,sg),cg(n,i)}}function mg(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ug(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),cg(n,e)}else{if(ug(n,i))return;og.set(i),t.uniformMatrix3fv(this.addr,!1,og),cg(n,i)}}function _g(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ug(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),cg(n,e)}else{if(ug(n,i))return;ag.set(i),t.uniformMatrix4fv(this.addr,!1,ag),cg(n,i)}}function yg(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function bg(t,e){var n=this.cache;ug(n,e)||(t.uniform2iv(this.addr,e),cg(n,e))}function xg(t,e){var n=this.cache;ug(n,e)||(t.uniform3iv(this.addr,e),cg(n,e))}function wg(t,e){var n=this.cache;ug(n,e)||(t.uniform4iv(this.addr,e),cg(n,e))}function kg(t,e){var n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Cg(t,e){var n=this.cache;ug(n,e)||(t.uniform2uiv(this.addr,e),cg(n,e))}function Mg(t,e){var n=this.cache;ug(n,e)||(t.uniform3uiv(this.addr,e),cg(n,e))}function Tg(t,e){var n=this.cache;ug(n,e)||(t.uniform4uiv(this.addr,e),cg(n,e))}function Sg(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||Kp,r)}function Ag(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||eg,r)}function Eg(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||ng,r)}function Pg(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||tg,r)}function Ig(t,e){t.uniform1fv(this.addr,e)}function Og(t,e){var n=lg(e,this.size,2);t.uniform2fv(this.addr,n)}function Rg(t,e){var n=lg(e,this.size,3);t.uniform3fv(this.addr,n)}function Lg(t,e){var n=lg(e,this.size,4);t.uniform4fv(this.addr,n)}function Dg(t,e){var n=lg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Ng(t,e){var n=lg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Zg(t,e){var n=lg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Fg(t,e){t.uniform1iv(this.addr,e)}function Ug(t,e){t.uniform2iv(this.addr,e)}function Bg(t,e){t.uniform3iv(this.addr,e)}function zg(t,e){t.uniform4iv(this.addr,e)}function qg(t,e){t.uniform1uiv(this.addr,e)}function Hg(t,e){t.uniform2uiv(this.addr,e)}function Gg(t,e){t.uniform3uiv(this.addr,e)}function Vg(t,e){t.uniform4uiv(this.addr,e)}function Wg(t,e,n){var i=e.length,r=hg(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTexture2D(e[a]||Kp,r[a])}function jg(t,e,n){var i=e.length,r=hg(n,i);t.uniform1iv(this.addr,r);for(var a=0;a!==i;++a)n.safeSetTextureCube(e[a]||ng,r[a])}function Yg(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return dg;case 35664:return fg;case 35665:return pg;case 35666:return gg;case 35674:return vg;case 35675:return mg;case 35676:return _g;case 5124:case 35670:return yg;case 35667:case 35671:return bg;case 35668:case 35672:return xg;case 35669:case 35673:return wg;case 5125:return kg;case 36294:return Cg;case 36295:return Mg;case 36296:return Tg;case 35678:case 36198:case 36298:case 36306:case 35682:return Sg;case 35679:case 36299:case 36307:return Ag;case 35680:case 36300:case 36308:case 36293:return Eg;case 36289:case 36303:case 36311:case 36292:return Pg}}(e.type)}function Qg(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Ig;case 35664:return Og;case 35665:return Rg;case 35666:return Lg;case 35674:return Dg;case 35675:return Ng;case 35676:return Zg;case 5124:case 35670:return Fg;case 35667:case 35671:return Ug;case 35668:case 35672:return Bg;case 35669:case 35673:return zg;case 5125:return qg;case 36294:return Hg;case 36295:return Gg;case 36296:return Vg;case 35678:case 36198:case 36298:case 36306:case 35682:return Wg;case 35680:case 36300:case 36308:case 36293:return jg}}(e.type)}function Jg(t){this.id=t,this.seq=[],this.map={}}Qg.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),cg(e,t)},Jg.prototype.setValue=function(t,e,n){for(var i=this.seq,r=0,a=i.length;r!==a;++r){var o=i[r];o.setValue(t,e[o.id],n)}};var Xg=/(\w+)(\])?(\[|\.)?/g;function $g(t,e){t.seq.push(e),t.map[e.id]=e}function Kg(t,e,n){var i=t.name,r=i.length;for(Xg.lastIndex=0;;){var a=Xg.exec(i),o=Xg.lastIndex,s=a[1],l=a[3];if("]"===a[2]&&(s|=0),void 0===l||"["===l&&o+2===r){$g(n,void 0===l?new Yg(s,t,e):new Qg(s,t,e));break}var u=n.map[s];void 0===u&&$g(n,u=new Jg(s)),n=u}}function tv(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),i=0;i<n;++i){var r=t.getActiveUniform(e,i);Kg(r,t.getUniformLocation(e,r.name),this)}}function ev(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}tv.prototype.setValue=function(t,e,n,i){var r=this.map[e];void 0!==r&&r.setValue(t,n,i)},tv.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},tv.upload=function(t,e,n,i){for(var r=0,a=e.length;r!==a;++r){var o=e[r],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,i)}},tv.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var a=t[i];a.id in e&&n.push(a)}return n};var nv=0;function iv(t){switch(t){case Uh:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function rv(t,e,n){var i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function av(t,e){var n=iv(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function ov(t,e){var n=iv(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function sv(t,e){var n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function lv(t){return""!==t}function uv(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function cv(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var hv=/^[ \t]*#include +<([\w\d./]+)>/gm;function dv(t){return t.replace(hv,fv)}function fv(t,e){var n=Lp[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return dv(n)}var pv=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,gv=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function vv(t){return t.replace(gv,_v).replace(pv,mv)}function mv(t,e,n,i){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),_v(0,e,n,i)}function _v(t,e,n,i){for(var r="",a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function yv(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function bv(t,e,n,i){var r,a,o=t.getContext(),s=n.defines,l=n.vertexShader,u=n.fragmentShader,c=function(t){var e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(n),h=function(t){var e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(n),d=function(t){var e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(n),f=function(t){var e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(n),p=t.gammaFactor>0?t.gammaFactor:1,g=n.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission>0)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(lv).join("\n")}(n),v=function(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(s),m=o.createProgram(),_=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((r=[v].filter(lv).join("\n")).length>0&&(r+="\n"),(a=[g,v].filter(lv).join("\n")).length>0&&(a+="\n")):(r=[yv(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+p,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(lv).join("\n"),a=[g,yv(n),"#define SHADER_NAME "+n.shaderName,v,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Lp.tonemapping_pars_fragment:"",0!==n.toneMapping?sv("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Lp.encodings_pars_fragment,n.map?av("mapTexelToLinear",n.mapEncoding):"",n.matcap?av("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?av("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?av("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?av("lightMapTexelToLinear",n.lightMapEncoding):"",ov("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(lv).join("\n")),l=cv(l=uv(l=dv(l),n),n),u=cv(u=uv(u=dv(u),n),n),l=vv(l),u=vv(u),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(_="#version 300 es\n",r=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+r,a=["#define varying in","300 es"===n.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var y,b,x=_+a+u,w=ev(o,35633,_+r+l),k=ev(o,35632,x);if(o.attachShader(m,w),o.attachShader(m,k),void 0!==n.index0AttributeName?o.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(m,0,"position"),o.linkProgram(m),t.debug.checkShaderErrors){var C=o.getProgramInfoLog(m).trim(),M=o.getShaderInfoLog(w).trim(),T=o.getShaderInfoLog(k).trim(),S=!0,A=!0;if(!1===o.getProgramParameter(m,35714)){S=!1;var E=rv(o,w,"vertex"),P=rv(o,k,"fragment");console.error("THREE.WebGLProgram: shader error: ",o.getError(),"35715",o.getProgramParameter(m,35715),"gl.getProgramInfoLog",C,E,P)}else""!==C?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",C):(""===M||""===T)&&(A=!1);A&&(this.diagnostics={runnable:S,programLog:C,vertexShader:{log:M,prefix:r},fragmentShader:{log:T,prefix:a}})}return o.deleteShader(w),o.deleteShader(k),this.getUniforms=function(){return void 0===y&&(y=new tv(o,m)),y},this.getAttributes=function(){return void 0===b&&(b=function(t,e){for(var n={},i=t.getProgramParameter(e,35721),r=0;r<i;r++){var a=t.getActiveAttrib(e,r).name;n[a]=t.getAttribLocation(e,a)}return n}(o,m)),b},this.destroy=function(){i.releaseStatesOfProgram(this),o.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=nv++,this.cacheKey=e,this.usedTimes=1,this.program=m,this.vertexShader=w,this.fragmentShader=k,this}function xv(t,e,n,i,r,a){var o=[],s=i.isWebGL2,l=i.logarithmicDepthBuffer,u=i.floatVertexTextures,c=i.maxVertexUniforms,h=i.vertexTextures,d=i.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmission","transmissionMap","thicknessMap"];function g(t){var e;return t&&t.isTexture?e=t.encoding:t&&t.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=Uh,e}return{getParameters:function(r,o,p,v,m){var _,y,b=v.fog,x=e.get(r.envMap||(r.isMeshStandardMaterial?v.environment:null)),w=f[r.type],k=m.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(u)return 1024;var n=Math.floor((c-20)/4),i=Math.min(n,e.length);return i<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+i+"."),0):i}(m):0;if(null!==r.precision&&((d=i.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead.")),w){var C=Np[w];_=C.vertexShader,y=C.fragmentShader}else _=r.vertexShader,y=r.fragmentShader;var M=t.getRenderTarget();return{isWebGL2:s,shaderID:w,shaderName:r.type,vertexShader:_,fragmentShader:y,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===m.isInstancedMesh,instancingColor:!0===m.isInstancedMesh&&null!==m.instanceColor,supportsVertexTextures:h,outputEncoding:null!==M?g(M.texture):t.outputEncoding,map:!!r.map,mapEncoding:g(r.map),matcap:!!r.matcap,matcapEncoding:g(r.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:g(x),envMapCubeUV:!!x&&(306===x.mapping||307===x.mapping),lightMap:!!r.lightMap,lightMapEncoding:g(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:g(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmission:!!r.transmission,transmissionMap:!!r.transmissionMap,thicknessMap:!!r.thicknessMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexAlphas:!0===r.vertexColors&&m.geometry&&m.geometry.attributes.color&&4===m.geometry.attributes.color.itemSize,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap||r.thicknessMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmission||r.transmissionMap||r.thicknessMap||!r.displacementMap),fog:!!b,useFog:r.fog,fogExp2:b&&b.isFogExp2,flatShading:!!r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:l,skinning:!0===m.isSkinnedMesh&&k>0,maxBones:k,useVertexTexture:u,morphTargets:r.morphTargets,morphNormals:r.morphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&p.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(e.fragmentShader),n.push(e.vertexShader)),void 0!==e.defines)for(var i in e.defines)n.push(i),n.push(e.defines[i]);if(!1===e.isRawShaderMaterial){for(var r=0;r<p.length;r++)n.push(e[p[r]]);n.push(t.outputEncoding),n.push(t.gammaFactor)}return n.push(e.customProgramCacheKey),n.join()},getUniforms:function(t){var e=f[t.type];return e?mp.clone(Np[e].uniforms):t.uniforms},acquireProgram:function(e,n){for(var i,a=0,s=o.length;a<s;a++){var l=o[a];if(l.cacheKey===n){++(i=l).usedTimes;break}}return void 0===i&&(i=new bv(t,n,e,r),o.push(i)),i},releaseProgram:function(t){if(0==--t.usedTimes){var e=o.indexOf(t);o[e]=o[o.length-1],o.pop(),t.destroy()}},programs:o}}function wv(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function kv(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Cv(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Mv(t){var e=[],n=0,i=[],r=[],a=[],o={id:-1};function s(i,r,a,s,l,u){var c=e[n],h=t.get(a);return void 0===c?(c={id:i.id,object:i,geometry:r,material:a,program:h.program||o,groupOrder:s,renderOrder:i.renderOrder,z:l,group:u},e[n]=c):(c.id=i.id,c.object=i,c.geometry=r,c.material=a,c.program=h.program||o,c.groupOrder=s,c.renderOrder=i.renderOrder,c.z=l,c.group=u),n++,c}return{opaque:i,transmissive:r,transparent:a,init:function(){n=0,i.length=0,r.length=0,a.length=0},push:function(t,e,n,o,l,u){var c=s(t,e,n,o,l,u);n.transmission>0?r.push(c):!0===n.transparent?a.push(c):i.push(c)},unshift:function(t,e,n,o,l,u){var c=s(t,e,n,o,l,u);n.transmission>0?r.unshift(c):!0===n.transparent?a.unshift(c):i.unshift(c)},finish:function(){for(var t=n,i=e.length;t<i;t++){var r=e[t];if(null===r.id)break;r.id=null,r.object=null,r.geometry=null,r.material=null,r.program=null,r.group=null}},sort:function(t,e){i.length>1&&i.sort(t||kv),r.length>1&&r.sort(e||Cv),a.length>1&&a.sort(e||Cv)}}}function Tv(t){var e=new WeakMap;return{get:function(n,i){var r;return!1===e.has(n)?(r=new Mv(t),e.set(n,[r])):i>=e.get(n).length?(r=new Mv(t),e.get(n).push(r)):r=e.get(n)[i],r},dispose:function(){e=new WeakMap}}}function Sv(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new ud,color:new Of};break;case"SpotLight":n={position:new ud,direction:new ud,color:new Of,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ud,color:new Of,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ud,skyColor:new Of,groundColor:new Of};break;case"RectAreaLight":n={color:new Of,position:new ud,halfWidth:new ud,halfHeight:new ud}}return t[e.id]=n,n}}}var Av=0;function Ev(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function Pv(t,e){for(var n=new Sv,i=function(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $h};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $h,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=n,n}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;a<9;a++)r.probe.push(new ud);var o=new ud,s=new Bd,l=new Bd;return{setup:function(a){for(var o=0,s=0,l=0,u=0;u<9;u++)r.probe[u].set(0,0,0);var c=0,h=0,d=0,f=0,p=0,g=0,v=0,m=0;a.sort(Ev);for(var _=0,y=a.length;_<y;_++){var b=a[_],x=b.color,w=b.intensity,k=b.distance,C=b.shadow&&b.shadow.map?b.shadow.map.texture:null;if(b.isAmbientLight)o+=x.r*w,s+=x.g*w,l+=x.b*w;else if(b.isLightProbe)for(var M=0;M<9;M++)r.probe[M].addScaledVector(b.sh.coefficients[M],w);else if(b.isDirectionalLight){var T=n.get(b);if(T.color.copy(b.color).multiplyScalar(b.intensity),b.castShadow){var S=b.shadow,A=i.get(b);A.shadowBias=S.bias,A.shadowNormalBias=S.normalBias,A.shadowRadius=S.radius,A.shadowMapSize=S.mapSize,r.directionalShadow[c]=A,r.directionalShadowMap[c]=C,r.directionalShadowMatrix[c]=b.shadow.matrix,g++}r.directional[c]=T,c++}else if(b.isSpotLight){var E=n.get(b);if(E.position.setFromMatrixPosition(b.matrixWorld),E.color.copy(x).multiplyScalar(w),E.distance=k,E.coneCos=Math.cos(b.angle),E.penumbraCos=Math.cos(b.angle*(1-b.penumbra)),E.decay=b.decay,b.castShadow){var P=b.shadow,I=i.get(b);I.shadowBias=P.bias,I.shadowNormalBias=P.normalBias,I.shadowRadius=P.radius,I.shadowMapSize=P.mapSize,r.spotShadow[d]=I,r.spotShadowMap[d]=C,r.spotShadowMatrix[d]=b.shadow.matrix,m++}r.spot[d]=E,d++}else if(b.isRectAreaLight){var O=n.get(b);O.color.copy(x).multiplyScalar(w),O.halfWidth.set(.5*b.width,0,0),O.halfHeight.set(0,.5*b.height,0),r.rectArea[f]=O,f++}else if(b.isPointLight){var R=n.get(b);if(R.color.copy(b.color).multiplyScalar(b.intensity),R.distance=b.distance,R.decay=b.decay,b.castShadow){var L=b.shadow,D=i.get(b);D.shadowBias=L.bias,D.shadowNormalBias=L.normalBias,D.shadowRadius=L.radius,D.shadowMapSize=L.mapSize,D.shadowCameraNear=L.camera.near,D.shadowCameraFar=L.camera.far,r.pointShadow[h]=D,r.pointShadowMap[h]=C,r.pointShadowMatrix[h]=b.shadow.matrix,v++}r.point[h]=R,h++}else if(b.isHemisphereLight){var N=n.get(b);N.skyColor.copy(b.color).multiplyScalar(w),N.groundColor.copy(b.groundColor).multiplyScalar(w),r.hemi[p]=N,p++}}f>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=Dp.LTC_FLOAT_1,r.rectAreaLTC2=Dp.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Dp.LTC_HALF_1,r.rectAreaLTC2=Dp.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=o,r.ambient[1]=s,r.ambient[2]=l;var Z=r.hash;(Z.directionalLength!==c||Z.pointLength!==h||Z.spotLength!==d||Z.rectAreaLength!==f||Z.hemiLength!==p||Z.numDirectionalShadows!==g||Z.numPointShadows!==v||Z.numSpotShadows!==m)&&(r.directional.length=c,r.spot.length=d,r.rectArea.length=f,r.point.length=h,r.hemi.length=p,r.directionalShadow.length=g,r.directionalShadowMap.length=g,r.pointShadow.length=v,r.pointShadowMap.length=v,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=g,r.pointShadowMatrix.length=v,r.spotShadowMatrix.length=m,Z.directionalLength=c,Z.pointLength=h,Z.spotLength=d,Z.rectAreaLength=f,Z.hemiLength=p,Z.numDirectionalShadows=g,Z.numPointShadows=v,Z.numSpotShadows=m,r.version=Av++)},setupView:function(t,e){for(var n=0,i=0,a=0,u=0,c=0,h=e.matrixWorldInverse,d=0,f=t.length;d<f;d++){var p=t[d];if(p.isDirectionalLight){var g=r.directional[n];g.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),g.direction.sub(o),g.direction.transformDirection(h),n++}else if(p.isSpotLight){var v=r.spot[a];v.position.setFromMatrixPosition(p.matrixWorld),v.position.applyMatrix4(h),v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(h),a++}else if(p.isRectAreaLight){var m=r.rectArea[u];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(h),l.identity(),s.copy(p.matrixWorld),s.premultiply(h),l.extractRotation(s),m.halfWidth.set(.5*p.width,0,0),m.halfHeight.set(0,.5*p.height,0),m.halfWidth.applyMatrix4(l),m.halfHeight.applyMatrix4(l),u++}else if(p.isPointLight){var _=r.point[i];_.position.setFromMatrixPosition(p.matrixWorld),_.position.applyMatrix4(h),i++}else if(p.isHemisphereLight){var y=r.hemi[c];y.direction.setFromMatrixPosition(p.matrixWorld),y.direction.transformDirection(h),y.direction.normalize(),c++}}},state:r}}function Iv(t,e){var n=new Pv(t,e),i=[],r=[];return{init:function(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:function(){n.setup(i)},setupLightsView:function(t){n.setupView(i,t)},pushLight:function(t){i.push(t)},pushShadow:function(t){r.push(t)}}}function Ov(t,e){var n=new WeakMap;return{get:function(i){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(i)?(r=new Iv(t,e),n.set(i,[r])):a>=n.get(i).length?(r=new Iv(t,e),n.get(i).push(r)):r=n.get(i)[a],r},dispose:function(){n=new WeakMap}}}var Rv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshDepthMaterial",i.depthPacking=3200,i.morphTargets=!1,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.depthPacking=t.depthPacking,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}]),n}(Mf);Rv.prototype.isMeshDepthMaterial=!0;var Lv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshDistanceMaterial",i.referencePosition=new ud,i.nearDistance=1,i.farDistance=1e3,i.morphTargets=!1,i.map=null,i.alphaMap=null,i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.fog=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}]),n}(Mf);function Dv(t,e,n){var i=new Pp,r=new $h,a=new $h,o=new ad,s=[],l=[],u={},c=n.maxTextureSize,h={0:1,1:0,2:2},d=new _p({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new $h},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=d.clone();f.defines.HORIZONTAL_PASS=1;var p=new Yf;p.setAttribute("position",new Nf(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var g=new dp(p,d),v=this;function m(n,i){var r=e.update(g);d.uniforms.shadow_pass.value=n.map.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,d,g,null),f.uniforms.shadow_pass.value=n.mapPass.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,f,g,null)}function _(t){var e=t<<0,n=s[e];return void 0===n&&(n=new Rv({depthPacking:3201,morphTargets:t}),s[e]=n),n}function y(t){var e=t<<0,n=l[e];return void 0===n&&(n=new Lv({morphTargets:t}),l[e]=n),n}function b(e,n,i,r,a,o,s){var l=null,c=_,d=e.customDepthMaterial;if(!0===r.isPointLight&&(c=y,d=e.customDistanceMaterial),void 0===d){var f=!1;!0===i.morphTargets&&(f=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0),l=c(f)}else l=d;if(t.localClippingEnabled&&!0===i.clipShadows&&0!==i.clippingPlanes.length){var p=l.uuid,g=i.uuid,v=u[p];void 0===v&&(v={},u[p]=v);var m=v[g];void 0===m&&(m=l.clone(),v[g]=m),l=m}return l.visible=i.visible,l.wireframe=i.wireframe,l.side=3===s?null!==i.shadowSide?i.shadowSide:i.side:null!==i.shadowSide?i.shadowSide:h[i.side],l.clipShadows=i.clipShadows,l.clippingPlanes=i.clippingPlanes,l.clipIntersection=i.clipIntersection,l.wireframeLinewidth=i.wireframeLinewidth,l.linewidth=i.linewidth,!0===r.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(r.matrixWorld),l.nearDistance=a,l.farDistance=o),l}function x(n,r,a,o,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var l=e.update(n),u=n.material;if(Array.isArray(u))for(var c=l.groups,h=0,d=c.length;h<d;h++){var f=c[h],p=u[f.materialIndex];if(p&&p.visible){var g=b(n,l,p,o,a.near,a.far,s);t.renderBufferDirect(a,null,l,g,n,f)}}else if(u.visible){var v=b(n,l,u,o,a.near,a.far,s);t.renderBufferDirect(a,null,l,v,n,null)}}for(var m=n.children,_=0,y=m.length;_<y;_++)x(m[_],r,a,o,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,n,s){if(!1!==v.enabled&&(!1!==v.autoUpdate||!1!==v.needsUpdate)&&0!==e.length){var l=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,p=e.length;f<p;f++){var g=e[f],_=g.shadow;if(void 0!==_){if(!1!==_.autoUpdate||!1!==_.needsUpdate){r.copy(_.mapSize);var y=_.getFrameExtents();if(r.multiply(y),a.copy(_.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(a.x=Math.floor(c/y.x),r.x=a.x*y.x,_.mapSize.x=a.x),r.y>c&&(a.y=Math.floor(c/y.y),r.y=a.y*y.y,_.mapSize.y=a.y)),null===_.map&&!_.isPointLightShadow&&3===this.type){var b={minFilter:Eh,magFilter:Eh,format:Lh};_.map=new od(r.x,r.y,b),_.map.texture.name=g.name+".shadowMap",_.mapPass=new od(r.x,r.y,b),_.camera.updateProjectionMatrix()}null===_.map&&(_.map=new od(r.x,r.y,{minFilter:Ah,magFilter:Ah,format:Lh}),_.map.texture.name=g.name+".shadowMap",_.camera.updateProjectionMatrix()),t.setRenderTarget(_.map),t.clear();for(var w=_.getViewportCount(),k=0;k<w;k++){var C=_.getViewport(k);o.set(a.x*C.x,a.y*C.y,a.x*C.z,a.y*C.w),d.viewport(o),_.updateMatrices(g,k),i=_.getFrustum(),x(n,s,_.camera,g,this.type)}!_.isPointLightShadow&&3===this.type&&m(_,s),_.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",g,"has no shadow.")}v.needsUpdate=!1,t.setRenderTarget(l,u,h)}}}function Nv(t,e,n){var i=n.isWebGL2,r=new function(){var e=!1,n=new ad,i=null,r=new ad(0,0,0,0);return{setMask:function(n){i!==n&&!e&&(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,a,o,s){!0===s&&(e*=o,i*=o,a*=o),n.set(e,i,a,o),!1===r.equals(n)&&(t.clearColor(e,i,a,o),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},a=new function(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){t?Z(2929):F(2929)},setMask:function(i){n!==i&&!e&&(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},o=new function(){var e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null;return{setTest:function(t){e||(t?Z(2960):F(2960))},setMask:function(i){n!==i&&!e&&(t.stencilMask(i),n=i)},setFunc:function(e,n,o){(i!==e||r!==n||a!==o)&&(t.stencilFunc(e,n,o),i=e,r=n,a=o)},setOp:function(e,n,i){(o!==e||s!==n||l!==i)&&(t.stencilOp(e,n,i),o=e,s=n,l=i)},setLocked:function(t){e=t},setClear:function(e){u!==e&&(t.clearStencil(e),u=e)},reset:function(){e=!1,n=null,i=null,r=null,a=null,o=null,s=null,l=null,u=null}}},s={},l=null,u={},c=null,h=!1,d=null,f=null,p=null,g=null,v=null,m=null,_=null,y=!1,b=null,x=null,w=null,k=null,C=null,M=t.getParameter(35661),T=!1,S=0,A=t.getParameter(7938);-1!==A.indexOf("WebGL")?(S=parseFloat(/^WebGL (\d)/.exec(A)[1]),T=S>=1):-1!==A.indexOf("OpenGL ES")&&(S=parseFloat(/^OpenGL ES (\d)/.exec(A)[1]),T=S>=2);var E=null,P={},I=t.getParameter(3088),O=t.getParameter(2978),R=(new ad).fromArray(I),L=(new ad).fromArray(O);function D(e,n,i){var r=new Uint8Array(4),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var o=0;o<i;o++)t.texImage2D(n+o,0,6408,1,1,0,6408,5121,r);return a}var N={};function Z(e){!0!==s[e]&&(t.enable(e),s[e]=!0)}function F(e){!1!==s[e]&&(t.disable(e),s[e]=!1)}N[3553]=D(3553,3553,1),N[34067]=D(34067,34069,6),r.setClear(0,0,0,1),a.setClear(1),o.setClear(0),Z(2929),a.setFunc(3),H(!1),G(1),Z(2884),q(0);var U={100:32774,101:32778,102:32779};if(i)U[103]=32775,U[104]=32776;else{var B=e.get("EXT_blend_minmax");null!==B&&(U[103]=B.MIN_EXT,U[104]=B.MAX_EXT)}var z={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function q(e,n,i,r,a,o,s,l){if(0!==e){if(!1===h&&(Z(3042),h=!0),5===e)a=a||n,o=o||i,s=s||r,(n!==f||a!==v)&&(t.blendEquationSeparate(U[n],U[a]),f=n,v=a),(i!==p||r!==g||o!==m||s!==_)&&(t.blendFuncSeparate(z[i],z[r],z[o],z[s]),p=i,g=r,m=o,_=s),d=e,y=null;else if(e!==d||l!==y){if((100!==f||100!==v)&&(t.blendEquation(32774),f=100,v=100),l)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}p=null,g=null,m=null,_=null,d=e,y=l}}else!0===h&&(F(3042),h=!1)}function H(e){b!==e&&(t.frontFace(e?2304:2305),b=e)}function G(e){0!==e?(Z(2884),e!==x&&t.cullFace(1===e?1029:2===e?1028:1032)):F(2884),x=e}function V(e,n,i){e?(Z(32823),(k!==n||C!==i)&&(t.polygonOffset(n,i),k=n,C=i)):F(32823)}function W(e){void 0===e&&(e=33984+M-1),E!==e&&(t.activeTexture(e),E=e)}return{buffers:{color:r,depth:a,stencil:o},enable:Z,disable:F,bindFramebuffer:function(e,n){return null===n&&null!==l&&(n=l),u[e]!==n&&(t.bindFramebuffer(e,n),u[e]=n,i&&(36009===e&&(u[36160]=n),36160===e&&(u[36009]=n)),!0)},bindXRFramebuffer:function(e){e!==l&&(t.bindFramebuffer(36160,e),l=e)},useProgram:function(e){return c!==e&&(t.useProgram(e),c=e,!0)},setBlending:q,setMaterial:function(t,e){2===t.side?F(2884):Z(2884);var n=1===t.side;e&&(n=!n),H(n),1===t.blending&&!1===t.transparent?q(0):q(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),a.setFunc(t.depthFunc),a.setTest(t.depthTest),a.setMask(t.depthWrite),r.setMask(t.colorWrite);var i=t.stencilWrite;o.setTest(i),i&&(o.setMask(t.stencilWriteMask),o.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),o.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),V(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits),!0===t.alphaToCoverage?Z(32926):F(32926)},setFlipSided:H,setCullFace:G,setLineWidth:function(e){e!==w&&(T&&t.lineWidth(e),w=e)},setPolygonOffset:V,setScissorTest:function(t){t?Z(3089):F(3089)},activeTexture:W,bindTexture:function(e,n){null===E&&W();var i=P[E];void 0===i&&(i={type:void 0,texture:void 0},P[E]=i),(i.type!==e||i.texture!==n)&&(t.bindTexture(e,n||N[e]),i.type=e,i.texture=n)},unbindTexture:function(){var e=P[E];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(B){console.error("THREE.WebGLState:",B)}},scissor:function(e){!1===R.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),R.copy(e))},viewport:function(e){!1===L.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),L.copy(e))},reset:function(){t.disable(3042),t.disable(2884),t.disable(2929),t.disable(32823),t.disable(3089),t.disable(2960),t.disable(32926),t.blendEquation(32774),t.blendFunc(1,0),t.blendFuncSeparate(1,0,1,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(513),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(519,0,4294967295),t.stencilOp(7680,7680,7680),t.clearStencil(0),t.cullFace(1029),t.frontFace(2305),t.polygonOffset(0,0),t.activeTexture(33984),t.bindFramebuffer(36160,null),!0===i&&(t.bindFramebuffer(36009,null),t.bindFramebuffer(36008,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),s={},E=null,P={},l=null,u={},c=null,h=!1,d=null,f=null,p=null,g=null,v=null,m=null,_=null,y=!1,b=null,x=null,w=null,k=null,C=null,R.set(0,0,t.canvas.width,t.canvas.height),L.set(0,0,t.canvas.width,t.canvas.height),r.reset(),a.reset(),o.reset()}}}function Zv(t,e,n,i,r,a,o){var s,l,u,c=r.isWebGL2,h=r.maxTextures,d=r.maxCubemapSize,f=r.maxTextureSize,p=r.maxSamples,g=new WeakMap,v=!1;try{v="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(U){}function m(t,e){return v?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function _(t,e,n,i){var r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var a=e?Xh:Math.floor,o=a(r*t.width),s=a(r*t.height);void 0===u&&(u=m(o,s));var l=n?m(o,s):u;return l.width=o,l.height=s,l.getContext("2d").drawImage(t,0,0,o,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+o+"x"+s+")."),l}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function y(t){return Jh(t.width)&&Jh(t.height)}function b(t,e){return t.generateMipmaps&&e&&t.minFilter!==Ah&&t.minFilter!==Eh}function x(e,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log2(Math.max(r,a,o))}function w(n,i,r){if(!1===c)return i;if(null!==n){if(void 0!==t[n])return t[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var a=i;return 6403===i&&(5126===r&&(a=33326),5131===r&&(a=33325),5121===r&&(a=33321)),6407===i&&(5126===r&&(a=34837),5131===r&&(a=34843),5121===r&&(a=32849)),6408===i&&(5126===r&&(a=34836),5131===r&&(a=34842),5121===r&&(a=32856)),(33325===a||33326===a||34842===a||34836===a)&&e.get("EXT_color_buffer_float"),a}function k(t){return t===Ah||1004===t||1005===t?9728:9729}function C(e){var n=e.target;n.removeEventListener("dispose",C),function(e){var n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&g.delete(n),o.memory.textures--}function M(e){var n=e.target;n.removeEventListener("dispose",M),function(e){var n=e.texture,r=i.get(e),a=i.get(n);if(e){if(void 0!==a.__webglTexture&&(t.deleteTexture(a.__webglTexture),o.memory.textures--),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(var s=0;s<6;s++)t.deleteFramebuffer(r.__webglFramebuffer[s]),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer[s]);else t.deleteFramebuffer(r.__webglFramebuffer),r.__webglDepthbuffer&&t.deleteRenderbuffer(r.__webglDepthbuffer),r.__webglMultisampledFramebuffer&&t.deleteFramebuffer(r.__webglMultisampledFramebuffer),r.__webglColorRenderbuffer&&t.deleteRenderbuffer(r.__webglColorRenderbuffer),r.__webglDepthRenderbuffer&&t.deleteRenderbuffer(r.__webglDepthRenderbuffer);if(e.isWebGLMultipleRenderTargets)for(var l=0,u=n.length;l<u;l++){var c=i.get(n[l]);c.__webglTexture&&(t.deleteTexture(c.__webglTexture),o.memory.textures--),i.remove(n[l])}i.remove(n),i.remove(e)}}(n)}var T=0;function S(t,e){var r=i.get(t);if(t.isVideoTexture&&function(t){var e=o.render.frame;g.get(t)!==e&&(g.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){var a=t.image;if(void 0===a)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==a.complete)return void R(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function A(e,r){var o=i.get(e);e.version>0&&o.__version!==e.version?function(e,i,r){if(6===i.image.length){O(e,i),n.activeTexture(33984+r),n.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);for(var o=i&&(i.isCompressedTexture||i.image[0].isCompressedTexture),s=i.image[0]&&i.image[0].isDataTexture,l=[],u=0;u<6;u++)l[u]=o||s?s?i.image[u].image:i.image[u]:_(i.image[u],!1,!0,d);var h,f=l[0],p=y(f)||c,g=a.convert(i.format),v=a.convert(i.type),m=w(i.internalFormat,g,v);if(I(34067,i,p),o){for(var k=0;k<6;k++){h=l[k].mipmaps;for(var C=0;C<h.length;C++){var M=h[C];i.format!==Lh&&i.format!==Rh?null!==g?n.compressedTexImage2D(34069+k,C,m,M.width,M.height,0,M.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+k,C,m,M.width,M.height,0,g,v,M.data)}}e.__maxMipLevel=h.length-1}else{h=i.mipmaps;for(var T=0;T<6;T++)if(s){n.texImage2D(34069+T,0,m,l[T].width,l[T].height,0,g,v,l[T].data);for(var S=0;S<h.length;S++){var A=h[S].image[T].image;n.texImage2D(34069+T,S+1,m,A.width,A.height,0,g,v,A.data)}}else{n.texImage2D(34069+T,0,m,g,v,l[T]);for(var E=0;E<h.length;E++)n.texImage2D(34069+T,E+1,m,g,v,h[E].image[T])}e.__maxMipLevel=h.length}b(i,p)&&x(34067,i,f.width,f.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}}(o,e,r):(n.activeTexture(33984+r),n.bindTexture(34067,o.__webglTexture))}var E=(_defineProperty(s={1e3:10497},Sh,33071),_defineProperty(s,1002,33648),s),P=(_defineProperty(l={},Ah,9728),_defineProperty(l,1004,9984),_defineProperty(l,1005,9986),_defineProperty(l,Eh,9729),_defineProperty(l,1007,9985),_defineProperty(l,1008,9987),l);function I(n,a,o){if(o?(t.texParameteri(n,10242,E[a.wrapS]),t.texParameteri(n,10243,E[a.wrapT]),(32879===n||35866===n)&&t.texParameteri(n,32882,E[a.wrapR]),t.texParameteri(n,10240,P[a.magFilter]),t.texParameteri(n,10241,P[a.minFilter])):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),(32879===n||35866===n)&&t.texParameteri(n,32882,33071),(a.wrapS!==Sh||a.wrapT!==Sh)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,k(a.magFilter)),t.texParameteri(n,10241,k(a.minFilter)),a.minFilter!==Ah&&a.minFilter!==Eh&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===e.has("EXT_texture_filter_anisotropic")){var s=e.get("EXT_texture_filter_anisotropic");if(a.type===Ph&&!1===e.has("OES_texture_float_linear")||!1===c&&a.type===Ih&&!1===e.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(t.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function O(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",C),e.__webglTexture=t.createTexture(),o.memory.textures++)}function R(e,i,r){var o=3553;i.isDataTexture2DArray&&(o=35866),i.isDataTexture3D&&(o=32879),O(e,i),n.activeTexture(33984+r),n.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment),t.pixelStorei(37443,0);var s,l=function(t){return!c&&(t.wrapS!==Sh||t.wrapT!==Sh||t.minFilter!==Ah&&t.minFilter!==Eh)}(i)&&!1===y(i.image),u=_(i.image,l,!1,f),h=y(u)||c,d=a.convert(i.format),p=a.convert(i.type),g=w(i.internalFormat,d,p);I(o,i,h);var v=i.mipmaps;if(i.isDepthTexture)g=6402,c?g=i.type===Ph?36012:1014===i.type?33190:i.type===Oh?35056:33189:i.type===Ph&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),i.format===Dh&&6402===g&&1012!==i.type&&1014!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=1012,p=a.convert(i.type)),i.format===Nh&&6402===g&&(g=34041,i.type!==Oh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=Oh,p=a.convert(i.type))),n.texImage2D(3553,0,g,u.width,u.height,0,d,p,null);else if(i.isDataTexture)if(v.length>0&&h){for(var m=0,k=v.length;m<k;m++)s=v[m],n.texImage2D(3553,m,g,s.width,s.height,0,d,p,s.data);i.generateMipmaps=!1,e.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,g,u.width,u.height,0,d,p,u.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(var C=0,M=v.length;C<M;C++)s=v[C],i.format!==Lh&&i.format!==Rh?null!==d?n.compressedTexImage2D(3553,C,g,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,C,g,s.width,s.height,0,d,p,s.data);e.__maxMipLevel=v.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,g,u.width,u.height,u.depth,0,d,p,u.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,g,u.width,u.height,u.depth,0,d,p,u.data),e.__maxMipLevel=0;else if(v.length>0&&h){for(var T=0,S=v.length;T<S;T++)s=v[T],n.texImage2D(3553,T,g,d,p,s);i.generateMipmaps=!1,e.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,g,d,p,u),e.__maxMipLevel=0;b(i,h)&&x(o,i,u.width,u.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function L(e,r,o,s,l){var u=a.convert(o.format),c=a.convert(o.type),h=w(o.internalFormat,u,c);32879===l||35866===l?n.texImage3D(l,0,h,r.width,r.height,r.depth,0,u,c,null):n.texImage2D(l,0,h,r.width,r.height,0,u,c,null),n.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,s,l,i.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function D(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){var r=33189;if(i){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Ph?r=36012:1014===o.type&&(r=33190));var s=N(n);t.renderbufferStorageMultisample(36161,s,r,n.width,n.height)}else t.renderbufferStorage(36161,r,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer){if(i){var l=N(n);t.renderbufferStorageMultisample(36161,l,35056,n.width,n.height)}else t.renderbufferStorage(36161,34041,n.width,n.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{var u=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,c=a.convert(u.format),h=a.convert(u.type),d=w(u.internalFormat,c,h);if(i){var f=N(n);t.renderbufferStorageMultisample(36161,f,d,n.width,n.height)}else t.renderbufferStorage(36161,d,n.width,n.height)}t.bindRenderbuffer(36161,null)}function N(t){return c&&t.isWebGLMultisampleRenderTarget?Math.min(p,t.samples):0}var Z=!1,F=!1;this.allocateTextureUnit=function(){var t=T;return t>=h&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+h),T+=1,t},this.resetTextureUnits=function(){T=0},this.setTexture2D=S,this.setTexture2DArray=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?R(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?R(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=A,this.setupRenderTarget=function(e){var s=e.texture,l=i.get(e),u=i.get(s);e.addEventListener("dispose",M),!0!==e.isWebGLMultipleRenderTargets&&(u.__webglTexture=t.createTexture(),u.__version=s.version,o.memory.textures++);var h=!0===e.isWebGLCubeRenderTarget,d=!0===e.isWebGLMultipleRenderTargets,f=!0===e.isWebGLMultisampleRenderTarget,p=s.isDataTexture3D||s.isDataTexture2DArray,g=y(e)||c;if(c&&s.format===Rh&&(s.type===Ph||s.type===Ih)&&(s.format=Lh,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),h){l.__webglFramebuffer=[];for(var v=0;v<6;v++)l.__webglFramebuffer[v]=t.createFramebuffer()}else if(l.__webglFramebuffer=t.createFramebuffer(),d)if(r.drawBuffers)for(var m=e.texture,_=0,k=m.length;_<k;_++){var C=i.get(m[_]);void 0===C.__webglTexture&&(C.__webglTexture=t.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(f)if(c){l.__webglMultisampledFramebuffer=t.createFramebuffer(),l.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,l.__webglColorRenderbuffer);var T=a.convert(s.format),A=a.convert(s.type),E=w(s.internalFormat,T,A),P=N(e);t.renderbufferStorageMultisample(36161,P,E,e.width,e.height),n.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(l.__webglDepthRenderbuffer=t.createRenderbuffer(),D(l.__webglDepthRenderbuffer,e,!0)),n.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(h){n.bindTexture(34067,u.__webglTexture),I(34067,s,g);for(var O=0;O<6;O++)L(l.__webglFramebuffer[O],e,s,36064,34069+O);b(s,g)&&x(34067,s,e.width,e.height),n.bindTexture(34067,null)}else if(d){for(var R=e.texture,Z=0,F=R.length;Z<F;Z++){var U=R[Z],B=i.get(U);n.bindTexture(3553,B.__webglTexture),I(3553,U,g),L(l.__webglFramebuffer,e,U,36064+Z,3553),b(U,g)&&x(3553,U,e.width,e.height)}n.bindTexture(3553,null)}else{var z=3553;p&&(c?z=s.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),n.bindTexture(z,u.__webglTexture),I(z,s,g),L(l.__webglFramebuffer,e,s,36064,z),b(s,g)&&x(z,s,e.width,e.height,e.depth),n.bindTexture(z,null)}e.depthBuffer&&function(e){var r=i.get(e),a=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,r){if(r&&r.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,e),!r.depthTexture||!r.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(r.depthTexture).__webglTexture||r.depthTexture.image.width!==r.width||r.depthTexture.image.height!==r.height)&&(r.depthTexture.image.width=r.width,r.depthTexture.image.height=r.height,r.depthTexture.needsUpdate=!0),S(r.depthTexture,0);var a=i.get(r.depthTexture).__webglTexture;if(r.depthTexture.format===Dh)t.framebufferTexture2D(36160,36096,3553,a,0);else{if(r.depthTexture.format!==Nh)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,a,0)}}(r.__webglFramebuffer,e)}else if(a){r.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,r.__webglFramebuffer[o]),r.__webglDepthbuffer[o]=t.createRenderbuffer(),D(r.__webglDepthbuffer[o],e,!1)}else n.bindFramebuffer(36160,r.__webglFramebuffer),r.__webglDepthbuffer=t.createRenderbuffer(),D(r.__webglDepthbuffer,e,!1);n.bindFramebuffer(36160,null)}(e)},this.updateRenderTargetMipmap=function(t){for(var e=y(t)||c,r=!0===t.isWebGLMultipleRenderTargets?t.texture:[t.texture],a=0,o=r.length;a<o;a++){var s=r[a];if(b(s,e)){var l=t.isWebGLCubeRenderTarget?34067:3553,u=i.get(s).__webglTexture;n.bindTexture(l,u),x(l,s,t.width,t.height),n.bindTexture(l,null)}}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(c){var r=e.width,a=e.height,o=16384;e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024);var s=i.get(e);n.bindFramebuffer(36008,s.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,s.__webglFramebuffer),t.blitFramebuffer(0,0,r,a,0,0,r,a,o,9728),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,s.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===Z&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Z=!0),t=t.texture),S(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),F=!0),t=t.texture),A(t,e)}}function Fv(t,e,n){var i=n.isWebGL2;return{convert:function(t){var n;if(1009===t)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(1012===t)return 5123;if(1013===t)return 5124;if(1014===t)return 5125;if(t===Ph)return 5126;if(t===Ih)return i?5131:null!==(n=e.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(1021===t)return 6406;if(t===Rh)return 6407;if(t===Lh)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===Dh)return 6402;if(t===Nh)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(null===(n=e.get("WEBGL_compressed_texture_s3tc")))return null;if(33776===t)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(null===(n=e.get("WEBGL_compressed_texture_pvrtc")))return null;if(35840===t)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return null!==(n=e.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&null!==(n=e.get("WEBGL_compressed_texture_etc"))){if(37492===t)return n.COMPRESSED_RGB8_ETC2;if(37496===t)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?null!==(n=e.get("WEBGL_compressed_texture_astc"))?t:null:36492===t?null!==(n=e.get("EXT_texture_compression_bptc"))?t:null:t===Oh?i?34042:null!==(n=e.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}Lv.prototype.isMeshDistanceMaterial=!0;var Uv=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,n),(t=e.call(this)).cameras=i,t}return _createClass(n)}(bp);Uv.prototype.isArrayCamera=!0;var Bv=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="Group",t}return _createClass(n)}(df);Bv.prototype.isGroup=!0;var zv={type:"move"},qv=function(){function t(){_classCallCheck(this,t),this._targetRay=null,this._grip=null,this._hand=null}return _createClass(t,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new Bv,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new Bv,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ud,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ud),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new Bv,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ud,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ud),this._grip}},{key:"dispatchEvent",value:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}},{key:"disconnect",value:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(t,e,n){var i=null,r=null,a=null,o=this._targetRay,s=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==o&&(null!==(i=e.getPose(t.targetRaySpace,n))&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(zv))),l&&t.hand){a=!0;var u,c=_createForOfIteratorHelper(t.hand.values());try{for(c.s();!(u=c.n()).done;){var h=u.value,d=e.getJointPose(h,n);if(void 0===l.joints[h.jointName]){var f=new Bv;f.matrixAutoUpdate=!1,f.visible=!1,l.joints[h.jointName]=f,l.add(f)}var p=l.joints[h.jointName];null!==d&&(p.matrix.fromArray(d.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.jointRadius=d.radius),p.visible=null!==d}}catch(v){c.e(v)}finally{c.f()}var g=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position);l.inputState.pinching&&g>.025?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&g<=.015&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==s&&t.gripSpace&&(null!==(r=e.getPose(t.gripSpace,n))&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1));return null!==o&&(o.visible=null!==i),null!==s&&(s.visible=null!==r),null!==l&&(l.visible=null!==a),this}}]),t}(),Hv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;_classCallCheck(this,n);var a=_assertThisInitialized(r=e.call(this)),o=t.state,s=null,l=1,u=null,c="local-floor",h=null,d=null,f=null,p=null,g=[],v=new Map,m=new bp;m.layers.enable(1),m.viewport=new ad;var _=new bp;_.layers.enable(2),_.viewport=new ad;var y=[m,_],b=new Uv;b.layers.enable(1),b.layers.enable(2);var x,w=null,k=null;function C(t){var e=v.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function M(){v.forEach(function(t,e){t.disconnect(e)}),v.clear(),w=null,k=null,o.bindXRFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),I.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function T(t){for(var e=s.inputSources,n=0;n<g.length;n++)v.set(e[n],g[n]);for(var i=0;i<t.removed.length;i++){var r=t.removed[i],a=v.get(r);a&&(a.dispatchEvent({type:"disconnected",data:r}),v.delete(r))}for(var o=0;o<t.added.length;o++){var l=t.added[o],u=v.get(l);u&&u.dispatchEvent({type:"connected",data:l})}}r.cameraAutoUpdate=!0,r.enabled=!1,r.isPresenting=!1,r.getController=function(t){var e=g[t];return void 0===e&&(e=new qv,g[t]=e),e.getTargetRaySpace()},r.getControllerGrip=function(t){var e=g[t];return void 0===e&&(e=new qv,g[t]=e),e.getGripSpace()},r.getHand=function(t){var e=g[t];return void 0===e&&(e=new qv,g[t]=e),e.getHandSpace()},r.setFramebufferScaleFactor=function(t){l=t,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},r.setReferenceSpaceType=function(t){c=t,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},r.getReferenceSpace=function(){return u},r.getSession=function(){return s},r.setSession=(x=(0,Th.Z)(regeneratorRuntime.mark(function t(e){var n,r,o,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(s=e)){t.next=23;break}if(s.addEventListener("select",C),s.addEventListener("selectstart",C),s.addEventListener("selectend",C),s.addEventListener("squeeze",C),s.addEventListener("squeezestart",C),s.addEventListener("squeezeend",C),s.addEventListener("end",M),s.addEventListener("inputsourceschange",T),n=i.getContextAttributes(),t.t0=!0!==n.xrCompatible,!t.t0){t.next=7;break}return t.next=7,i.makeXRCompatible();case 7:if(void 0!==s.renderState.layers){t.next=12;break}r=new XRWebGLLayer(s,i,{antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:l}),s.updateRenderState({baseLayer:r}),t.next=16;break;case 12:o=0,n.depth&&(o=n.stencil?34041:6402),h={colorFormat:n.alpha?6408:6407,depthFormat:o,scaleFactor:l},d=new XRWebGLBinding(s,i),p=d.createProjectionLayer(h),f=i.createFramebuffer(),s.updateRenderState({layers:[p]});case 16:return t.next=18,s.requestReferenceSpace(c);case 18:u=t.sent,I.setContext(s),I.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 23:case"end":return t.stop()}},t)})),function(t){return x.apply(this,arguments)});var S=new ud,A=new ud;function E(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}r.updateCamera=function(t){if(null!==s){b.near=_.near=m.near=t.near,b.far=_.far=m.far=t.far,(w!==b.near||k!==b.far)&&(s.updateRenderState({depthNear:b.near,depthFar:b.far}),w=b.near,k=b.far);var e=t.parent,n=b.cameras;E(b,e);for(var i=0;i<n.length;i++)E(n[i],e);b.matrixWorld.decompose(b.position,b.quaternion,b.scale),t.position.copy(b.position),t.quaternion.copy(b.quaternion),t.scale.copy(b.scale),t.matrix.copy(b.matrix),t.matrixWorld.copy(b.matrixWorld);for(var r=t.children,a=0,o=r.length;a<o;a++)r[a].updateMatrixWorld(!0);2===n.length?function(t,e,n){S.setFromMatrixPosition(e.matrixWorld),A.setFromMatrixPosition(n.matrixWorld);var i=S.distanceTo(A),r=e.projectionMatrix.elements,a=n.projectionMatrix.elements,o=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],u=(r[9]-1)/r[5],c=(r[8]-1)/r[0],h=(a[8]+1)/a[0],d=o*c,f=o*h,p=i/(-c+h),g=p*-c;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(g),t.translateZ(p),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();var v=o+p,m=s+p;t.projectionMatrix.makePerspective(d-g,f+(i-g),l*s/m*v,u*s/m*v,v,m)}(b,m,_):b.projectionMatrix.copy(m.projectionMatrix)}},r.getCamera=function(){return b};var P=null,I=new Ip;return I.setAnimationLoop(function(t,e){if(null!==(h=e.getViewerPose(u))){var n=h.views,r=s.renderState.baseLayer;void 0===s.renderState.layers&&o.bindXRFramebuffer(r.framebuffer);var a=!1;n.length!==b.cameras.length&&(b.cameras.length=0,a=!0);for(var l=0;l<n.length;l++){var c=n[l],v=null;if(void 0===s.renderState.layers)v=r.getViewport(c);else{var m=d.getViewSubImage(p,c);o.bindXRFramebuffer(f),i.framebufferTexture2D(36160,36064,3553,m.colorTexture,0),void 0!==m.depthStencilTexture&&i.framebufferTexture2D(36160,36096,3553,m.depthStencilTexture,0),v=m.viewport}var _=y[l];_.matrix.fromArray(c.transform.matrix),_.projectionMatrix.fromArray(c.projectionMatrix),_.viewport.set(v.x,v.y,v.width,v.height),0===l&&b.matrix.copy(_.matrix),!0===a&&b.cameras.push(_)}}for(var x=s.inputSources,w=0;w<g.length;w++)g[w].update(x[w],e,u);P&&P(t,e)}),r.setAnimationLoop=function(t){P=t},r.dispose=function(){},r}return _createClass(n)}(qh);function Gv(t){function e(e,n){e.opacity.value=n.opacity,n.color&&e.diffuse.value.copy(n.color),n.emissive&&e.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(e.map.value=n.map),n.alphaMap&&(e.alphaMap.value=n.alphaMap),n.specularMap&&(e.specularMap.value=n.specularMap);var i,r,a=t.get(n).envMap;if(a){e.envMap.value=a,e.flipEnvMap.value=a.isCubeTexture&&a._needsFlipEnvMap?-1:1,e.reflectivity.value=n.reflectivity,e.refractionRatio.value=n.refractionRatio;var o=t.get(a).__maxMipLevel;void 0!==o&&(e.maxMipLevel.value=o)}n.lightMap&&(e.lightMap.value=n.lightMap,e.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(e.aoMap.value=n.aoMap,e.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(i=n.clearcoatRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix)),n.aoMap?r=n.aoMap:n.lightMap&&(r=n.lightMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uv2Transform.value.copy(r.matrix))}function n(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(e.emissiveMap.value=n.emissiveMap),n.bumpMap&&(e.bumpMap.value=n.bumpMap,e.bumpScale.value=n.bumpScale,1===n.side&&(e.bumpScale.value*=-1)),n.normalMap&&(e.normalMap.value=n.normalMap,e.normalScale.value.copy(n.normalScale),1===n.side&&e.normalScale.value.negate()),n.displacementMap&&(e.displacementMap.value=n.displacementMap,e.displacementScale.value=n.displacementScale,e.displacementBias.value=n.displacementBias),t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,i,r,a,o){i.isMeshBasicMaterial?e(t,i):i.isMeshLambertMaterial?(e(t,i),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,i)):i.isMeshToonMaterial?(e(t,i),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshPhongMaterial?(e(t,i),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshStandardMaterial?(e(t,i),i.isMeshPhysicalMaterial?function(t,e,i){n(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap),e.transmission>0&&(t.transmissionSamplerMap.value=i.texture,t.transmissionSamplerSize.value.set(i.width,i.height)),t.thickness.value=e.thickness,e.thicknessMap&&(t.thicknessMap.value=e.thicknessMap),t.attenuationDistance.value=e.attenuationDistance,t.attenuationColor.value.copy(e.attenuationColor)}(t,i,o):n(t,i)):i.isMeshMatcapMaterial?(e(t,i),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDepthMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isMeshDistanceMaterial?(e(t,i),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,i)):i.isMeshNormalMaterial?(e(t,i),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,i)):i.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,i),i.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,i)):i.isPointsMaterial?function(t,e,n,i){var r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*n,t.scale.value=.5*i,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,i,r,a):i.isSpriteMaterial?function(t,e){var n;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?n=e.map:e.alphaMap&&(n=e.alphaMap),void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}(t,i):i.isShadowMaterial?(t.color.value.copy(i.color),t.opacity.value=i.opacity):i.isShaderMaterial&&(i.uniformsNeedUpdate=!1)}}}function Vv(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=void 0!==t.canvas?t.canvas:function(){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,u=void 0!==t.powerPreference?t.powerPreference:"default",c=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,h=null,d=null,f=[],p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Uh,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;var g=this,v=!1,m=0,_=0,y=null,b=-1,x=null,w=new ad,k=new ad,C=null,M=e.width,T=e.height,S=1,A=null,E=null,P=new ad(0,0,M,T),I=new ad(0,0,M,T),O=!1,R=[],L=new Pp,D=!1,N=!1,Z=null,F=new Bd,U=new ud,B={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function z(){return null===y?S:1}var q,H,G,V,W,j,Y,Q,J,X,$,K,tt,et,nt,it,rt,at,ot,st,lt,ut,ct=n;function ht(t,n){for(var i=0;i<t.length;i++){var r=e.getContext(t[i],n);if(null!==r)return r}return null}try{var dt={alpha:i,depth:r,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:u,failIfMajorPerformanceCaveat:c};if(e.addEventListener("webglcontextlost",vt,!1),e.addEventListener("webglcontextrestored",mt,!1),null===ct){var ft=["webgl2","webgl","experimental-webgl"];if(!0===g.isWebGL1Renderer&&ft.shift(),null===(ct=ht(ft,dt)))throw ht(ft)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ct.getShaderPrecisionFormat&&(ct.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(dt){throw console.error("THREE.WebGLRenderer: "+dt.message),dt}function pt(){q=new Hp(ct),H=new Bp(ct,q,t),q.init(H),lt=new Fv(ct,q,H),G=new Nv(ct,q,H),R[0]=1029,V=new Wp(ct),W=new wv,j=new Zv(ct,q,G,W,H,lt,V),Y=new qp(g),Q=new Op(ct,H),ut=new Fp(ct,q,Q,H),J=new Gp(ct,Q,V,ut),X=new Jp(ct,J,Q,V),at=new Qp(ct),nt=new zp(W),$=new xv(g,Y,q,H,ut,nt),K=new Gv(W),tt=new Tv(W),et=new Ov(q,H),rt=new Zp(g,Y,G,X,s),it=new Dv(g,X,H),ot=new Up(ct,q,V,H),st=new Vp(ct,q,V,H),V.programs=$.programs,g.capabilities=H,g.extensions=q,g.properties=W,g.renderLists=tt,g.shadowMap=it,g.state=G,g.info=V}pt();var gt=new Hv(g,ct);function vt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),v=!0}function mt(){console.log("THREE.WebGLRenderer: Context Restored."),v=!1;var t=V.autoReset,e=it.enabled,n=it.autoUpdate,i=it.needsUpdate,r=it.type;pt(),V.autoReset=t,it.enabled=e,it.autoUpdate=n,it.needsUpdate=i,it.type=r}function _t(t){var e=t.target;e.removeEventListener("dispose",_t),function(t){(function(t){var e=W.get(t).programs;void 0!==e&&e.forEach(function(t){$.releaseProgram(t)})})(t),W.remove(t)}(e)}this.xr=gt,this.getContext=function(){return ct},this.getContextAttributes=function(){return ct.getContextAttributes()},this.forceContextLoss=function(){var t=q.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=q.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return S},this.setPixelRatio=function(t){void 0!==t&&(S=t,this.setSize(M,T,!1))},this.getSize=function(t){return t.set(M,T)},this.setSize=function(t,n,i){gt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(M=t,T=n,e.width=Math.floor(t*S),e.height=Math.floor(n*S),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return t.set(M*S,T*S).floor()},this.setDrawingBufferSize=function(t,n,i){M=t,T=n,S=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return t.copy(w)},this.getViewport=function(t){return t.copy(P)},this.setViewport=function(t,e,n,i){t.isVector4?P.set(t.x,t.y,t.z,t.w):P.set(t,e,n,i),G.viewport(w.copy(P).multiplyScalar(S).floor())},this.getScissor=function(t){return t.copy(I)},this.setScissor=function(t,e,n,i){t.isVector4?I.set(t.x,t.y,t.z,t.w):I.set(t,e,n,i),G.scissor(k.copy(I).multiplyScalar(S).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(t){G.setScissorTest(O=t)},this.setOpaqueSort=function(t){A=t},this.setTransparentSort=function(t){E=t},this.getClearColor=function(t){return t.copy(rt.getClearColor())},this.setClearColor=function(){rt.setClearColor.apply(rt,arguments)},this.getClearAlpha=function(){return rt.getClearAlpha()},this.setClearAlpha=function(){rt.setClearAlpha.apply(rt,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),ct.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",vt,!1),e.removeEventListener("webglcontextrestored",mt,!1),tt.dispose(),et.dispose(),W.dispose(),Y.dispose(),X.dispose(),ut.dispose(),gt.dispose(),gt.removeEventListener("sessionstart",bt),gt.removeEventListener("sessionend",xt),Z&&(Z.dispose(),Z=null),wt.stop()},this.renderBufferImmediate=function(t,e){ut.initAttributes();var n=W.get(t);t.hasPositions&&!n.position&&(n.position=ct.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=ct.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=ct.createBuffer()),t.hasColors&&!n.color&&(n.color=ct.createBuffer());var i=e.getAttributes();t.hasPositions&&(ct.bindBuffer(34962,n.position),ct.bufferData(34962,t.positionArray,35048),ut.enableAttribute(i.position),ct.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(ct.bindBuffer(34962,n.normal),ct.bufferData(34962,t.normalArray,35048),ut.enableAttribute(i.normal),ct.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(ct.bindBuffer(34962,n.uv),ct.bufferData(34962,t.uvArray,35048),ut.enableAttribute(i.uv),ct.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(ct.bindBuffer(34962,n.color),ct.bufferData(34962,t.colorArray,35048),ut.enableAttribute(i.color),ct.vertexAttribPointer(i.color,3,5126,!1,0,0)),ut.disableUnusedAttributes(),ct.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,a){null===e&&(e=B);var o=r.isMesh&&r.matrixWorld.determinant()<0,s=At(t,e,i,r);G.setMaterial(i,o);var l=n.index,u=n.attributes.position;if(null===l){if(void 0===u||0===u.count)return}else if(0===l.count)return;var c=1;!0===i.wireframe&&(l=J.getWireframeAttribute(n),c=2),(i.morphTargets||i.morphNormals)&&at.update(r,n,i,s),ut.setup(r,i,s,n,l);var h,d=ot;null!==l&&(h=Q.get(l),(d=st).setIndex(h));var f=null!==l?l.count:u.count,p=n.drawRange.start*c,g=n.drawRange.count*c,v=null!==a?a.start*c:0,m=null!==a?a.count*c:1/0,_=Math.max(p,v),y=Math.min(f,p+g,v+m)-1,b=Math.max(0,y-_+1);if(0!==b){if(r.isMesh)!0===i.wireframe?(G.setLineWidth(i.wireframeLinewidth*z()),d.setMode(1)):d.setMode(4);else if(r.isLine){var x=i.linewidth;void 0===x&&(x=1),G.setLineWidth(x*z()),d.setMode(r.isLineSegments?1:r.isLineLoop?2:3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(_,b,r.count);else if(n.isInstancedBufferGeometry){var w=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(_,b,w)}else d.render(_,b)}},this.compile=function(t,e){(d=et.get(t)).init(),t.traverseVisible(function(t){t.isLight&&t.layers.test(e.layers)&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))}),d.setupLights(),t.traverse(function(e){var n=e.material;if(n)if(Array.isArray(n))for(var i=0;i<n.length;i++)Tt(n[i],t,e);else Tt(n,t,e)})};var yt=null;function bt(){wt.stop()}function xt(){wt.start()}var wt=new Ip;function kt(t,e,n,i){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||L.intersectsSprite(t)){i&&U.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);var r=X.update(t),a=t.material;a.visible&&h.push(t,r,a,n,U.z,null)}}else if(t.isImmediateRenderObject)i&&U.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F),h.push(t,null,t.material,n,U.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==V.render.frame&&(t.skeleton.update(),t.skeleton.frame=V.render.frame),!t.frustumCulled||L.intersectsObject(t))){i&&U.setFromMatrixPosition(t.matrixWorld).applyMatrix4(F);var o=X.update(t),s=t.material;if(Array.isArray(s))for(var l=o.groups,u=0,c=l.length;u<c;u++){var f=l[u],p=s[f.materialIndex];p&&p.visible&&h.push(t,o,p,n,U.z,f)}else s.visible&&h.push(t,o,s,n,U.z,null)}for(var g=t.children,v=0,m=g.length;v<m;v++)kt(g[v],e,n,i)}}function Ct(t,e,n){for(var i=!0===e.isScene?e.overrideMaterial:null,r=0,a=t.length;r<a;r++){var o=t[r],s=o.object,l=o.geometry,u=null===i?o.material:i,c=o.group;if(n.isArrayCamera)for(var h=n.cameras,f=0,p=h.length;f<p;f++){var g=h[f];s.layers.test(g.layers)&&(G.viewport(w.copy(g.viewport)),d.setupLightsView(g),Mt(s,e,g,l,u,c))}else Mt(s,e,n,l,u,c)}}function Mt(t,e,n,i,r,a){if(t.onBeforeRender(g,e,n,i,r,a),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){var o=At(n,e,r,t);G.setMaterial(r),ut.reset(),function(t,e){t.render(function(t){g.renderBufferImmediate(t,e)})}(t,o)}else!0===r.transparent&&2===r.side?(r.side=1,r.needsUpdate=!0,g.renderBufferDirect(n,e,i,r,t,a),r.side=0,r.needsUpdate=!0,g.renderBufferDirect(n,e,i,r,t,a),r.side=2):g.renderBufferDirect(n,e,i,r,t,a);t.onAfterRender(g,e,n,i,r,a)}function Tt(t,e,n){!0!==e.isScene&&(e=B);var i=W.get(t),r=d.state.lights,a=r.state.version,o=$.getParameters(t,r.state,d.state.shadowsArray,e,n),s=$.getProgramCacheKey(o),l=i.programs;i.environment=t.isMeshStandardMaterial?e.environment:null,i.fog=e.fog,i.envMap=Y.get(t.envMap||i.environment),void 0===l&&(t.addEventListener("dispose",_t),l=new Map,i.programs=l);var u=l.get(s);if(void 0!==u){if(i.currentProgram===u&&i.lightsStateVersion===a)return St(t,o),u}else o.uniforms=$.getUniforms(t),t.onBuild(o,g),t.onBeforeCompile(o,g),u=$.acquireProgram(o,s),l.set(s,u),i.uniforms=o.uniforms;var c=i.uniforms;(!t.isShaderMaterial&&!t.isRawShaderMaterial||!0===t.clipping)&&(c.clippingPlanes=nt.uniform),St(t,o),i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=a,i.needsLights&&(c.ambientLightColor.value=r.state.ambient,c.lightProbe.value=r.state.probe,c.directionalLights.value=r.state.directional,c.directionalLightShadows.value=r.state.directionalShadow,c.spotLights.value=r.state.spot,c.spotLightShadows.value=r.state.spotShadow,c.rectAreaLights.value=r.state.rectArea,c.ltc_1.value=r.state.rectAreaLTC1,c.ltc_2.value=r.state.rectAreaLTC2,c.pointLights.value=r.state.point,c.pointLightShadows.value=r.state.pointShadow,c.hemisphereLights.value=r.state.hemi,c.directionalShadowMap.value=r.state.directionalShadowMap,c.directionalShadowMatrix.value=r.state.directionalShadowMatrix,c.spotShadowMap.value=r.state.spotShadowMap,c.spotShadowMatrix.value=r.state.spotShadowMatrix,c.pointShadowMap.value=r.state.pointShadowMap,c.pointShadowMatrix.value=r.state.pointShadowMatrix);var h=u.getUniforms(),f=tv.seqWithValue(h.seq,c);return i.currentProgram=u,i.uniformsList=f,u}function St(t,e){var n=W.get(t);n.outputEncoding=e.outputEncoding,n.instancing=e.instancing,n.skinning=e.skinning,n.numClippingPlanes=e.numClippingPlanes,n.numIntersection=e.numClipIntersection,n.vertexAlphas=e.vertexAlphas}function At(t,e,n,i){!0!==e.isScene&&(e=B),j.resetTextureUnits();var r=e.fog,a=null===y?g.outputEncoding:y.texture.encoding,o=Y.get(n.envMap||(n.isMeshStandardMaterial?e.environment:null)),s=!0===n.vertexColors&&i.geometry&&i.geometry.attributes.color&&4===i.geometry.attributes.color.itemSize,l=W.get(n),u=d.state.lights;!0!==D||!0!==N&&t===x||nt.setState(n,t,t===x&&n.id===b);var c=!1;n.version===l.__version?(l.needsLights&&l.lightsStateVersion!==u.state.version||l.outputEncoding!==a||i.isInstancedMesh&&!1===l.instancing||!i.isInstancedMesh&&!0===l.instancing||i.isSkinnedMesh&&!1===l.skinning||!i.isSkinnedMesh&&!0===l.skinning||l.envMap!==o||n.fog&&l.fog!==r||void 0!==l.numClippingPlanes&&(l.numClippingPlanes!==nt.numPlanes||l.numIntersection!==nt.numIntersection)||l.vertexAlphas!==s)&&(c=!0):(c=!0,l.__version=n.version);var h=l.currentProgram;!0===c&&(h=Tt(n,e,i));var f=!1,p=!1,v=!1,m=h.getUniforms(),_=l.uniforms;if(G.useProgram(h.program)&&(f=!0,p=!0,v=!0),n.id!==b&&(b=n.id,p=!0),f||x!==t){if(m.setValue(ct,"projectionMatrix",t.projectionMatrix),H.logarithmicDepthBuffer&&m.setValue(ct,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),x!==t&&(x=t,p=!0,v=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var w=m.map.cameraPosition;void 0!==w&&w.setValue(ct,U.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&m.setValue(ct,"isOrthographic",!0===t.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||i.isSkinnedMesh)&&m.setValue(ct,"viewMatrix",t.matrixWorldInverse)}if(i.isSkinnedMesh){m.setOptional(ct,i,"bindMatrix"),m.setOptional(ct,i,"bindMatrixInverse");var k=i.skeleton;k&&(H.floatVertexTextures?(null===k.boneTexture&&k.computeBoneTexture(),m.setValue(ct,"boneTexture",k.boneTexture,j),m.setValue(ct,"boneTextureSize",k.boneTextureSize)):m.setOptional(ct,k,"boneMatrices"))}return(p||l.receiveShadow!==i.receiveShadow)&&(l.receiveShadow=i.receiveShadow,m.setValue(ct,"receiveShadow",i.receiveShadow)),p&&(m.setValue(ct,"toneMappingExposure",g.toneMappingExposure),l.needsLights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.lightProbe.needsUpdate=e,t.directionalLights.needsUpdate=e,t.directionalLightShadows.needsUpdate=e,t.pointLights.needsUpdate=e,t.pointLightShadows.needsUpdate=e,t.spotLights.needsUpdate=e,t.spotLightShadows.needsUpdate=e,t.rectAreaLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(_,v),r&&n.fog&&K.refreshFogUniforms(_,r),K.refreshMaterialUniforms(_,n,S,T,Z),tv.upload(ct,l.uniformsList,_,j)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(tv.upload(ct,l.uniformsList,_,j),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&m.setValue(ct,"center",i.center),m.setValue(ct,"modelViewMatrix",i.modelViewMatrix),m.setValue(ct,"normalMatrix",i.normalMatrix),m.setValue(ct,"modelMatrix",i.matrixWorld),h}wt.setAnimationLoop(function(t){yt&&yt(t)}),"undefined"!=typeof window&&wt.setContext(window),this.setAnimationLoop=function(t){yt=t,gt.setAnimationLoop(t),null===t?wt.stop():wt.start()},gt.addEventListener("sessionstart",bt),gt.addEventListener("sessionend",xt),this.render=function(t,e){if(void 0===e||!0===e.isCamera){if(!0!==v){!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===gt.enabled&&!0===gt.isPresenting&&(!0===gt.cameraAutoUpdate&&gt.updateCamera(e),e=gt.getCamera()),!0===t.isScene&&t.onBeforeRender(g,t,e,y),(d=et.get(t,p.length)).init(),p.push(d),F.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),L.setFromProjectionMatrix(F),N=this.localClippingEnabled,D=nt.init(this.clippingPlanes,N,e),(h=tt.get(t,f.length)).init(),f.push(h),kt(t,e,0,g.sortObjects),h.finish(),!0===g.sortObjects&&h.sort(A,E),!0===D&&nt.beginShadows(),it.render(d.state.shadowsArray,t,e),d.setupLights(),d.setupLightsView(e),!0===D&&nt.endShadows(),!0===this.info.autoReset&&this.info.reset(),rt.render(h,t);var n=h.opaque,i=h.transmissive,r=h.transparent;n.length>0&&Ct(n,t,e),i.length>0&&function(t,e,n,i){null===Z&&(Z=new(!0===o&&!0===H.isWebGL2?sd:od)(1024,1024,{generateMipmaps:!0,type:null!==lt.convert(Ih)?Ih:1009,minFilter:1008,magFilter:Ah,wrapS:Sh,wrapT:Sh}));var r=g.getRenderTarget();g.setRenderTarget(Z),g.clear();var a=g.toneMapping;g.toneMapping=0,Ct(t,n,i),g.toneMapping=a,j.updateMultisampleRenderTarget(Z),j.updateRenderTargetMipmap(Z),g.setRenderTarget(r),Ct(e,n,i)}(n,i,t,e),r.length>0&&Ct(r,t,e),null!==y&&(j.updateMultisampleRenderTarget(y),j.updateRenderTargetMipmap(y)),!0===t.isScene&&t.onAfterRender(g,t,e),G.buffers.depth.setTest(!0),G.buffers.depth.setMask(!0),G.buffers.color.setMask(!0),G.setPolygonOffset(!1),ut.resetDefaultState(),b=-1,x=null,p.pop(),d=p.length>0?p[p.length-1]:null,f.pop(),h=f.length>0?f[f.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return m},this.getActiveMipmapLevel=function(){return _},this.getRenderTarget=function(){return y},this.setRenderTarget=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;y=t,m=e,_=n,t&&void 0===W.get(t).__webglFramebuffer&&j.setupRenderTarget(t);var i=null,r=!1,a=!1;if(t){var o=t.texture;(o.isDataTexture3D||o.isDataTexture2DArray)&&(a=!0);var s=W.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(i=s[e],r=!0):i=t.isWebGLMultisampleRenderTarget?W.get(t).__webglMultisampledFramebuffer:s,w.copy(t.viewport),k.copy(t.scissor),C=t.scissorTest}else w.copy(P).multiplyScalar(S).floor(),k.copy(I).multiplyScalar(S).floor(),C=O;if(G.bindFramebuffer(36160,i)&&H.drawBuffers){var l=!1;if(t)if(t.isWebGLMultipleRenderTargets){var u=t.texture;if(R.length!==u.length||36064!==R[0]){for(var c=0,h=u.length;c<h;c++)R[c]=36064+c;R.length=u.length,l=!0}}else(1!==R.length||36064!==R[0])&&(R[0]=36064,R.length=1,l=!0);else(1!==R.length||1029!==R[0])&&(R[0]=1029,R.length=1,l=!0);l&&(H.isWebGL2?ct.drawBuffers(R):q.get("WEBGL_draw_buffers").drawBuffersWEBGL(R))}if(G.viewport(w),G.scissor(k),G.setScissorTest(C),r){var d=W.get(t.texture);ct.framebufferTexture2D(36160,36064,34069+e,d.__webglTexture,n)}else if(a){var f=W.get(t.texture);ct.framebufferTextureLayer(36160,36064,f.__webglTexture,n||0,e||0)}},this.readRenderTargetPixels=function(t,e,n,i,r,a,o){if(t&&t.isWebGLRenderTarget){var s=W.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(s=s[o]),s){G.bindFramebuffer(36160,s);try{var l=t.texture,u=l.format,c=l.type;if(u!==Lh&&lt.convert(u)!==ct.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var h=c===Ih&&(q.has("EXT_color_buffer_half_float")||H.isWebGL2&&q.has("EXT_color_buffer_float"));if(!(1009===c||lt.convert(c)===ct.getParameter(35738)||c===Ph&&(H.isWebGL2||q.has("OES_texture_float")||q.has("WEBGL_color_buffer_float"))||h))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ct.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&ct.readPixels(e,n,i,r,lt.convert(u),lt.convert(c),a):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{var d=null!==y?W.get(y).__webglFramebuffer:null;G.bindFramebuffer(36160,d)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=Math.pow(2,-n),r=Math.floor(e.image.width*i),a=Math.floor(e.image.height*i),o=lt.convert(e.format);H.isWebGL2&&(6407===o&&(o=32849),6408===o&&(o=32856)),j.setTexture2D(e,0),ct.copyTexImage2D(3553,n,o,t.x,t.y,r,a,0),G.unbindTexture()},this.copyTextureToTexture=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=e.image.width,a=e.image.height,o=lt.convert(n.format),s=lt.convert(n.type);j.setTexture2D(n,0),ct.pixelStorei(37440,n.flipY),ct.pixelStorei(37441,n.premultiplyAlpha),ct.pixelStorei(3317,n.unpackAlignment),e.isDataTexture?ct.texSubImage2D(3553,i,t.x,t.y,r,a,o,s,e.image.data):e.isCompressedTexture?ct.compressedTexSubImage2D(3553,i,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):ct.texSubImage2D(3553,i,t.x,t.y,o,s,e.image),0===i&&n.generateMipmaps&&ct.generateMipmap(3553),G.unbindTexture()},this.copyTextureToTexture3D=function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(g.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=t.max.x-t.min.x+1,s=t.max.y-t.min.y+1,l=t.max.z-t.min.z+1,u=lt.convert(i.format),c=lt.convert(i.type);if(i.isDataTexture3D)j.setTexture3D(i,0),a=32879;else{if(!i.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");j.setTexture2DArray(i,0),a=35866}ct.pixelStorei(37440,i.flipY),ct.pixelStorei(37441,i.premultiplyAlpha),ct.pixelStorei(3317,i.unpackAlignment);var h=ct.getParameter(3314),d=ct.getParameter(32878),f=ct.getParameter(3316),p=ct.getParameter(3315),v=ct.getParameter(32877),m=n.isCompressedTexture?n.mipmaps[0]:n.image;ct.pixelStorei(3314,m.width),ct.pixelStorei(32878,m.height),ct.pixelStorei(3316,t.min.x),ct.pixelStorei(3315,t.min.y),ct.pixelStorei(32877,t.min.z),n.isDataTexture||n.isDataTexture3D?ct.texSubImage3D(a,r,e.x,e.y,e.z,o,s,l,u,c,m.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ct.compressedTexSubImage3D(a,r,e.x,e.y,e.z,o,s,l,u,m.data)):ct.texSubImage3D(a,r,e.x,e.y,e.z,o,s,l,u,c,m),ct.pixelStorei(3314,h),ct.pixelStorei(32878,d),ct.pixelStorei(3316,f),ct.pixelStorei(3315,p),ct.pixelStorei(32877,v),0===r&&i.generateMipmaps&&ct.generateMipmap(a),G.unbindTexture()}},this.initTexture=function(t){j.setTexture2D(t,0),G.unbindTexture()},this.resetState=function(){m=0,_=0,y=null,G.reset(),ut.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)})(Vv).prototype.isWebGL1Renderer=!0,function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;_classCallCheck(this,t),this.name="",this.color=new Of(e),this.density=n}return _createClass(t,[{key:"clone",value:function(){return new t(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),t}().prototype.isFogExp2=!0,function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;_classCallCheck(this,t),this.name="",this.color=new Of(e),this.near=n,this.far=i}return _createClass(t,[{key:"clone",value:function(){return new t(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),t}().prototype.isFog=!0;var Wv=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="Scene",t.background=null,t.environment=null,t.fog=null,t.overrideMaterial=null,t.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:_assertThisInitialized(t)})),t}return _createClass(n,[{key:"copy",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}]),n}(df);Wv.prototype.isScene=!0;var jv=function(){function t(e,n){_classCallCheck(this,t),this.array=e,this.stride=n,this.count=void 0!==e?e.length/n:0,this.usage=Bh,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=jh()}return _createClass(t,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(t){!0===t&&this.version++}},{key:"setUsage",value:function(t){return this.usage=t,this}},{key:"copy",value:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}},{key:"copyAt",value:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this}},{key:"set",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(t,e),this}},{key:"clone",value:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=jh()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(e,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(t){return this.onUploadCallback=t,this}},{key:"toJSON",value:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=jh()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),t}();jv.prototype.isInterleavedBuffer=!0;var Yv=new ud,Qv=function(){function t(e,n,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_classCallCheck(this,t),this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=!0===r}return _createClass(t,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(t){this.data.needsUpdate=t}},{key:"applyMatrix4",value:function(t){for(var e=0,n=this.data.count;e<n;e++)Yv.x=this.getX(e),Yv.y=this.getY(e),Yv.z=this.getZ(e),Yv.applyMatrix4(t),this.setXYZ(e,Yv.x,Yv.y,Yv.z);return this}},{key:"applyNormalMatrix",value:function(t){for(var e=0,n=this.count;e<n;e++)Yv.x=this.getX(e),Yv.y=this.getY(e),Yv.z=this.getZ(e),Yv.applyNormalMatrix(t),this.setXYZ(e,Yv.x,Yv.y,Yv.z);return this}},{key:"transformDirection",value:function(t){for(var e=0,n=this.count;e<n;e++)Yv.x=this.getX(e),Yv.y=this.getY(e),Yv.z=this.getZ(e),Yv.transformDirection(t),this.setXYZ(e,Yv.x,Yv.y,Yv.z);return this}},{key:"setX",value:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}},{key:"setY",value:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}},{key:"setZ",value:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}},{key:"setW",value:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}},{key:"getX",value:function(t){return this.data.array[t*this.data.stride+this.offset]}},{key:"getY",value:function(t){return this.data.array[t*this.data.stride+this.offset+1]}},{key:"getZ",value:function(t){return this.data.array[t*this.data.stride+this.offset+2]}},{key:"getW",value:function(t){return this.data.array[t*this.data.stride+this.offset+3]}},{key:"setXY",value:function(t,e,n){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this}},{key:"setXYZ",value:function(t,e,n,i){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this}},{key:"setXYZW",value:function(t,e,n,i,r){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}},{key:"clone",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],i=0;i<this.count;i++)for(var r=i*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[r+a]);return new Nf(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new t(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var e=[],n=0;n<this.count;n++)for(var i=n*this.data.stride+this.offset,r=0;r<this.itemSize;r++)e.push(this.data.array[i+r]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),t}();Qv.prototype.isInterleavedBufferAttribute=!0;var Jv,Xv=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="SpriteMaterial",i.color=new Of(16777215),i.map=null,i.alphaMap=null,i.rotation=0,i.sizeAttenuation=!0,i.transparent=!0,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}]),n}(Mf);Xv.prototype.isSpriteMaterial=!0;var $v=new ud,Kv=new ud,tm=new ud,em=new $h,nm=new $h,im=new Bd,rm=new ud,am=new ud,om=new ud,sm=new $h,lm=new $h,um=new $h;function cm(t,e,n,i,r,a){em.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(nm.x=a*em.x-r*em.y,nm.y=r*em.x+a*em.y):nm.copy(em),t.copy(e),t.x+=nm.x,t.y+=nm.y,t.applyMatrix4(im)}(function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;if(_classCallCheck(this,n),(i=e.call(this)).type="Sprite",void 0===Jv){Jv=new Yf;var r=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new jv(r,5);Jv.setIndex([0,1,2,0,2,3]),Jv.setAttribute("position",new Qv(a,3,0,!1)),Jv.setAttribute("uv",new Qv(a,2,3,!1))}return i.geometry=Jv,i.material=void 0!==t?t:new Xv,i.center=new $h(.5,.5),_possibleConstructorReturn(i)}return _createClass(n,[{key:"raycast",value:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Kv.setFromMatrixScale(this.matrixWorld),im.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),tm.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Kv.multiplyScalar(-tm.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var a=this.center;cm(rm.set(-.5,-.5,0),tm,a,Kv,n,i),cm(am.set(.5,-.5,0),tm,a,Kv,n,i),cm(om.set(.5,.5,0),tm,a,Kv,n,i),sm.set(0,0),lm.set(1,0),um.set(1,1);var o=t.ray.intersectTriangle(rm,am,om,!1,$v);if(null!==o||(cm(am.set(-.5,.5,0),tm,a,Kv,n,i),lm.set(0,1),null!==(o=t.ray.intersectTriangle(rm,om,am,!1,$v)))){var s=t.ray.origin.distanceTo($v);s<t.near||s>t.far||e.push({distance:s,point:$v.clone(),uv:kf.getUV($v,rm,am,om,sm,lm,um,new $h),face:null,object:this})}}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}]),n})(df).prototype.isSprite=!0;var hm=new ud,dm=new ad,fm=new ad,pm=new ud,gm=new Bd,vm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="SkinnedMesh",r.bindMode="attached",r.bindMatrix=new Bd,r.bindMatrixInverse=new Bd,r}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}},{key:"bind",value:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var t=new ad,e=this.geometry.attributes.skinWeight,n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}}},{key:"updateMatrixWorld",value:function(t){_get(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(t,e){var n=this.skeleton,i=this.geometry;dm.fromBufferAttribute(i.attributes.skinIndex,t),fm.fromBufferAttribute(i.attributes.skinWeight,t),hm.fromBufferAttribute(i.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(var r=0;r<4;r++){var a=fm.getComponent(r);if(0!==a){var o=dm.getComponent(r);gm.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),e.addScaledVector(pm.copy(hm).applyMatrix4(gm),a)}}return e.applyMatrix4(this.bindMatrixInverse)}}]),n}(dp);vm.prototype.isSkinnedMesh=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="Bone",t}return _createClass(n)}(df).prototype.isBone=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,l=arguments.length>5?arguments[5]:void 0,u=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,h=arguments.length>8&&void 0!==arguments[8]?arguments[8]:Ah,d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:Ah,f=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return _classCallCheck(this,n),(t=e.call(this,null,l,u,c,h,d,o,s,f,p)).image={data:i,width:r,height:a},t.magFilter=h,t.minFilter=d,t.generateMipmaps=!1,t.flipY=!1,t.unpackAlignment=1,t.needsUpdate=!0,t}return _createClass(n)}(id).prototype.isDataTexture=!0;var mm=new Bd,_m=new Bd,ym=[],bm=new dp;(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,i)).instanceMatrix=new Nf(new Float32Array(16*r),16),a.instanceColor=null,a.count=r,a.frustumCulled=!1,a}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}},{key:"getColorAt",value:function(t,e){e.fromArray(this.instanceColor.array,3*t)}},{key:"getMatrixAt",value:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)}},{key:"raycast",value:function(t,e){var n=this.matrixWorld,i=this.count;if(bm.geometry=this.geometry,bm.material=this.material,void 0!==bm.material)for(var r=0;r<i;r++){this.getMatrixAt(r,mm),_m.multiplyMatrices(n,mm),bm.matrixWorld=_m,bm.raycast(t,ym);for(var a=0,o=ym.length;a<o;a++){var s=ym[a];s.instanceId=r,s.object=this,e.push(s)}ym.length=0}}},{key:"setColorAt",value:function(t,e){null===this.instanceColor&&(this.instanceColor=new Nf(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)}},{key:"setMatrixAt",value:function(t,e){e.toArray(this.instanceMatrix.array,16*t)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n})(dp).prototype.isInstancedMesh=!0;var xm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="LineBasicMaterial",i.color=new Of(16777215),i.linewidth=1,i.linecap="round",i.linejoin="round",i.morphTargets=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this}}]),n}(Mf);xm.prototype.isLineBasicMaterial=!0;var wm=new ud,km=new ud,Cm=new Bd,Mm=new Ud,Tm=new Id,Sm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yf,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new xm;return _classCallCheck(this,n),(t=e.call(this)).type="Line",t.geometry=i,t.material=r,t.updateMorphTargets(),t}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.material=t.material,this.geometry=t.geometry,this}},{key:"computeLineDistances",value:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],i=1,r=e.count;i<r;i++)wm.fromBufferAttribute(e,i-1),km.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=wm.distanceTo(km);t.setAttribute("lineDistance",new Uf(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Tm.copy(n.boundingSphere),Tm.applyMatrix4(i),Tm.radius+=r,!1!==t.ray.intersectsSphere(Tm)){Cm.copy(i).invert(),Mm.copy(t.ray).applyMatrix4(Cm);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o,l=new ud,u=new ud,c=new ud,h=new ud,d=this.isLineSegments?2:1;if(n.isBufferGeometry){var f=n.index,p=n.attributes.position;if(null!==f)for(var g=Math.max(0,a.start),v=Math.min(f.count,a.start+a.count)-1;g<v;g+=d){var m=f.getX(g),_=f.getX(g+1);if(l.fromBufferAttribute(p,m),u.fromBufferAttribute(p,_),!(Mm.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var y=t.ray.origin.distanceTo(h);y<t.near||y>t.far||e.push({distance:y,point:c.clone().applyMatrix4(this.matrixWorld),index:g,face:null,faceIndex:null,object:this})}}else for(var b=Math.max(0,a.start),x=Math.min(p.count,a.start+a.count)-1;b<x;b+=d)if(l.fromBufferAttribute(p,b),u.fromBufferAttribute(p,b+1),!(Mm.distanceSqToSegment(l,u,h,c)>s)){h.applyMatrix4(this.matrixWorld);var w=t.ray.origin.distanceTo(h);w<t.near||w>t.far||e.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(df);Sm.prototype.isLine=!0;var Am=new ud,Em=new ud,Pm=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="LineSegments",r}return _createClass(n,[{key:"computeLineDistances",value:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],i=0,r=e.count;i<r;i+=2)Am.fromBufferAttribute(e,i),Em.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+Am.distanceTo(Em);t.setAttribute("lineDistance",new Uf(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),n}(Sm);Pm.prototype.isLineSegments=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="LineLoop",r}return _createClass(n)}(Sm).prototype.isLineLoop=!0;var Im=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="PointsMaterial",i.color=new Of(16777215),i.map=null,i.alphaMap=null,i.size=1,i.sizeAttenuation=!0,i.morphTargets=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this}}]),n}(Mf);Im.prototype.isPointsMaterial=!0;var Om=new Bd,Rm=new Ud,Lm=new Id,Dm=new ud;function Nm(t,e,n,i,r,a,o){var s=Rm.distanceSqToPoint(t);if(s<n){var l=new ud;Rm.closestPointToPoint(t,l),l.applyMatrix4(i);var u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Yf,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Im;return _classCallCheck(this,n),(t=e.call(this)).type="Points",t.geometry=i,t.material=r,t.updateMorphTargets(),t}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.material=t.material,this.geometry=t.geometry,this}},{key:"raycast",value:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Lm.copy(n.boundingSphere),Lm.applyMatrix4(i),Lm.radius+=r,!1!==t.ray.intersectsSphere(Lm)){Om.copy(i).invert(),Rm.copy(t.ray).applyMatrix4(Om);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),s=o*o;if(n.isBufferGeometry){var l=n.index,u=n.attributes.position;if(null!==l)for(var c=Math.max(0,a.start),h=Math.min(l.count,a.start+a.count);c<h;c++){var d=l.getX(c);Dm.fromBufferAttribute(u,d),Nm(Dm,d,s,i,t,e,this)}else for(var f=Math.max(0,a.start),p=Math.min(u.count,a.start+a.count);f<p;f++)Dm.fromBufferAttribute(u,f),Nm(Dm,f,s,i,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var t=this.geometry;if(t.isBufferGeometry){var e=t.morphAttributes,n=Object.keys(e);if(n.length>0){var i=e[n[0]];if(void 0!==i){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var r=0,a=i.length;r<a;r++){var o=i[r].name||String(r);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=r}}}}else{var s=t.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n})(df).prototype.isPoints=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c){var h;_classCallCheck(this,n),(h=e.call(this,t,i,r,a,o,s,l,u,c)).format=void 0!==l?l:Rh,h.minFilter=void 0!==s?s:Eh,h.magFilter=void 0!==o?o:Eh,h.generateMipmaps=!1;var d=_assertThisInitialized(h);return"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function e(){d.needsUpdate=!0,t.requestVideoFrameCallback(e)}),h}return _createClass(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var t=this.image;"requestVideoFrameCallback"in t==0&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(id).prototype.isVideoTexture=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c,h,d,f){var p;return _classCallCheck(this,n),(p=e.call(this,null,s,l,u,c,h,a,o,d,f)).image={width:i,height:r},p.mipmaps=t,p.flipY=!1,p.generateMipmaps=!1,p}return _createClass(n)}(id).prototype.isCompressedTexture=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c){var h;return _classCallCheck(this,n),(h=e.call(this,t,i,r,a,o,s,l,u,c)).needsUpdate=!0,h}return _createClass(n)}(id).prototype.isCanvasTexture=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s,l,u,c,h){var d;if(_classCallCheck(this,n),(h=void 0!==h?h:Dh)!==Dh&&h!==Nh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===r&&h===Dh&&(r=1012),void 0===r&&h===Nh&&(r=Oh),(d=e.call(this,null,a,o,s,l,u,h,r,c)).image={width:t,height:i},d.magFilter=void 0!==l?l:Ah,d.minFilter=void 0!==u?u:Ah,d.flipY=!1,d.generateMipmaps=!1,d}return _createClass(n)}(id).prototype.isDepthTexture=!0,new ud,new ud,new ud,new kf;var Zm=function(){function t(){_classCallCheck(this,t),this.type="Curve",this.arcLengthDivisions=200}return _createClass(t,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)}},{key:"getPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e}},{key:"getLength",value:function(){var t=this.getLengths();return t[t.length-1]}},{key:"getLengths",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n=[],i=this.getPoint(0),r=0;n.push(0);for(var a=1;a<=t;a++)r+=(e=this.getPoint(a/t)).distanceTo(i),n.push(r),i=e;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(t,e){var n,i=this.getLengths(),r=0,a=i.length;n=e||t*i[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(o>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(a-1);var u=i[r];return(r+(n-u)/(i[r+1]-u))/(a-1)}},{key:"getTangent",value:function(t,e){var n=1e-4,i=t-n,r=t+n;i<0&&(i=0),r>1&&(r=1);var a=this.getPoint(i),o=this.getPoint(r),s=e||(a.isVector2?new $h:new ud);return s.copy(o).sub(a).normalize(),s}},{key:"getTangentAt",value:function(t,e){var n=this.getUtoTmapping(t);return this.getTangent(n,e)}},{key:"computeFrenetFrames",value:function(t,e){for(var n=new ud,i=[],r=[],a=[],o=new ud,s=new Bd,l=0;l<=t;l++)i[l]=this.getTangentAt(l/t,new ud),i[l].normalize();r[0]=new ud,a[0]=new ud;var u=Number.MAX_VALUE,c=Math.abs(i[0].x),h=Math.abs(i[0].y),d=Math.abs(i[0].z);c<=u&&(u=c,n.set(1,0,0)),h<=u&&(u=h,n.set(0,1,0)),d<=u&&n.set(0,0,1),o.crossVectors(i[0],n).normalize(),r[0].crossVectors(i[0],o),a[0].crossVectors(i[0],r[0]);for(var f=1;f<=t;f++){if(r[f]=r[f-1].clone(),a[f]=a[f-1].clone(),o.crossVectors(i[f-1],i[f]),o.length()>Number.EPSILON){o.normalize();var p=Math.acos(Yh(i[f-1].dot(i[f]),-1,1));r[f].applyMatrix4(s.makeRotationAxis(o,p))}a[f].crossVectors(i[f],r[f])}if(!0===e){var g=Math.acos(Yh(r[0].dot(r[t]),-1,1));g/=t,i[0].dot(o.crossVectors(r[0],r[t]))>0&&(g=-g);for(var v=1;v<=t;v++)r[v].applyMatrix4(s.makeRotationAxis(i[v],g*v)),a[v].crossVectors(i[v],r[v])}return{tangents:i,normals:r,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}},{key:"toJSON",value:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}},{key:"fromJSON",value:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}]),t}(),Fm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,u=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return _classCallCheck(this,n),(t=e.call(this)).type="EllipseCurve",t.aX=i,t.aY=r,t.xRadius=a,t.yRadius=o,t.aStartAngle=s,t.aEndAngle=l,t.aClockwise=u,t.aRotation=c,t}return _createClass(n,[{key:"getPoint",value:function(t,e){for(var n=e||new $h,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,a=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=a?0:i),!0===this.aClockwise&&!a&&(r===i?r=-i:r-=i);var o=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var u=Math.cos(this.aRotation),c=Math.sin(this.aRotation),h=s-this.aX,d=l-this.aY;s=h*u-d*c+this.aX,l=h*c+d*u+this.aY}return n.set(s,l)}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}]),n}(Zm);Fm.prototype.isEllipseCurve=!0;var Um=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a,o,s){var l;return _classCallCheck(this,n),(l=e.call(this,t,i,r,r,a,o,s)).type="ArcCurve",l}return _createClass(n)}(Fm);function Bm(){var t=0,e=0,n=0,i=0;function r(r,a,o,s){t=r,e=o,n=-3*r+3*a-2*o-s,i=2*r-2*a+o+s}return{initCatmullRom:function(t,e,n,i,a){r(e,n,a*(n-t),a*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,a,o,s){var l=(e-t)/a-(n-t)/(a+o)+(n-e)/o,u=(n-e)/o-(i-e)/(o+s)+(i-n)/s;r(e,n,l*=o,u*=o)},calc:function(r){var a=r*r;return t+e*r+n*a+i*(a*r)}}}Um.prototype.isArcCurve=!0;var zm=new ud,qm=new Bm,Hm=new Bm,Gm=new Bm,Vm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return _classCallCheck(this,n),(t=e.call(this)).type="CatmullRomCurve3",t.points=i,t.closed=r,t.curveType=a,t.tension=o,t}return _createClass(n,[{key:"getPoint",value:function(t){var e,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud,r=i,a=this.points,o=a.length,s=(o-(this.closed?0:1))*t,l=Math.floor(s),u=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/o)+1)*o:0===u&&l===o-1&&(l=o-2,u=1),this.closed||l>0?e=a[(l-1)%o]:(zm.subVectors(a[0],a[1]).add(a[0]),e=zm);var c=a[l%o],h=a[(l+1)%o];if(this.closed||l+2<o?n=a[(l+2)%o]:(zm.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=zm),"centripetal"===this.curveType||"chordal"===this.curveType){var d="chordal"===this.curveType?.5:.25,f=Math.pow(e.distanceToSquared(c),d),p=Math.pow(c.distanceToSquared(h),d),g=Math.pow(h.distanceToSquared(n),d);p<1e-4&&(p=1),f<1e-4&&(f=p),g<1e-4&&(g=p),qm.initNonuniformCatmullRom(e.x,c.x,h.x,n.x,f,p,g),Hm.initNonuniformCatmullRom(e.y,c.y,h.y,n.y,f,p,g),Gm.initNonuniformCatmullRom(e.z,c.z,h.z,n.z,f,p,g)}else"catmullrom"===this.curveType&&(qm.initCatmullRom(e.x,c.x,h.x,n.x,this.tension),Hm.initCatmullRom(e.y,c.y,h.y,n.y,this.tension),Gm.initCatmullRom(e.z,c.z,h.z,n.z,this.tension));return r.set(qm.calc(u),Hm.calc(u),Gm.calc(u)),r}},{key:"copy",value:function(t){_get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}},{key:"fromJSON",value:function(t){_get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new ud).fromArray(r))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}]),n}(Zm);function Wm(t,e,n,i,r){var a=.5*(i-e),o=.5*(r-n),s=t*t;return(2*n-2*i+a+o)*(t*s)+(-3*n+3*i-2*a-o)*s+a*t+n}function jm(t,e,n,i){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function Ym(t,e,n,i,r){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}Vm.prototype.isCatmullRomCurve3=!0;var Qm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $h,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $h,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new $h,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new $h;return _classCallCheck(this,n),(t=e.call(this)).type="CubicBezierCurve",t.v0=i,t.v1=r,t.v2=a,t.v3=o,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $h,n=e,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(Ym(t,i.x,r.x,a.x,o.x),Ym(t,i.y,r.y,a.y,o.y)),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),n}(Zm);Qm.prototype.isCubicBezierCurve=!0;var Jm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ud,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ud,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new ud;return _classCallCheck(this,n),(t=e.call(this)).type="CubicBezierCurve3",t.v0=i,t.v1=r,t.v2=a,t.v3=o,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud,n=e,i=this.v0,r=this.v1,a=this.v2,o=this.v3;return n.set(Ym(t,i.x,r.x,a.x,o.x),Ym(t,i.y,r.y,a.y,o.y),Ym(t,i.z,r.z,a.z,o.z)),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}]),n}(Zm);Jm.prototype.isCubicBezierCurve3=!0;var Xm=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $h,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $h;return _classCallCheck(this,n),(t=e.call(this)).type="LineCurve",t.v1=i,t.v2=r,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $h,n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"getTangent",value:function(t,e){var n=e||new $h;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Zm);Xm.prototype.isLineCurve=!0;var $m=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $h,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $h,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new $h;return _classCallCheck(this,n),(t=e.call(this)).type="QuadraticBezierCurve",t.v0=i,t.v1=r,t.v2=a,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $h,n=e,i=this.v0,r=this.v1,a=this.v2;return n.set(jm(t,i.x,r.x,a.x),jm(t,i.y,r.y,a.y)),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Zm);$m.prototype.isQuadraticBezierCurve=!0;var Km=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ud,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new ud;return _classCallCheck(this,n),(t=e.call(this)).type="QuadraticBezierCurve3",t.v0=i,t.v1=r,t.v2=a,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud,n=e,i=this.v0,r=this.v1,a=this.v2;return n.set(jm(t,i.x,r.x,a.x),jm(t,i.y,r.y,a.y),jm(t,i.z,r.z,a.z)),n}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Zm);Km.prototype.isQuadraticBezierCurve3=!0;var t_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _classCallCheck(this,n),(t=e.call(this)).type="SplineCurve",t.points=i,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $h,n=e,i=this.points,r=(i.length-1)*t,a=Math.floor(r),o=r-a,s=i[0===a?a:a-1],l=i[a],u=i[a>i.length-2?i.length-1:a+1],c=i[a>i.length-3?i.length-1:a+2];return n.set(Wm(o,s.x,l.x,u.x,c.x),Wm(o,s.y,l.y,u.y,c.y)),n}},{key:"copy",value:function(t){_get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++)this.points.push(t.points[e].clone());return this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);t.points=[];for(var e=0,i=this.points.length;e<i;e++)t.points.push(this.points[e].toArray());return t}},{key:"fromJSON",value:function(t){_get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.points=[];for(var e=0,i=t.points.length;e<i;e++){var r=t.points[e];this.points.push((new $h).fromArray(r))}return this}}]),n}(Zm);t_.prototype.isSplineCurve=!0;var e_=Object.freeze({__proto__:null,ArcCurve:Um,CatmullRomCurve3:Vm,CubicBezierCurve:Qm,CubicBezierCurve3:Jm,EllipseCurve:Fm,LineCurve:Xm,LineCurve3:function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new ud,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud;return _classCallCheck(this,n),(t=e.call(this)).type="LineCurve3",t.isLineCurve3=!0,t.v1=i,t.v2=r,t}return _createClass(n,[{key:"getPoint",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new ud,n=e;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n}},{key:"getPointAt",value:function(t,e){return this.getPoint(t,e)}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}]),n}(Zm),QuadraticBezierCurve:$m,QuadraticBezierCurve3:Km,SplineCurve:t_});function n_(t,e,n,i,r){var a,o;if(r===function(t,e,n,i){for(var r=0,a=e,o=n-i;a<n;a+=i)r+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return r}(t,e,n,i)>0)for(a=e;a<n;a+=i)o=k_(a,t[a],t[a+1],o);else for(a=n-i;a>=e;a-=i)o=k_(a,t[a],t[a+1],o);return o&&m_(o,o.next)&&(C_(o),o=o.next),o}function i_(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!m_(i,i.next)&&0!==v_(i.prev,i,i.next))i=i.next;else{if(C_(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function r_(t,e,n,i,r,a,o){if(t){!o&&a&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=d_(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,i=n,s=0,e=0;e<u&&(s++,i=i.nextZ);e++);for(l=u;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),a?a.nextZ=r:t=r,r.prevZ=a,a=r;n=i}a.nextZ=null,u*=2}while(o>1)}(r)}(t,i,r,a);for(var s,l,u=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?o_(t,i,r,a):a_(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),C_(t),t=l.next,u=l.next;else if((t=l)===u){o?1===o?r_(t=s_(i_(t),e,n),e,n,i,r,a,2):2===o&&l_(t,e,n,i,r,a):r_(i_(t),e,n,i,r,a,1);break}}}function a_(t){var e=t.prev,n=t,i=t.next;if(v_(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(p_(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&v_(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function o_(t,e,n,i){var r=t.prev,a=t,o=t.next;if(v_(r,a,o)>=0)return!1;for(var s=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,l=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,u=d_(r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,e,n,i),c=d_(s,l,e,n,i),h=t.prevZ,d=t.nextZ;h&&h.z>=u&&d&&d.z<=c;){if(h!==t.prev&&h!==t.next&&p_(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&v_(h.prev,h,h.next)>=0||(h=h.prevZ,d!==t.prev&&d!==t.next&&p_(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&v_(d.prev,d,d.next)>=0))return!1;d=d.nextZ}for(;h&&h.z>=u;){if(h!==t.prev&&h!==t.next&&p_(r.x,r.y,a.x,a.y,o.x,o.y,h.x,h.y)&&v_(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=c;){if(d!==t.prev&&d!==t.next&&p_(r.x,r.y,a.x,a.y,o.x,o.y,d.x,d.y)&&v_(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function s_(t,e,n){var i=t;do{var r=i.prev,a=i.next.next;!m_(r,a)&&__(r,i,i.next,a)&&x_(r,a)&&x_(a,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(a.i/n),C_(i),C_(i.next),i=t=a),i=i.next}while(i!==t);return i_(i)}function l_(t,e,n,i,r,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&&g_(o,s)){var l=w_(o,s);return o=i_(o,o.next),l=i_(l,l.next),r_(o,e,n,i,r,a),void r_(l,e,n,i,r,a)}s=s.next}o=o.next}while(o!==t)}function u_(t,e){return t.x-e.x}function c_(t,e){if(e=function(t,e){var n,i=e,r=t.x,a=t.y,o=-1/0;do{if(a<=i.y&&a>=i.next.y&&i.next.y!==i.y){var s=i.x+(a-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>o){if(o=s,s===r){if(a===i.y)return i;if(a===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===o)return n;var l,u=n,c=n.x,h=n.y,d=1/0;i=n;do{r>=i.x&&i.x>=c&&r!==i.x&&p_(a<h?r:o,a,c,h,a<h?o:r,a,i.x,i.y)&&(l=Math.abs(a-i.y)/(r-i.x),x_(i,t)&&(l<d||l===d&&(i.x>n.x||i.x===n.x&&h_(n,i)))&&(n=i,d=l)),i=i.next}while(i!==u);return n}(t,e)){var n=w_(e,t);i_(e,e.next),i_(n,n.next)}}function h_(t,e){return v_(t.prev,t,e.prev)<0&&v_(e.next,t,t.next)<0}function d_(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f_(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function p_(t,e,n,i,r,a,o,s){return(r-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(i-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(r-o)*(i-s)>=0}function g_(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&__(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(x_(t,e)&&x_(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&r<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)&&(v_(t.prev,t,e.prev)||v_(t,e.prev,e))||m_(t,e)&&v_(t.prev,t,t.next)>0&&v_(e.prev,e,e.next)>0)}function v_(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function m_(t,e){return t.x===e.x&&t.y===e.y}function __(t,e,n,i){var r=b_(v_(t,e,n)),a=b_(v_(t,e,i)),o=b_(v_(n,i,t)),s=b_(v_(n,i,e));return!!(r!==a&&o!==s||0===r&&y_(t,n,e)||0===a&&y_(t,i,e)||0===o&&y_(n,t,i)||0===s&&y_(n,e,i))}function y_(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function b_(t){return t>0?1:t<0?-1:0}function x_(t,e){return v_(t.prev,t,t.next)<0?v_(t,e,t.next)>=0&&v_(t,t.prev,e)>=0:v_(t,e,t.prev)<0||v_(t,t.next,e)<0}function w_(t,e){var n=new M_(t.i,t.x,t.y),i=new M_(e.i,e.x,e.y),r=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,a.next=i,i.prev=a,i}function k_(t,e,n,i){var r=new M_(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function C_(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M_(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var T_=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"area",value:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n}},{key:"isClockWise",value:function(e){return t.area(e)<0}},{key:"triangulateShape",value:function(t,e){var n=[],i=[],r=[];S_(t),A_(n,t);var a=t.length;e.forEach(S_);for(var o=0;o<e.length;o++)i.push(a),a+=e[o].length,A_(n,e[o]);for(var s=function(t,e){var n,i,r,a,o,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=e&&e.length,h=c?e[0]*u:t.length,d=n_(t,0,h,u,!0),f=[];if(!d||d.next===d.prev)return f;if(c&&(d=function(t,e,n,i){var r,a,o,s=[];for(r=0,a=e.length;r<a;r++)(o=n_(t,e[r]*i,r<a-1?e[r+1]*i:t.length,i,!1))===o.next&&(o.steiner=!0),s.push(f_(o));for(s.sort(u_),r=0;r<s.length;r++)c_(s[r],n),n=i_(n,n.next);return n}(t,e,d,u)),t.length>80*u){n=r=t[0],i=a=t[1];for(var p=u;p<h;p+=u)(o=t[p])<n&&(n=o),(s=t[p+1])<i&&(i=s),o>r&&(r=o),s>a&&(a=s);l=0!==(l=Math.max(r-n,a-i))?1/l:0}return r_(d,f,u,n,i,l),f}(n,i),l=0;l<s.length;l+=3)r.push(s.slice(l,l+3));return r}}]),t}();function S_(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function A_(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}var E_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;_classCallCheck(this,n),(r=e.call(this)).type="ExtrudeGeometry",r.parameters={shapes:t,options:i},t=Array.isArray(t)?t:[t];for(var a=_assertThisInitialized(r),o=[],s=[],l=0,u=t.length;l<u;l++)c(t[l]);function c(t){var e=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,l=void 0!==i.depth?i.depth:100,u=void 0===i.bevelEnabled||i.bevelEnabled,c=void 0!==i.bevelThickness?i.bevelThickness:6,h=void 0!==i.bevelSize?i.bevelSize:c-2,d=void 0!==i.bevelOffset?i.bevelOffset:0,f=void 0!==i.bevelSegments?i.bevelSegments:3,p=i.extrudePath,g=void 0!==i.UVGenerator?i.UVGenerator:P_;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=i.amount);var v,m,_,y,b,x=!1;p&&(v=p.getSpacedPoints(r),x=!0,u=!1,m=p.computeFrenetFrames(r,!1),_=new ud,y=new ud,b=new ud),u||(f=0,c=0,h=0,d=0);var w=t.extractPoints(n),k=w.shape,C=w.holes;if(!T_.isClockWise(k)){k=k.reverse();for(var M=0,T=C.length;M<T;M++){var S=C[M];T_.isClockWise(S)&&(C[M]=S.reverse())}}for(var A=T_.triangulateShape(k,C),E=k,P=0,I=C.length;P<I;P++)k=k.concat(C[P]);function O(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var R=k.length,L=A.length;function D(t,e,n){var i,r,a,o=t.x-e.x,s=t.y-e.y,l=n.x-t.x,u=n.y-t.y,c=o*o+s*s;if(Math.abs(o*u-s*l)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(l*l+u*u),f=e.x-s/h,p=e.y+o/h,g=((n.x-u/d-f)*u-(n.y+l/d-p)*l)/(o*u-s*l),v=(i=f+o*g-t.x)*i+(r=p+s*g-t.y)*r;if(v<=2)return new $h(i,r);a=Math.sqrt(v/2)}else{var m=!1;o>Number.EPSILON?l>Number.EPSILON&&(m=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(m=!0):Math.sign(s)===Math.sign(u)&&(m=!0),m?(i=-s,r=o,a=Math.sqrt(c)):(i=o,r=s,a=Math.sqrt(c/2))}return new $h(i/a,r/a)}for(var N=[],Z=0,F=E.length,U=F-1,B=Z+1;Z<F;Z++,U++,B++)U===F&&(U=0),B===F&&(B=0),N[Z]=D(E[Z],E[U],E[B]);for(var z,q=[],H=N.concat(),G=0,V=C.length;G<V;G++){var W=C[G];z=[];for(var j=0,Y=W.length,Q=Y-1,J=j+1;j<Y;j++,Q++,J++)Q===Y&&(Q=0),J===Y&&(J=0),z[j]=D(W[j],W[Q],W[J]);q.push(z),H=H.concat(z)}for(var X=0;X<f;X++){for(var $=X/f,K=c*Math.cos($*Math.PI/2),tt=h*Math.sin($*Math.PI/2)+d,et=0,nt=E.length;et<nt;et++){var it=O(E[et],N[et],tt);Pt(it.x,it.y,-K)}for(var rt=0,at=C.length;rt<at;rt++){var ot=C[rt];z=q[rt];for(var st=0,lt=ot.length;st<lt;st++){var ut=O(ot[st],z[st],tt);Pt(ut.x,ut.y,-K)}}}for(var ct=h+d,ht=0;ht<R;ht++){var dt=u?O(k[ht],H[ht],ct):k[ht];x?(y.copy(m.normals[0]).multiplyScalar(dt.x),_.copy(m.binormals[0]).multiplyScalar(dt.y),b.copy(v[0]).add(y).add(_),Pt(b.x,b.y,b.z)):Pt(dt.x,dt.y,0)}for(var ft=1;ft<=r;ft++)for(var pt=0;pt<R;pt++){var gt=u?O(k[pt],H[pt],ct):k[pt];x?(y.copy(m.normals[ft]).multiplyScalar(gt.x),_.copy(m.binormals[ft]).multiplyScalar(gt.y),b.copy(v[ft]).add(y).add(_),Pt(b.x,b.y,b.z)):Pt(gt.x,gt.y,l/r*ft)}for(var vt=f-1;vt>=0;vt--){for(var mt=vt/f,_t=c*Math.cos(mt*Math.PI/2),yt=h*Math.sin(mt*Math.PI/2)+d,bt=0,xt=E.length;bt<xt;bt++){var wt=O(E[bt],N[bt],yt);Pt(wt.x,wt.y,l+_t)}for(var kt=0,Ct=C.length;kt<Ct;kt++){var Mt=C[kt];z=q[kt];for(var Tt=0,St=Mt.length;Tt<St;Tt++){var At=O(Mt[Tt],z[Tt],yt);x?Pt(At.x,At.y+v[r-1].y,v[r-1].x+_t):Pt(At.x,At.y,l+_t)}}}function Et(t,e){for(var n=t.length;--n>=0;){var i=n,a=n-1;a<0&&(a=t.length-1);for(var o=0,s=r+2*f;o<s;o++){var l=R*o,u=R*(o+1);Ot(e+i+l,e+a+l,e+a+u,e+i+u)}}}function Pt(t,n,i){e.push(t),e.push(n),e.push(i)}function It(t,e,n){Rt(t),Rt(e),Rt(n);var i=o.length/3,r=g.generateTopUV(a,o,i-3,i-2,i-1);Lt(r[0]),Lt(r[1]),Lt(r[2])}function Ot(t,e,n,i){Rt(t),Rt(e),Rt(i),Rt(e),Rt(n),Rt(i);var r=o.length/3,s=g.generateSideWallUV(a,o,r-6,r-3,r-2,r-1);Lt(s[0]),Lt(s[1]),Lt(s[3]),Lt(s[1]),Lt(s[2]),Lt(s[3])}function Rt(t){o.push(e[3*t+0]),o.push(e[3*t+1]),o.push(e[3*t+2])}function Lt(t){s.push(t.x),s.push(t.y)}(function(){var t=o.length/3;if(u){for(var e=0,n=R*e,i=0;i<L;i++){var s=A[i];It(s[2]+n,s[1]+n,s[0]+n)}n=R*(e=r+2*f);for(var l=0;l<L;l++){var c=A[l];It(c[0]+n,c[1]+n,c[2]+n)}}else{for(var h=0;h<L;h++){var d=A[h];It(d[2],d[1],d[0])}for(var p=0;p<L;p++){var g=A[p];It(g[0]+R*r,g[1]+R*r,g[2]+R*r)}}a.addGroup(t,o.length/3-t,0)})(),function(){var t=o.length/3,e=0;Et(E,e),e+=E.length;for(var n=0,i=C.length;n<i;n++){var r=C[n];Et(r,e),e+=r.length}a.addGroup(t,o.length/3-t,1)}()}return r.setAttribute("position",new Uf(o,3)),r.setAttribute("uv",new Uf(s,2)),r.computeVertexNormals(),r}return _createClass(n,[{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return function(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++)n.shapes.push(t[i].uuid);else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}(this.parameters.shapes,this.parameters.options,t)}}],[{key:"fromJSON",value:function(t,e){for(var i=[],r=0,a=t.shapes.length;r<a;r++)i.push(e[t.shapes[r]]);var o=t.options.extrudePath;return void 0!==o&&(t.options.extrudePath=(new e_[o.type]).fromJSON(o)),new n(i,t.options)}}]),n}(Yf),P_={generateTopUV:function(t,e,n,i,r){var a=e[3*i],o=e[3*i+1],s=e[3*r],l=e[3*r+1];return[new $h(e[3*n],e[3*n+1]),new $h(a,o),new $h(s,l)]},generateSideWallUV:function(t,e,n,i,r,a){var o=e[3*n],s=e[3*n+1],l=e[3*n+2],u=e[3*i],c=e[3*i+1],h=e[3*i+2],d=e[3*r],f=e[3*r+1],p=e[3*r+2],g=e[3*a],v=e[3*a+1],m=e[3*a+2];return Math.abs(s-c)<Math.abs(o-u)?[new $h(o,1-l),new $h(u,1-h),new $h(d,1-p),new $h(g,1-m)]:[new $h(s,1-l),new $h(c,1-h),new $h(f,1-p),new $h(v,1-m)]}},I_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;_classCallCheck(this,n),(i=e.call(this)).type="ShapeGeometry",i.parameters={shapes:t,curveSegments:r};var a=[],o=[],s=[],l=[],u=0,c=0;if(!1===Array.isArray(t))d(t);else for(var h=0;h<t.length;h++)d(t[h]),i.addGroup(u,c,h),u+=c,c=0;function d(t){var e=o.length/3,n=t.extractPoints(r),i=n.shape,u=n.holes;!1===T_.isClockWise(i)&&(i=i.reverse());for(var h=0,d=u.length;h<d;h++){var f=u[h];!0===T_.isClockWise(f)&&(u[h]=f.reverse())}for(var p=T_.triangulateShape(i,u),g=0,v=u.length;g<v;g++)i=i.concat(u[g]);for(var m=0,_=i.length;m<_;m++){var y=i[m];o.push(y.x,y.y,0),s.push(0,0,1),l.push(y.x,y.y)}for(var b=0,x=p.length;b<x;b++){var w=p[b];a.push(w[0]+e,w[1]+e,w[2]+e),c+=3}}return i.setIndex(a),i.setAttribute("position",new Uf(o,3)),i.setAttribute("normal",new Uf(s,3)),i.setAttribute("uv",new Uf(l,2)),i}return _createClass(n,[{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++)e.shapes.push(t[n].uuid);else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}],[{key:"fromJSON",value:function(t,e){for(var i=[],r=0,a=t.shapes.length;r<a;r++)i.push(e[t.shapes[r]]);return new n(i,t.curveSegments)}}]),n}(Yf),O_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;_classCallCheck(this,n),(t=e.call(this)).type="TorusGeometry",t.parameters={radius:i,tube:r,radialSegments:a,tubularSegments:o,arc:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],u=[],c=[],h=[],d=new ud,f=new ud,p=new ud,g=0;g<=a;g++)for(var v=0;v<=o;v++){var m=v/o*s,_=g/a*Math.PI*2;f.x=(i+r*Math.cos(_))*Math.cos(m),f.y=(i+r*Math.cos(_))*Math.sin(m),f.z=r*Math.sin(_),u.push(f.x,f.y,f.z),d.x=i*Math.cos(m),d.y=i*Math.sin(m),p.subVectors(f,d).normalize(),c.push(p.x,p.y,p.z),h.push(v/o),h.push(g/a)}for(var y=1;y<=a;y++)for(var b=1;b<=o;b++){var x=(o+1)*(y-1)+b-1,w=(o+1)*(y-1)+b,k=(o+1)*y+b;l.push((o+1)*y+b-1,x,k),l.push(x,w,k)}return t.setIndex(l),t.setAttribute("position",new Uf(u,3)),t.setAttribute("normal",new Uf(c,3)),t.setAttribute("uv",new Uf(h,2)),t}return _createClass(n,null,[{key:"fromJSON",value:function(t){return new n(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}]),n}(Yf);(function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="ShadowMaterial",i.color=new Of(0),i.transparent=!0,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this}}]),n})(Mf).prototype.isShadowMaterial=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).type="RawShaderMaterial",i}return _createClass(n)}(_p).prototype.isRawShaderMaterial=!0;var R_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).defines={STANDARD:""},i.type="MeshStandardMaterial",i.color=new Of(16777215),i.roughness=1,i.metalness=0,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new Of(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new $h(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.roughnessMap=null,i.metalnessMap=null,i.alphaMap=null,i.envMap=null,i.envMapIntensity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.vertexTangents=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.flatShading=t.flatShading,this.vertexTangents=t.vertexTangents,this}}]),n}(Mf);R_.prototype.isMeshStandardMaterial=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).defines={STANDARD:"",PHYSICAL:""},i.type="MeshPhysicalMaterial",i.clearcoat=0,i.clearcoatMap=null,i.clearcoatRoughness=0,i.clearcoatRoughnessMap=null,i.clearcoatNormalScale=new $h(1,1),i.clearcoatNormalMap=null,i.reflectivity=.5,Object.defineProperty(_assertThisInitialized(i),"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=Yh(2.5*(t-1)/(t+1),0,1)}}),i.sheen=null,i.transmission=0,i.transmissionMap=null,i.thickness=.01,i.thicknessMap=null,i.attenuationDistance=0,i.attenuationColor=new Of(1,1,1),i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,this.sheen=t.sheen?(this.sheen||new Of).copy(t.sheen):null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this}}]),n}(R_).prototype.isMeshPhysicalMaterial=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshPhongMaterial",i.color=new Of(16777215),i.specular=new Of(1118481),i.shininess=30,i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new Of(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new $h(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.flatShading=t.flatShading,this}}]),n}(Mf).prototype.isMeshPhongMaterial=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).defines={TOON:""},i.type="MeshToonMaterial",i.color=new Of(16777215),i.map=null,i.gradientMap=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new Of(0),i.emissiveIntensity=1,i.emissiveMap=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new $h(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.morphTargets=!1,i.morphNormals=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this}}]),n}(Mf).prototype.isMeshToonMaterial=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshNormalMaterial",i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new $h(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.wireframe=!1,i.wireframeLinewidth=1,i.fog=!1,i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.flatShading=t.flatShading,this}}]),n}(Mf).prototype.isMeshNormalMaterial=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="MeshLambertMaterial",i.color=new Of(16777215),i.map=null,i.lightMap=null,i.lightMapIntensity=1,i.aoMap=null,i.aoMapIntensity=1,i.emissive=new Of(0),i.emissiveIntensity=1,i.emissiveMap=null,i.specularMap=null,i.alphaMap=null,i.envMap=null,i.combine=0,i.reflectivity=1,i.refractionRatio=.98,i.wireframe=!1,i.wireframeLinewidth=1,i.wireframeLinecap="round",i.wireframeLinejoin="round",i.morphTargets=!1,i.morphNormals=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this}}]),n}(Mf).prototype.isMeshLambertMaterial=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).defines={MATCAP:""},i.type="MeshMatcapMaterial",i.color=new Of(16777215),i.matcap=null,i.map=null,i.bumpMap=null,i.bumpScale=1,i.normalMap=null,i.normalMapType=0,i.normalScale=new $h(1,1),i.displacementMap=null,i.displacementScale=1,i.displacementBias=0,i.alphaMap=null,i.morphTargets=!1,i.morphNormals=!1,i.flatShading=!1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.flatShading=t.flatShading,this}}]),n}(Mf).prototype.isMeshMatcapMaterial=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="LineDashedMaterial",i.scale=1,i.dashSize=3,i.gapSize=1,i.setValues(t),i}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}]),n}(xm).prototype.isLineDashedMaterial=!0;var L_={arraySlice:function(t,e,n){return L_.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),i=0;i!==e;++i)n[i]=i;return n.sort(function(e,n){return t[e]-t[n]}),n},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),a=0,o=0;o!==i;++a)for(var s=n[a]*e,l=0;l!==e;++l)r[o++]=t[s+l];return r},flattenJSON:function(t,e,n,i){for(var r=1,a=t[0];void 0!==a&&void 0===a[i];)a=t[r++];if(void 0!==a){var o=a[i];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[i])&&(e.push(a.time),n.push.apply(n,o)),a=t[r++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[i])&&(e.push(a.time),o.toArray(n,n.length)),a=t[r++]}while(void 0!==a);else do{void 0!==(o=a[i])&&(e.push(a.time),n.push(o)),a=t[r++]}while(void 0!==a)}},subclip:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=t.clone();a.name=e;for(var o=[],s=0;s<a.tracks.length;++s){for(var l=a.tracks[s],u=l.getValueSize(),c=[],h=[],d=0;d<l.times.length;++d){var f=l.times[d]*r;if(!(f<n||f>=i)){c.push(l.times[d]);for(var p=0;p<u;++p)h.push(l.values[d*u+p])}}0!==c.length&&(l.times=L_.convertArray(c,l.times.constructor),l.values=L_.convertArray(h,l.values.constructor),o.push(l))}a.tracks=o;for(var g=1/0,v=0;v<a.tracks.length;++v)g>a.tracks[v].times[0]&&(g=a.tracks[v].times[0]);for(var m=0;m<a.tracks.length;++m)a.tracks[m].shift(-1*g);return a.resetDuration(),a},makeClipAdditive:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;i<=0&&(i=30);for(var r=n.tracks.length,a=e/i,o=function(e){var i=n.tracks[e],r=i.ValueTypeName;if("bool"===r||"string"===r)return"continue";var o=t.tracks.find(function(t){return t.name===i.name&&t.ValueTypeName===r});if(void 0===o)return"continue";var s=0,l=i.getValueSize();i.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);var u=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=c/3);var h=i.times.length-1,d=void 0;if(a<=i.times[0])d=L_.arraySlice(i.values,s,l-s);else if(a>=i.times[h]){var f=h*l+s;d=L_.arraySlice(i.values,f,f+l-s)}else{var p=i.createInterpolant(),g=s,v=l-s;p.evaluate(a),d=L_.arraySlice(p.resultBuffer,g,v)}"quaternion"===r&&(new ld).fromArray(d).normalize().conjugate().toArray(d);for(var m=o.times.length,_=0;_<m;++_){var y=_*c+u;if("quaternion"===r)ld.multiplyQuaternionsFlat(o.values,y,d,0,o.values,y);else for(var b=c-2*u,x=0;x<b;++x)o.values[y+x]-=d[x]}},s=0;s<r;++s)o(s);return t.blendMode=2501,t}},D_=function(){function t(e,n,i,r){_classCallCheck(this,t),this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}return _createClass(t,[{key:"evaluate",value:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var a;n:{i:if(!(t<i)){for(var o=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===o)break;if(r=i,t<(i=e[++n]))break e}a=e.length;break n}if(t>=r)break t;var s=e[1];t<s&&(n=2,r=s);for(var l=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===l)break;if(i=r,t>=(r=e[--n-1]))break e}a=n,n=0}for(;n<a;){var u=n+a>>>1;t<e[u]?a=u:n=u+1}if(i=e[n],void 0===(r=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,a=0;a!==i;++a)e[a]=n[r+a];return e}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),t}();D_.prototype.beforeStart_=D_.prototype.copySampleValue_,D_.prototype.afterEnd_=D_.prototype.copySampleValue_;var N_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){var o;return _classCallCheck(this,n),(o=e.call(this,t,i,r,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:Zh,endingEnd:Zh},o}return _createClass(n,[{key:"intervalChanged_",value:function(t,e,n){var i=this.parameterPositions,r=t-2,a=t+1,o=i[r],s=i[a];if(void 0===o)switch(this.getSettings_().endingStart){case Fh:r=t,o=2*e-n;break;case 2402:o=e+i[r=i.length-2]-i[r+1];break;default:r=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Fh:a=t,s=2*n-e;break;case 2402:a=1,s=n+i[1]-i[0];break;default:a=t-1,s=e}var l=.5*(n-e),u=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(s-n),this._offsetPrev=r*u,this._offsetNext=a*u}},{key:"interpolate_",value:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=this._offsetPrev,c=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-e)/(i-e),p=f*f,g=p*f,v=-h*g+2*h*p-h*f,m=(1+h)*g+(-1.5-2*h)*p+(-.5+h)*f+1,_=(-1-d)*g+(1.5+d)*p+.5*f,y=d*g-d*p,b=0;b!==o;++b)r[b]=v*a[u+b]+m*a[l+b]+_*a[s+b]+y*a[c+b];return r}}]),n}(D_),Z_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){return _classCallCheck(this,n),e.call(this,t,i,r,a)}return _createClass(n,[{key:"interpolate_",value:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,l=s-o,u=(n-e)/(i-e),c=1-u,h=0;h!==o;++h)r[h]=a[l+h]*c+a[s+h]*u;return r}}]),n}(D_),F_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){return _classCallCheck(this,n),e.call(this,t,i,r,a)}return _createClass(n,[{key:"interpolate_",value:function(t){return this.copySampleValue_(t-1)}}]),n}(D_),U_=function(){function t(e,n,i,r){if(_classCallCheck(this,t),void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=L_.convertArray(n,this.TimeBufferType),this.values=L_.convertArray(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}return _createClass(t,[{key:"InterpolantFactoryMethodDiscrete",value:function(t){return new F_(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodLinear",value:function(t){return new Z_(this.times,this.values,this.getValueSize(),t)}},{key:"InterpolantFactoryMethodSmooth",value:function(t){return new N_(this.times,this.values,this.getValueSize(),t)}},{key:"setInterpolation",value:function(t){var e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this}},{key:"scale",value:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this}},{key:"trim",value:function(t,e){for(var n=this.times,i=n.length,r=0,a=i-1;r!==i&&n[r]<t;)++r;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==r||a!==i){r>=a&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=L_.arraySlice(n,r,a),this.values=L_.arraySlice(this.values,r*o,a*o)}return this}},{key:"validate",value:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var a=null,o=0;o!==r;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,s),t=!1;break}if(null!==a&&a>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,s,a),t=!1;break}a=s}if(void 0!==i&&L_.isTypedArray(i))for(var l=0,u=i.length;l!==u;++l){var c=i[l];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,c),t=!1;break}}return t}},{key:"optimize",value:function(){for(var t=L_.arraySlice(this.times),e=L_.arraySlice(this.values),n=this.getValueSize(),i=2302===this.getInterpolation(),r=t.length-1,a=1,o=1;o<r;++o){var s=!1,l=t[o];if(l!==t[o+1]&&(1!==o||l!==t[0]))if(i)s=!0;else for(var u=o*n,c=u-n,h=u+n,d=0;d!==n;++d){var f=e[u+d];if(f!==e[c+d]||f!==e[h+d]){s=!0;break}}if(s){if(o!==a){t[a]=t[o];for(var p=o*n,g=a*n,v=0;v!==n;++v)e[g+v]=e[p+v]}++a}}if(r>0){t[a]=t[r];for(var m=r*n,_=a*n,y=0;y!==n;++y)e[_+y]=e[m+y];++a}return a!==t.length?(this.times=L_.arraySlice(t,0,a),this.values=L_.arraySlice(e,0,a*n)):(this.times=t,this.values=e),this}},{key:"clone",value:function(){var t=L_.arraySlice(this.times,0),e=L_.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(t){var e,n=t.constructor;if(n.toJSON!==this.toJSON)e=n.toJSON(t);else{e={name:t.name,times:L_.convertArray(t.times,Array),values:L_.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}]),t}();U_.prototype.TimeBufferType=Float32Array,U_.prototype.ValueBufferType=Float32Array,U_.prototype.DefaultInterpolation=2301;var B_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(U_);B_.prototype.ValueTypeName="bool",B_.prototype.ValueBufferType=Array,B_.prototype.DefaultInterpolation=2300,B_.prototype.InterpolantFactoryMethodLinear=void 0,B_.prototype.InterpolantFactoryMethodSmooth=void 0;var z_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(U_);z_.prototype.ValueTypeName="color";var q_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(U_);q_.prototype.ValueTypeName="number";var H_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r,a){return _classCallCheck(this,n),e.call(this,t,i,r,a)}return _createClass(n,[{key:"interpolate_",value:function(t,e,n,i){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=(n-e)/(i-e),l=t*o,u=l+o;l!==u;l+=4)ld.slerpFlat(r,0,a,l-o,a,l,s);return r}}]),n}(D_),G_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"InterpolantFactoryMethodLinear",value:function(t){return new H_(this.times,this.values,this.getValueSize(),t)}}]),n}(U_);G_.prototype.ValueTypeName="quaternion",G_.prototype.DefaultInterpolation=2301,G_.prototype.InterpolantFactoryMethodSmooth=void 0;var V_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(U_);V_.prototype.ValueTypeName="string",V_.prototype.ValueBufferType=Array,V_.prototype.DefaultInterpolation=2300,V_.prototype.InterpolantFactoryMethodLinear=void 0,V_.prototype.InterpolantFactoryMethodSmooth=void 0;var W_=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n)}(U_);W_.prototype.ValueTypeName="vector";var j_=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2500;_classCallCheck(this,t),this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=jh(),this.duration<0&&this.resetDuration()}return _createClass(t,[{key:"resetDuration",value:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}},{key:"trim",value:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}},{key:"optimize",value:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},{key:"clone",value:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,a=n.length;r!==a;++r)e.push(Y_(n[r]).scale(i));var o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}},{key:"toJSON",value:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode},r=0,a=n.length;r!==a;++r)e.push(U_.toJSON(n[r]));return i}},{key:"CreateFromMorphTargetSequence",value:function(t,e,n,i){for(var r=e.length,a=[],o=0;o<r;o++){var s=[],l=[];s.push((o+r-1)%r,o,(o+1)%r),l.push(0,1,0);var u=L_.getKeyframeOrder(s);s=L_.sortedArray(s,1,u),l=L_.sortedArray(l,1,u),!i&&0===s[0]&&(s.push(r),l.push(l[0])),a.push(new q_(".morphTargetInfluences["+e[o].name+"]",s,l).scale(1/n))}return new this(t,-1,a)}},{key:"findByName",value:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],l=s.name.match(r);if(l&&l.length>1){var u=l[1],c=i[u];c||(i[u]=c=[]),c.push(s)}}var h=[];for(var d in i)h.push(this.CreateFromMorphTargetSequence(d,i[d],e,n));return h}},{key:"parseAnimation",value:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var a=[],o=[];L_.flattenJSON(n,a,o,i),0!==a.length&&r.push(new t(e,a,o))}},i=[],r=t.name||"default",a=t.fps||30,o=t.blendMode,s=t.length||-1,l=t.hierarchy||[],u=0;u<l.length;u++){var c=l[u].keys;if(c&&0!==c.length)if(c[0].morphTargets){var h={},d=void 0;for(d=0;d<c.length;d++)if(c[d].morphTargets)for(var f=0;f<c[d].morphTargets.length;f++)h[c[d].morphTargets[f]]=-1;for(var p in h){for(var g=[],v=[],m=0;m!==c[d].morphTargets.length;++m){var _=c[d];g.push(_.time),v.push(_.morphTarget===p?1:0)}i.push(new q_(".morphTargetInfluence["+p+"]",g,v))}s=h.length*(a||1)}else{var y=".bones["+e[u].name+"]";n(W_,y+".position",c,"pos",i),n(G_,y+".quaternion",c,"rot",i),n(W_,y+".scale",c,"scl",i)}}return 0===i.length?null:new this(r,s,i,o)}}]),t}();function Y_(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return q_;case"vector":case"vector2":case"vector3":case"vector4":return W_;case"color":return z_;case"quaternion":return G_;case"bool":case"boolean":return B_;case"string":return V_}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],i=[];L_.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}var Q_={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},J_=new(function(){return _createClass(function t(e,n,i){_classCallCheck(this,t);var r,a=this,o=!1,s=0,l=0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(t){l++,!1===o&&void 0!==a.onStart&&a.onStart(t,s,l),o=!0},this.itemEnd=function(t){s++,void 0!==a.onProgress&&a.onProgress(t,s,l),s===l&&(o=!1,void 0!==a.onLoad&&a.onLoad())},this.itemError=function(t){void 0!==a.onError&&a.onError(t)},this.resolveURL=function(t){return r?r(t):t},this.setURLModifier=function(t){return r=t,this},this.addHandler=function(t,e){return u.push(t,e),this},this.removeHandler=function(t){var e=u.indexOf(t);return-1!==e&&u.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=u.length;e<n;e+=2){var i=u[e],r=u[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return r}return null}})}()),X_=function(){function t(e){_classCallCheck(this,t),this.manager=void 0!==e?e:J_,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return _createClass(t,[{key:"load",value:function(){}},{key:"loadAsync",value:function(t,e){var n=this;return new Promise(function(i,r){n.load(t,i,e,r)})}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(t){return this.crossOrigin=t,this}},{key:"setWithCredentials",value:function(t){return this.withCredentials=t,this}},{key:"setPath",value:function(t){return this.path=t,this}},{key:"setResourcePath",value:function(t){return this.resourcePath=t,this}},{key:"setRequestHeader",value:function(t){return this.requestHeader=t,this}}]),t}(),$_={},K_=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Q_.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;if(void 0===$_[t]){var o,s=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var l=s[1],u=!!s[2],c=s[3];c=decodeURIComponent(c),u&&(c=atob(c));try{var h,d=(this.responseType||"").toLowerCase();switch(d){case"arraybuffer":case"blob":for(var f=new Uint8Array(c.length),p=0;p<c.length;p++)f[p]=c.charCodeAt(p);h="blob"===d?new Blob([f.buffer],{type:l}):f.buffer;break;case"document":h=(new DOMParser).parseFromString(c,l);break;case"json":h=JSON.parse(c);break;default:h=c}setTimeout(function(){e&&e(h),r.manager.itemEnd(t)},0)}catch(h){setTimeout(function(){i&&i(h),r.manager.itemError(t),r.manager.itemEnd(t)},0)}}else{for(var g in $_[t]=[],$_[t].push({onLoad:e,onProgress:n,onError:i}),(o=new XMLHttpRequest).open("GET",t,!0),o.addEventListener("load",function(e){var n=this.response,i=$_[t];if(delete $_[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Q_.add(t,n);for(var a=0,o=i.length;a<o;a++){var s=i[a];s.onLoad&&s.onLoad(n)}r.manager.itemEnd(t)}else{for(var l=0,u=i.length;l<u;l++){var c=i[l];c.onError&&c.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}},!1),o.addEventListener("progress",function(e){for(var n=$_[t],i=0,r=n.length;i<r;i++){var a=n[i];a.onProgress&&a.onProgress(e)}},!1),o.addEventListener("error",function(e){var n=$_[t];delete $_[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),o.addEventListener("abort",function(e){var n=$_[t];delete $_[t];for(var i=0,a=n.length;i<a;i++){var o=n[i];o.onError&&o.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)},!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.overrideMimeType&&o.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)o.setRequestHeader(g,this.requestHeader[g]);o.send(null)}return r.manager.itemStart(t),o}$_[t].push({onLoad:e,onProgress:n,onError:i})}},{key:"setResponseType",value:function(t){return this.responseType=t,this}},{key:"setMimeType",value:function(t){return this.mimeType=t,this}}]),n}(X_),ty=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Q_.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),Q_.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){o.removeEventListener("load",s,!1),o.removeEventListener("error",l,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",s,!1),o.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}]),n}(X_),ey=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=new wp,a=new ty(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(t[n],function(t){r.images[n]=t,6===++o&&(r.needsUpdate=!0,e&&e(r))},void 0,i)}for(var l=0;l<t.length;++l)s(l);return r}}]),n}(X_),ny=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=new id,a=new ty(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,function(n){r.image=n;var i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?Rh:Lh,r.needsUpdate=!0,void 0!==e&&e(r)},n,i),r}}]),n}(X_),iy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="Path",i.currentPoint=new $h,t&&i.setFromPoints(t),i}return _createClass(n,[{key:"setFromPoints",value:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y);return this}},{key:"moveTo",value:function(t,e){return this.currentPoint.set(t,e),this}},{key:"lineTo",value:function(t,e){var n=new Xm(this.currentPoint.clone(),new $h(t,e));return this.curves.push(n),this.currentPoint.set(t,e),this}},{key:"quadraticCurveTo",value:function(t,e,n,i){var r=new $m(this.currentPoint.clone(),new $h(t,e),new $h(n,i));return this.curves.push(r),this.currentPoint.set(n,i),this}},{key:"bezierCurveTo",value:function(t,e,n,i,r,a){var o=new Qm(this.currentPoint.clone(),new $h(t,e),new $h(n,i),new $h(r,a));return this.curves.push(o),this.currentPoint.set(r,a),this}},{key:"splineThru",value:function(t){var e=[this.currentPoint.clone()].concat(t),n=new t_(e);return this.curves.push(n),this.currentPoint.copy(t[t.length-1]),this}},{key:"arc",value:function(t,e,n,i,r,a){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,a),this}},{key:"absarc",value:function(t,e,n,i,r,a){return this.absellipse(t,e,n,n,i,r,a),this}},{key:"ellipse",value:function(t,e,n,i,r,a,o,s){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,n,i,r,a,o,s),this}},{key:"absellipse",value:function(t,e,n,i,r,a,o,s){var l=new Fm(t,e,n,i,r,a,o,s);if(this.curves.length>0){var u=l.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(l);var c=l.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.currentPoint.copy(t.currentPoint),this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.currentPoint=this.currentPoint.toArray(),t}},{key:"fromJSON",value:function(t){return _get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}]),n}(function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="CurvePath",t.curves=[],t.autoClose=!1,t}return _createClass(n,[{key:"add",value:function(t){this.curves.push(t)}},{key:"closePath",value:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Xm(e,t))}},{key:"getPoint",value:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,a=this.curves[i],o=a.getLength();return a.getPointAt(0===o?0:1-r/o)}i++}return null}},{key:"getLength",value:function(){var t=this.getCurveLengths();return t[t.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t}},{key:"getSpacedPoints",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e}},{key:"getPoints",value:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],i=0,r=this.curves;i<r.length;i++)for(var a=r[i],o=a.getPoints(a&&a.isEllipseCurve?2*e:a&&(a.isLineCurve||a.isLineCurve3)?1:a&&a.isSplineCurve?e*a.points.length:e),s=0;s<o.length;s++){var l=o[s];t&&t.equals(l)||(n.push(l),t=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(t){_get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.curves=[];for(var e=0,i=t.curves.length;e<i;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,i=this.curves.length;e<i;e++)t.curves.push(this.curves[e].toJSON());return t}},{key:"fromJSON",value:function(t){_get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,i=t.curves.length;e<i;e++){var r=t.curves[e];this.curves.push((new e_[r.type]).fromJSON(r))}return this}}]),n}(Zm)),ry=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).uuid=jh(),i.type="Shape",i.holes=[],i}return _createClass(n,[{key:"getPointsHoles",value:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e}},{key:"extractPoints",value:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}},{key:"copy",value:function(t){_get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.holes=[];for(var e=0,i=t.holes.length;e<i;e++)this.holes.push(t.holes[e].clone());return this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,i=this.holes.length;e<i;e++)t.holes.push(this.holes[e].toJSON());return t}},{key:"fromJSON",value:function(t){_get(_getPrototypeOf(n.prototype),"fromJSON",this).call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,i=t.holes.length;e<i;e++){var r=t.holes[e];this.holes.push((new iy).fromJSON(r))}return this}}]),n}(iy),ay=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _classCallCheck(this,n),(i=e.call(this)).type="Light",i.color=new Of(t),i.intensity=r,i}return _createClass(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}]),n}(df);ay.prototype.isLight=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t,r)).type="HemisphereLight",a.position.copy(df.DefaultUp),a.updateMatrix(),a.groundColor=new Of(i),a}return _createClass(n,[{key:"copy",value:function(t){return ay.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}]),n}(ay).prototype.isHemisphereLight=!0;var oy=new Bd,sy=new ud,ly=new ud,uy=function(){function t(e){_classCallCheck(this,t),this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new $h(512,512),this.map=null,this.mapPass=null,this.matrix=new Bd,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Pp,this._frameExtents=new $h(1,1),this._viewportCount=1,this._viewports=[new ad(0,0,1,1)]}return _createClass(t,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(t){var e=this.camera,n=this.matrix;sy.setFromMatrixPosition(t.matrixWorld),e.position.copy(sy),ly.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(ly),e.updateMatrixWorld(),oy.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oy),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)}},{key:"getViewport",value:function(t){return this._viewports[t]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}]),t}(),cy=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this,new bp(50,1,.5,500))).focus=1,t}return _createClass(n,[{key:"updateMatrices",value:function(t){var e=this.camera,i=2*Wh*t.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=t.distance||e.far;(i!==e.fov||r!==e.aspect||a!==e.far)&&(e.fov=i,e.aspect=r,e.far=a,e.updateProjectionMatrix()),_get(_getPrototypeOf(n.prototype),"updateMatrices",this).call(this,t)}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.focus=t.focus,this}}]),n}(uy);cy.prototype.isSpotLightShadow=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="SpotLight",r.position.copy(df.DefaultUp),r.updateMatrix(),r.target=new df,r.distance=a,r.angle=o,r.penumbra=s,r.decay=l,r.shadow=new cy,r}return _createClass(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}]),n}(ay).prototype.isSpotLight=!0;var hy=new Bd,dy=new ud,fy=new ud,py=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this,new bp(90,1,.5,500)))._frameExtents=new $h(4,2),t._viewportCount=6,t._viewports=[new ad(2,1,1,1),new ad(0,1,1,1),new ad(3,1,1,1),new ad(1,1,1,1),new ad(3,0,1,1),new ad(1,0,1,1)],t._cubeDirections=[new ud(1,0,0),new ud(-1,0,0),new ud(0,0,1),new ud(0,0,-1),new ud(0,1,0),new ud(0,-1,0)],t._cubeUps=[new ud(0,1,0),new ud(0,1,0),new ud(0,1,0),new ud(0,1,0),new ud(0,0,1),new ud(0,0,-1)],t}return _createClass(n,[{key:"updateMatrices",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,i=this.matrix,r=t.distance||n.far;r!==n.far&&(n.far=r,n.updateProjectionMatrix()),dy.setFromMatrixPosition(t.matrixWorld),n.position.copy(dy),fy.copy(n.position),fy.add(this._cubeDirections[e]),n.up.copy(this._cubeUps[e]),n.lookAt(fy),n.updateMatrixWorld(),i.makeTranslation(-dy.x,-dy.y,-dy.z),hy.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(hy)}}]),n}(uy);py.prototype.isPointLightShadow=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="PointLight",r.distance=a,r.decay=o,r.shadow=new py,r}return _createClass(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}]),n}(ay).prototype.isPointLight=!0;var gy=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return _classCallCheck(this,n),(t=e.call(this)).type="OrthographicCamera",t.zoom=1,t.view=null,t.left=i,t.right=r,t.top=a,t.bottom=o,t.near=s,t.far=l,t.updateProjectionMatrix(),t}return _createClass(n,[{key:"copy",value:function(t,e){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}},{key:"setViewOffset",value:function(t,e,n,i,r,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,a=n+t,o=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var l=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(r+=l*this.view.offsetX)+l*this.view.width,s=(o-=u*this.view.offsetY)-u*this.view.height}this.projectionMatrix.makeOrthographic(r,a,o,s,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}]),n}(yp);gy.prototype.isOrthographicCamera=!0;var vy=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this,new gy(-5,5,5,-5,.5,500))}return _createClass(n)}(uy);vy.prototype.isDirectionalLightShadow=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="DirectionalLight",r.position.copy(df.DefaultUp),r.updateMatrix(),r.target=new df,r.shadow=new vy,r}return _createClass(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}]),n}(ay).prototype.isDirectionalLight=!0;var my=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="AmbientLight",r}return _createClass(n)}(ay);my.prototype.isAmbientLight=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return _classCallCheck(this,n),(r=e.call(this,t,i)).type="RectAreaLight",r.width=a,r.height=o,r}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.width=t.width,this.height=t.height,this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}]),n}(ay).prototype.isRectAreaLight=!0;var _y=function(){function t(){_classCallCheck(this,t),this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new ud)}return _createClass(t,[{key:"set",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}},{key:"zero",value:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}},{key:"getAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.282095),e.addScaledVector(a[1],.488603*i),e.addScaledVector(a[2],.488603*r),e.addScaledVector(a[3],.488603*n),e.addScaledVector(a[4],n*i*1.092548),e.addScaledVector(a[5],i*r*1.092548),e.addScaledVector(a[6],.315392*(3*r*r-1)),e.addScaledVector(a[7],n*r*1.092548),e.addScaledVector(a[8],.546274*(n*n-i*i)),e}},{key:"getIrradianceAt",value:function(t,e){var n=t.x,i=t.y,r=t.z,a=this.coefficients;return e.copy(a[0]).multiplyScalar(.886227),e.addScaledVector(a[1],1.023328*i),e.addScaledVector(a[2],1.023328*r),e.addScaledVector(a[3],1.023328*n),e.addScaledVector(a[4],.858086*n*i),e.addScaledVector(a[5],.858086*i*r),e.addScaledVector(a[6],.743125*r*r-.247708),e.addScaledVector(a[7],.858086*n*r),e.addScaledVector(a[8],.429043*(n*n-i*i)),e}},{key:"add",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}},{key:"addScaledSH",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(t.coefficients[n],e);return this}},{key:"scale",value:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}},{key:"lerp",value:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this}},{key:"equals",value:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}},{key:"copy",value:function(t){return this.set(t.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this}},{key:"toArray",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}}],[{key:"getBasisAt",value:function(t,e){var n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}]),t}();_y.prototype.isSphericalHarmonics3=!0;var yy,by=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new _y,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return _classCallCheck(this,n),(t=e.call(this,void 0,r)).sh=i,t}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.sh.copy(t.sh),this}},{key:"fromJSON",value:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return e.object.sh=this.sh.toArray(),e}}]),n}(ay);by.prototype.isLightProbe=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.call(this)).type="InstancedBufferGeometry",t.instanceCount=1/0,t}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.instanceCount=t.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}]),n}(Yf).prototype.isInstancedBufferGeometry=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return _classCallCheck(this,n),"number"==typeof r&&(o=r,r=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(a=e.call(this,t,i,r)).meshPerAttribute=o,a}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}},{key:"toJSON",value:function(){var t=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}]),n}(Nf).prototype.isInstancedBufferAttribute=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),i=e.call(this,t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),i.options={premultiplyAlpha:"none"},i}return _createClass(n,[{key:"setOptions",value:function(t){return this.options=t,this}},{key:"load",value:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,a=Q_.get(t);if(void 0!==a)return r.manager.itemStart(t),setTimeout(function(){e&&e(a),r.manager.itemEnd(t)},0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(t,o).then(function(t){return t.blob()}).then(function(t){return createImageBitmap(t,Object.assign(r.options,{colorSpaceConversion:"none"}))}).then(function(n){Q_.add(t,n),e&&e(n),r.manager.itemEnd(t)}).catch(function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),r.manager.itemStart(t)}}]),n}(X_).prototype.isImageBitmapLoader=!0;var xy=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){return _classCallCheck(this,n),e.call(this,t)}return _createClass(n,[{key:"load",value:function(t,e,n,i){var r=this,a=new K_(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,function(n){try{var a=n.slice(0);(void 0===yy&&(yy=new(window.AudioContext||window.webkitAudioContext)),yy).decodeAudioData(a,function(t){e(t)})}catch(a){i?i(a):console.error(a),r.manager.itemError(t)}},n,i)}}]),n}(X_);(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;_classCallCheck(this,n),r=e.call(this,void 0,a);var o=(new Of).set(t),s=(new Of).set(i),l=new ud(o.r,o.g,o.b),u=new ud(s.r,s.g,s.b),c=Math.sqrt(Math.PI),h=c*Math.sqrt(.75);return r.sh.coefficients[0].copy(l).add(u).multiplyScalar(c),r.sh.coefficients[1].copy(l).sub(u).multiplyScalar(h),r}return _createClass(n)})(by).prototype.isHemisphereLightProbe=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_classCallCheck(this,n),i=e.call(this,void 0,r);var a=(new Of).set(t);return i.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),i}return _createClass(n)}(by).prototype.isAmbientLightProbe=!0;var wy=function(){function t(e,n,i){var r,a,o;switch(_classCallCheck(this,t),this.binding=e,this.valueSize=i,n){case"quaternion":r=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":r=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:r=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return _createClass(t,[{key:"accumulate",value:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==i;++o)n[r+o]=n[o];a=e}else a+=e,this._mixBufferRegion(n,r,0,e/a,i);this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(t){var e=this.buffer,n=this.valueSize,i=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,i,0,t,n),this.cumulativeWeightAdditive+=t}},{key:"apply",value:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1&&this._mixBufferRegion(n,i,e*this._origIndex,1-r,e),a>0&&this._mixBufferRegionAdditive(n,i,this._addIndex*e,1,e);for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){o.setValue(n,i);break}}},{key:"saveOriginalState",value:function(){var t=this.buffer,e=this.valueSize,n=e*this._origIndex;this.binding.getValue(t,n);for(var i=e,r=n;i!==r;++i)t[i]=t[n+i%e];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){this.binding.setValue(this.buffer,3*this.valueSize)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var t=this._addIndex*this.valueSize,e=t+this.valueSize,n=t;n<e;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[e+n]=this.buffer[t+n]}},{key:"_select",value:function(t,e,n,i,r){if(i>=.5)for(var a=0;a!==r;++a)t[e+a]=t[n+a]}},{key:"_slerp",value:function(t,e,n,i){ld.slerpFlat(t,e,t,e,t,n,i)}},{key:"_slerpAdditive",value:function(t,e,n,i,r){var a=this._workIndex*r;ld.multiplyQuaternionsFlat(t,a,t,e,t,n),ld.slerpFlat(t,e,t,e,t,a,i)}},{key:"_lerp",value:function(t,e,n,i,r){for(var a=1-i,o=0;o!==r;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*i}}},{key:"_lerpAdditive",value:function(t,e,n,i,r){for(var a=0;a!==r;++a){var o=e+a;t[o]=t[o]+t[n+a]*i}}}]),t}(),ky="\\[\\]\\.:\\/",Cy=new RegExp("["+ky+"]","g"),My="[^"+ky+"]",Ty="[^"+ky.replace("\\.","")+"]",Sy=/((?:WC+[\/:])*)/.source.replace("WC",My),Ay=/(WCOD+)?/.source.replace("WCOD",Ty),Ey=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",My),Py=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",My),Iy=new RegExp("^"+Sy+Ay+Ey+Py+"$"),Oy=["material","materials","bones"],Ry=function(){function t(e,n,i){_classCallCheck(this,t);var r=i||Ly.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}return _createClass(t,[{key:"getValue",value:function(t,e){this.bind();var n=this._bindings[this._targetGroup.nCachedObjects_];void 0!==n&&n.getValue(t,e)}},{key:"setValue",value:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)}},{key:"bind",value:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()}},{key:"unbind",value:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}]),t}(),Ly=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.path=n,this.parsedPath=i||t.parseTrackName(n),this.node=t.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return _createClass(t,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(t,e){t[e]=this.node[this.propertyName]}},{key:"_getValue_array",value:function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]}},{key:"_getValue_arrayElement",value:function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(t,e){this.resolvedProperty.toArray(t,e)}},{key:"_setValue_direct",value:function(t,e){this.targetObject[this.propertyName]=t[e]}},{key:"_setValue_direct_setNeedsUpdate",value:function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]}},{key:"_setValue_array_setNeedsUpdate",value:function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(t,e){this.resolvedProperty.fromArray(t,e)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(t,e){this.bind(),this.getValue(t,e)}},{key:"_setValue_unbound",value:function(t,e){this.bind(),this.setValue(t,e)}},{key:"bind",value:function(){var e=this.node,n=this.parsedPath,i=n.objectName,r=n.propertyName,a=n.propertyIndex;if(e||(e=t.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(i){var o=n.objectIndex;switch(i){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var s=0;s<e.length;s++)if(e[s].name===o){o=s;break}break;default:if(void 0===e[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[i]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var l=e[r];if(void 0!==l){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[a]&&(a=e.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=l,this.propertyIndex=a}else void 0!==l.fromArray&&void 0!==l.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=l):Array.isArray(l)?(c=this.BindingType.EntireArray,this.resolvedProperty=l):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else console.error("THREE.PropertyBinding: Trying to update property for track: "+n.nodeName+"."+r+" but it wasn't found.",e)}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(e,n,i){return e&&e.isAnimationObjectGroup?new t.Composite(e,n,i):new t(e,n,i)}},{key:"sanitizeNodeName",value:function(t){return t.replace(/\s/g,"_").replace(Cy,"")}},{key:"parseTrackName",value:function(t){var e=Iy.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==Oy.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n}},{key:"findNode",value:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var i=function t(n){for(var i=0;i<n.length;i++){var r=n[i];if(r.name===e||r.uuid===e)return r;var a=t(r.children);if(a)return a}return null}(t.children);if(i)return i}return null}}]),t}();return t.Composite=Ry,t}();Ly.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Ly.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Ly.prototype.GetterByBindingType=[Ly.prototype._getValue_direct,Ly.prototype._getValue_array,Ly.prototype._getValue_arrayElement,Ly.prototype._getValue_toArray],Ly.prototype.SetterByBindingTypeAndVersioning=[[Ly.prototype._setValue_direct,Ly.prototype._setValue_direct_setNeedsUpdate,Ly.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ly.prototype._setValue_array,Ly.prototype._setValue_array_setNeedsUpdate,Ly.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ly.prototype._setValue_arrayElement,Ly.prototype._setValue_arrayElement_setNeedsUpdate,Ly.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ly.prototype._setValue_fromArray,Ly.prototype._setValue_fromArray_setNeedsUpdate,Ly.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var Dy=function(){function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;_classCallCheck(this,t),this._mixer=e,this._clip=n,this._localRoot=i,this.blendMode=r;for(var a=n.tracks,o=a.length,s=new Array(o),l={endingStart:Zh,endingEnd:Zh},u=0;u!==o;++u){var c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return _createClass(t,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(t){return this._startTime=t,this}},{key:"setLoop",value:function(t,e){return this.loop=t,this.repetitions=e,this}},{key:"setEffectiveWeight",value:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(t){return this._scheduleFading(t,0,1)}},{key:"fadeOut",value:function(t){return this._scheduleFading(t,1,0)}},{key:"crossFadeFrom",value:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,a=i/r;t.warp(1,r/i,e),this.warp(a,1,e)}return this}},{key:"crossFadeTo",value:function(t,e,n){return t.crossFadeFrom(this,e,n)}},{key:"stopFading",value:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"setEffectiveTimeScale",value:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}},{key:"syncWith",value:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}},{key:"halt",value:function(t){return this.warp(this._effectiveTimeScale,0,t)}},{key:"warp",value:function(t,e,n){var i=this._mixer,r=i.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+n,l[0]=t/a,l[1]=e/a,this}},{key:"stopWarping",value:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(t,e,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var a=(t-r)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0){var l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case 2501:for(var c=0,h=l.length;c!==h;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case 2500:default:for(var d=0,f=l.length;d!==f;++d)l[d].evaluate(o),u[d].accumulate(i,s)}}}else this._updateWeight(t)}},{key:"_updateWeight",value:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e}},{key:"_updateTimeScale",value:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}},{key:"_updateTime",value:function(t){var e=this._clip.duration,n=this.loop,i=this.time+t,r=this._loopCount,a=2202===n;if(0===t)return-1===r?i:a&&1==(1&r)?e-i:i;if(2200===n){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(i>=e)i=e;else{if(!(i<0)){this.time=i;break t}i=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i>=e||i<0){var o=Math.floor(i/e);i-=e*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=t>0?e:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&1==(1&r))return e-i}return i}},{key:"_setEndings",value:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=Fh,i.endingEnd=Fh):(i.endingStart=t?this.zeroSlopeAtStart?Fh:Zh:2402,i.endingEnd=e?this.zeroSlopeAtEnd?Fh:Zh:2402)}},{key:"_scheduleFading",value:function(t,e,n){var i=this._mixer,r=i.time,a=this._weightInterpolant;null===a&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=e,o[1]=r+t,s[1]=n,this}}]),t}();(function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this))._root=t,i._initMemoryManager(),i._accuIndex=0,i.time=0,i.timeScale=1,i}return _createClass(n,[{key:"_bindAction",value:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var c=0;c!==r;++c){var h=i[c],d=h.name,f=u[d];if(void 0!==f)a[c]=f;else{if(void 0!==(f=a[c])){null===f._cacheIndex&&(++f.referenceCount,this._addInactiveBinding(f,s,d));continue}++(f=new wy(Ly.create(n,d,e&&e._propertyBindings[c].binding.parsedPath),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(f,s,d),a[c]=f}o[c].resultBuffer=f.buffer}}},{key:"_activateAction",value:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}}},{key:"_deactivateAction",value:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions}},{key:"_addInactiveAction",value:function(t,e,n){var i=this._actions,r=this._actionsByClip,a=r[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=i.length,i.push(t),a.actionByRoot[n]=t}},{key:"_removeInactiveAction",value:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],u=t._byClipCacheIndex;l._byClipCacheIndex=u,s[u]=l,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(t)}},{key:"_removeInactiveBindingsForAction",value:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}}},{key:"_lendAction",value:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}},{key:"_takeBackAction",value:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}},{key:"_addInactiveBinding",value:function(t,e,n){var i=this._bindingsByRootAndName,r=this._bindings,a=i[e];void 0===a&&(a={},i[e]=a),a[n]=t,t._cacheIndex=r.length,r.push(t)}},{key:"_removeInactiveBinding",value:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,a=this._bindingsByRootAndName,o=a[i],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete o[r],0===Object.keys(o).length&&delete a[i]}},{key:"_lendBinding",value:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}},{key:"_takeBackBinding",value:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r}},{key:"_lendControlInterpolant",value:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new Z_(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n}},{key:"_takeBackControlInterpolant",value:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r}},{key:"clipAction",value:function(t,e,n){var i=e||this._root,r=i.uuid,a="string"==typeof t?j_.findByName(i,t):t,o=null!==a?a.uuid:t,s=this._actionsByClip[o],l=null;if(void 0===n&&(n=null!==a?a.blendMode:2500),void 0!==s){var u=s.actionByRoot[r];if(void 0!==u&&u.blendMode===n)return u;l=s.knownActions[0],null===a&&(a=l._clip)}if(null===a)return null;var c=new Dy(this,a,e,n);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c}},{key:"existingAction",value:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?j_.findByName(n,t):t,a=this._actionsByClip[r?r.uuid:t];return void 0!==a&&a.actionByRoot[i]||null}},{key:"stopAllAction",value:function(){for(var t=this._actions,e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this}},{key:"update",value:function(t){for(var e=this._actions,n=this._nActiveActions,i=this.time+=t*=this.timeScale,r=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o)e[o]._update(i,t,r,a);for(var s=this._bindings,l=this._nActiveBindings,u=0;u!==l;++u)s[u].apply(a);return this}},{key:"setTime",value:function(t){this.time=0;for(var e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,c=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,c._cacheIndex=u,e[u]=c,e.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}}},{key:"uncacheRoot",value:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}},{key:"uncacheAction",value:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n})(qh).prototype._controlInterpolantsResultBuffer=new Float32Array(1);var Ny=function(){function t(e){_classCallCheck(this,t),"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}return _createClass(t,[{key:"clone",value:function(){return new t(void 0===this.value.clone?this.value:this.value.clone())}}]),t}();(function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return _classCallCheck(this,n),(r=e.call(this,t,i)).meshPerAttribute=a,r}return _createClass(n,[{key:"copy",value:function(t){return _get(_getPrototypeOf(n.prototype),"copy",this).call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}},{key:"clone",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"clone",this).call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e}},{key:"toJSON",value:function(t){var e=_get(_getPrototypeOf(n.prototype),"toJSON",this).call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}]),n})(jv).prototype.isInstancedInterleavedBuffer=!0;var Zy=new $h,Fy=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $h(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new $h(-1/0,-1/0);_classCallCheck(this,t),this.min=e,this.max=n}return _createClass(t,[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=Zy.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return Zy.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}]),t}();Fy.prototype.isBox2=!0,function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).material=t,i.render=function(){},i.hasPositions=!1,i.hasNormals=!1,i.hasColors=!1,i.hasUvs=!1,i.positionArray=null,i.normalArray=null,i.colorArray=null,i.uvArray=null,i.count=0,i}return _createClass(n)}(df).prototype.isImmediateRenderObject=!0;var Uy=new ud,By=new Bd,zy=new Bd;function qy(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,qy(t.children[n]));return e}var Hy=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;_classCallCheck(this,n),a=new Of(a),o=new Of(o);for(var s=r/2,l=i/r,u=i/2,c=[],h=[],d=0,f=0,p=-u;d<=r;d++,p+=l){c.push(-u,0,p,u,0,p),c.push(p,0,-u,p,0,u);var g=d===s?a:o;g.toArray(h,f),f+=3,g.toArray(h,f),f+=3,g.toArray(h,f),f+=3,g.toArray(h,f),f+=3}var v=new Yf;return v.setAttribute("position",new Uf(c,3)),v.setAttribute("color",new Uf(h,3)),(t=e.call(this,v,new xm({vertexColors:!0,toneMapped:!1}))).type="GridHelper",t}return _createClass(n)}(Pm),Gy=new Float32Array(1);new Int32Array(Gy.buffer),Math.pow(2,8);var Vy=new Rf({side:1,depthWrite:!1,depthTest:!1});new dp(new pp,Vy),Math.sqrt(5),Zm.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Zm.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},iy.prototype.fromPoints=function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)},Hy.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;_classCallCheck(this,n);for(var r=qy(t),a=new Yf,o=[],s=[],l=new Of(0,0,1),u=new Of(0,1,0),c=0;c<r.length;c++){var h=r[c];h.parent&&h.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),s.push(l.r,l.g,l.b),s.push(u.r,u.g,u.b))}return a.setAttribute("position",new Uf(o,3)),a.setAttribute("color",new Uf(s,3)),(i=e.call(this,a,new xm({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0}))).type="SkeletonHelper",i.isSkeletonHelper=!0,i.root=t,i.bones=r,i.matrix=t.matrixWorld,i.matrixAutoUpdate=!1,i}return _createClass(n,[{key:"updateMatrixWorld",value:function(t){var e=this.bones,i=this.geometry,r=i.getAttribute("position");zy.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<e.length;a++){var s=e[a];s.parent&&s.parent.isBone&&(By.multiplyMatrices(zy,s.matrixWorld),Uy.setFromMatrixPosition(By),r.setXYZ(o,Uy.x,Uy.y,Uy.z),By.multiplyMatrices(zy,s.parent.matrixWorld),Uy.setFromMatrixPosition(By),r.setXYZ(o+1,Uy.x,Uy.y,Uy.z),o+=2)}i.getAttribute("position").needsUpdate=!0,_get(_getPrototypeOf(n.prototype),"updateMatrixWorld",this).call(this,t)}}]),n}(Pm).prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},X_.prototype.extractUrlBase=function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"decodeText",value:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(n){return e}}},{key:"extractUrlBase",value:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}}]),t}().extractUrlBase(t)},X_.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Fy.prototype.center=function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},Fy.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Fy.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},Fy.prototype.size=function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)},dd.prototype.center=function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},dd.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},dd.prototype.isIntersectionBox=function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},dd.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},dd.prototype.size=function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)},Id.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Pp.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},td.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},td.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},td.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},td.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},td.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},td.prototype.getInverse=function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},Bd.prototype.extractPosition=function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},Bd.prototype.flattenToArrayOffset=function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},Bd.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new ud).setFromMatrixColumn(this,3)},Bd.prototype.setRotationFromQuaternion=function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},Bd.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},Bd.prototype.multiplyVector3=function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Bd.prototype.multiplyVector4=function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Bd.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},Bd.prototype.rotateAxis=function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},Bd.prototype.crossVector=function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Bd.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},Bd.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},Bd.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},Bd.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},Bd.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},Bd.prototype.applyToBufferAttribute=function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},Bd.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},Bd.prototype.makeFrustum=function(t,e,n,i,r,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,a)},Bd.prototype.getInverse=function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()},Sp.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},ld.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},ld.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},Ud.prototype.isIntersectionBox=function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},Ud.prototype.isIntersectionPlane=function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},Ud.prototype.isIntersectionSphere=function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},kf.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},kf.prototype.barycoordFromPoint=function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},kf.prototype.midpoint=function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},kf.prototypenormal=function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},kf.prototype.plane=function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)},kf.barycoordFromPoint=function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),kf.getBarycoord(t,e,n,i,r)},kf.normal=function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),kf.getNormal(t,e,n,i)},ry.prototype.extractAllPoints=function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},ry.prototype.extrude=function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new E_(this,t)},ry.prototype.makeGeometry=function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new I_(this,t)},$h.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},$h.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},$h.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ud.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},ud.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},ud.prototype.getPositionFromMatrix=function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},ud.prototype.getScaleFromMatrix=function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},ud.prototype.getColumnFromMatrix=function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},ud.prototype.applyProjection=function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},ud.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},ud.prototype.distanceToManhattan=function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},ud.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ad.prototype.fromAttribute=function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},ad.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},df.prototype.getChildByName=function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},df.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},df.prototype.translate=function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},df.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},df.prototype.applyMatrix=function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(df.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),dp.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(dp.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),vm.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},bp.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(ay.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(Nf.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===zh},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(zh)}}}),Nf.prototype.setDynamic=function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?zh:Bh),this},Nf.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Nf.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Yf.prototype.addIndex=function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},Yf.prototype.addAttribute=function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new Nf(arguments[1],arguments[2])))},Yf.prototype.addDrawCall=function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},Yf.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Yf.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Yf.prototype.removeAttribute=function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},Yf.prototype.applyMatrix=function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)},Object.defineProperties(Yf.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),jv.prototype.setDynamic=function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?zh:Bh),this},jv.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},E_.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},E_.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},E_.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Wv.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},Ny.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(Mf.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Of}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(_p.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Vv.prototype.clearTarget=function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},Vv.prototype.animate=function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},Vv.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Vv.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Vv.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Vv.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Vv.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Vv.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Vv.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Vv.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Vv.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Vv.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Vv.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Vv.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Vv.prototype.enableScissorTest=function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},Vv.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Vv.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Vv.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Vv.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Vv.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Vv.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Vv.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Vv.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Vv.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Vv.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Vv.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?3001:Uh}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Dv.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(od.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this)).type="Audio",i.listener=t,i.context=t.context,i.gain=i.context.createGain(),i.gain.connect(t.getInput()),i.autoplay=!1,i.buffer=null,i.detune=0,i.loop=!1,i.loopStart=0,i.loopEnd=0,i.offset=0,i.duration=void 0,i.playbackRate=1,i.isPlaying=!1,i.hasPlaybackControl=!0,i.source=null,i.sourceType="empty",i._startedAt=0,i._progress=0,i._connected=!1,i.filters=[],i}return _createClass(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}},{key:"setMediaElementSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}},{key:"setMediaStreamSource",value:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}},{key:"setBuffer",value:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+t;var e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}},{key:"setDetune",value:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(t){return this.setFilters(t?[t]:[])}},{key:"setPlaybackRate",value:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(t){return this.loopStart=t,this}},{key:"setLoopEnd",value:function(t){return this.loopEnd=t,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}]),n}(df).prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new xy).load(t,function(t){e.setBuffer(t)}),this},xp.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},xp.prototype.clear=function(t,e,n,i){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,n,i)},ed.crossOrigin=void 0,ed.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new ny;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},ed.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new ey;r.setCrossOrigin(this.crossOrigin);var a=r.load(t,n,void 0,i);return e&&(a.mapping=e),a},ed.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ed.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"130"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="130");var Wy=n(9027),jy=function(){var t=function(){function t(){_classCallCheck(this,t),this.aspectRatio=0,this.Width=0,this.Height=0,this.scene=new Wv,this.scene.background=new Of(16777215),this.render=this.render.bind(this)}return _createClass(t,[{key:"OnInit",value:function(t,e,n,i,r){this.aspectRatio=t,this.Width=i,this.Height=r,this.createCamera(t,i,r),this.add(new my(15790320)),this.createRender(e,n,i,r),this.addControls()}},{key:"createHelper",value:function(){this.GridHelper=new Hy(20,20),this.GridHelper.geometry.rotateX(Math.PI/2),this.scene.add(this.GridHelper)}},{key:"addControls",value:function(){var t=new Wy.OrbitControls(this.camera,this.renderer.domElement);t.enableRotate=!1,t.enablePan=!1,t.addEventListener("change",this.render)}},{key:"createCamera",value:function(t,e,n){t=null===t?this.aspectRatio:t,e=null===e?this.Width:e,n=null===n?this.Height:n,void 0!==this.scene.getObjectByName("camera")&&this.scene.remove(this.camera),this.camera=new gy(-e/100,e/100,n/100,-n/100,-100,100),this.camera.position.set(0,0,50),this.camera.name="camera",this.scene.add(this.camera)}},{key:"createRender",value:function(t,e,n,i){this.renderer=new Vv({preserveDrawingBuffer:!0,canvas:t,alpha:!0,antialias:!0}),this.renderer.setPixelRatio(e),this.renderer.setSize(n,i),this.renderer.shadowMap.enabled=!0}},{key:"onResize",value:function(t,e,n){this.camera.left=-e/100,this.camera.right=e/100,this.camera.top=n/100,this.camera.bottom=-n/100,this.camera.updateProjectionMatrix(),this.renderer.setSize(e,n),this.render()}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"getBoundingClientRect",value:function(){return this.renderer.domElement.getBoundingClientRect()}},{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var a=r[i];this.scene.add(a)}}},{key:"remove",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var a=r[i];this.scene.remove(a)}}},{key:"removeByName",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=0,r=e;i<r.length;i++){var a=r[i],o=this.scene.getObjectByName(a);void 0!==o&&this.scene.remove(o)}}},{key:"getSettingJson",value:function(){return{camera:{x:this.camera.position.x,y:this.camera.position.y,z:this.camera.position.z}}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Yy=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getCentroid",value:function(t){for(var e=0,n=0,i=0,r=0,a=0,o=Object.keys(t);a<o.length;a++){var s=o[a],l=t[s].vertice,u=t[s].position,c=this.getAbAcAd(l),h=c.ab,d=c.ac,f=c.ad;if(0===h.x&&0===h.y&&0===h.z&&0===d.x&&0===d.y&&0===d.z&&0===f.x&&0===f.y&&0===f.z)return new ud(0,0,0);var p=new ud((0+h.x+d.x)/3+l[0].x,(0+h.y+d.y)/3+l[0].y,(0+h.z+d.z)/3+l[0].z),g=Math.pow(Math.pow(h.y*d.z-h.z*d.y,2)+Math.pow(h.z*d.x-h.x*d.z,2)+Math.pow(h.x*d.y-h.y*d.x,2),.5)/2,v=new ud((0+d.x+f.x)/3+l[0].x,(0+d.y+f.y)/3+l[0].y,(0+d.z+f.z)/3+l[0].z),m=Math.pow(Math.pow(d.y*f.z-d.z*f.y,2)+Math.pow(d.z*f.x-d.x*f.z,2)+Math.pow(d.x*f.y-d.y*f.x,2),.5)/2,_=g+m;e+=((p.x*g+v.x*m)/_+u.x)*_,n+=((p.y*g+v.y*m)/_+u.y)*_,i+=((p.z*g+v.z*m)/_+u.z)*_,r+=_}return new ud(e/r,n/r,i/r)}},{key:"getSectionParam",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e&&(e=this.getCentroid(t));var n,i=0,r=0,a=0,o=_createForOfIteratorHelper(t);try{for(o.s();!(n=o.n()).done;){var s=n.value,l=s.vertice,u=s.position,c=this.getAbAcAd(l),h=c.ab,d=c.ac,f=c.ad;if(0===h.x&&0===h.y&&0===h.z&&0===d.x&&0===d.y&&0===d.z&&0===f.x&&0===f.y&&0===f.z)return{A:i,Ix:r,Iy:a};var p=new ud((0+h.x+d.x)/3+l[0].x,(0+h.y+d.y)/3+l[0].y,(0+h.z+d.z)/3+l[0].z),g=Math.pow(Math.pow(h.y*d.z-h.z*d.y,2)+Math.pow(h.z*d.x-h.x*d.z,2)+Math.pow(h.x*d.y-h.y*d.x,2),.5)/2,v=new ud((0+d.x+f.x)/3+l[0].x,(0+d.y+f.y)/3+l[0].y,(0+d.z+f.z)/3+l[0].z),m=Math.pow(Math.pow(d.y*f.z-d.z*f.y,2)+Math.pow(d.z*f.x-d.x*f.z,2)+Math.pow(d.x*f.y-d.y*f.x,2),.5)/2,_=[new ud(0,0,0),h,d,f],y=this.getI0(_,"x"),b=this.getI0(_,"y"),x=new ud((g*p.x+m*v.x)/(g+m),(g*p.y+m*v.y)/(g+m),(g*p.z+m*v.z)/(g+m));i+=g+m,r+=y+(g+m)*Math.pow(e.y-(u.y+x.y),2),a+=b+(g+m)*Math.pow(e.x-(u.x+x.x),2)}}catch(w){o.e(w)}finally{o.f()}return{A:i,Ix:r,Iy:a}}},{key:"getAbAcAd",value:function(t){return{ab:new ud(t[1].x-t[0].x,t[1].y-t[0].y,t[1].z-t[0].z),ac:new ud(t[2].x-t[0].x,t[2].y-t[0].y,t[2].z-t[0].z),ad:new ud(t[3].x-t[0].x,t[3].y-t[0].y,t[3].z-t[0].z)}}},{key:"getI0",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",n=0,i=Math.min(t[0].x,t[1].x,t[2].x,t[3].x),r=Math.min(t[0].y,t[1].y,t[2].y,t[3].y),a=[];"x"===e?(a.push(new ud(t[0].x-i,t[0].y-r,t[0].z)),a.push(new ud(t[1].x-i,t[1].y-r,t[1].z)),a.push(new ud(t[2].x-i,t[2].y-r,t[2].z)),a.push(new ud(t[3].x-i,t[3].y-r,t[3].z)),a.push(new ud(t[0].x-i,t[0].y-r,t[0].z))):(a.push(new ud(t[0].y-r,t[0].x-i,t[0].z)),a.push(new ud(t[1].y-r,t[1].x-i,t[1].z)),a.push(new ud(t[2].y-r,t[2].x-i,t[2].z)),a.push(new ud(t[3].y-r,t[3].x-i,t[3].z)),a.push(new ud(t[0].y-r,t[0].x-i,t[0].z)));for(var o=[],s=0;s<a.length-1;s++)if(o[s]={},o[s].x1=a[s].x,o[s].x2=a[s+1].x,a[s].x-a[s+1].x==0)o[s].a=0,o[s].b=0,o[s].x0=0;else{var l=(a[s].y-a[s+1].y)/(a[s].x-a[s+1].x),u=a[s].y-l*a[s].x;o[s].a=l,o[s].b=u,o[s].x0=0===l?0:-1*u/l}for(var c=0,h=o;c<h.length;c++){var d=h[c],f=d.x1,p=d.x2,g=d.x0,v=d.a,m=d.b;n+=0===v?Math.pow(m,3)*(p-f)/12:((p-g)*Math.pow(v*p+m,3)-(f-g)*Math.pow(v*f+m,3))/36}return Math.abs(n)}},{key:"getVertices_fixed",value:function(t,e){var n,i,r,a,o,s,l,u,c,h,d,f,p,g=[],v=t.steels.vertices,m=e.x.lambda1,_=e.x.lambda2,y=e.x.lambda3,b=e.x.lambda4,x=e.x.lambda5,w=e.x.lambda8;switch(t.shapeName){case"I":n=v[0].vertice,v[1].vertice,i=v[2].vertice,a=v[0].position,v[1].position,o=v[2].position,l=t.steels[1].steel_w,u=t.steels[2].steel_w,c=t.steels[3].steel_w,d=Math.atan((n[1].y-n[0].y)/(n[1].x-n[0].x)),f=m*Math.cos(d),p=m*Math.sin(d);var k={};k.vertice=[new ud(0,0,0),new ud(f,p,0),new ud(f,n[2].y+p,0),new ud(0,n[2].y+p,0)],k.position=new ud(a.x+l-f,a.y,a.z),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,n[2].y+p,0),new ud(0,n[2].y+p,0)],position:new ud(a.x+l-f,a.y,a.z)}),f=b*Math.cos(d),p=b*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,n[2].y+p,0),new ud(0,n[2].y+p,0)],position:new ud(a.x+l,a.y,a.z)}),g.push(v[1]),d=Math.atan((i[1].y-i[0].y)/(i[1].x-i[0].x)),f=x*Math.cos(d),p=x*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,i[2].y+p,0),new ud(0,i[2].y+p,0)],position:new ud(o.x+c-f,o.y,o.z)}),f=w*Math.cos(d),p=w*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,i[2].y+p,0),new ud(0,i[2].y+p,0)],position:new ud(o.x+c,o.y,o.z)});break;case"H":break;case"Box":n=v[0].vertice,v[1].vertice,i=v[2].vertice,r=v[3].vertice,a=v[0].position,v[1].position,o=v[2].position,s=v[3].position,l=t.steels[1].steel_w,u=t.steels[2].steel_w,c=t.steels[3].steel_w,h=t.steels[4].steel_w,d=Math.atan((n[1].y-n[0].y)/(n[1].x-n[0].x)),f=m*Math.cos(d),p=m*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,n[2].y+p,0),new ud(0,n[2].y+p,0)],position:new ud(a.x+l-f,a.y,a.z)}),f=_*Math.cos(d),p=_*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,n[2].y+p,0),new ud(0,n[2].y+p,0)],position:new ud(a.x+l,a.y,a.z)}),f=y*Math.cos(d),p=y*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,n[2].y+p,0),new ud(0,n[2].y+p,0)],position:new ud(a.x+l+u-f,a.y,a.z)}),f=b*Math.cos(d),p=b*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,n[2].y+p,0),new ud(0,n[2].y+p,0)],position:new ud(a.x+l+u,a.y,a.z)}),g.push(v[1]),g.push(v[2]),d=Math.atan((r[1].y-r[0].y)/(r[1].x-r[0].x)),f=m*Math.cos(d),p=m*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,r[2].y+p,0),new ud(0,r[2].y+p,0)],position:new ud(s.x+l-f,s.y,s.z)}),f=_*Math.cos(d),p=_*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,r[2].y+p,0),new ud(0,r[2].y+p,0)],position:new ud(s.x+h,s.y,s.z)}),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,r[2].y+p,0),new ud(0,r[2].y+p,0)],position:new ud(s.x+h+c-f,s.y,s.z)}),f=m*Math.cos(d),p=m*Math.sin(d),g.push({vertice:[new ud(0,0,0),new ud(f,p,0),new ud(f,r[2].y+p,0),new ud(0,r[2].y+p,0)],position:new ud(s.x+h+u,s.y,s.z)})}return g}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Qy=function(){var t=function(){function t(e,n,i,r){_classCallCheck(this,t),this.bars=e,this.steel=n,this.helper=i,this.param=r}return _createClass(t,[{key:"getI",value:function(t,e,n,i,r,a){var o={symmetry:!0,Concretes:[],ConcreteElastic:[]},s=this.getShape(e,t,n,i,r,a);return o.member=s,o}},{key:"getSection",value:function(t,e,n){return{member:null}}},{key:"getShape",value:function(t,e,n,i,r,a){for(var o=this.getSection(t,e,n),s={},l=this.steel.getSteelJson(t.g_no),u=0;u<l.length;u++){var c=l[u];if(void 0!==c.index&&c.index===n){s[1]=l[u+0],s[2]=l[u+1],s[3]=l[u+2],s[4]=l[u+3],s[5]=l[u+4];break}}for(var h={},d=0,f=Object.keys(s);d<f.length;d++){var p=f[d];if(null!=this.helper.toNumber(p)){var g=s[p];h["steel_b"+String(p)]=null==g.steel_b?0:g.steel_b,h["steel_h"+String(p)]=null==g.steel_h?0:g.steel_h,h["steel_w"+String(p)]=null==g.steel_w?0:g.steel_w,h["lib_b"+String(p)]=null==g.lib_b?0:g.lib_b,h["lib_h"+String(p)]=null==g.lib_h?0:g.lib_h,h["lib_w"+String(p)]=null==g.lib_w?0:g.lib_w,h["lib_n"+String(p)]=null==g.lib_n?0:g.lib_n}}for(var v=this.getVertices(h),m=this.param.getCentroid(v),_=this.param.getSectionParam(v,m),y={A:null,Ix:null,Iy:null,rs:null},b=0,x=Object.keys(s);b<x.length;b++){var w=x[b],k=this.helper.toNumber(w);if(null!==k){y[k]={title:s[w].title,steel_b:h["steel_b"+String(k)],steel_h:h["steel_h"+String(k)],steel_w:h["steel_w"+String(k)],lib_b:h["lib_b"+String(k)],lib_h:h["lib_h"+String(k)],lib_w:h["lib_w"+String(k)],lib_n:h["lib_n"+String(k)]};var C=1===k||3===k?"steel_h"+String(k):"steel_b"+String(k);y[k].fsy=this.helper.getFsyk2(h[C],r.material_steel)}}var M={Afgu:h.steel_b1*h.steel_h1,Afnu:h.steel_b1*h.steel_h1,Afgl:h.steel_b3*h.steel_h3,Afnl:h.steel_b3*h.steel_h3,Aw:h.steel_b2*h.steel_h2,yuo:0-m.y,yui:0-m.y-h.steel_h1,ylo:h.steel_h1+h.steel_h2+h.steel_h3+m.y,yli:h.steel_h1+h.steel_h2+m.y};return y.A=_.A,y.Ix=_.Ix,y.Iy=_.Iy,y.dim=M,y.vertices=v,y.rs=r.safety_factor.S_rs,o.steel=y,o}},{key:"getVertices",value:function(t){var e=[];0===t.steel_h3&&(t.steel_h3=t.steel_h1),0===t.steel_h1&&(t.steel_h1=t.steel_h3),0===t.steel_b3&&(t.steel_b3=t.steel_b1),0===t.steel_b1&&(t.steel_b1=t.steel_b3),0===t.steel_w1&&(t.steel_w1=t.steel_b1/2),0===t.steel_w3&&(t.steel_w3=t.steel_b3/2);var n={vertice:[],position:new ud(0,0,0)};return n.vertice.push(new ud(0,0,0)),n.vertice.push(new ud(t.steel_b1,0,0)),n.vertice.push(new ud(t.steel_b1,-t.steel_h1,0)),n.vertice.push(new ud(0,-t.steel_h1,0)),n.position=new ud(0,0,0),e.push(n),(n={vertice:[],position:new ud(0,0,0)}).vertice.push(new ud(0,0,0)),n.vertice.push(new ud(t.steel_b2,0,0)),n.vertice.push(new ud(t.steel_b2,-t.steel_h2,0)),n.vertice.push(new ud(0,-t.steel_h2,0)),n.position=new ud(t.steel_w1-t.steel_b2/2,-t.steel_h1,0),e.push(n),(n={vertice:[],position:new ud(0,0,0)}).vertice.push(new ud(0,0,0)),n.vertice.push(new ud(t.steel_b3,0,0)),n.vertice.push(new ud(t.steel_b3,-t.steel_h3,0)),n.vertice.push(new ud(0,-t.steel_h3,0)),n.position=new ud(t.steel_w1-t.steel_w3,-(t.steel_h1+t.steel_h2),0),e.push(n),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Kc),i.LFG(th),i.LFG(Qc),i.LFG(Yy))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Jy=function(){var t=function(){function t(e,n,i,r){_classCallCheck(this,t),this.bars=e,this.steel=n,this.helper=i,this.param=r}return _createClass(t,[{key:"getBox",value:function(t,e,n,i,r,a){var o={symmetry:!0,Concretes:[],ConcreteElastic:[]},s=this.getBoxShape(e,t,n,i,r,a);return o.member=s,o}},{key:"getTsection",value:function(t,e,n,i,r,a){var o={symmetry:!1,Concretes:[],ConcreteElastic:[]},s=this.getTsectionShape(e,t,n,i,r,a),l=s.H,u=s.B,c=s.Bt,h=s.t;return o.Concretes.push({Height:h,WTop:c,WBottom:c,ElasticID:"c"}),o.Concretes.push({Height:l-h,WTop:u,WBottom:u,ElasticID:"c"}),o.ConcreteElastic.push(this.helper.getConcreteElastic(r)),o}},{key:"getInvertedTsection",value:function(t,e,n,i,r,a){var o={symmetry:!1,Concretes:[],ConcreteElastic:[]},s=this.getTsectionShape(e,t,n,i,r,a),l=s.B,u=s.Bt,c=s.t;return o.Concretes.push({Height:s.H-c,WTop:l,WBottom:l,ElasticID:"c"}),o.Concretes.push({Height:c,WTop:u,WBottom:u,ElasticID:"c"}),o.ConcreteElastic.push(this.helper.getConcreteElastic(r)),o}},{key:"getSection",value:function(t,e,n){return{member:null}}},{key:"getTSection",value:function(t,e,n){var i=this.getSection(t,e,n),r=this.helper.toNumber(t.Bt),a=this.helper.toNumber(t.t);return i.Bt=r,i.t=a,i}},{key:"getBoxShape",value:function(t,e,n,i,r,a){for(var o=this.getSection(t,e,n),s={},l=this.steel.getSteelJson(t.g_no),u=0;u<l.length;u++){var c=l[u];if(void 0!==c.index&&c.index===n){s[1]=l[u+0],s[2]=l[u+1],s[3]=l[u+2],s[4]=l[u+3],s[5]=l[u+4];break}}for(var h={},d=0,f=Object.keys(s);d<f.length;d++){var p=f[d];if(null!=this.helper.toNumber(p)){var g=s[p];h["steel_b"+String(p)]=null==g.steel_b?0:g.steel_b,h["steel_h"+String(p)]=null==g.steel_h?0:g.steel_h,h["steel_w"+String(p)]=null==g.steel_w?0:g.steel_w,h["lib_b"+String(p)]=null==g.lib_b?0:g.lib_b,h["lib_h"+String(p)]=null==g.lib_h?0:g.lib_h,h["lib_w"+String(p)]=null==g.lib_w?0:g.lib_w,h["lib_n"+String(p)]=null==g.lib_n?0:g.lib_n}}for(var v=this.getVertices_box(h),m=this.param.getCentroid(v),_=this.param.getSectionParam(v,m),y={A:null,Ix:null,Iy:null,rs:null},b=0,x=Object.keys(s);b<x.length;b++){var w=x[b],k=this.helper.toNumber(w);if(null!==k){y[k]={title:s[w].title,steel_b:h["steel_b"+String(k)],steel_h:h["steel_h"+String(k)],steel_w:h["steel_w"+String(k)],lib_b:h["lib_b"+String(k)],lib_h:h["lib_h"+String(k)],lib_w:h["lib_w"+String(k)],lib_n:h["lib_n"+String(k)]};var C=1===k||4===k||5===k?"steel_h"+String(k):"steel_b"+String(k);y[k].fsy=this.helper.getFsyk2(h[C],r.material_steel)}}var M={Afgu:h.steel_b1*h.steel_h1,Afnu:h.steel_b1*h.steel_h1,Afgl:h.steel_b4*h.steel_h4,Afnl:h.steel_b4*h.steel_h4,Aw:h.steel_b2*h.steel_h2+h.steel_b3*h.steel_h3,yuo:0-m.y,yui:0-m.y-h.steel_h1,ylo:h.steel_h1+h.steel_h2+h.steel_h4+m.y,yli:h.steel_h1+h.steel_h2+m.y};return y.A=_.A,y.Ix=_.Ix,y.Iy=_.Iy,y.dim=M,y.vertices=v,y.rs=r.safety_factor.S_rs,o.steel=y,o}},{key:"getTsectionShape",value:function(t,e,n,i,r,a){var o=this.getBoxShape(t,e,n,i,r,a),s=this.helper.toNumber(t.Bt),l=this.helper.toNumber(t.t);return null===s&&(s=o.B),null===l&&(l=o.H),o.Bt=s,o.t=l,o}},{key:"getSteel",value:function(t,e){for(var n={Steels:new Array,SteelElastic:new Array},i="st",r={UpperT:t.steel.I.compress_thickness,UpperW:t.steel.I.compress_width,BottomT:t.steel.I.tension_thickness,BottomW:t.steel.I.tension_width,WebT:t.steel.I.web_thickness,WebH:t.steel.I.web_height},a=!1,o=0,s=Object.keys(r);o<s.length;o++){var l=s[o];null===this.helper.toNumber(r[l])?r[l]=0:a=!0}if(!0===a){r.Df=this.helper.toNumber(t.steel.I.position),null===r.Df&&(r.Df=0);var u=[];if(r.Df>0){for(var c=0,h=[t.steel.I.fsy_tension.fsy,t.steel.I.fsy_compress.fsy,t.steel.I.fsy_web.fsy,t.steel.H.fsy_left.fsy,t.steel.H.fsy_right.fsy,t.steel.H.fsy_web.fsy];c<h.length;c++){var d=h[c];if(null!==this.helper.toNumber(d)){n.SteelElastic.push({ElasticID:i,Es:200,fsk:t.steel.I.fsy_tension.fsy,rs:t.steel.rs});break}}u.push({Height:r.Df,WTop:0,WBottom:0,ElasticID:i})}if(0===n.SteelElastic.length&&(i="sc"),r.UpperT>0){var f=t.steel.I.fsy_compress.fsy,p=n.SteelElastic.find(function(t){return t.fsk===f}),g=i;void 0===p?n.SteelElastic.push({ElasticID:g,Es:200,fsk:f,rs:t.steel.rs}):g=p.ElasticID,u.push({Height:r.UpperT,WTop:r.UpperW,WBottom:r.UpperW,ElasticID:g})}if(0===n.SteelElastic.length&&(i="sw"),r.WebH>0){var v=t.steel.I.fsy_web.fsy,m=n.SteelElastic.find(function(t){return t.fsk===v}),_=i;void 0===m?n.SteelElastic.push({ElasticID:_,Es:200,fsk:v,rs:t.steel.rs}):_=m.ElasticID,u.push({Height:r.WebH,WTop:r.WebT,WBottom:r.WebT,ElasticID:_})}if(0===n.SteelElastic.length&&(i="st"),r.BottomT>0){var y=t.steel.I.fsy_tension.fsy,b=n.SteelElastic.find(function(t){return t.fsk===y}),x=i;void 0===b?n.SteelElastic.push({ElasticID:x,Es:200,fsk:y,rs:t.steel.rs}):x=b.ElasticID,u.push({Height:r.BottomT,WTop:r.BottomW,WBottom:r.BottomW,ElasticID:x,IsTensionBar:!0})}n.Steels.push(u)}for(var w={LeftT:t.steel.H.left_thickness,LeftW:t.steel.H.left_width,RightT:t.steel.H.right_thickness,RightW:t.steel.H.right_width,WebT:t.steel.H.web_thickness,WebH:t.steel.H.web_height-r.WebT},k=!1,C=0,M=Object.keys(w);C<M.length;C++){var T=M[C];null===this.helper.toNumber(w[T])?w[T]=0:k=!0}if(!0===k){var S=this.helper.toNumber(t.steel.H.position);null===S?(w.LeftDf=0,w.RightDf=0):(w.LeftDf=S,w.RightDf=S);var A=t.H;w.LeftW>w.RightW?(w.RightDf+=(w.LeftW-w.RightW)/2,w.WebDf=w.RightDf+(w.RightW-w.WebT)/2):(w.LeftDf+=(w.RightW-w.LeftW)/2,w.WebDf=w.LeftDf+(w.LeftW-w.WebT)/2),"\u4e0a\u5074\u5f15\u5f35"===e&&(w.WebDf=A-w.WebDf),0===n.SteelElastic.length&&(i="sl");var E=[];if(w.LeftT>0){w.LeftDf>0&&E.push({Height:w.LeftDf,WTop:0,WBottom:0,ElasticID:i});var P=t.steel.H.fsy_left.fsy,I=n.SteelElastic.find(function(t){return t.fsk===P}),O=i;void 0===I?n.SteelElastic.push({ElasticID:i,Es:200,fsk:P,rs:t.steel.rs}):O=I.ElasticID,E.push({Height:w.LeftW,WTop:w.LeftT,WBottom:w.LeftT,ElasticID:O,IsTensionBar:!0}),n.Steels.push(E)}0===n.SteelElastic.length&&(i="sr");var R=[];if(w.RightT>0){w.RightDf>0&&R.push({Height:w.RightDf,WTop:0,WBottom:0,ElasticID:i});var L=t.steel.H.fsy_right.fsy,D=n.SteelElastic.find(function(t){return t.fsk===L}),N=i;void 0===D?n.SteelElastic.push({ElasticID:N,Es:200,fsk:L,rs:t.steel.rs}):N=D.ElasticID,R.push({Height:w.RightW,WTop:w.RightT,WBottom:w.RightT,ElasticID:N,IsTensionBar:!0}),n.Steels.push(R)}0===n.SteelElastic.length&&(i="sw");var Z=[];if(w.WebT>0){w.WebDf>0&&Z.push({Height:w.WebDf,WTop:0,WBottom:0,ElasticID:i});var F=t.steel.H.fsy_web.fsy,U=n.SteelElastic.find(function(t){return t.fsk===F}),B=i;void 0===U?n.SteelElastic.push({ElasticID:B,Es:200,fsk:F,rs:t.steel.rs}):B=U.ElasticID,Z.push({Height:w.WebT,WTop:w.WebH,WBottom:w.WebH,ElasticID:B,IsTensionBar:!0}),n.Steels.push(Z)}}return n}},{key:"getVertices_I",value:function(t){var e=[];0===t.steel_h3&&(t.steel_h3=t.steel_h1),0===t.steel_h1&&(t.steel_h1=t.steel_h3),0===t.steel_b3&&(t.steel_b3=t.steel_b1),0===t.steel_b1&&(t.steel_b1=t.steel_b3),0===t.steel_w1&&(t.steel_w1=t.steel_b1/2),0===t.steel_w3&&(t.steel_w3=t.steel_b3/2);var n={vertice:[],position:new ud(0,0,0)};return n.vertice.push(new ud(0,0,0)),n.vertice.push(new ud(t.steel_b1,0,0)),n.vertice.push(new ud(t.steel_b1,-t.steel_h1,0)),n.vertice.push(new ud(0,-t.steel_h1,0)),n.position=new ud(0,0,0),e.push(n),(n={vertice:[],position:new ud(0,0,0)}).vertice.push(new ud(0,0,0)),n.vertice.push(new ud(t.steel_b2,0,0)),n.vertice.push(new ud(t.steel_b2,-t.steel_h2,0)),n.vertice.push(new ud(0,-t.steel_h2,0)),n.position=new ud(t.steel_w1-t.steel_b2/2,-t.steel_h1,0),e.push(n),(n={vertice:[],position:new ud(0,0,0)}).vertice.push(new ud(0,0,0)),n.vertice.push(new ud(t.steel_b3,0,0)),n.vertice.push(new ud(t.steel_b3,-t.steel_h3,0)),n.vertice.push(new ud(0,-t.steel_h3,0)),n.position=new ud(t.steel_w1-t.steel_w3,-(t.steel_h1+t.steel_h2),0),e.push(n),e}},{key:"getVertices_H",value:function(t){var e=[];0===t.steel_h3&&(t.steel_h3=t.steel_h1),0===t.steel_h1&&(t.steel_h1=t.steel_h3),0===t.steel_b3&&(t.steel_b3=t.steel_b1),0===t.steel_b1&&(t.steel_b1=t.steel_b3),0===t.steel_w1&&(t.steel_w1=t.steel_h1/2),0===t.steel_w3&&(t.steel_w3=t.steel_h3/2);var n={vertice:[],position:new ud(0,0,0)};return n.vertice.push(new ud(0,0,0)),n.vertice.push(new ud(t.steel_b1,0,0)),n.vertice.push(new ud(t.steel_b1,-t.steel_h1,0)),n.vertice.push(new ud(0,-t.steel_h1,0)),n.position=new ud(0,0,0),e.push(n),(n={vertice:[],position:new ud(0,0,0)}).vertice.push(new ud(0,0,0)),n.vertice.push(new ud(t.steel_b2,0,0)),n.vertice.push(new ud(t.steel_b2,-t.steel_h2,0)),n.vertice.push(new ud(0,-t.steel_h2,0)),n.position=new ud(t.steel_b1,t.steel_h2/2-t.steel_w1,0),e.push(n),(n={vertice:[],position:new ud(0,0,0)}).vertice.push(new ud(0,0,0)),n.vertice.push(new ud(t.steel_b3,0,0)),n.vertice.push(new ud(t.steel_b3,-t.steel_h3,0)),n.vertice.push(new ud(0,-t.steel_h3,0)),n.position=new ud(t.steel_b1+t.steel_b2,t.steel_w3-t.steel_w1,0),e.push(n),e}},{key:"getVertices_box",value:function(t){var e=[];0===t.steel_b3&&(t.steel_b3=t.steel_b2),0===t.steel_b2&&(t.steel_b2=t.steel_b3),0===t.steel_b1&&(t.steel_b1=t.steel_b4),0===t.steel_b4&&(t.steel_b4=t.steel_b1),0===t.steel_h3&&(t.steel_h3=t.steel_h2),0===t.steel_h2&&(t.steel_h2=t.steel_h3),0===t.steel_h1&&(t.steel_h1=t.steel_h4),0===t.steel_h4&&(t.steel_h4=t.steel_h1),0===t.steel_w3&&(t.steel_w3=t.steel_w2),0===t.steel_w2&&(t.steel_w2=t.steel_w3),0===t.steel_w1&&(t.steel_w1=(t.steel_b1-t.steel_w2)/2),0===t.lib_b1&&(t.lib_b1=t.lib_b4),0===t.lib_b4&&(t.lib_b4=t.lib_b1),0===t.lib_b2&&(t.lib_b2=t.lib_b3),0===t.lib_b3&&(t.lib_b3=t.lib_b2),0===t.lib_h1&&(t.lib_h1=t.lib_h4),0===t.lib_h4&&(t.lib_h4=t.lib_h1),0===t.lib_h2&&(t.lib_h2=t.lib_h3),0===t.lib_h3&&(t.lib_h3=t.lib_h2),0===t.lib_n1&&(t.lib_n1=t.lib_n4,t.lib_w1=0),0===t.lib_n4&&(t.lib_n4=0,t.lib_w4=0),0===t.lib_n2&&(t.lib_n2=t.lib_n3,t.lib_w2=0),0===t.lib_n3&&(t.lib_n3=0,t.lib_w3=0);var n,i,r=t.steel_w2>t.steel_b4||t.steel_w3>t.steel_b4,a=0==t.steel_w2?0:Math.atan((t.steel_h3-t.steel_h2)/t.steel_w2);t.steel_w2-t.steel_w3==0?(n=.5*Math.PI,i=.5*Math.PI):(n=Math.atan(t.steel_h2/(.5*(t.steel_w2-t.steel_w3))),i=Math.atan(t.steel_h3/(.5*(t.steel_w2-t.steel_w3))),n<0&&(n=Math.PI+n),i<0&&(i=Math.PI+i),i=Math.PI-i),r?(0===t.steel_b5&&(t.steel_b5=t.steel_b4),0===t.steel_h5&&(t.steel_h5=t.steel_h4),0===t.steel_w4&&(t.steel_w4=t.steel_b4/2),0===t.steel_w5&&(t.steel_w5=t.steel_b5/2),a=0):0===t.steel_w4&&(t.steel_w4=(t.steel_b4-t.steel_w3)/2);var o=this.steelVertical_Shape(t,a,n,i);if(0===t.lib_w1&&(t.lib_w1=1===t.lib_n1?0:(t.steel_w2-.5*o.st2_btLen-.5*o.st3_btLen)/(t.lib_n1+1)),0===t.lib_w4&&(t.lib_w4=r?(t.steel_b4-t.steel_w4-.5*o.st2_btLen)/(t.lib_n4+1):(t.steel_w3-.5*o.st2_btLen-.5*o.st3_btLen)/(t.lib_n4+1)),0===t.lib_w5&&r&&(t.lib_w5=(t.steel_w5-.5*o.st3_btLen)/(t.lib_n5+1)),0===t.lib_w2&&(t.lib_w2=1===t.lib_n2?0:t.steel_h2/(t.lib_n2+1)),0===t.lib_w3&&(t.lib_w3=1===t.lib_n3?0:t.steel_h3/(t.lib_n3+1)),r){for(var s=1;s<=5;s++)e.push(this.box_vertice(t,s,a,o));for(var l=1;l<=5;l++)for(var u=0;u<t["lib_n"+String(l)];u++)0!==t["lib_n"+String(l)]&&e.push(this.box_lib_vertice(t,l,u,a,n,i,o,r))}else{for(var c=1;c<=4;c++)e.push(this.box_vertice(t,c,a,o));for(var h=1;h<=4;h++)for(var d=0;d<t["lib_n"+String(h)];d++)0!==t["lib_n"+String(h)]&&e.push(this.box_lib_vertice(t,h,d,a,n,i,o,r))}return e}},{key:"steelVertical_Shape",value:function(t,e,n,i){var r={st2_btLen:0,st2_upLen:0,st2_sideLen:0,st3_btLen:0,st3_upLen:0,st3_sideLen:0},a=Math.PI-e-n;r.st2_btLen=t.steel_b2/Math.cos(-.5*Math.PI+n),r.st2_upLen=r.st2_btLen/Math.sin(a)*Math.sin(n);var o=Math.PI-e-i;return r.st3_btLen=t.steel_b3/Math.cos(-.5*Math.PI+i),r.st3_upLen=r.st3_btLen/Math.sin(o)*Math.sin(i),r.st2_sideLen=n==.5*Math.PI?0:(t.steel_h2-.5*r.st2_upLen*Math.sin(e))/Math.tan(n),r.st3_sideLen=i==.5*Math.PI?0:(t.steel_h3-.5*r.st3_upLen*Math.sin(e))/Math.tan(i),r}},{key:"getCentroid_box",value:function(t){for(var e=0,n=0,i=0,r=0,a=0,o=Object.keys(t);a<o.length;a++){var s=o[a],l=t[s].vertice,u=t[s].position,c=this.param.getAbAcAd(l),h=c.ab,d=c.ac,f=c.ad;if(0===h.x&&0===h.y&&0===h.z&&0===d.x&&0===d.y&&0===d.z&&0===f.x&&0===f.y&&0===f.z)return new ud(0,0,0);var p=new ud((0+h.x+d.x)/3+l[0].x,(0+h.y+d.y)/3+l[0].y,(0+h.z+d.z)/3+l[0].z),g=Math.pow(Math.pow(h.y*d.z-h.z*d.y,2)+Math.pow(h.z*d.x-h.x*d.z,2)+Math.pow(h.x*d.y-h.y*d.x,2),.5)/2,v=new ud((0+d.x+f.x)/3+l[0].x,(0+d.y+f.y)/3+l[0].y,(0+d.z+f.z)/3+l[0].z),m=Math.pow(Math.pow(d.y*f.z-d.z*f.y,2)+Math.pow(d.z*f.x-d.x*f.z,2)+Math.pow(d.x*f.y-d.y*f.x,2),.5)/2,_=g+m;e+=((p.x*g+v.x*m)/_+u.x)*_,n+=((p.y*g+v.y*m)/_+u.y)*_,i+=((p.z*g+v.z*m)/_+u.z)*_,r+=_}return new ud(e/r,n/r,i/r)}},{key:"box_vertice",value:function(t,e){var n,i,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3?arguments[3]:void 0,s={vertice:[],position:new ud(0,0,0)},l=o.st2_btLen,u=o.st2_upLen,c=o.st2_sideLen,h=o.st3_btLen,d=o.st3_upLen,f=o.st3_sideLen,p=!1;switch(e){case 1:n=0,i=0,r=0,s.vertice.push(new ud(0,0,0)),s.vertice.push(new ud(t.steel_b1,t.steel_b1*Math.tan(a),0)),s.vertice.push(new ud(t.steel_b1+t.steel_h1*Math.sin(a),t.steel_b1*Math.tan(a)-t.steel_h1*Math.cos(a),0)),s.vertice.push(new ud(t.steel_h1*Math.sin(a),-t.steel_h1*Math.cos(a),0)),s.position=new ud(n,i,r);break;case 2:n=this.drawPosition(t,o,a,0,1,2,p),i=this.drawPosition(t,o,a,0,Math.tan(a),2,p),r=0,s.vertice.push(new ud(0,0,0)),s.vertice.push(new ud(u*Math.cos(a),u*Math.sin(a),0)),s.vertice.push(new ud(l+c,-t.steel_h2+.5*u*Math.sin(a),0)),s.vertice.push(new ud(c,-t.steel_h2+.5*u*Math.sin(a),0)),s.position=new ud(n,i,r);break;case 3:n=this.drawPosition(t,o,a,t.steel_w2,1,3,p),i=this.drawPosition(t,o,a,Math.tan(a)*t.steel_w2,Math.tan(a),3,p),r=0,s.vertice.push(new ud(0,0,0)),s.vertice.push(new ud(d*Math.cos(a),d*Math.sin(a),0)),s.vertice.push(new ud(h+f,-t.steel_h3+.5*d*Math.sin(a),0)),s.vertice.push(new ud(f,-t.steel_h3+.5*d*Math.sin(a),0)),s.position=new ud(n,i,r);break;case 4:var g=c+.5*l-t.steel_w4,v=-t.steel_h2+.5*u*Math.sin(a);n=this.drawPosition(t,o,a,g,1,2,p),i=this.drawPosition(t,o,a,v,Math.tan(a),2,p),r=0,s.vertice.push(new ud(0,0,0)),s.vertice.push(new ud(t.steel_b4,0,0)),s.vertice.push(new ud(t.steel_b4,-t.steel_h4,0)),s.vertice.push(new ud(0,-t.steel_h4,0)),s.position=new ud(n,i,r);break;case 5:var m=t.steel_w2+f+.5*h-t.steel_w5,_=Math.tan(a)*t.steel_w2-t.steel_h3+.5*d*Math.sin(a);n=this.drawPosition(t,o,a,m,1,3,p),i=this.drawPosition(t,o,a,_,Math.tan(a),3,p),r=0,s.vertice.push(new ud(0,0,0)),s.vertice.push(new ud(t.steel_b5,0,0)),s.vertice.push(new ud(t.steel_b5,-t.steel_h5,0)),s.vertice.push(new ud(0,-t.steel_h5,0)),s.position=new ud(n,i,r)}return s}},{key:"box_lib_vertice",value:function(t,e,n){var i,r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,c={vertice:[],position:new ud(0,0,0)},h=0,d=0,f=0,p=l.st2_btLen,g=l.st2_upLen,v=l.st2_sideLen,m=l.st3_btLen,_=l.st3_upLen,y=l.st3_sideLen,b=.5*(t.steel_w2-.5*p-.5*m-t.lib_w1*(t.lib_n1-1))+t.lib_w1*n-.5*t.lib_b1*Math.cos(a),x=.5*(t.steel_w3-.5*p-.5*m-t.lib_w4*(t.lib_n4-1))+t.lib_w4*n-.5*t.lib_b4;u&&(x=1==t.lib_n4?t.steel_b4-t.steel_w4-.5*p-t.lib_w4*t.lib_n4-.5*t.lib_b4:.5*(t.steel_b4-t.steel_w4-.5*p-t.lib_w4*(t.lib_n4-1))+t.lib_w4*n-.5*t.lib_b4);var w=.5*(t.steel_w5-.5*t.steel_b3-t.lib_w5*(t.lib_n5-1))+t.lib_w5*n+.5*t.lib_b5;1==t.lib_n5&&(w=t.steel_w5-.5*m-t.lib_w5*t.lib_n5+.5*t.lib_b5);var k=.5*(t.steel_h2-t.lib_w2*(t.lib_n2-1))+t.lib_w2*n,C=.5*(t.steel_h3-t.lib_w3*(t.lib_n3-1))+t.lib_w3*n,M=o==.5*Math.PI?0:k/Math.tan(o),T=s==.5*Math.PI?0:C/Math.tan(s);switch(e){case 1:h=this.drawPosition(t,l,a,b,1,2,!0),d=this.drawPosition(t,l,a,Math.tan(a)*b,Math.tan(a),2,!0),f=0,c.vertice.push(new ud(0,0,0)),c.vertice.push(new ud(t.lib_b1*Math.cos(a),t.lib_b1*Math.sin(a),0)),c.vertice.push(new ud(t.lib_b1*Math.cos(a)+t.lib_h1*Math.sin(a),t.lib_b1*Math.sin(a)-t.lib_h1*Math.cos(a),0)),c.vertice.push(new ud(t.lib_h1*Math.sin(a),-t.lib_h1*Math.cos(a),0)),c.position=new ud(h,d,f);break;case 2:var S=.5*Math.PI-o;i=-.5*t.lib_b2*Math.sin(S),r=.5*t.lib_b2*Math.cos(S),h=this.drawPosition(t,l,a,M+i,1,2,!0),d=this.drawPosition(t,l,a,-k+r,Math.tan(a),2,!0),f=0,c.vertice.push(new ud(0,0,0)),c.vertice.push(new ud(t.lib_h2*Math.cos(S),t.lib_h2*Math.sin(S),0)),c.vertice.push(new ud(t.lib_h2*Math.cos(S)+t.lib_b2*Math.sin(S),t.lib_h2*Math.sin(S)-t.lib_b2*Math.cos(S),0)),c.vertice.push(new ud(t.lib_b2*Math.sin(S),-t.lib_b2*Math.cos(S),0)),c.position=new ud(h,d,f);break;case 3:var A=.5*Math.PI-s;i=-.5*t.lib_b3*Math.sin(A)-t.lib_h3*Math.cos(A),r=.5*t.lib_b3*Math.cos(A)-t.lib_h3*Math.sin(A),h=t.steel_w1+t.steel_w2+.5*t.steel_h1*Math.sin(a)-.5*_*Math.cos(a)+T+i,d=Math.tan(a)*(t.steel_w1+t.steel_w2-.5*t.steel_h1*Math.sin(a)-.5*_*Math.cos(a))-t.steel_h1*Math.cos(a)-C+r,f=0,c.vertice.push(new ud(0,0,0)),c.vertice.push(new ud(t.lib_h3*Math.cos(A),t.lib_h3*Math.sin(A),0)),c.vertice.push(new ud(t.lib_h3*Math.cos(A)+t.lib_b3*Math.sin(A),t.lib_h3*Math.sin(A)-t.lib_b3*Math.cos(A),0)),c.vertice.push(new ud(t.lib_b3*Math.sin(A),-t.lib_b3*Math.cos(A),0)),c.position=new ud(h,d,f);break;case 4:i=v,r=-t.steel_h2+.5*g*Math.sin(a)+t.lib_h4,h=t.steel_w1+.5*t.steel_h1*Math.sin(a)+.5*g*Math.cos(a)+i+x,d=Math.tan(a)*(t.steel_w1-.5*t.steel_h1*Math.sin(a)-.5*g*Math.cos(a))-t.steel_h1*Math.cos(a)+r,f=0,c.vertice.push(new ud(0,0,0)),c.vertice.push(new ud(t.lib_b4,0,0)),c.vertice.push(new ud(t.lib_b4,-t.lib_h4,0)),c.vertice.push(new ud(0,-t.lib_h4,0)),c.position=new ud(h,d,f);break;case 5:u&&(i=y,r=-t.steel_h3+.5*_*Math.sin(a)+t.lib_h5,h=t.steel_w1+t.steel_w2-.5*t.steel_h1*Math.sin(a)-.5*_*Math.cos(a)+i-w,d=Math.tan(a)*(t.steel_w1+t.steel_w2-.5*t.steel_h1*Math.sin(a)-.5*_*Math.cos(a))-t.steel_h1*Math.cos(a)+r,f=0,c.vertice.push(new ud(0,0,0)),c.vertice.push(new ud(t.lib_b5,0,0)),c.vertice.push(new ud(t.lib_b5,-t.lib_h5,0)),c.vertice.push(new ud(0,-t.lib_h5,0)),c.position=new ud(h,d,f))}return c}},{key:"drawPosition",value:function(t,e,n,i,r,a,o){var s=1===r?1:-1,l=2===a?e.st2_upLen:e.st3_upLen,u=o?1:-1,c=r*(t.steel_w1+s*(.5*t.steel_h1*Math.sin(n))+.5*u*l*Math.cos(n))+i;return-1===s&&(c-=t.steel_h1*Math.cos(n)),c}},{key:"positionY",value:function(t,e,n,i,r,a,o,s,l){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:0;return t*(e+n+i*u-.5*r*Math.sin(o)-.5*a*Math.cos(o))-r*Math.cos(o)}},{key:"lib_position",value:function(t,e,n){return(t/=2)-e*(n-=1)/2}},{key:"lib_write",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Kc),i.LFG(th),i.LFG(Qc),i.LFG(Yy))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Xy=function(){var t=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this.basic=e,this.bars=n,this.steel=i,this.helper=r,this.scene=a}return _createClass(t,[{key:"getCircle",value:function(t,e,n,i){for(var r={symmetry:!0,Concretes:[],ConcreteElastic:[]},a=this.getCircleShape(t,e,n,i),o=this.getCircleBar(a,n),s=a.H,l=s/100,u=0,c=1;c<=100;c++){var h=this.getCircleWidth(s,l*c);r.Concretes.push({Height:l,WTop:u,WBottom:h,ElasticID:"c"}),u=h}var d=this.helper.getConcreteElastic(n);if("steel"in a){var f=a.steel;if(f.thickness>0){var p=o.SteelElastic.find(function(t){return"st"===t.ElasticID});if(void 0!==p){var g=p.fsk/p.rs;d.D=a.B,d.t=f.thickness,d.fsyd=g,r.dsy=s/2+(s/2+f.thickness/2)/Math.sqrt(2)}}}r.ConcreteElastic.push(d);for(var v=0,m=Object.keys(o);v<m.length;v++){var _=m[v];r[_]=o[_]}return r}},{key:"getRing",value:function(t,e,n,i){for(var r={symmetry:!0,Concretes:[],ConcreteElastic:[]},a=this.getRingShape(t,e,n,i),o=this.getCircleBar(a,n),s=a.H,l=a.B,u=s/100,c=(s-l)/2,h=0,d=0,f=1;f<=100;f++){var p,g=u*f,v=g-c,m=this.getCircleWidth(s,g);p=g<c||g>c+l?0:this.getCircleWidth(l,v),r.Concretes.push({Height:u,WTop:h-d,WBottom:m-p,ElasticID:"c"}),h=m,d=p}r.ConcreteElastic.push(this.helper.getConcreteElastic(n));for(var _=0,y=Object.keys(o);_<y.length;_++){var b=y[_];r[b]=o[b]}return r}},{key:"getCircleBar",value:function(t,e){var n={Bars:new Array,SteelElastic:new Array},i=this.getSteel(t,e);if("tension"in t){var r=t.tension.fsy,a="s"+r.id;n.Bars=this.getBars(t.tension,t.H,a),n.SteelElastic.push({fsk:r.fsy/t.tension.rs,Es:200,ElasticID:a})}if(i.thickness>0){var o,s=_createForOfIteratorHelper(i.Bars);try{for(s.s();!(o=s.n()).done;){var l=o.value;n.Bars.push(l)}}catch(d){s.e(d)}finally{s.f()}var u,c=_createForOfIteratorHelper(i.SteelElastic);try{for(c.s();!(u=c.n()).done;){var h=u.value;h.theta=100,n.SteelElastic.push(h)}}catch(d){c.e(d)}finally{c.f()}}return n}},{key:"getBars",value:function(t,e,n){var i=[],r=t.mark+t.rebar_dia,a=t.rebar_n,o=this.helper.toNumber(t.line);null===o&&(o=t.rebar_n);for(var s=1,l=0;l<t.n;l++){for(var u=t.dsc+l*t.space,c=e-2*u,h=a>o?o:a,d=360/h,f=h%2==0===this.basic.conditions_list.find(function(t){return"JR-003"===t.id}).selected?0:d/2,p=0;p<h;p++){var g=p*d+f,v=c/2-Math.cos(this.helper.Radians(g))*c/2+u;if(135===g||225===g)for(var m=0,_=[!0,!1];m<_.length;m++){var y=_[m];i.push({Depth:v,i:r,n:.5,IsTensionBar:y,ElasticID:n,index:s++})}else i.push({Depth:v,i:r,n:1,IsTensionBar:g>=135&&g<=225,ElasticID:n,index:s++})}a-=o}return i}},{key:"getCircleShape",value:function(t,e,n,i){var r=this.getSection(t),a=this.bars.getCalcData(e),o=this.helper.rebarInfo(a.rebar1);if(null!==o){null!==o.rebar_ss&&0!==o.rebar_ss||(o.rebar_ss=(r.H-2*o.dsc)/o.line),"barCenterPosition"in i&&i.barCenterPosition&&(o.dsc=this.helper.getBarCenterPosition(o,1),o.line=o.rebar_n,o.n=1);var s=this.helper.getFsyk(o.rebar_dia,n.material_bar,"tensionBar");o.fsy=s,"M_rs"in n.safety_factor?o.rs=n.safety_factor.M_rs:"V_rs"in n.safety_factor&&(o.rs=n.safety_factor.V_rs),235===s.fsy&&(o.mark="R"),r.tension=o}r.stirrup=a.stirrup,r.bend=a.bend;var l=this.steel.getCalcData(e),u=this.helper.toNumber(l.I.upper_thickness);if(null===u&&(null===(u=this.helper.toNumber(l.I.lower_thickness))&&(null===(u=this.helper.toNumber(l.H.left_thickness))&&null===(u=this.helper.toNumber(l.H.right_thickness)))))return r;var c=this.helper.getFsyk2(u,n.material_steel),h=this.helper.getFsyk2(u,n.material_steel,"fvy");return r.steel={thickness:u,rs:n.safety_factor.S_rs,fsy:c,fvy:h},r}},{key:"getCircleVdShape",value:function(t,e,n){for(var i={},r=this.getCircleShape(t,e,n,{}),a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];i[s]=r[s]}var l=Math.pow(r.H,2)*Math.PI/4,u=Math.sqrt(l);if(i.H=u,i.B=u,"tension"in r){var c,h=r.tension,d=0,f=0,p=_createForOfIteratorHelper(this.getBars(h,r.H,null));try{for(p.s();!(c=p.n()).done;){var g=c.value;!0===g.IsTensionBar&&(d+=g.Depth*g.n,f+=g.n)}}catch(v){p.e(v)}finally{p.f()}h.dsc=u-d/f+(r.H-u)/2,h.rebar_n=f}return i}},{key:"getRingShape",value:function(t,e,n,i){for(var r={},a=this.getCircleShape(t,e,n,i),o=0,s=Object.keys(a);o<s.length;o++){var l=s[o];r[l]=a[l]}return r}},{key:"getSection",value:function(t){var e={},n=this.helper.toNumber(t.H);if(null===n&&(n=this.helper.toNumber(t.B)),null===n)throw"\u5186\u5f62\u306e\u5f84\u306e\u5165\u529b\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093";return e.H=n,e.B=this.helper.toNumber(t.B),e.H_summary=n,e.B_summary=this.helper.toNumber(t.B),null===this.helper.toNumber(t.H)||null===this.helper.toNumber(t.B)?(e.Hw=Math.sqrt(Math.PI*Math.pow(n/2,2)),e.Bw=null):(e.Hw=((-1-Math.PI/4)*Math.pow(n,2)+2*n*e.B-(1-Math.PI/4)*Math.pow(e.B,2))/(2*e.B-2*n),e.Bw=e.Hw-e.H+e.B),e}},{key:"getRingVdShape",value:function(t,e,n){for(var i={},r=this.getRingShape(t,e,n,{}),a=0,o=Object.keys(r);a<o.length;a++){var s=o[a];i[s]=r[s]}var l=r.H,u=r.B,c=Math.pow(l,2)*Math.PI/4,h=c-Math.pow(u,2)*Math.PI/4;i.H=Math.sqrt(c),i.B=l-Math.sqrt(Math.pow(l,2)-h);var d,f=r.tension,p=0,g=0,v=_createForOfIteratorHelper(this.getBars(f,r.H,null));try{for(v.s();!(d=v.n()).done;){var m=d.value;!0===m.IsTensionBar&&(p+=m.Depth,g+=m.n)}}catch(_){v.e(_)}finally{v.f()}return f.dsc=l-p/g,i}},{key:"getCircleWidth",value:function(t,e){var n=t/2,i=e,r=Math.sqrt(Math.pow(n,2)-Math.pow(n-i,2));return Math.abs(2*r)}},{key:"getSteel",value:function(t,e){var n={thickness:0,Bars:new Array,SteelElastic:new Array};if(!("steel"in t)||!("thickness"in t.steel))return n;var i=t.steel.thickness;if(0===i||null===i)return n;n.thickness=i;var r=t.H,a=t.H-2*i;t.H=a;for(var o=((Math.pow(r/2,2)-Math.pow(a/2,2))*Math.PI/100).toString(),s=-i/2,l=r-i,u=0;u<100;u++){var c=3.6*u,h=l/2-Math.cos(this.helper.Radians(c))*l/2+s;n.Bars.push({Depth:h,i:o,n:1,IsTensionBar:c>=135&&c<225,ElasticID:"st"})}return n.SteelElastic.push({fsk:t.steel.fsy.fsy,rs:t.steel.rs,Es:200,ElasticID:"st"}),n}},{key:"getVertices_pipe",value:function(t){var e=[],n={vertice:[],position:new ud(0,0,0)};return n.vertice.push(t.steel_b1/2-t.steel_h1/2,t.steel_h1/2),n.position=new ud(0,0,0),e.push(n),e}},{key:"getCentroid_pipe",value:function(t){return new ud(0,0,0)}},{key:"createPlane",value:function(t){var e=new Bv,n=new O_(t[0].vertice[0],t[0].vertice[1],4,200),i=new Rf({color:3368652,side:2}),r=new dp(n,i);return e.add(r),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Jc),i.LFG(Kc),i.LFG(th),i.LFG(Qc),i.LFG(jy))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),$y=function(){var t=function(){function t(e,n,i,r,a,o,s,l){_classCallCheck(this,t),this.scene=e,this.http=n,this.steel=i,this.I=r,this.box=a,this.circle=o,this.param=s,this.helper=l,this.x=0,this.y=0,this.z=0,this.old_element={},this.max=0,this.select=0,this.panel_List=new Array,this.scale=1,this.params={meshScale:this.scale},this.gui=null}return _createClass(t,[{key:"changeData",value:function(t){var e=this.steel.getSteelJson(t);if(void 0!==e){this.ClearData(),this.x=0,this.y=0,this.z=0;var n={},i={},r=!1;this.old_element={};for(var a=0,o=Object.keys(e);a<o.length;a++){var s=o[a],l=e[s],u=this.helper.toNumber(l.design_point_id);null!==u&&(n.shape=l.shape,n["steel_b"+String(u)]=null==l.steel_b?0:l.steel_b,n["steel_h"+String(u)]=null==l.steel_h?0:l.steel_h,n["steel_w"+String(u)]=null==l.steel_w?0:l.steel_w,n["lib_b"+String(u)]=null==l.lib_b?0:l.lib_b,n["lib_h"+String(u)]=null==l.lib_h?0:l.lib_h,n["lib_w"+String(u)]=null==l.lib_w?0:l.lib_w,n["lib_n"+String(u)]=null==l.lib_n?0:l.lib_n,this.max=Math.max(this.max,n["steel_b"+String(u)],n["steel_h"+String(u)],n["steel_w"+String(u)]),u%5==0&&Math.floor(Number(s)/5)==this.select&&(0!==n.steel_b1||0!==n.steel_b3||Number(s)<5?(n.shape=e[Number(s)-4].shape,i=n):i=this.old_element,r=!0),u%5==0&&((!r||Number(s)<5)&&(n.shape=e[Number(s)-4].shape,0===n.steel_b1&&0===n.steel_b3?Number(s)<5&&(this.old_element=n):(this.old_element={},this.old_element=n)),n={}))}this.shape(i)}}},{key:"shape",value:function(t){var e,n,i=t.shape,r=new ud;switch(i){case"I\u5f62":e=this.I.getVertices(t),r=this.param.getCentroid(e),n=this.createPlane(e);break;case"H\u5f62":e=this.box.getVertices_H(t),r=this.box.getCentroid_box(e),n=this.createPlane(e);break;case"\u7bb1\u5f62/\u03c0\u5f62":e=this.box.getVertices_box(t),r=this.param.getCentroid(e),n=this.createPlane(e);break;case"\u92fc\u7ba1":e=this.circle.getVertices_pipe(t),r=this.circle.getCentroid_pipe(e),n=this.circle.createPlane(e)}n.position.set(-r.x,-r.y,-r.z),this.panel_List.push(n),this.scene.add(n)}},{key:"createPlane",value:function(t){var e,n=new Bv,i=_createForOfIteratorHelper(t);try{for(i.s();!(e=i.n()).done;){for(var r=e.value,a=[],o=0,s=[0,1,2,0,2,3];o<s.length;o++){var l=s[o];a.push(r.vertice[l])}var u=(new Yf).setFromPoints(a),c=new Rf({color:3368652,side:2}),h=new dp(u,c);h.position.set(r.position.x,r.position.y,r.position.z),h.vertice=r.vertice,h.pos=r.position,n.add(h)}}catch(d){i.e(d)}finally{i.f()}return n}},{key:"ClearData",value:function(){var t,e=_createForOfIteratorHelper(this.panel_List);try{for(e.s();!(t=e.n()).done;){for(var n=t.value;n.children.length>0;){var i=n.children[0];i.parent.remove(i)}this.scene.remove(n)}}catch(r){e.e(r)}finally{e.f()}this.panel_List=new Array}},{key:"getEnableSteel",value:function(t,e){var n;if("I\u5f62"===e||"H\u5f62"===e)n=3;else if("\u7bb1\u5f62/\u03c0\u5f62"===e)n=1;else{if("\u92fc\u7ba1"!==e)return!1;n=1}for(var i=1,r=0,a=Object.keys(t);r<a.length;r++){var o=t[a[r]];if(null==o.steel_b||null==o.steel_h)return!1;if(i>=n)break;i+=1}return!0}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(jy),i.LFG(Zn),i.LFG(th),i.LFG(Qy),i.LFG(Jy),i.LFG(Xy),i.LFG(Yy),i.LFG(Qc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ky=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.face=e,this.scene=n,this.currentIndex=0}return _createClass(t,[{key:"OnInit",value:function(){}},{key:"fileload",value:function(){this.scene.render()}},{key:"changeData",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(t){case"steels":this.face.max=0,this.face.changeData(e);break;default:return}this.scene.render(),this.currentIndex=n}},{key:"selectChange",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(t){case"steels":this.face.select=Math.floor(n/5),this.face.changeData(e);break;default:return}this.scene.render()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG($y),i.LFG(jy))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),tb=["myCanvas"],eb=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.ngZone=e,this.scene=n,this.three=i,df.DefaultUp.set(0,0,1)}return _createClass(t,[{key:"canvas",get:function(){return this.canvasRef.nativeElement}},{key:"ngAfterViewInit",value:function(){this.w=window.innerWidth-1250,document.getElementById("steel-contents").style.display="flex",window.innerWidth<1500&&(this.w=window.innerWidth-219,document.getElementById("steel-contents").style.display="block"),this.h=window.innerHeight-120,this.scene.OnInit(this.getAspectRatio(),this.canvas,devicePixelRatio,this.w,this.h),this.animate(),this.three.canvasElement=this.canvas}},{key:"ngOnDestroy",value:function(){}},{key:"animate",value:function(){var t=this;this.ngZone.runOutsideAngular(function(){window.addEventListener("DOMContentLoaded",function(){t.scene.render()})})}},{key:"onMouseDown",value:function(t){}},{key:"onMouseUp",value:function(t){}},{key:"onMouseMove",value:function(t){}},{key:"onResize",value:function(t){this.w=window.innerWidth-1250,document.getElementById("steel-contents").style.display="flex",window.innerWidth<1500&&(this.w=window.innerWidth-219,document.getElementById("steel-contents").style.display="block"),this.h=window.innerHeight-120,this.scene.onResize(this.getAspectRatio(),this.w,this.h)}},{key:"getAspectRatio",value:function(){return 0===this.canvas.clientHeight?0:this.canvas.clientWidth/this.canvas.clientHeight}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.R0b),i.Y36(jy),i.Y36(Ky))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-three"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(tb,7),2&t)&&(i.iGM(n=i.CRH())&&(e.canvasRef=n.first))},hostBindings:function(t,e){1&t&&i.NdJ("mousedown",function(t){return e.onMouseDown(t)})("mouseup",function(t){return e.onMouseUp(t)})("mousemove",function(t){return e.onMouseMove(t)})("resize",function(t){return e.onResize(t)},!1,i.Jf7)},decls:2,vars:0,consts:[["id","myCanvas",3,"mousedown","mouseup","mousemove"],["myCanvas",""]],template:function(t,e){1&t&&(i.TgZ(0,"canvas",0,1),i.NdJ("mousedown",function(t){return e.onMouseDown(t)})("mouseup",function(t){return e.onMouseUp(t)})("mousemove",function(t){return e.onMouseMove(t)}),i.qZA())},styles:[""]}),t}(),nb=["grid"];function ib(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"li",9),i.TgZ(1,"a",10),i.NdJ("click",function(){var t=i.CHM(n).index;return i.oxw().activePageChenge(t)}),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.qZA(),i.qZA()}if(2&t){var r=e.index,a=i.oxw();i.xp6(1),i.MGl("id","stl",r,""),i.xp6(2),i.Oqu(a.getGroupeName(r))}}var rb=function(){var t=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this.steel=e,this.save=n,this.panel=i,this.three=r,this.scene=a,this.option_list=new Array,this.columnHeaders=new Array,this.row=0}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this,e=this.save.isManual();this.setTitle(e),this.table_datas=this.steel.getTableColumns(),this.options=new Array;for(var n=function(n){var i={showTop:!1,reactive:!0,sortable:!1,locale:"jp",width:e?860:980,height:t.tableHeight().toString(),numberCell:{show:!1},colModel:t.columnHeaders,dataModel:{data:t.table_datas[n]},freezeCols:e?3:4,beforeTableView:function(e,i){t.three.selectChange("steels",t.table_datas[n][0].g_id,t.row),t.three.changeData("steels",t.three.currentIndex)},selectEnd:function(e,i){t.row=i.selection.iCells.ranges[0].r1,t.three.selectChange("steels",t.table_datas[n][0].g_id,t.row)},change:function(e,i){t.saveData(),t.three.changeData("steels",n)}};t.option_list.push(i)},i=0;i<this.table_datas.length;i++)n(i);this.options=this.option_list[0],this.groupe_name=new Array;for(var r=0;r<this.table_datas.length;r++)this.groupe_name.push(this.steel.getGroupeName(r))}},{key:"ngAfterViewInit",value:function(){this.activeButtons(0),this.scene.render()}},{key:"setTitle",value:function(t){this.columnHeaders=t?[{title:"",align:"center",dataType:"integer",dataIndx:"m_no",editable:!1,frozen:!0,sortable:!1,width:60,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}}]:[{title:"\u90e8\u6750<br/>\u756a\u53f7",align:"center",dataType:"integer",dataIndx:"m_no",editable:!1,frozen:!0,sortable:!1,width:60,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u4f4d\u7f6e",dataType:"float",format:"#.000",dataIndx:"position",editable:!1,frozen:!0,sortable:!1,width:110,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}}],this.columnHeaders.push({title:"\u7b97\u51fa\u70b9\u540d",dataType:"string",dataIndx:"p_name",editable:!1,frozen:!0,sortable:!1,width:250,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u4f4d\u7f6e",align:"center",dataType:"string",dataIndx:"design_point_id",frozen:!0,editable:!0,sortable:!1,width:40,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u30d5\u30e9\u30f3\u30b8/\u30a6\u30a7\u30d6\u9577",align:"center",colModel:[{title:"b",dataType:"float",dataIndx:"steel_b",sortable:!1,width:70},{title:"h",dataType:"float",dataIndx:"steel_h",sortable:!1,width:70},{title:"w",dataType:"float",dataIndx:"steel_w",sortable:!1,width:70}]},{title:"\u30ea\u30d6\u9577",align:"center",colModel:[{title:"b",dataType:"float",dataIndx:"lib_b",sortable:!1,width:70},{title:"h",dataType:"float",dataIndx:"lib_h",sortable:!1,width:70},{title:"w",dataType:"float",dataIndx:"lib_w",sortable:!1,width:70},{title:"n",dataType:"integer",dataIndx:"lib_n",sortable:!1,width:70}]})}},{key:"getGroupeName",value:function(t){return this.groupe_name[t]}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){var t,e=[],n=_createForOfIteratorHelper(this.table_datas);try{for(n.s();!(t=n.n()).done;){var i,r=_createForOfIteratorHelper(t.value);try{for(r.s();!(i=r.n()).done;){var a=i.value;e.push(a)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){n.e(o)}finally{n.f()}this.steel.setTableColumns(e)}},{key:"tableHeight",value:function(){var t=window.innerHeight;return t-=100}},{key:"activePageChenge",value:function(t){this.activeButtons(t),this.options=this.option_list[t],this.grid.options=this.options,this.grid.refreshDataAndView(),this.row=0,this.three.currentIndex=t+1}},{key:"activeButtons",value:function(t){for(var e=0;e<=this.table_datas.length;e++){var n=document.getElementById("stl"+e);null!=n&&(e===t?n.classList.add("is-active"):n.classList.contains("is-active")&&n.classList.remove("is-active"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(th),i.Y36(oh),i.Y36($y),i.Y36(Ky),i.Y36(jy))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-steels"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(nb,5),2&t)&&(i.iGM(n=i.CRH())&&(e.grid=n.first))},decls:11,vars:2,consts:[[1,"c-subNavArea"],[1,"c-subNavArea__nav"],["class","c-subNavArea__navItem",4,"ngFor","ngForOf"],["id","steel-contents"],[1,"right-contents"],["id","three-container-id",1,"three-container"],[1,"left-contents"],[3,"options"],["grid",""],[1,"c-subNavArea__navItem"],[1,"c-subNavArea__navItemTitle",3,"id","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"nav"),i.TgZ(2,"ul",1),i.YNc(3,ib,4,2,"li",2),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"div",4),i.TgZ(6,"div",5),i._UZ(7,"app-three"),i.qZA(),i.qZA(),i.TgZ(8,"div",6),i._UZ(9,"app-sheet",7,8),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngForOf",e.table_datas),i.xp6(6),i.Q6J("options",e.options))},directives:[P,eb,ch],styles:["#steel-contents[_ngcontent-%COMP%]   .left-contents[_ngcontent-%COMP%]{margin-right:15px;order:1}#steel-contents[_ngcontent-%COMP%]   .left-contents[_ngcontent-%COMP%]   .specification1-fieldset[_ngcontent-%COMP%]{margin-bottom:70px}#steel-contents[_ngcontent-%COMP%]   .left-contents[_ngcontent-%COMP%]   .specification1-fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:.8em}#steel-contents[_ngcontent-%COMP%]   .right-contents[_ngcontent-%COMP%]{order:2}#steel-contents[_ngcontent-%COMP%]   .right-contents[_ngcontent-%COMP%]   .specification2-fieldset[_ngcontent-%COMP%]{margin-bottom:.8em}#steel-contents[_ngcontent-%COMP%]   .right-contents[_ngcontent-%COMP%]   .specification2-fieldset[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{padding-left:.8em}",'@charset "UTF-8";.c-subNavArea__nav[_ngcontent-%COMP%]{text-align:left;margin-left:-10px;font-size:0;background:#fff;color:#2f3f4e;font-size:14px}.c-subNavArea[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#2f3f4e;color:#fff}.c-subNavArea__navItem[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;font-size:14px}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]{transform:translate(0);display:block;border-bottom:1px solid #000080;padding:10px 15px;font-size:16px;color:#2f3f4e;cursor:pointer;position:relative}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]:hover{background:#2f3f4e0c;text-decoration:none}']}),t}(),ab=["grid"];function ob(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"li",10),i.TgZ(1,"a",11),i.NdJ("click",function(){var t=i.CHM(n).index;return i.oxw().activePageChenge(t)}),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.qZA(),i.qZA()}if(2&t){var r=e.index,a=i.oxw();i.xp6(1),i.MGl("id","fig",r,""),i.xp6(2),i.Oqu(a.getGroupeName(r))}}var sb=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.fatigues=e,this.save=n,this.option_list=new Array,this.columnHeaders=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.fatigues.getSaveData();this.train_A_count=t.train_A_count,this.train_B_count=t.train_B_count,this.service_life=t.service_life,this.setTitle(this.save.isManual()),this.table_datas=this.fatigues.getTableColumns(),this.options=new Array;for(var e=0;e<this.table_datas.length;e++){var n={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight().toString(),numberCell:{show:!1},colModel:this.columnHeaders,dataModel:{data:this.table_datas[e]},freezeCols:this.save.isManual()?4:5};this.option_list.push(n)}this.options=this.option_list[0],this.groupe_name=new Array;for(var i=0;i<this.table_datas.length;i++)this.groupe_name.push(this.fatigues.getGroupeName(i))}},{key:"ngAfterViewInit",value:function(){this.activeButtons(0)}},{key:"setTitle",value:function(t){this.columnHeaders=t?[{title:"",align:"center",dataType:"integer",dataIndx:"m_no",editable:!1,frozen:!0,sortable:!1,width:60,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}}]:[{title:"\u90e8\u6750<br/>\u756a\u53f7",align:"center",dataType:"integer",dataIndx:"m_no",editable:!1,frozen:!0,sortable:!1,width:60,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u4f4d\u7f6e",dataType:"float",format:"#.000",dataIndx:"position",editable:!1,frozen:!0,sortable:!1,width:110,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}}],this.columnHeaders.push({title:"\u7b97\u51fa\u70b9\u540d",dataType:"string",dataIndx:"p_name",editable:!1,frozen:!0,sortable:!1,width:250,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u65ad\u9762<br/>B<br/>H",align:"center",dataType:"float",dataIndx:"bh",editable:!1,frozen:!0,sortable:!1,width:85,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u4f4d\u7f6e",align:"center",dataType:"string",dataIndx:"design_point_id",editable:!1,frozen:!0,sortable:!1,width:40,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u66f2\u3052\u7528",align:"center",colModel:[{title:"SA/SC",dataType:"float",format:"#.000",dataIndx:"M_SA",sortable:!1,width:70},{title:"SB/SC",dataType:"float",format:"#.000",dataIndx:"M_SB",sortable:!1,width:70},{title:"k=0.06",align:"center",colModel:[{title:"NA",dataType:"float",format:"#.00",dataIndx:"M_NA06",sortable:!1,width:70},{title:"NB",dataType:"float",format:"#.00",dataIndx:"M_NB06",sortable:!1,width:70}]},{title:"k=0.12",align:"center",colModel:[{title:"NA",dataType:"float",format:"#.00",dataIndx:"M_NA12",sortable:!1,width:70},{title:"NB",dataType:"float",format:"#.00",dataIndx:"M_NB12",sortable:!1,width:70}]},{title:"\u8907\u7dda\u88dc\u6b63r2",align:"center",colModel:[{title:"\u03b1",dataType:"float",format:"#.000",dataIndx:"M_A",sortable:!1,width:70},{title:"\u03b2",dataType:"float",format:"#.000",dataIndx:"M_B",sortable:!1,width:70}]},{title:"\u66f2\u3052\u52a0\u5de5 r1",align:"center",colModel:[{title:"\u8ef8\u9244\u7b4b",dataType:"float",format:"#.00",dataIndx:"M_r1_1",sortable:!1,width:60}]},{title:"\u5f37\u5ea6\u7b49\u7d1a",align:"center",dataType:"string",dataIndx:"M_Class",sortable:!1,width:50},{title:"\u6eb6\u63a5\u7d99\u624b",align:"center",dataType:"bool",dataIndx:"M_weld",type:"checkbox",sortable:!1,width:40}]},{title:"\u305b\u3093\u65ad\u7528",align:"center",colModel:[{title:"SA/SC",dataType:"float",format:"#.000",dataIndx:"V_SA",sortable:!1,width:70},{title:"SB/SC",dataType:"float",format:"#.000",dataIndx:"V_SB",sortable:!1,width:70},{title:"k=0.06",align:"center",colModel:[{title:"NA",dataType:"float",format:"#.00",dataIndx:"V_NA06",sortable:!1,width:70},{title:"NB",dataType:"float",format:"#.00",dataIndx:"V_NB06",sortable:!1,width:70}]},{title:"k=0.12",align:"center",colModel:[{title:"NA",dataType:"float",format:"#.00",dataIndx:"V_NA12",sortable:!1,width:70},{title:"NB",dataType:"float",format:"#.00",dataIndx:"V_NB12",sortable:!1,width:70}]},{title:"\u8907\u7dda\u88dc\u6b63r2",align:"center",colModel:[{title:"\u03b1",dataType:"float",format:"#.000",dataIndx:"V_A",sortable:!1,width:70},{title:"\u03b2",dataType:"float",format:"#.000",dataIndx:"V_B",sortable:!1,width:70}]},{title:"\u66f2\u3052\u52a0\u5de5 r1",align:"center",colModel:[{title:"\u5e2f\u7b4b",dataType:"float",format:"#.00",dataIndx:"V_r1_2",sortable:!1,width:60},{title:"\u6298\u66f2\u3052",dataType:"float",format:"#.00",dataIndx:"V_r1_3",sortable:!1,width:60}]}]})}},{key:"getGroupeName",value:function(t){return this.groupe_name[t]}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){var t,e=[],n=_createForOfIteratorHelper(this.table_datas);try{for(n.s();!(t=n.n()).done;){var i,r=_createForOfIteratorHelper(t.value);try{for(r.s();!(i=r.n()).done;){var a=i.value;e.push(a)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){n.e(o)}finally{n.f()}this.fatigues.setTableColumns({table_datas:e,train_A_count:this.train_A_count,train_B_count:this.train_B_count,service_life:this.service_life})}},{key:"tableHeight",value:function(){var t=window.innerHeight;return t-=230}},{key:"activePageChenge",value:function(t){this.activeButtons(t),this.options=this.option_list[t],this.grid.options=this.options,this.grid.refreshDataAndView()}},{key:"activeButtons",value:function(t){for(var e=0;e<=this.table_datas.length;e++){var n=document.getElementById("fig"+e);null!=n&&(e===t?n.classList.add("is-active"):n.classList.contains("is-active")&&n.classList.remove("is-active"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(nh),i.Y36(oh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-fatigues"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(ab,5),2&t)&&(i.iGM(n=i.CRH())&&(e.grid=n.first))},decls:21,vars:5,consts:[[1,"form-container"],[1,"input-container"],["id","T","name","T","type","text",3,"ngModel","ngModelChange"],["id","jA","name","jA","type","text",3,"ngModel","ngModelChange"],["id","jB","name","jB","type","text",3,"ngModel","ngModelChange"],[1,"c-subNavArea"],[1,"c-subNavArea__nav"],["class","c-subNavArea__navItem",4,"ngFor","ngForOf"],[3,"options"],["grid",""],[1,"c-subNavArea__navItem"],[1,"c-subNavArea__navItemTitle",3,"id","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"form"),i.TgZ(2,"div",1),i.TgZ(3,"label"),i._uU(4,"\u8010\u7528\u5e74\u6570\uff1a"),i.qZA(),i.TgZ(5,"input",2),i.NdJ("ngModelChange",function(t){return e.service_life=t}),i.qZA(),i.qZA(),i.TgZ(6,"div",1),i.TgZ(7,"label"),i._uU(8,"jA\uff1a"),i.qZA(),i.TgZ(9,"input",3),i.NdJ("ngModelChange",function(t){return e.train_A_count=t}),i.qZA(),i.qZA(),i.TgZ(10,"div",1),i.TgZ(11,"label"),i._uU(12,"jB\uff1a"),i.qZA(),i.TgZ(13,"input",4),i.NdJ("ngModelChange",function(t){return e.train_B_count=t}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"div",5),i.TgZ(15,"nav"),i.TgZ(16,"ul",6),i.YNc(17,ob,4,2,"li",7),i.qZA(),i.qZA(),i.qZA(),i.TgZ(18,"div"),i._UZ(19,"app-sheet",8,9),i.qZA()),2&t&&(i.xp6(5),i.Q6J("ngModel",e.service_life),i.xp6(4),i.Q6J("ngModel",e.train_A_count),i.xp6(4),i.Q6J("ngModel",e.train_B_count),i.xp6(4),i.Q6J("ngForOf",e.table_datas),i.xp6(2),i.Q6J("options",e.options))},directives:[Ve,fe,ze,Nt,de,Ge,P,ch],styles:[".input-container[_ngcontent-%COMP%]{float:left;margin-right:10px}.form-container[_ngcontent-%COMP%]{display:flex;float:none;margin-bottom:15px}",'@charset "UTF-8";.c-subNavArea__nav[_ngcontent-%COMP%]{text-align:left;margin-left:-10px;font-size:0;background:#fff;color:#2f3f4e;font-size:14px}.c-subNavArea[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#2f3f4e;color:#fff}.c-subNavArea__navItem[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;font-size:14px}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]{transform:translate(0);display:block;border-bottom:1px solid #000080;padding:10px 15px;font-size:16px;color:#2f3f4e;cursor:pointer;position:relative}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]:hover{background:#2f3f4e0c;text-decoration:none}']}),t}(),lb=["grid1"],ub=["grid2"],cb=["grid3"],hb=["grid4"],db=["grid5"];function fb(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"li",11),i.TgZ(1,"a",12),i.NdJ("click",function(){var t=i.CHM(n).index;return i.oxw().activePageChenge(t)}),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.qZA(),i.qZA()}if(2&t){var r=e.$implicit,a=e.index;i.xp6(1),i.MGl("id","saf",a,""),i.xp6(2),i.Oqu(r)}}var pb=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.safety=e,this.members=n,this.option1_list=new Array,this.columnHeaders1=[],this.option2_list=new Array,this.columnHeaders2=[],this.option3_list=new Array,this.columnHeaders3=[],this.option4_list=new Array,this.columnHeaders4=[],this.option5_list=new Array,this.columnHeaders5=[],this.pile_factor_list=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){this.setTitle();var t=this.safety.getTableColumns();this.groupe_list=t.groupe_list,this.groupe_name=new Array,this.table1_datas=new Array,this.table2_datas=new Array,this.table3_datas=new Array,this.table4_datas=new Array,this.table5_datas=new Array,this.pile_factor_list=new Array;for(var e=0;e<t.groupe_list.length;e++){var n=t.groupe_list[e][0].g_id;this.groupe_name.push(this.members.getGroupeName(e));var i,r=[],a=[],o=_createForOfIteratorHelper(t.safety_factor[n]);try{for(o.s();!(i=o.n()).done;){var s=i.value;8!==s.id&&(r.push({id:s.id,title:s.title,M_rc:s.M_rc,M_rs:s.M_rs,M_rbs:s.M_rbs,V_rc:s.V_rc,V_rs:s.V_rs,V_rbc:s.V_rbc,V_rbs:s.V_rbs,V_rbv:s.V_rbv,T_rbt:s.T_rbt,ri:s.ri,range:s.range}),a.push({id:s.id,title:s.title,rb_T:s.rb_T,rb_C:s.rb_C,rb_S:s.rb_S,rs:s.rs}))}}catch(p){o.e(p)}finally{o.f()}this.table1_datas.push(r),this.table4_datas.push(a);var l=t.material_bar[n][0],u=t.material_bar[n][1];this.table2_datas.push([{title:"\u8ef8\u65b9\u5411\u9244\u7b4b",fsy1:l.tensionBar.fsy,fsy2:u.tensionBar.fsy,fsu1:l.tensionBar.fsu,fsu2:u.tensionBar.fsu},{title:"\u5074\u65b9\u5411\u9244\u7b4b",fsy1:l.sidebar.fsy,fsy2:u.sidebar.fsy,fsu1:l.sidebar.fsu,fsu2:u.sidebar.fsu},{title:"\u30b9\u30bf\u30fc\u30e9\u30c3\u30d7",fsy1:l.stirrup.fsy,fsy2:u.stirrup.fsy,fsu1:l.stirrup.fsu,fsu2:u.stirrup.fsu}]);var c=t.material_steel[n][0],h=t.material_steel[n][1],d=t.material_steel[n][2];this.table5_datas.push([{title:"\u5f15\u5f35\u964d\u4f0f\u5f37\u5ea6",SRCfsyk1:c.fsyk,SRCfsyk2:h.fsyk,SRCfsyk3:d.fsyk},{title:"\u305b\u3093\u65ad\u964d\u4f0f\u5f37\u5ea6",SRCfsyk1:c.fsvyk,SRCfsyk2:h.fsvyk,SRCfsyk3:d.fsvyk},{title:"\u5f15\u5f35\u5f37\u5ea6",SRCfsyk1:c.fsuk,SRCfsyk2:h.fsuk,SRCfsyk3:d.fsuk}]);var f=t.material_concrete[n];this.table3_datas.push([{title:"\u30b3\u30f3\u30af\u30ea\u30fc\u30c8\u306e\u8a2d\u8a08\u57fa\u6e96\u5f37\u5ea6 fck(N/mm2)",value:f.fck},{title:"\u7c97\u9aa8\u6750\u306e\u6700\u5927\u5bf8\u6cd5 (mm)",value:f.dmax}]),this.pile_factor_list.push(t.pile_factor[n]),this.option1_list.push({width:1100,height:280,showTop:!1,reactive:!0,sortable:!1,locale:"jp",numberCell:{show:!1},colModel:this.columnHeaders1,dataModel:{data:this.table1_datas[e]},freezeCols:1}),this.option2_list.push({width:550,height:200,showTop:!1,reactive:!0,sortable:!1,locale:"jp",numberCell:{show:!1},colModel:this.columnHeaders2,dataModel:{data:this.table2_datas[e]},freezeCols:1}),this.option3_list.push({width:550,height:105,showTop:!1,reactive:!0,sortable:!1,locale:"jp",numberCell:{show:!1},colModel:this.columnHeaders3,dataModel:{data:this.table3_datas[e]},freezeCols:1}),this.option4_list.push({width:550,height:205,showTop:!1,reactive:!0,sortable:!1,locale:"jp",numberCell:{show:!1},colModel:this.columnHeaders4,dataModel:{data:this.table4_datas[e]},freezeCols:1}),this.option5_list.push({width:570,height:140,showTop:!1,reactive:!0,sortable:!1,locale:"jp",numberCell:{show:!1},colModel:this.columnHeaders5,dataModel:{data:this.table5_datas[e]},freezeCols:1})}this.current_index=0,this.options1=this.option1_list[0],this.options2=this.option2_list[0],this.options3=this.option3_list[0],this.options4=this.option4_list[0],this.options5=this.option5_list[0],this.options6=this.pile_factor_list[0],this.pile_factor_select_id=this.getPileFactorSelectId()}},{key:"ngAfterViewInit",value:function(){this.activeButtons(0)}},{key:"setTitle",value:function(){this.columnHeaders1=[],this.columnHeaders2=[],this.columnHeaders3=[],this.columnHeaders4=[{title:"",align:"left",dataType:"string",dataIndx:"title",editable:!1,sortable:!1,width:250,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u03b3s",dataType:"float",format:"#.00",dataIndx:"rs",sortable:!1,width:70},{title:"\u03b3b_T",dataType:"float",format:"#.00",dataIndx:"rb_T",sortable:!1,width:70},{title:"\u03b3b_C",dataType:"float",format:"#.00",dataIndx:"rb_C",sortable:!1,width:70},{title:"\u03b3b_S",dataType:"float",format:"#.00",dataIndx:"rb_S",sortable:!1,width:70}],this.columnHeaders5=[{title:"",align:"left",dataType:"string",dataIndx:"title",editable:!1,frozen:!0,sortable:!1,width:250,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"t\u226616",dataType:"float",dataIndx:"SRCfsyk1",sortable:!1,width:100},{title:"16\uff1ct\u226640",dataType:"float",dataIndx:"SRCfsyk2",sortable:!1,width:100},{title:"40\uff1ct\u226675",dataType:"float",dataIndx:"SRCfsyk3",sortable:!1,width:100}]}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){for(var t={},e={},n={},i={},r={},a=0;a<this.groupe_list.length;a++){for(var o=this.groupe_list[a][0].g_id,s=this.table1_datas[a],l=this.table4_datas[a],u=[],c=0;c<s.length;c++){var h=l[c];u.push({id:h.id,title:h.title,ri:h.ri,range:h.range,rs:h.rs,rb_T:h.rb_T,rb_C:h.rb_C,rb_S:h.rb_S})}t[o]=u;var d=this.table2_datas[a];e[o]=[{tensionBar:{fsy:d[0].fsy1,fsu:d[0].fsu1},sidebar:{fsy:d[1].fsy1,fsu:d[1].fsu1},stirrup:{fsy:d[2].fsy1,fsu:d[2].fsu1}},{tensionBar:{fsy:d[0].fsy2,fsu:d[0].fsu2},sidebar:{fsy:d[1].fsy2,fsu:d[1].fsu2},stirrup:{fsy:d[2].fsy2,fsu:d[2].fsu2}}];var f=this.table5_datas[a];n[o]=[{fsyk:f[0].SRCfsyk1,fsvyk:f[1].SRCfsyk1,fsuk:f[2].SRCfsyk1},{fsyk:f[0].SRCfsyk2,fsvyk:f[1].SRCfsyk2,fsuk:f[2].SRCfsyk2},{fsyk:f[0].SRCfsyk3,fsvyk:f[1].SRCfsyk3,fsuk:f[2].SRCfsyk3}];var p=this.table3_datas[a];i[o]={fck:p[0].value,dmax:p[1].value},r[o]=this.pile_factor_list[a]}this.safety.setTableColumns({safety_factor:t,material_bar:e,material_steel:n,material_concrete:i,pile_factor:r})}},{key:"setPileFactor",value:function(t){for(var e=this.pile_factor_list[this.current_index],n=0;n<e.length;n++)e[n].selected=t===n;this.pile_factor_select_id=this.getPileFactorSelectId()}},{key:"getPileFactorSelectId",value:function(){return this.pile_factor_list[this.current_index].find(function(t){return!0===t.selected}).id}},{key:"activePageChenge",value:function(t){this.activeButtons(t),this.current_index=t,this.options1=this.option1_list[t],this.grid1.options=this.options1,this.grid1.refreshDataAndView(),this.options2=this.option2_list[t],this.grid2.options=this.options2,this.grid2.refreshDataAndView(),this.options3=this.option3_list[t],this.grid3.options=this.options3,this.grid3.refreshDataAndView(),this.options4=this.option4_list[t],this.grid4.options=this.options4,this.grid4.refreshDataAndView(),this.options5=this.option5_list[t],this.grid5.options=this.options5,this.grid5.refreshDataAndView(),this.options6=this.pile_factor_list[t],this.pile_factor_select_id=this.getPileFactorSelectId()}},{key:"activeButtons",value:function(t){for(var e=0;e<=this.groupe_name.length;e++){var n=document.getElementById("saf"+e);null!=n&&(e===t?n.classList.add("is-active"):n.classList.contains("is-active")&&n.classList.remove("is-active"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(ih),i.Y36(Xc))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-safety-factors-material-strengths"]],viewQuery:function(t,e){var n;(1&t&&(i.Gf(lb,5),i.Gf(ub,5),i.Gf(cb,5),i.Gf(hb,5),i.Gf(db,5)),2&t)&&(i.iGM(n=i.CRH())&&(e.grid1=n.first),i.iGM(n=i.CRH())&&(e.grid2=n.first),i.iGM(n=i.CRH())&&(e.grid3=n.first),i.iGM(n=i.CRH())&&(e.grid4=n.first),i.iGM(n=i.CRH())&&(e.grid5=n.first))},decls:20,vars:3,consts:[[1,"c-subNavArea"],[1,"c-subNavArea__nav"],["class","c-subNavArea__navItem",4,"ngFor","ngForOf"],[1,"tabContent"],[1,"sectionTitle"],[1,"safety-factors"],[1,"table-container"],[3,"options"],["grid4",""],[1,"material-strength"],["grid5",""],[1,"c-subNavArea__navItem"],[1,"c-subNavArea__navItemTitle",3,"id","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"nav"),i.TgZ(2,"ul",1),i.YNc(3,fb,4,2,"li",2),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"div",4),i.TgZ(6,"h4"),i._uU(7,"\u9244\u9aa8"),i.qZA(),i.qZA(),i.TgZ(8,"div",5),i.TgZ(9,"h5"),i._uU(10,"\u5b89\u5168\u4fc2\u6570"),i.qZA(),i.TgZ(11,"div",6),i._UZ(12,"app-sheet",7,8),i.qZA(),i.qZA(),i.TgZ(14,"div",9),i.TgZ(15,"h5"),i._uU(16,"\u9244\u9aa8\u6750\u6599\u5f37\u5ea6"),i.qZA(),i.TgZ(17,"div",6),i._UZ(18,"app-sheet",7,10),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngForOf",e.groupe_name),i.xp6(9),i.Q6J("options",e.options4),i.xp6(6),i.Q6J("options",e.options5))},directives:[P,ch],styles:['@charset "UTF-8";legend[_ngcontent-%COMP%]{font-size:16px;line-height:1.1}fieldset[_ngcontent-%COMP%]{border:1px #cacaca solid;padding-right:15px}h4[_ngcontent-%COMP%]{text-decoration:underline}.tabContent[_ngcontent-%COMP%]{margin:15px}.safety-factors[_ngcontent-%COMP%], .material-strength[_ngcontent-%COMP%]{display:inline-block;margin-top:15px;margin-left:15px;margin-bottom:15px}.pile-factors[_ngcontent-%COMP%]{display:inline-block;margin-top:15px;margin-left:15px;margin-bottom:15px}.pile-factors[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{margin:15px}.pile-factors[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #cfcfcf;font-weight:normal;font-size:14px;text-align:center;padding:0;line-height:1.5;background:#f3f3f3}.pile-factors[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #cfcfcf;font-weight:normal;font-size:14px;text-align:center;padding:0;line-height:1.5;background:white}.concrete-strength[_ngcontent-%COMP%]{margin-top:30px}.table-container[_ngcontent-%COMP%]{float:left;margin-bottom:15px}.range-fieldset[_ngcontent-%COMP%]{float:right;margin-left:15px}','@charset "UTF-8";.c-subNavArea__nav[_ngcontent-%COMP%]{text-align:left;margin-left:-10px;font-size:0;background:#fff;color:#2f3f4e;font-size:14px}.c-subNavArea[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#2f3f4e;color:#fff}.c-subNavArea__navItem[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;font-size:14px}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]{transform:translate(0);display:block;border-bottom:1px solid #000080;padding:10px 15px;font-size:16px;color:#2f3f4e;cursor:pointer;position:relative}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]:hover{background:#2f3f4e0c;text-decoration:none}']}),t}(),gb=["grid"],vb=function(){var t=function(){function t(e){_classCallCheck(this,t),this.force=e,this.ROWS_COUNT=0,this.table_datas=[]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.ROWS_COUNT=this.rowsCount(),this.loadData(this.ROWS_COUNT),this.columnHeaders1=this.force.getColumnHeaders1(),this.columnHeaders2=this.force.getColumnHeaders2(),this.columnHeaders3=this.force.getColumnHeaders3(),this.options={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight().toString(),numberCell:{show:!0},colModel:this.columnHeaders1,dataModel:{data:this.table_datas},freezeCols:1,beforeTableView:function(e,n){var i=t.table_datas.length;null!=n.initV&&n.finalV>=i-1&&(t.loadData(i+t.ROWS_COUNT),t.grid.refreshDataAndView())}}}},{key:"ngAfterViewInit",value:function(){this.activeButtons(0)}},{key:"loadData",value:function(t){for(var e=this.table_datas.length+1;e<=t;e++){var n=this.force.getTable1Columns(e);this.table_datas.push(n)}}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){this.force.setTableColumns(this.table_datas)}},{key:"tableHeight",value:function(){var t=window.innerHeight;return t-=160}},{key:"rowsCount",value:function(){var t=this.tableHeight();return Math.round(t/30)}},{key:"activePageChenge",value:function(t){if(0===t)this.options.colModel=this.columnHeaders1;else if(1===t)this.options.colModel=this.columnHeaders2;else{if(2!==t)return;this.options.colModel=this.columnHeaders3}this.activeButtons(t),this.grid.options=this.options,this.grid.refreshDataAndView()}},{key:"activeButtons",value:function(t){for(var e=0;e<=this.table_datas.length;e++){var n=document.getElementById("foc"+e);null!=n&&(e===t?n.classList.add("is-active"):n.classList.contains("is-active")&&n.classList.remove("is-active"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(rh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-section-forces"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(gb,5),2&t)&&(i.iGM(n=i.CRH())&&(e.grid=n.first))},decls:18,vars:1,consts:[[1,"c-subNavArea"],[1,"c-subNavArea__nav"],[1,"c-subNavArea__navItem"],["id","foc0",1,"c-subNavArea__navItemTitle",3,"click"],["id","foc1",1,"c-subNavArea__navItemTitle",3,"click"],["id","foc2",1,"c-subNavArea__navItemTitle",3,"click"],[3,"options"],["grid",""]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"nav"),i.TgZ(2,"ul",1),i.TgZ(3,"li",2),i.TgZ(4,"a",3),i.NdJ("click",function(){return e.activePageChenge(0)}),i.TgZ(5,"span"),i._uU(6,"\u8010\u8377\u6027"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(7,"li",2),i.TgZ(8,"a",4),i.NdJ("click",function(){return e.activePageChenge(1)}),i.TgZ(9,"span"),i._uU(10,"\u8010\u75b2\u52b4\u6027"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(11,"li",2),i.TgZ(12,"a",5),i.NdJ("click",function(){return e.activePageChenge(2)}),i.TgZ(13,"span"),i._uU(14,"\u5730\u9707\u6642"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(15,"div"),i._UZ(16,"app-sheet",6,7),i.qZA()),2&t&&(i.xp6(16),i.Q6J("options",e.options))},directives:[ch],styles:['@charset "UTF-8";.c-subNavArea__nav[_ngcontent-%COMP%]{text-align:left;margin-left:-10px;font-size:0;background:#fff;color:#2f3f4e;font-size:14px}.c-subNavArea[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#2f3f4e;color:#fff}.c-subNavArea__navItem[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;font-size:14px}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]{transform:translate(0);display:block;border-bottom:1px solid #000080;padding:10px 15px;font-size:16px;color:#2f3f4e;cursor:pointer;position:relative}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]:hover{background:#2f3f4e0c;text-decoration:none}']}),t}(),mb=function(){var t=function(){function t(){_classCallCheck(this,t),this.uid="",this.deduct_points=0,this.daily_points=0}return _createClass(t,[{key:"clear",value:function(t){this.uid=t,this.deduct_points=0,this.daily_points=0}},{key:"setUserPoint",value:function(t,e){this.deduct_points+=t,this.daily_points=Math.max(this.daily_points,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function _b(t,e){return e?yi(function(){return t},e):yi(function(){return t})}var yb=n(9673),bb=n(6267),xb=new i.OlP("angularfire2.auth.use-emulator"),wb=new i.OlP("angularfire2.auth.settings"),kb=new i.OlP("angularfire2.auth.tenant-id"),Cb=new i.OlP("angularfire2.auth.langugage-code"),Mb=new i.OlP("angularfire2.auth.use-device-language"),Tb=new i.OlP("angularfire.auth.persistence"),Sb=function(){var t=_createClass(function t(e,i,r,a,o,s,l,u,c,h){_classCallCheck(this,t);var d=new bb.HU(a),f=(0,bb.ss)(d),p=new $n.xQ,g=(0,cn.of)(void 0).pipe((0,Ci.QV)(d.outsideAngular),yi(function(){return a.runOutsideAngular(function(){return n.e(336).then(n.bind(n,1336))})}),(0,Mt.U)(function(){return(0,bb.on)(e,a,i)}),(0,Mt.U)(function(t){return a.runOutsideAngular(function(){var e=o,n=s;return(0,bb.sI)("".concat(t.name,".auth"),"AngularFireAuth",t,function(){var i=a.runOutsideAngular(function(){return t.auth()});if(e&&i.useEmulator("http://".concat(e.join(":"))),l&&(i.tenantId=l),i.languageCode=u,c&&i.useDeviceLanguage(),n)for(var r=0,o=Object.entries(n);r<o.length;r++){var s=_slicedToArray(o[r],2),d=s[0],f=s[1];i.settings[d]=f}return h&&i.setPersistence(h),i},[e,l,u,c,n,h])})}),Ei({bufferSize:1,refCount:!1}));if(function(t){return"server"===t}(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,cn.of)(null);else{g.pipe(Gs()).subscribe();var v=g.pipe(yi(function(t){return t.getRedirectResult().then(function(t){return t},function(){return null})}),f,Ei({bufferSize:1,refCount:!1})),m=function(t){return new kt.y(function(e){return{unsubscribe:a.runOutsideAngular(function(){return t(e)})}})},_=g.pipe(yi(function(t){return m(t.onAuthStateChanged.bind(t))})),y=g.pipe(yi(function(t){return m(t.onIdTokenChanged.bind(t))}));this.authState=v.pipe(_b(_),(0,yb.R)(d.outsideAngular),(0,Ci.QV)(d.insideAngular)),this.user=v.pipe(_b(y),(0,yb.R)(d.outsideAngular),(0,Ci.QV)(d.insideAngular)),this.idToken=this.user.pipe(yi(function(t){return t?(0,wt.D)(t.getIdToken()):(0,cn.of)(null)})),this.idTokenResult=this.user.pipe(yi(function(t){return t?(0,wt.D)(t.getIdTokenResult()):(0,cn.of)(null)})),this.credential=(0,Vi.T)(v,p,this.authState.pipe(pn(function(t){return!t}))).pipe((0,Mt.U)(function(t){return(null==t?void 0:t.user)?t:null}),(0,yb.R)(d.outsideAngular),(0,Ci.QV)(d.insideAngular))}return(0,bb.pX)(this,g,a,{spy:{apply:function(t,e,n){(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(function(t){return p.next(t)})}}})});return t.\u0275fac=function(e){return new(e||t)(i.LFG(bb.Dh),i.LFG(bb.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(xb,8),i.LFG(wb,8),i.LFG(kb,8),i.LFG(Cb,8),i.LFG(Mb,8),i.LFG(Tb,8))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(bb.Dh),i.LFG(bb.xv,8),i.LFG(i.Lbi),i.LFG(i.R0b),i.LFG(xb,8),i.LFG(wb,8),i.LFG(kb,8),i.LFG(Cb,8),i.LFG(Mb,8),i.LFG(Tb,8))},token:t,providedIn:"any"}),t}();function Ab(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"div"),i.TgZ(1,"label"),i.TgZ(2,"input",9),i.NdJ("ngModelChange",function(t){return i.CHM(n),i.oxw().print_section_force_checked=t}),i.qZA(),i._uU(3,"\u65ad\u9762\u529b\u306e\u96c6\u8a08\u8868 "),i.qZA(),i.qZA()}if(2&t){var r=i.oxw();i.xp6(2),i.Q6J("value",r.print_section_force)("ngModel",r.print_section_force_checked)("checked",r.print_section_force_checked)}}function Eb(t,e){if(1&t){var n=i.EpF();i.ynx(0),i.TgZ(1,"tr"),i.TgZ(2,"td",10),i.TgZ(3,"input",11),i.NdJ("ngModelChange",function(t){return i.CHM(n).$implicit.calc_checked=t}),i.qZA(),i.qZA(),i.TgZ(4,"td",12),i._uU(5),i.qZA(),i.qZA(),i.BQk()}if(2&t){var r=e.$implicit;i.xp6(3),i.Q6J("value",r.calc_checked)("ngModel",r.calc_checked)("checked",r.calc_checked),i.xp6(2),i.hij(" ",r.g_name," ")}}var Pb=function(){var t=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this.calc=e,this.save=n,this.router=i,this.user=r,this.auth=a}return _createClass(t,[{key:"ngOnInit",value:function(){this.print_calculate_checked=this.calc.print_selected.print_calculate_checked,this.print_section_force_checked=this.calc.print_selected.print_section_force_checked,this.print_summary_table_checked=this.calc.print_selected.print_summary_table_checked,this.table_datas=new Array;var t,e=_createForOfIteratorHelper(this.calc.getColumnData());try{for(e.s();!(t=e.n()).done;){var n=t.value;this.table_datas.push({calc_checked:n.checked,g_name:n.g_name})}}catch(i){e.e(i)}finally{e.f()}}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){this.calc.print_selected.print_calculate_checked=this.print_calculate_checked,this.calc.print_selected.print_section_force_checked=this.print_section_force_checked,this.calc.print_selected.print_summary_table_checked=this.print_summary_table_checked,this.calc.setColumnData(this.table_datas)}},{key:"onClick",value:function(){var t=this;this.auth.currentUser.then(function(e){null!==e?(t.user.clear(e.uid),t.router.navigate(["/result-viewer"])):alert("\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044")})}},{key:"isManual",value:function(){return this.save.isManual()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(ah),i.Y36(oh),i.Y36(kc),i.Y36(mb),i.Y36(Sb))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-calculation-print"]],decls:21,vars:5,consts:[[1,"condition-container"],[1,"print-item"],[4,"ngIf"],["type","checkbox","name","print_calculate","id","print_calculate",3,"value","ngModel","checked","ngModelChange"],[1,"table-container"],[1,"hot"],[4,"ngFor","ngForOf"],[1,"button-container"],[3,"click"],["type","checkbox","name","print_section_force","id","print_section_force",3,"value","ngModel","checked","ngModelChange"],["width","70px"],["type","checkbox",3,"value","ngModel","checked","ngModelChange"],["width","250px"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"fieldset"),i.TgZ(3,"legend"),i._uU(4,"\u8a2d\u8a08\u6761\u4ef6"),i.qZA(),i.YNc(5,Ab,4,3,"div",2),i.TgZ(6,"div"),i.TgZ(7,"label"),i.TgZ(8,"input",3),i.NdJ("ngModelChange",function(t){return e.print_calculate_checked=t}),i.qZA(),i._uU(9,"\u6027\u80fd\u7167\u67fb "),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"div",4),i.TgZ(11,"fieldset"),i.TgZ(12,"legend"),i._uU(13,"\u90e8\u6750"),i.qZA(),i.TgZ(14,"div",5),i.TgZ(15,"table"),i.TgZ(16,"tbody"),i.YNc(17,Eb,6,4,"ng-container",6),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(18,"div",7),i.TgZ(19,"button",8),i.NdJ("click",function(){return e.onClick()}),i._uU(20,"\u8a08\u7b97\u5370\u5237"),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(5),i.Q6J("ngIf",0==e.isManual()),i.xp6(3),i.Q6J("value",e.print_calculate_checked)("ngModel",e.print_calculate_checked)("checked",e.print_calculate_checked),i.xp6(9),i.Q6J("ngForOf",e.table_datas))},directives:[O,Rt,de,Ge,P],styles:[".condition-container[_ngcontent-%COMP%]{display:grid;grid-column:2;grid-template-columns:250px 150px}.print-item[_ngcontent-%COMP%]{margin:15px;grid-column:1/2}.calculate-item[_ngcontent-%COMP%]{margin:15px;grid-column:2/2}.table-container[_ngcontent-%COMP%]{margin-left:15px;margin-top:30px;width:350px}.hot[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}.button-container[_ngcontent-%COMP%]{margin-left:15px;margin-top:30px}fieldset[_ngcontent-%COMP%]{border:1px #cacaca solid}"]}),t}(),Ib=function(){var t=function(){function t(){_classCallCheck(this,t),this.isSRC=!1}return _createClass(t,[{key:"clear",value:function(){this.summary_table={},this.summaryDone={earthquakesTorsionalMoment:!1,safetyFatigueShearForce:!1,safetyTorsionalMoment:!1}}},{key:"setSummaryTable",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null!==e?(this.setValue(t,e),this.summaryDone[t]=!0):this.summaryDone[t]=!0}},{key:"setValue",value:function(t,e){if(null!==e){this.isSRC=!1;var n,i=_createForOfIteratorHelper(e);try{for(i.s();!(n=i.n()).done;){var r,a=_createForOfIteratorHelper(n.value.columns);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=void 0,l=void 0,u=void 0,c=void 0;switch(t){case"earthquakesTorsionalMoment":if(null===(s=o.index))continue;l=o.side_summary,(c=(u=this.zeroPadding(s)+"-"+l)in this.summary_table?this.summary_table[u]:this.default(s,l)).title.title0="-",c.title.title1=o.title1.value,c.title.title2=o.title2.value,c.title.title3=o.title3.value,c.shape.name="-",c.shape.B="-",c.shape.H="-",c.shape.B_summary="-",c.shape.H_summary="-",c.earthquakesTorsionalMoment.Md="-",c.earthquakesTorsionalMoment.Vd="-",c.earthquakesTorsionalMoment.Mtd="-",c.earthquakesTorsionalMoment.Mtud3_Ratio="-",c.earthquakesTorsionalMoment.Mtud4_Ratio="-",o.steelFlag&&(this.isSRC=!0),this.summary_table[u]=c;break;case"safetyFatigueShearForce":if(null===(s=o.index))continue;l=o.side_summary,(c=(u=this.zeroPadding(s)+"-"+l)in this.summary_table?this.summary_table[u]:this.default(s,l)).title.title0="-",c.title.title1=o.title1.value,c.title.title2=o.title2.value,c.title.title3=o.title3.value,c.shape.name="-",c.shape.B="-",c.shape.H="-",c.shape.B_summary="-",c.shape.H_summary="-",c.safetyFatigueShearForce.sigma_min="-",c.safetyFatigueShearForce.sigma_rd="-",c.safetyFatigueShearForce.frd="-",c.safetyFatigueShearForce.ratio="-",o.steelFlag&&(this.isSRC=!0),this.summary_table[u]=c;break;case"safetyTorsionalMoment":if(null===(s=o.index))continue;l=o.side_summary,(c=(u=this.zeroPadding(s)+"-"+l)in this.summary_table?this.summary_table[u]:this.default(s,l)).title.title0="-",c.title.title1=o.title1.value,c.title.title2=o.title2.value,c.title.title3=o.title3.value,c.shape.name="-",c.shape.B="-",c.shape.H="-",c.shape.B_summary="-",c.shape.H_summary="-",c.safetyTorsionalMoment.Md="-",c.safetyTorsionalMoment.Vd="-",c.safetyTorsionalMoment.Mtd="-",c.safetyTorsionalMoment.Mtud3_Ratio="-",c.safetyTorsionalMoment.Mtud4_Ratio="-",o.steelFlag&&(this.isSRC=!0),this.summary_table[u]=c}}}catch(h){a.e(h)}finally{a.f()}}}catch(h){i.e(h)}finally{i.f()}console.log(this.summary_table)}}},{key:"default",value:function(t,e){return{index:t,side:e,title:{m_no:"-",p_name:"-",side:"-"},shape:{name:"-",B:"-",H:"-",Bt:"-",t:"-",B_summary:"-",H_summary:"-"},steel:{I_tension:"-",I_web:"-",I_compress:"-",H_flange:"-",H_web:"-",CFTFlag:!1},As:{AstString:"-",AseString:"-",AwString:"-",Ss:"-"},earthquakesTorsionalMoment:{Md:"-",Vd:"-",Mtd:"-",Mtud3_Ratio:"-",Mtud4_Ratio:"-"},safetyFatigueShearForce:{sigma_min:"-",sigma_rd:"-",frd:"-",ratio:"-"},safetyTorsionalMoment:{Md:"-",Vd:"-",Mtd:"-",Mtud3_Ratio:"-",Mtud4_Ratio:"-"},steelFlag:!1}}},{key:"checkDone",value:function(){for(var t=0,e=Object.keys(this.summaryDone);t<e.length;t++){var n=e[t];if(!1===this.summaryDone[n])return!1}return!0}},{key:"zeroPadding",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;return(Array(e).join("0")+t).slice(-e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Ob(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",30),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.title.title0)}}function Rb(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",13),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.title.title1)}}function Lb(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",13),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.title.title2)}}function Db(t,e){if(1&t&&(i.TgZ(0,"div",33),i._UZ(1,"img",34),i.TgZ(2,"p",35),i._uU(3),i.qZA(),i.qZA()),2&t){var n=i.oxw().$implicit;i.xp6(3),i.Oqu(n.shape.B_summary)}}function Nb(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",38),i.BQk())}function Zb(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",39),i.BQk())}function Fb(t,e){if(1&t&&(i.TgZ(0,"div",36),i.YNc(1,Nb,2,0,"ng-container",14),i.YNc(2,Zb,2,0,"ng-container",14),i.TgZ(3,"p",35),i._uU(4),i.qZA(),i.TgZ(5,"p",37),i._uU(6),i.qZA(),i.qZA()),2&t){var n=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf","\u4e0a\u5074\u5f15\u5f35"==n.side),i.xp6(1),i.Q6J("ngIf","\u4e0b\u5074\u5f15\u5f35"==n.side),i.xp6(2),i.Oqu(n.shape.B),i.xp6(2),i.Oqu(n.shape.H)}}function Ub(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",40),i.BQk())}function Bb(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",41),i.BQk())}function zb(t,e){if(1&t&&(i.TgZ(0,"div",33),i.YNc(1,Ub,2,0,"ng-container",14),i.YNc(2,Bb,2,0,"ng-container",14),i.TgZ(3,"p",35),i._uU(4),i.qZA(),i.TgZ(5,"p",37),i._uU(6),i.qZA(),i.qZA()),2&t){var n=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf","\u4e0a\u5074\u5f15\u5f35"==n.side),i.xp6(1),i.Q6J("ngIf","\u4e0b\u5074\u5f15\u5f35"==n.side),i.xp6(2),i.Oqu(n.shape.B),i.xp6(2),i.Oqu(n.shape.H)}}function qb(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",42),i.BQk())}function Hb(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",43),i.BQk())}function Gb(t,e){if(1&t&&(i.TgZ(0,"div",33),i.YNc(1,qb,2,0,"ng-container",14),i.YNc(2,Hb,2,0,"ng-container",14),i.TgZ(3,"p",35),i._uU(4),i.qZA(),i.TgZ(5,"p",37),i._uU(6),i.qZA(),i.qZA()),2&t){var n=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf","\u4e0a\u5074\u5f15\u5f35"==n.side),i.xp6(1),i.Q6J("ngIf","\u4e0b\u5074\u5f15\u5f35"==n.side),i.xp6(2),i.Oqu(n.shape.B),i.xp6(2),i.Oqu(n.shape.H)}}function Vb(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",44),i.BQk())}function Wb(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",45),i.BQk())}function jb(t,e){if(1&t&&(i.TgZ(0,"div",33),i.YNc(1,Vb,2,0,"ng-container",14),i.YNc(2,Wb,2,0,"ng-container",14),i.TgZ(3,"p",35),i._uU(4),i.qZA(),i.TgZ(5,"p",37),i._uU(6),i.qZA(),i.qZA()),2&t){var n=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf","\u4e0a\u5074\u5f15\u5f35"==n.side),i.xp6(1),i.Q6J("ngIf","\u4e0b\u5074\u5f15\u5f35"==n.side),i.xp6(2),i.Oqu(n.shape.B),i.xp6(2),i.Oqu(n.shape.H)}}function Yb(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",46),i.BQk())}function Qb(t,e){1&t&&(i.ynx(0),i._UZ(1,"img",47),i.BQk())}function Jb(t,e){if(1&t&&(i.TgZ(0,"div",33),i.YNc(1,Yb,2,0,"ng-container",14),i.YNc(2,Qb,2,0,"ng-container",14),i.TgZ(3,"p",35),i._uU(4),i.qZA(),i.TgZ(5,"p",37),i._uU(6),i.qZA(),i.qZA()),2&t){var n=i.oxw().$implicit;i.xp6(1),i.Q6J("ngIf","\u4e0a\u5074\u5f15\u5f35"==n.side),i.xp6(1),i.Q6J("ngIf","\u4e0b\u5074\u5f15\u5f35"==n.side),i.xp6(2),i.Oqu(n.shape.B),i.xp6(2),i.Oqu(n.shape.H)}}function Xb(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",11),i.YNc(2,Db,4,1,"div",31),i.YNc(3,Fb,7,4,"div",32),i.YNc(4,zb,7,4,"div",31),i.YNc(5,Gb,7,4,"div",31),i.YNc(6,jb,7,4,"div",31),i.YNc(7,Jb,7,4,"div",31),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Q6J("ngIf","Circle"==n.shape.name),i.xp6(1),i.Q6J("ngIf","Rectangle"==n.shape.name),i.xp6(1),i.Q6J("ngIf","Tsection"==n.shape.name),i.xp6(1),i.Q6J("ngIf","InvertedTsection"==n.shape.name),i.xp6(1),i.Q6J("ngIf","HorizontalOval"==n.shape.name),i.xp6(1),i.Q6J("ngIf","VerticalOval"==n.shape.name)}}function $b(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=i.oxw().$implicit;i.xp6(2),i.Oqu(n.steel.I_tension)}}function Kb(t,e){1&t&&(i.ynx(0),i._UZ(1,"th",13),i.BQk())}function tx(t,e){if(1&t&&(i.ynx(0),i.YNc(1,$b,3,1,"ng-container",14),i.YNc(2,Kb,2,0,"ng-container",14),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Q6J("ngIf",!n.steel.CFTFlag),i.xp6(1),i.Q6J("ngIf",n.steel.CFTFlag)}}function ex(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=i.oxw().$implicit;i.xp6(2),i.Oqu(n.steel.I_web)}}function nx(t,e){1&t&&(i.ynx(0),i.TgZ(1,"th",13),i._uU(2,"\uff08CFT\uff09"),i.qZA(),i.BQk())}function ix(t,e){if(1&t&&(i.ynx(0),i.YNc(1,ex,3,1,"ng-container",14),i.YNc(2,nx,3,0,"ng-container",14),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Q6J("ngIf",!n.steel.CFTFlag),i.xp6(1),i.Q6J("ngIf",n.steel.CFTFlag)}}function rx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=i.oxw().$implicit;i.xp6(2),i.Oqu(n.steel.I_compress)}}function ax(t,e){1&t&&(i.ynx(0),i._UZ(1,"th",13),i.BQk())}function ox(t,e){if(1&t&&(i.ynx(0),i.YNc(1,rx,3,1,"ng-container",14),i.YNc(2,ax,2,0,"ng-container",14),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Q6J("ngIf",!n.steel.CFTFlag),i.xp6(1),i.Q6J("ngIf",n.steel.CFTFlag)}}function sx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=i.oxw().$implicit;i.xp6(2),i.Oqu(n.steel.H_flange)}}function lx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",13),i._uU(2),i.qZA(),i.BQk()),2&t){var n=i.oxw().$implicit;i.xp6(2),i.hij("\u539a\u3055 ",n.steel.I_tension,"")}}function ux(t,e){if(1&t&&(i.ynx(0),i.YNc(1,sx,3,1,"ng-container",14),i.YNc(2,lx,3,1,"ng-container",14),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Q6J("ngIf",!n.steel.CFTFlag),i.xp6(1),i.Q6J("ngIf",n.steel.CFTFlag)}}function cx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=i.oxw().$implicit;i.xp6(2),i.Oqu(n.steel.H_web)}}function hx(t,e){1&t&&(i.ynx(0),i._UZ(1,"th",19),i.BQk())}function dx(t,e){if(1&t&&(i.ynx(0),i.YNc(1,cx,3,1,"ng-container",14),i.YNc(2,hx,2,0,"ng-container",14),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Q6J("ngIf",!n.steel.CFTFlag),i.xp6(1),i.Q6J("ngIf",n.steel.CFTFlag)}}function fx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"tr"),i.TgZ(2,"th",15),i.TgZ(3,"span"),i._uU(4,"\u9244\u9aa8\u60c5\u5831"),i.qZA(),i.qZA(),i.TgZ(5,"th",48),i._uU(6,"I\u914d\u7f6e\u9244\u9aa8"),i.qZA(),i.TgZ(7,"th",49),i._uU(8,"\u5f15\u5f35\uff8c\uff97\uff9d\uff7c\uff9e"),i.qZA(),i.TgZ(9,"th",19),i._uU(10,"mm\xd7mm"),i.qZA(),i.YNc(11,tx,3,2,"ng-container",9),i.qZA(),i.TgZ(12,"tr"),i.TgZ(13,"th",49),i._uU(14,"\u8179\u677f"),i.qZA(),i.TgZ(15,"th",19),i._uU(16,"mm\xd7mm"),i.qZA(),i.YNc(17,ix,3,2,"ng-container",9),i.qZA(),i.TgZ(18,"tr"),i.TgZ(19,"th",49),i._uU(20,"\u5727\u7e2e\uff8c\uff97\uff9d\uff7c\uff9e"),i.qZA(),i.TgZ(21,"th",19),i._uU(22,"mm\xd7mm"),i.qZA(),i.YNc(23,ox,3,2,"ng-container",9),i.qZA(),i.TgZ(24,"tr"),i.TgZ(25,"th",50),i._uU(26,"H\u914d\u7f6e\u9244\u9aa8"),i.qZA(),i.TgZ(27,"th",19),i._uU(28,"\uff8c\uff97\uff9d\uff7c\uff9e"),i.qZA(),i.TgZ(29,"th",19),i._uU(30,"mm\xd7mm"),i.qZA(),i.YNc(31,ux,3,2,"ng-container",9),i.qZA(),i.TgZ(32,"tr"),i.TgZ(33,"th",49),i._uU(34,"\u8179\u677f"),i.qZA(),i.TgZ(35,"th",19),i._uU(36,"mm\xd7mm"),i.qZA(),i.YNc(37,dx,3,2,"ng-container",9),i.qZA(),i.BQk()),2&t){var n=i.oxw();i.xp6(11),i.Q6J("ngForOf",n.summary_table),i.xp6(6),i.Q6J("ngForOf",n.summary_table),i.xp6(6),i.Q6J("ngForOf",n.summary_table),i.xp6(8),i.Q6J("ngForOf",n.summary_table),i.xp6(6),i.Q6J("ngForOf",n.summary_table)}}function px(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",17),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.As.AstString)}}function gx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.As.AseString)}}function vx(t,e){1&t&&(i.ynx(0),i.TgZ(1,"th",19),i._uU(2,"-"),i.qZA(),i.BQk())}function mx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",13),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.As.AwString)}}function _x(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"th",13),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.As.Ss)}}function yx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.safetyTorsionalMoment.Md)}}function bx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.safetyTorsionalMoment.Vd)}}function xx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.safetyTorsionalMoment.Mtd)}}function wx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.safetyTorsionalMoment.Mtud3_Ratio)}}function kx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.safetyTorsionalMoment.Mtud4_Ratio)}}function Cx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.safetyFatigueShearForce.sigma_min)}}function Mx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.safetyFatigueShearForce.sigma_rd)}}function Tx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.safetyFatigueShearForce.frd)}}function Sx(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.safetyFatigueShearForce.ratio)}}function Ax(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.earthquakesTorsionalMoment.Md)}}function Ex(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.earthquakesTorsionalMoment.Vd)}}function Px(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.earthquakesTorsionalMoment.Mtd)}}function Ix(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.earthquakesTorsionalMoment.Mtud3_Ratio)}}function Ox(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",19),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.earthquakesTorsionalMoment.Mtud4_Ratio)}}var Rx=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.helper=e,this.calc=n,this.isSRC=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.summary_table=new Array,this.isSRC=this.calc.isSRC;var t=Object.keys(this.calc.summary_table);t.sort();for(var e=0,n=t;e<n.length;e++){var i=n[e];this.summary_table.push(this.calc.summary_table[i])}var r=document.getElementById("userinput"),a=window.innerHeight;r.style.height=.9*a+"px"}},{key:"copyInputMessage",value:function(t){var e=document.createElement("textarea");e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.opacity="0",e.value=this.helper.table_To_text(t),document.body.appendChild(e),e.focus(),e.select(),document.execCommand("copy"),document.body.removeChild(e),alert("\u30af\u30ea\u30c3\u30d7\u30dc\u30fc\u30c9\u306b\u30b3\u30d4\u30fc\u3057\u307e\u3057\u305f!")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(Qc),i.Y36(Ib))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-result-summary-table"]],decls:270,vars:24,consts:[[1,"modal-body"],["id","userinput"],["userinput",""],["width","30px",1,"top"],[1,"copy",3,"click"],[1,"far","fa-copy"],["width","200px",1,"top"],["width","150px",1,"top"],["width","70px",1,"left","top","text-center"],[4,"ngFor","ngForOf"],["colspan","4",1,"text-center"],[1,"left"],[1,"bottom"],[1,"left","text-center"],[4,"ngIf"],["rowspan","5",1,"bottom","text-center"],["colspan","2",1,"left","bottom","text-center","height3"],[1,"left","bottom","text-center","height3"],["colspan","2",1,"left","bottom","text-center"],[1,"left","bottom","text-center"],["colspan","2","rowspan","2",1,"left","bottom","text-center"],["rowspan","2",1,"left","bottom","text-center"],["rowspan","5",1,"bottom"],["rowspan","5",1,"left","bottom","text-center"],[1,"left","bottom","text-left"],[1,"bottom","text-right"],["colspan","2",1,"left","text-center"],["rowspan","4",1,"bottom"],["rowspan","4",1,"left","bottom","text-center"],["rowspan","5",1,"text-center"],["width","100px",1,"left","top","text-center"],["class","shape",4,"ngIf"],["class","shape","id","shape",4,"ngIf"],[1,"shape"],["src","./assets/img/circle.png","alt","circle.png","width","100px","height","100px"],[1,"yoko"],["id","shape",1,"shape"],[1,"tate"],["src","./assets/img/rectangle_upper.png","alt","rectangle_upper.png","width","100px","height","100px"],["src","./assets/img/rectangle_under.png","alt","rectangle_under.png","width","100px","height","100px"],["src","./assets/img/tsection_upper.png","alt","tsection_upper.png","width","100px","height","100px"],["src","./assets/img/tsection_under.png","alt","tsection_under.png","width","100px","height","100px"],["src","./assets/img/invertedtsection_upper.png","alt","invertedtsection_upper.png","width","100px","height","100px"],["src","./assets/img/invertedtsection_under.png","alt","invertedtsection_under.png","width","100px","height","100px"],["src","./assets/img/horizontalOval_upper.png","alt","horizontalOval_upper.png","width","100px","height","100px"],["src","./assets/img/horizontalOval_under.png","alt","horizontalOval_under.png","width","100px","height","100px"],["src","./assets/img/verticalOval_upper.png","alt","verticalOval_upper.png","width","100px","height","100px"],["src","./assets/img/verticalOval_under.png","alt","verticalOval_under.png","width","100px","height","100px"],["rowspan","3","colspan","2",1,"left","bottom","text-center"],[1,"left","bottom","text-center","g-left2"],["rowspan","2","colspan","2",1,"left","bottom","text-center"]],template:function(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"div",0),i.TgZ(1,"table",1,2),i.TgZ(3,"thead"),i.TgZ(4,"tr"),i.TgZ(5,"th",3),i.TgZ(6,"a",4),i.NdJ("click",function(){i.CHM(n);var t=i.MAs(2);return e.copyInputMessage(t)}),i._UZ(7,"i",5),i.qZA(),i.qZA(),i._UZ(8,"th",3),i._UZ(9,"th",6),i._UZ(10,"th",7),i.TgZ(11,"th",8),i._uU(12,"\u5358\u4f4d"),i.qZA(),i.YNc(13,Ob,3,1,"ng-container",9),i.qZA(),i.TgZ(14,"tr"),i.TgZ(15,"th",10),i._uU(16,"\u65ad\u9762\u4f4d\u7f6e"),i.qZA(),i._UZ(17,"th",11),i.YNc(18,Rb,3,1,"ng-container",9),i.qZA(),i.TgZ(19,"tr",12),i._UZ(20,"th"),i._UZ(21,"th"),i._UZ(22,"th"),i._UZ(23,"th"),i._UZ(24,"th",11),i.YNc(25,Lb,3,1,"ng-container",9),i.qZA(),i.TgZ(26,"tr",12),i.TgZ(27,"th",10),i._uU(28,"\u65ad\u9762\u5f62\u72b6"),i.qZA(),i.TgZ(29,"th",13),i._uU(30,"mm"),i.qZA(),i.YNc(31,Xb,8,6,"ng-container",9),i.qZA(),i.YNc(32,fx,38,5,"ng-container",14),i.TgZ(33,"tr"),i.TgZ(34,"th",15),i.TgZ(35,"span"),i._uU(36,"\u9244\u7b4b\u91cf"),i.qZA(),i.qZA(),i.TgZ(37,"th",16),i._uU(38,"\u4e3b\u9244\u7b4b"),i.qZA(),i.TgZ(39,"th",17),i._uU(40,"\u5f84\u30fb\u672c\u6570"),i.qZA(),i.TgZ(41,"th",17),i._uU(42,"-"),i.qZA(),i.YNc(43,px,3,1,"ng-container",9),i.qZA(),i.TgZ(44,"tr"),i.TgZ(45,"th",18),i._uU(46,"\u5074\u65b9\u5411\u9244\u7b4b"),i.qZA(),i.TgZ(47,"th",19),i._uU(48,"\u5f84\u30fb\u672c\u6570"),i.qZA(),i.TgZ(49,"th",19),i._uU(50,"-"),i.qZA(),i.YNc(51,gx,3,1,"ng-container",9),i.qZA(),i.TgZ(52,"tr"),i.TgZ(53,"th",18),i._uU(54,"\u6298\u308a\u66f2\u3052\u9244\u7b4b"),i.qZA(),i.TgZ(55,"th",19),i._uU(56,"\u5f84\u30fb\u672c\u6570"),i._UZ(57,"br"),i._uU(58,"\u30d4\u30c3\u30c1\u30fb\u89d2\u5ea6"),i.qZA(),i.TgZ(59,"th",19),i._uU(60,"-"),i.qZA(),i.YNc(61,vx,3,0,"ng-container",9),i.qZA(),i.TgZ(62,"tr"),i.TgZ(63,"th",20),i._uU(64,"\u30b9\u30bf\u30fc\u30e9\u30c3\u30d7"),i.qZA(),i.TgZ(65,"th",21),i._uU(66,"\u5f84\u30fb\u30d4\u30c3\u30c1"),i.qZA(),i.TgZ(67,"th",13),i._uU(68,"-"),i.qZA(),i.YNc(69,mx,3,1,"ng-container",9),i.qZA(),i.TgZ(70,"tr",12),i.TgZ(71,"th",13),i._uU(72,"-"),i.qZA(),i.YNc(73,_x,3,1,"ng-container",9),i.qZA(),i.qZA(),i.TgZ(74,"tbody"),i.TgZ(75,"tr"),i.TgZ(76,"td",22),i.TgZ(77,"span"),i._uU(78,"\u7834\u58ca"),i.qZA(),i.qZA(),i.TgZ(79,"td",23),i.TgZ(80,"span"),i._uU(81,"\u306d\u3058\u308a"),i.qZA(),i.qZA(),i.TgZ(82,"td",24),i._uU(83,"\u8a2d\u8a08\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8"),i.qZA(),i.TgZ(84,"td",25),i._uU(85,"M"),i.TgZ(86,"sub"),i._uU(87,"d"),i.qZA(),i.qZA(),i.TgZ(88,"td",19),i._uU(89,"kN\u30fbm"),i.qZA(),i.YNc(90,yx,3,1,"ng-container",9),i.qZA(),i.TgZ(91,"tr"),i.TgZ(92,"td",24),i._uU(93,"\u8a2d\u8a08\u305b\u3093\u65ad\u529b"),i.qZA(),i.TgZ(94,"td",25),i._uU(95,"V"),i.TgZ(96,"sub"),i._uU(97,"d"),i.qZA(),i.qZA(),i.TgZ(98,"td",19),i._uU(99,"kN"),i.qZA(),i.YNc(100,bx,3,1,"ng-container",9),i.qZA(),i.TgZ(101,"tr"),i.TgZ(102,"td",24),i._uU(103,"\u8a2d\u8a08\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8"),i.qZA(),i.TgZ(104,"td",25),i._uU(105,"M"),i.TgZ(106,"sub"),i._uU(107,"td"),i.qZA(),i.qZA(),i.TgZ(108,"td",19),i._uU(109,"kN\u30fbm"),i.qZA(),i.YNc(110,xx,3,1,"ng-container",9),i.qZA(),i.TgZ(111,"tr"),i.TgZ(112,"td",18),i._uU(113,"\u03b3"),i.TgZ(114,"sub"),i._uU(115,"i"),i.qZA(),i._uU(116,"\u30fbMtd/Mtcd\uff1c1.0\uff08\u88dc\u5f37\u9244\u7b4b\u6709\uff1aV"),i.TgZ(117,"sub"),i._uU(118,"d"),i.qZA(),i._uU(119,"+V"),i.TgZ(120,"sub"),i._uU(121,"td"),i.qZA(),i._uU(122,"\uff09"),i.qZA(),i.TgZ(123,"td",19),i._uU(124,"-"),i.qZA(),i.YNc(125,wx,3,1,"ng-container",9),i.qZA(),i.TgZ(126,"tr",12),i.TgZ(127,"td",26),i._uU(128,"\u03b3"),i.TgZ(129,"sub"),i._uU(130,"i"),i.qZA(),i._uU(131,"\u30fbMtd/Mtcd\uff1c1.0\uff08\u88dc\u5f37\u9244\u7b4b\u6709\uff1aV"),i.TgZ(132,"sub"),i._uU(133,"d"),i.qZA(),i._uU(134,"+M"),i.TgZ(135,"sub"),i._uU(136,"td"),i.qZA(),i._uU(137,"\uff09"),i.qZA(),i.TgZ(138,"td",13),i._uU(139,"-"),i.qZA(),i.YNc(140,kx,3,1,"ng-container",9),i.qZA(),i.TgZ(141,"tr"),i.TgZ(142,"td",27),i.TgZ(143,"span"),i._uU(144,"\u75b2\u52b4\u7834\u58ca"),i.qZA(),i.qZA(),i.TgZ(145,"td",28),i.TgZ(146,"span"),i._uU(147,"\u305b\u3093\u65ad"),i.qZA(),i.qZA(),i.TgZ(148,"td",24),i._uU(149,"\u9244\u7b4b\u8a2d\u8a08\u6700\u5c0f\u5fdc\u529b\u5ea6"),i.qZA(),i.TgZ(150,"td",25),i._uU(151,"\u03c3"),i.TgZ(152,"sub"),i._uU(153,"swpd"),i.qZA(),i.qZA(),i.TgZ(154,"td",19),i._uU(155,"N/mm"),i.TgZ(156,"sup"),i._uU(157,"2"),i.qZA(),i.qZA(),i.YNc(158,Cx,3,1,"ng-container",9),i.qZA(),i.TgZ(159,"tr"),i.TgZ(160,"td",24),i._uU(161,"\u9244\u7b4b\u8a2d\u8a08\u5909\u52d5\u5fdc\u529b\u5ea6"),i.qZA(),i.TgZ(162,"td",25),i._uU(163,"\u03c3"),i.TgZ(164,"sub"),i._uU(165,"swrd"),i.qZA(),i.qZA(),i.TgZ(166,"td",19),i._uU(167,"N/mm"),i.TgZ(168,"sup"),i._uU(169,"2"),i.qZA(),i.qZA(),i.YNc(170,Mx,3,1,"ng-container",9),i.qZA(),i.TgZ(171,"tr"),i.TgZ(172,"td",24),i._uU(173,"\u9244\u7b4b\u8a2d\u8a08\u75b2\u52b4\u5f37\u5ea6"),i.qZA(),i.TgZ(174,"td",25),i._uU(175,"f"),i.TgZ(176,"sub"),i._uU(177,"swrd"),i.qZA(),i._uU(178,"\uff0f\u03b3"),i.TgZ(179,"sub"),i._uU(180,"b"),i.qZA(),i.qZA(),i.TgZ(181,"td",19),i._uU(182,"N/mm"),i.TgZ(183,"sup"),i._uU(184,"2"),i.qZA(),i.qZA(),i.YNc(185,Tx,3,1,"ng-container",9),i.qZA(),i.TgZ(186,"tr"),i.TgZ(187,"td",18),i._uU(188,"\u03b3"),i.TgZ(189,"sub"),i._uU(190,"i"),i.qZA(),i._uU(191,"\u30fb\u03c3"),i.TgZ(192,"sub"),i._uU(193,"swrd"),i.qZA(),i._uU(194,"\uff0f(f"),i.TgZ(195,"sub"),i._uU(196,"swrd"),i.qZA(),i._uU(197,"\uff0f\u03b3"),i.TgZ(198,"sub"),i._uU(199,"b"),i.qZA(),i._uU(200,")"),i.qZA(),i.TgZ(201,"td",19),i._uU(202,"-"),i.qZA(),i.YNc(203,Sx,3,1,"ng-container",9),i.qZA(),i.TgZ(204,"tr"),i.TgZ(205,"td",29),i.TgZ(206,"span"),i._uU(207,"\u5fa9\u65e7\u6027\uff08\u5730\u9707\u6642\uff09"),i.qZA(),i.qZA(),i.TgZ(208,"td",23),i.TgZ(209,"span"),i._uU(210,"\u306d\u3058\u308a"),i.qZA(),i.qZA(),i.TgZ(211,"td",24),i._uU(212,"\u8a2d\u8a08\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8"),i.qZA(),i.TgZ(213,"td",25),i._uU(214,"M"),i.TgZ(215,"sub"),i._uU(216,"d"),i.qZA(),i.qZA(),i.TgZ(217,"td",19),i._uU(218,"kN\u30fbm"),i.qZA(),i.YNc(219,Ax,3,1,"ng-container",9),i.qZA(),i.TgZ(220,"tr"),i.TgZ(221,"td",24),i._uU(222,"\u8a2d\u8a08\u305b\u3093\u65ad\u529b"),i.qZA(),i.TgZ(223,"td",25),i._uU(224,"V"),i.TgZ(225,"sub"),i._uU(226,"d"),i.qZA(),i.qZA(),i.TgZ(227,"td",19),i._uU(228,"kN"),i.qZA(),i.YNc(229,Ex,3,1,"ng-container",9),i.qZA(),i.TgZ(230,"tr"),i.TgZ(231,"td",24),i._uU(232,"\u8a2d\u8a08\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8"),i.qZA(),i.TgZ(233,"td",25),i._uU(234,"M"),i.TgZ(235,"sub"),i._uU(236,"td"),i.qZA(),i.qZA(),i.TgZ(237,"td",19),i._uU(238,"kN"),i.qZA(),i.YNc(239,Px,3,1,"ng-container",9),i.qZA(),i.TgZ(240,"tr"),i.TgZ(241,"td",18),i._uU(242,"\u03b3"),i.TgZ(243,"sub"),i._uU(244,"i"),i.qZA(),i._uU(245,"\u30fbMtd/Mtcd\uff1c1.0\uff08\u88dc\u5f37\u9244\u7b4b\u6709\uff1aV"),i.TgZ(246,"sub"),i._uU(247,"d"),i.qZA(),i._uU(248,"+V"),i.TgZ(249,"sub"),i._uU(250,"td"),i.qZA(),i._uU(251,"\uff09"),i.qZA(),i.TgZ(252,"td",19),i._uU(253,"-"),i.qZA(),i.YNc(254,Ix,3,1,"ng-container",9),i.qZA(),i.TgZ(255,"tr",12),i.TgZ(256,"td",26),i._uU(257,"\u03b3"),i.TgZ(258,"sub"),i._uU(259,"i"),i.qZA(),i._uU(260,"\u30fbMtd/Mtcd\uff1c1.0\uff08\u88dc\u5f37\u9244\u7b4b\u6709\uff1aV"),i.TgZ(261,"sub"),i._uU(262,"d"),i.qZA(),i._uU(263,"+M"),i.TgZ(264,"sub"),i._uU(265,"td"),i.qZA(),i._uU(266,"\uff09"),i.qZA(),i.TgZ(267,"td",13),i._uU(268,"-"),i.qZA(),i.YNc(269,Ox,3,1,"ng-container",9),i.qZA(),i.qZA(),i.qZA(),i.qZA()}2&t&&(i.xp6(13),i.Q6J("ngForOf",e.summary_table),i.xp6(5),i.Q6J("ngForOf",e.summary_table),i.xp6(7),i.Q6J("ngForOf",e.summary_table),i.xp6(6),i.Q6J("ngForOf",e.summary_table),i.xp6(1),i.Q6J("ngIf",e.isSRC),i.xp6(11),i.Q6J("ngForOf",e.summary_table),i.xp6(8),i.Q6J("ngForOf",e.summary_table),i.xp6(10),i.Q6J("ngForOf",e.summary_table),i.xp6(8),i.Q6J("ngForOf",e.summary_table),i.xp6(4),i.Q6J("ngForOf",e.summary_table),i.xp6(17),i.Q6J("ngForOf",e.summary_table),i.xp6(10),i.Q6J("ngForOf",e.summary_table),i.xp6(10),i.Q6J("ngForOf",e.summary_table),i.xp6(15),i.Q6J("ngForOf",e.summary_table),i.xp6(15),i.Q6J("ngForOf",e.summary_table),i.xp6(18),i.Q6J("ngForOf",e.summary_table),i.xp6(12),i.Q6J("ngForOf",e.summary_table),i.xp6(15),i.Q6J("ngForOf",e.summary_table),i.xp6(18),i.Q6J("ngForOf",e.summary_table),i.xp6(16),i.Q6J("ngForOf",e.summary_table),i.xp6(10),i.Q6J("ngForOf",e.summary_table),i.xp6(10),i.Q6J("ngForOf",e.summary_table),i.xp6(15),i.Q6J("ngForOf",e.summary_table),i.xp6(15),i.Q6J("ngForOf",e.summary_table))},directives:[P,O],styles:['@charset "UTF-8";  .modal-dialog{max-width:90%;width:90%;max-height:90%;height:90%}.modal-body[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{display:block;overflow-x:scroll;overflow-y:scroll;white-space:nowrap;-webkit-overflow-scrolling:touch}table[_ngcontent-%COMP%]{border-collapse:collapse;table-layout:fixed;font-family:"\\ff2d\\ff33  \\30b4\\30b7\\30c3\\30af",sans-serif}.top[_ngcontent-%COMP%]{border-top:1px solid black}.bottom[_ngcontent-%COMP%]{border-bottom:1px solid black}.left[_ngcontent-%COMP%]{border-left:1px solid black}.height3[_ngcontent-%COMP%]{height:60px}.text-left[_ngcontent-%COMP%]{text-align:left;padding-left:10px}.text-center[_ngcontent-%COMP%]{text-align:center}.text-right[_ngcontent-%COMP%]{text-align:right;padding-right:15px}td[_ngcontent-%COMP%]{white-space:nowrap}th[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{writing-mode:tb-lr;writing-mode:vertical-lr;-webkit-writing-mode:vertical-lr}td[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{writing-mode:tb-lr;writing-mode:vertical-lr;-webkit-writing-mode:vertical-lr}.shape[_ngcontent-%COMP%]{position:relative;text-align:center}.shape[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding:20px;width:98px;height:98px}.shape[_ngcontent-%COMP%]   .tate[_ngcontent-%COMP%]{font-size:9px;position:absolute;color:#000;transform:rotate(-90deg);top:33%;left:65%}.shape[_ngcontent-%COMP%]   .yoko[_ngcontent-%COMP%]{font-size:8px;position:absolute;color:#000;top:65%;left:33%}.band[_ngcontent-%COMP%]{writing-mode:tb-rl;display:block;white-space:nowrap}.copy[_ngcontent-%COMP%]{font-size:20px;color:#555;opacity:.3}.copy[_ngcontent-%COMP%]:hover{opacity:1;cursor:pointer}.helper[_ngcontent-%COMP%]{padding:0 16px}.helper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.helper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:8px}']}),t}();function Lx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(1===e.length){if(!(0,Ct.k)(e[0]))return e[0];e=e[0]}return(0,bs.n)(e,void 0).lift(new Dx)}var Dx=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Nx(t))}}]),t}(),Nx=function(t){_inherits(n,t);var e=_createSuper(n);function n(t){var i;return _classCallCheck(this,n),(i=e.call(this,t)).hasFirst=!1,i.observables=[],i.subscriptions=[],i}return _createClass(n,[{key:"_next",value:function(t){this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var i=ys(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}}},{key:"notifyNext",value:function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==n){var r=this.subscriptions[i];r.unsubscribe(),this.remove(r)}this.subscriptions=null}this.destination.next(e)}}]),n}(vs),Zx=n(8640);new kt.y(Zx.Z);var Fx=n(377);function Ux(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return"function"==typeof i&&e.pop(),(0,bs.n)(e,void 0).lift(new Bx(i))}var Bx=function(){function t(e){_classCallCheck(this,t),this.resultSelector=e}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new zx(t,this.resultSelector))}}]),t}(),zx=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){var r;arguments.length>2&&void 0!==arguments[2]||Object.create(null);return _classCallCheck(this,n),(r=e.call(this,t)).resultSelector=i,r.iterators=[],r.active=0,r.resultSelector="function"==typeof i?i:void 0,r}return _createClass(n,[{key:"_next",value:function(t){var e=this.iterators;(0,Ct.k)(t)?e.push(new Hx(t)):e.push("function"==typeof t[Fx.hZ]?new qx(t[Fx.hZ]()):new Gx(this.destination,this,t))}},{key:"_complete",value:function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var i=t[n];i.stillUnsubscribed?this.destination.add(i.subscribe()):this.active--}}else this.destination.complete()}},{key:"notifyInactive",value:function(){this.active--,0===this.active&&this.destination.complete()}},{key:"checkIterators",value:function(){for(var t=this.iterators,e=t.length,n=this.destination,i=0;i<e;i++){var r=t[i];if("function"==typeof r.hasValue&&!r.hasValue())return}for(var a=!1,o=[],s=0;s<e;s++){var l=t[s],u=l.next();if(l.hasCompleted()&&(a=!0),u.done)return void n.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),a&&n.complete()}},{key:"_tryresultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(fn.L),qx=function(){function t(e){_classCallCheck(this,t),this.iterator=e,this.nextResult=e.next()}return _createClass(t,[{key:"hasValue",value:function(){return!0}},{key:"next",value:function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t}},{key:"hasCompleted",value:function(){var t=this.nextResult;return Boolean(t&&t.done)}}]),t}(),Hx=function(t){function e(t){_classCallCheck(this,e),this.array=t,this.index=0,this.length=0,this.length=t.length}return _createClass(e,[{key:t,value:function(){return this}},{key:"next",value:function(t){var e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}},{key:"hasValue",value:function(){return this.array.length>this.index}},{key:"hasCompleted",value:function(){return this.array.length===this.index}}]),e}(Fx.hZ),Gx=function(t,e){_inherits(i,t);var n=_createSuper(i);function i(t,e,r){var a;return _classCallCheck(this,i),(a=n.call(this,t)).parent=e,a.observable=r,a.stillUnsubscribed=!0,a.buffer=[],a.isComplete=!1,a}return _createClass(i,[{key:e,value:function(){return this}},{key:"next",value:function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}},{key:"hasValue",value:function(){return this.buffer.length>0}},{key:"hasCompleted",value:function(){return 0===this.buffer.length&&this.isComplete}},{key:"notifyComplete",value:function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}},{key:"notifyNext",value:function(t){this.buffer.push(t),this.parent.checkIterators()}},{key:"subscribe",value:function(){return(0,si.ft)(this.observable,new si.IY(this))}}]),i}(si.Ds,Fx.hZ);function Vx(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){var n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new Wx(e,n))}}var Wx=function(){function t(e,n){_classCallCheck(this,t),this.observables=e,this.project=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new jx(t,this.observables,this.project))}}]),t}(),jx=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;_classCallCheck(this,n),(a=e.call(this,t)).observables=i,a.project=r,a.toRespond=[];var o=i.length;a.values=new Array(o);for(var s=0;s<o;s++)a.toRespond.push(s);for(var l=0;l<o;l++)a.add(ys(_assertThisInitialized(a),i[l],void 0,l));return a}return _createClass(n,[{key:"notifyNext",value:function(t,e,n){this.values[n]=e;var i=this.toRespond;if(i.length>0){var r=i.indexOf(n);-1!==r&&i.splice(r,1)}}},{key:"notifyComplete",value:function(){}},{key:"_next",value:function(t){if(0===this.toRespond.length){var e=[t].concat(_toConsumableArray(this.values));this.project?this._tryProject(e):this.destination.next(e)}}},{key:"_tryProject",value:function(t){var e;try{e=this.project.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(vs),Yx=n(2278),Qx=function(){function t(e,n){_classCallCheck(this,t),this.delay=e,this.scheduler=n}return _createClass(t,[{key:"call",value:function(t,e){return e.subscribe(new Jx(t,this.delay,this.scheduler))}}]),t}(),Jx=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i,r){var a;return _classCallCheck(this,n),(a=e.call(this,t)).delay=i,a.scheduler=r,a.queue=[],a.active=!1,a.errored=!1,a}return _createClass(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new Xx(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(Yx.P.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Yx.P.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var a=Math.max(0,n[0].time-i.now());this.schedule(t,a)}else this.unsubscribe(),e.active=!1}}]),n}(fn.L),Xx=_createClass(function t(e,n){_classCallCheck(this,t),this.time=e,this.notification=n});n(8819);var $x=["*"],Kx=["dialog"];function tw(t){return null!=t}function ew(t){return(t||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var nw=!0,iw=5,rw=function(){var t=_createClass(function t(){_classCallCheck(this,t),this.animation=nw});return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t}(),aw=function(){},ow=iw,sw=new Map,lw=function(t,e,n,i){var r=i.context||{},a=sw.get(e);if(a)switch(i.runningTransition){case"continue":return Bi.E;case"stop":t.run(function(){return a.transition$.complete()}),r=Object.assign(a.context,r),sw.delete(e)}var o=n(e,i.animation,r)||aw;if(!i.animation||"none"===window.getComputedStyle(e).transitionProperty)return t.run(function(){return o()}),(0,cn.of)(void 0).pipe(function(t){return function(e){return new kt.y(function(n){return e.subscribe(function(e){return t.run(function(){return n.next(e)})},function(e){return t.run(function(){return n.error(e)})},function(){return t.run(function(){return n.complete()})})})}}(t));var s=new $n.xQ,l=new $n.xQ,u=s.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return _i(t,cn.of.apply(void 0,e))}}(!0));sw.set(e,{transition$:s,complete:function(){l.next(),l.complete()},context:r});var c=function(t){var e=window.getComputedStyle(t),n=e.transitionDelay,i=e.transitionDuration;return 1e3*(parseFloat(n)+parseFloat(i))}(e);return t.runOutsideAngular(function(){var n=ti(e,"transitionend").pipe(pi(u),pn(function(t){return t.target===e}));Lx(di(c+ow).pipe(pi(u)),n,l).pipe(pi(u)).subscribe(function(){sw.delete(e),t.run(function(){o(),s.next(),s.complete()})})}),s.asObservable()},uw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),cw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),hw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t}(),dw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),fw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t}(),pw=function(){return(t=pw||(pw={}))[t.Tab=9]="Tab",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.Space=32]="Space",t[t.PageUp=33]="PageUp",t[t.PageDown=34]="PageDown",t[t.End=35]="End",t[t.Home=36]="Home",t[t.ArrowLeft=37]="ArrowLeft",t[t.ArrowUp=38]="ArrowUp",t[t.ArrowRight=39]="ArrowRight",t[t.ArrowDown=40]="ArrowDown",pw;var t}(),gw=function(t,e){return!!e&&e.some(function(e){return e.contains(t)})},vw=function(t,e){return!e||null!=function(t,e){return e&&void 0!==t.closest?t.closest(e):null}(t,e)},mw="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));var _w=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function yw(t){var e=Array.from(t.querySelectorAll(_w)).filter(function(t){return-1!==t.tabIndex});return[e[0],e[e.length-1]]}var bw=/\s+/,xw=new(function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"getAllStyles",value:function(t){return window.getComputedStyle(t)}},{key:"getStyle",value:function(t,e){return this.getAllStyles(t)[e]}},{key:"isStaticPositioned",value:function(t){return"static"===(this.getStyle(t,"position")||"static")}},{key:"offsetParent",value:function(t){for(var e=t.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}},{key:"position",value:function(t){var e,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))e={top:(e=t.getBoundingClientRect()).top,bottom:e.bottom,left:e.left,right:e.right,height:e.height,width:e.width};else{var r=this.offsetParent(t);e=this.offset(t,!1),r!==document.documentElement&&(i=this.offset(r,!1)),i.top+=r.clientTop,i.left+=r.clientLeft}return e.top-=i.top,e.bottom-=i.top,e.left-=i.left,e.right-=i.left,n&&(e.top=Math.round(e.top),e.bottom=Math.round(e.bottom),e.left=Math.round(e.left),e.right=Math.round(e.right)),e}},{key:"offset",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.getBoundingClientRect(),i=window.pageYOffset-document.documentElement.clientTop,r=window.pageXOffset-document.documentElement.clientLeft,a={height:n.height||t.offsetHeight,width:n.width||t.offsetWidth,top:n.top+i,bottom:n.bottom+i,left:n.left+r,right:n.right+r};return e&&(a.height=Math.round(a.height),a.width=Math.round(a.width),a.top=Math.round(a.top),a.bottom=Math.round(a.bottom),a.left=Math.round(a.left),a.right=Math.round(a.right)),a}},{key:"positionElements",value:function(t,e,n,i){var r=_slicedToArray(n.split("-"),2),a=r[0],o=void 0===a?"top":a,s=r[1],l=void 0===s?"center":s,u=i?this.offset(t,!1):this.position(t,!1),c=this.getAllStyles(e),h=parseFloat(c.marginTop),d=parseFloat(c.marginBottom),f=parseFloat(c.marginLeft),p=parseFloat(c.marginRight),g=0,v=0;switch(o){case"top":g=u.top-(e.offsetHeight+h+d);break;case"bottom":g=u.top+u.height;break;case"left":v=u.left-(e.offsetWidth+f+p);break;case"right":v=u.left+u.width}switch(l){case"top":g=u.top;break;case"bottom":g=u.top+u.height-e.offsetHeight;break;case"left":v=u.left;break;case"right":v=u.left+u.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?v=u.left+u.width/2-e.offsetWidth/2:g=u.top+u.height/2-e.offsetHeight/2}e.style.transform="translate(".concat(Math.round(v),"px, ").concat(Math.round(g),"px)");var m=e.getBoundingClientRect(),_=document.documentElement,y=window.innerHeight||_.clientHeight,b=window.innerWidth||_.clientWidth;return m.left>=0&&m.top>=0&&m.right<=b&&m.bottom<=y}}]),t}());new Date(1882,10,12),new Date(2174,10,25);var ww=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z,sn]]}),t}(),kw=function(){var t=_createClass(function t(){_classCallCheck(this,t),this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]});return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({factory:function(){return new t},token:t,providedIn:"root"}),t}(),Cw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["",8,"navbar"]]}),t}(),Mw=function(){var t=function(){function t(e){_classCallCheck(this,t),this.elementRef=e,this._disabled=!1}return _createClass(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=""===t||!0===t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(t,e){2&t&&i.ekj("disabled",e.disabled)},inputs:{disabled:"disabled"}}),t}(),Tw=function(){var t=_createClass(function t(e,n){_classCallCheck(this,t),this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=n.nativeElement});return t.\u0275fac=function(e){return new(e||t)(i.Y36((0,i.Gpc)(function(){return Ew})),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(t,e,n){var r;(1&t&&i.Suo(n,Mw,4),2&t)&&(i.iGM(r=i.CRH())&&(e.menuItems=r))},hostVars:5,hostBindings:function(t,e){1&t&&i.NdJ("keydown.ArrowUp",function(t){return e.dropdown.onKeyDown(t)})("keydown.ArrowDown",function(t){return e.dropdown.onKeyDown(t)})("keydown.Home",function(t){return e.dropdown.onKeyDown(t)})("keydown.End",function(t){return e.dropdown.onKeyDown(t)})("keydown.Enter",function(t){return e.dropdown.onKeyDown(t)})("keydown.Space",function(t){return e.dropdown.onKeyDown(t)})("keydown.Tab",function(t){return e.dropdown.onKeyDown(t)})("keydown.Shift.Tab",function(t){return e.dropdown.onKeyDown(t)}),2&t&&(i.uIk("x-placement",e.placement),i.ekj("dropdown-menu",!0)("show",e.dropdown.isOpen()))}}),t}(),Sw=function(){var t=_createClass(function t(e,n){_classCallCheck(this,t),this.dropdown=e,this.nativeElement=n.nativeElement});return t.\u0275fac=function(e){return new(e||t)(i.Y36((0,i.Gpc)(function(){return Ew})),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){2&t&&i.uIk("aria-expanded",e.dropdown.isOpen())}}),t}(),Aw=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(t,i){return _classCallCheck(this,n),e.call(this,t,i)}return _createClass(n)}(Sw);return t.\u0275fac=function(e){return new(e||t)(i.Y36((0,i.Gpc)(function(){return Ew})),i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.dropdown.toggle()})("keydown.ArrowUp",function(t){return e.dropdown.onKeyDown(t)})("keydown.ArrowDown",function(t){return e.dropdown.onKeyDown(t)})("keydown.Home",function(t){return e.dropdown.onKeyDown(t)})("keydown.End",function(t){return e.dropdown.onKeyDown(t)})("keydown.Tab",function(t){return e.dropdown.onKeyDown(t)})("keydown.Shift.Tab",function(t){return e.dropdown.onKeyDown(t)}),2&t&&i.uIk("aria-expanded",e.dropdown.isOpen())},features:[i._Bn([{provide:Sw,useExisting:(0,i.Gpc)(function(){return t})}]),i.qOj]}),t}(),Ew=function(){var t=function(){function t(e,n,r,a,o,s,l){var u=this;_classCallCheck(this,t),this._changeDetector=e,this._document=r,this._ngZone=a,this._elementRef=o,this._renderer=s,this._closed$=new $n.xQ,this._bodyContainer=null,this._open=!1,this.openChange=new i.vpe,this.placement=n.placement,this.container=n.container,this.autoClose=n.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=a.onStable.subscribe(function(){u._positionMenu()})}return _createClass(t,[{key:"ngAfterContentInit",value:function(){var t=this;this._ngZone.onStable.pipe(zi(1)).subscribe(function(){t._applyPlacementClasses(),t._open&&t._setCloseHandlers()})}},{key:"ngOnChanges",value:function(t){if(t.container&&this._open&&this._applyContainer(this.container),t.placement&&!t.placement.isFirstChange&&this._applyPlacementClasses(),t.dropdownClass){var e=t.dropdownClass,n=e.currentValue,i=e.previousValue;this._applyCustomDropdownClass(n,i)}}},{key:"isOpen",value:function(){return this._open}},{key:"open",value:function(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}},{key:"_setCloseHandlers",value:function(){var t=this;!function(t,e,n,i,r,a,o,s){n&&t.runOutsideAngular(function(t){return mw?function(){return setTimeout(function(){return t()},100)}:t}(function(){var l=ti(e,"keydown").pipe(pi(r),pn(function(t){return t.which===pw.Escape}),(0,Wi.b)(function(t){return t.preventDefault()})),u=ti(e,"mousedown").pipe((0,Mt.U)(function(t){var e=t.target;return 2!==t.button&&!gw(e,o)&&("inside"===n?gw(e,a)&&vw(e,s):"outside"===n?!gw(e,a):vw(e,s)||!gw(e,a))}),pi(r)),c=ti(e,"mouseup").pipe(Vx(u),pn(function(t){var e=_slicedToArray(t,2);return e[0],e[1]}),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oi.P,n=function(t){return t instanceof Date&&!isNaN(+t)}(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new Qx(n,e))}}(0),pi(r));Lx([l.pipe((0,Mt.U)(function(t){return 0})),c.pipe((0,Mt.U)(function(t){return 1}))]).subscribe(function(e){return t.run(function(){return i(e)})})}))}(this._ngZone,this._document,this.autoClose,function(e){t.close(),0===e&&t._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}},{key:"close",value:function(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}},{key:"toggle",value:function(){this.isOpen()?this.close():this.open()}},{key:"ngOnDestroy",value:function(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}},{key:"onKeyDown",value:function(t){var e=this,n=t.which,i=this._getMenuElements(),r=-1,a=null,o=this._isEventFromToggle(t);if(!o&&i.length&&i.forEach(function(n,i){n.contains(t.target)&&(a=n),n===e._document.activeElement&&(r=i)}),n!==pw.Space&&n!==pw.Enter){if(n!==pw.Tab){if(o||a){if(this.open(),i.length){switch(n){case pw.ArrowDown:r=Math.min(r+1,i.length-1);break;case pw.ArrowUp:if(this._isDropup()&&-1===r){r=i.length-1;break}r=Math.max(r-1,0);break;case pw.Home:r=0;break;case pw.End:r=i.length-1}i[r].focus()}t.preventDefault()}}else if(t.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===t.target)return void("body"!==this.container||t.shiftKey?t.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){var s=this._menu.nativeElement.querySelectorAll(_w);t.shiftKey&&t.target===s[0]?(this._anchor.nativeElement.focus(),t.preventDefault()):!t.shiftKey&&t.target===s[s.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else ti(t.target,"focusout").pipe(zi(1)).subscribe(function(t){var n=t.relatedTarget;e._elementRef.nativeElement.contains(n)||e.close()})}}else a&&(!0===this.autoClose||"inside"===this.autoClose)&&ti(a,"click").pipe(zi(1)).subscribe(function(){return e.close()})}},{key:"_isDropup",value:function(){return this._elementRef.nativeElement.classList.contains("dropup")}},{key:"_isEventFromToggle",value:function(t){return this._anchor.nativeElement.contains(t.target)}},{key:"_getMenuElements",value:function(){var t=this._menu;return null==t?[]:t.menuItems.filter(function(t){return!t.disabled}).map(function(t){return t.elementRef.nativeElement})}},{key:"_positionMenu",value:function(){var t=this._menu;this.isOpen()&&t&&this._applyPlacementClasses("dynamic"===this.display?function(t,e,n,i,r){var a=Array.isArray(n)?n:n.split(bw),o=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],s=(e.classList,function(t){var e=_slicedToArray(t.split("-"),2),n=(e[0],e[1],[]);return n}),l=a.findIndex(function(t){return"auto"===t});l>=0&&o.forEach(function(t){null==a.find(function(e){return-1!==e.search("^"+t)})&&a.splice(l++,1,t)});var u=e.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";var c,h=null,d=!1,f=_createForOfIteratorHelper(a);try{for(f.s();!(c=f.n()).done;){s(h=c.value);if(xw.positionElements(t,e,h,i)){d=!0;break}}}catch(p){f.e(p)}finally{f.f()}return d||(s(h=a[0]),xw.positionElements(t,e,h,i)),h}(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}},{key:"_getFirstPlacement",value:function(t){return Array.isArray(t)?t[0]:t.split(" ")[0]}},{key:"_resetContainer",value:function(){var t=this._renderer;if(this._menu){var e=this._menu.nativeElement;t.appendChild(this._elementRef.nativeElement,e),t.removeStyle(e,"position"),t.removeStyle(e,"transform")}this._bodyContainer&&(t.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}},{key:"_applyContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._resetContainer(),"body"===t){var e=this._renderer,n=this._menu.nativeElement,i=this._bodyContainer=this._bodyContainer||e.createElement("div");e.setStyle(i,"position","absolute"),e.setStyle(n,"position","static"),e.setStyle(i,"z-index","1050"),e.appendChild(i,n),e.appendChild(this._document.body,i)}this._applyCustomDropdownClass(this.dropdownClass)}},{key:"_applyCustomDropdownClass",value:function(t,e){var n="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;n&&(e&&this._renderer.removeClass(n,e),t&&this._renderer.addClass(n,t))}},{key:"_applyPlacementClasses",value:function(t){var e=this._menu;if(e){t||(t=this._getFirstPlacement(this.placement));var n=this._renderer,i=this._elementRef.nativeElement;n.removeClass(i,"dropup"),n.removeClass(i,"dropdown"),e.placement="static"===this.display?null:t;var r=-1!==t.search("^top")?"dropup":"dropdown";n.addClass(i,r);var a=this._bodyContainer;a&&(n.removeClass(a,"dropup"),n.removeClass(a,"dropdown"),n.addClass(a,r))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO),i.Y36(kw),i.Y36(o),i.Y36(i.R0b),i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(Cw,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","ngbDropdown",""]],contentQueries:function(t,e,n){var r;(1&t&&(i.Suo(n,Tw,5),i.Suo(n,Sw,5)),2&t)&&(i.iGM(r=i.CRH())&&(e._menu=r.first),i.iGM(r=i.CRH())&&(e._anchor=r.first))},hostVars:2,hostBindings:function(t,e){2&t&&i.ekj("show",e.isOpen())},inputs:{_open:["open","_open"],placement:"placement",container:"container",autoClose:"autoClose",display:"display",dropdownClass:"dropdownClass"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[i.TTD]}),t}(),Pw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t}(),Iw=function(){var t=function(){function t(e){_classCallCheck(this,t),this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}return _createClass(t,[{key:"animation",get:function(){return void 0===this._animation?this._ngbConfig.animation:this._animation},set:function(t){this._animation=t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(rw))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(rw))},token:t,providedIn:"root"}),t}(),Ow=_createClass(function t(e,n,i){_classCallCheck(this,t),this.nodes=e,this.viewRef=n,this.componentRef=i}),Rw=function(){},Lw=function(){var t=function(){function t(e){_classCallCheck(this,t),this._document=e}return _createClass(t,[{key:"compensate",value:function(){var t=this._getWidth();return this._isPresent(t)?this._adjustBody(t):Rw}},{key:"_adjustBody",value:function(t){var e=this._document.body,n=e.style.paddingRight,i=parseFloat(window.getComputedStyle(e)["padding-right"]);return e.style["padding-right"]="".concat(i+t,"px"),function(){return e.style["padding-right"]=n}}},{key:"_isPresent",value:function(t){var e=this._document.body.getBoundingClientRect();return window.innerWidth-(e.left+e.right)>=t-.1*t}},{key:"_getWidth",value:function(){var t=this._document.createElement("div");t.className="modal-scrollbar-measure";var e=this._document.body;e.appendChild(t);var n=t.getBoundingClientRect().width-t.clientWidth;return e.removeChild(t),n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(o))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(o))},token:t,providedIn:"root"}),t}(),Dw=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this._el=e,this._zone=n}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._zone.onStable.asObservable().pipe(zi(1)).subscribe(function(){lw(t._zone,t._el.nativeElement,function(t,e){e&&ew(t),t.classList.add("show")},{animation:t.animation,runningTransition:"continue"})})}},{key:"hide",value:function(){return lw(this._zone,this._el.nativeElement,function(t){return t.classList.remove("show")},{animation:this.animation,runningTransition:"stop"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(t,e){2&t&&(i.Tol("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),i.ekj("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,e){},encapsulation:2}),t}(),Nw=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"close",value:function(t){}},{key:"dismiss",value:function(t){}}]),t}(),Zw=function(){function t(e,n,i,r){var a=this;_classCallCheck(this,t),this._windowCmptRef=e,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new $n.xQ,this._dismissed=new $n.xQ,this._hidden=new $n.xQ,e.instance.dismissEvent.subscribe(function(t){a.dismiss(t)}),this.result=new Promise(function(t,e){a._resolve=t,a._reject=e}),this.result.then(null,function(){})}return _createClass(t,[{key:"componentInstance",get:function(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}},{key:"closed",get:function(){return this._closed.asObservable().pipe(pi(this._hidden))}},{key:"dismissed",get:function(){return this._dismissed.asObservable().pipe(pi(this._hidden))}},{key:"hidden",get:function(){return this._hidden.asObservable()}},{key:"shown",get:function(){return this._windowCmptRef.instance.shown.asObservable()}},{key:"close",value:function(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}},{key:"_dismiss",value:function(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}},{key:"dismiss",value:function(t){var e=this;if(this._windowCmptRef)if(this._beforeDismiss){var n=this._beforeDismiss();n&&n.then?n.then(function(n){!1!==n&&e._dismiss(t)},function(){}):!1!==n&&this._dismiss(t)}else this._dismiss(t)}},{key:"_removeModalElements",value:function(){var t=this,e=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,cn.of)(void 0);e.subscribe(function(){var e=t._windowCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._windowCmptRef.destroy(),t._contentRef&&t._contentRef.viewRef&&t._contentRef.viewRef.destroy(),t._windowCmptRef=null,t._contentRef=null}),n.subscribe(function(){if(t._backdropCmptRef){var e=t._backdropCmptRef.location.nativeElement;e.parentNode.removeChild(e),t._backdropCmptRef.destroy(),t._backdropCmptRef=null}}),Ux(e,n).subscribe(function(){t._hidden.next(),t._hidden.complete()})}}]),t}(),Fw=function(){return(t=Fw||(Fw={}))[t.BACKDROP_CLICK=0]="BACKDROP_CLICK",t[t.ESC=1]="ESC",Fw;var t}(),Uw=function(){var t=function(){function t(e,n,r){_classCallCheck(this,t),this._document=e,this._elRef=n,this._zone=r,this._closed$=new $n.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.vpe,this.shown=new $n.xQ,this.hidden=new $n.xQ}return _createClass(t,[{key:"dismiss",value:function(t){this.dismissEvent.emit(t)}},{key:"ngOnInit",value:function(){var t=this;this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(zi(1)).subscribe(function(){t._show()})}},{key:"ngOnDestroy",value:function(){this._disableEventHandling()}},{key:"hide",value:function(){var t=this,e=this._elRef.nativeElement,n={animation:this.animation,runningTransition:"stop"},i=Ux(lw(this._zone,e,function(){return e.classList.remove("show")},n),lw(this._zone,this._dialogEl.nativeElement,function(){},n));return i.subscribe(function(){t.hidden.next(),t.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),i}},{key:"_show",value:function(){var t=this,e={animation:this.animation,runningTransition:"continue"};Ux(lw(this._zone,this._elRef.nativeElement,function(t,e){e&&ew(t),t.classList.add("show")},e),lw(this._zone,this._dialogEl.nativeElement,function(){},e)).subscribe(function(){t.shown.next(),t.shown.complete()}),this._enableEventHandling(),this._setFocus()}},{key:"_enableEventHandling",value:function(){var t=this,e=this._elRef.nativeElement;this._zone.runOutsideAngular(function(){ti(e,"keydown").pipe(pi(t._closed$),pn(function(t){return t.which===pw.Escape})).subscribe(function(e){t.keyboard?requestAnimationFrame(function(){e.defaultPrevented||t._zone.run(function(){return t.dismiss(Fw.ESC)})}):"static"===t.backdrop&&t._bumpBackdrop()});var n=!1;ti(t._dialogEl.nativeElement,"mousedown").pipe(pi(t._closed$),(0,Wi.b)(function(){return n=!1}),yi(function(){return ti(e,"mouseup").pipe(pi(t._closed$),zi(1))}),pn(function(t){var n=t.target;return e===n})).subscribe(function(){n=!0}),ti(e,"click").pipe(pi(t._closed$)).subscribe(function(i){var r=i.target;e===r&&("static"===t.backdrop?t._bumpBackdrop():!0===t.backdrop&&!n&&t._zone.run(function(){return t.dismiss(Fw.BACKDROP_CLICK)})),n=!1})})}},{key:"_disableEventHandling",value:function(){this._closed$.next()}},{key:"_setFocus",value:function(){var t=this._elRef.nativeElement;if(!t.contains(document.activeElement)){var e=t.querySelector("[ngbAutofocus]"),n=yw(t)[0];(e||n||t).focus()}}},{key:"_restoreFocus",value:function(){var t,e=this,n=this._document.body,i=this._elWithFocus;t=i&&i.focus&&n.contains(i)?i:n,this._zone.runOutsideAngular(function(){setTimeout(function(){return t.focus()}),e._elWithFocus=null})}},{key:"_bumpBackdrop",value:function(){"static"===this.backdrop&&lw(this._zone,this._elRef.nativeElement,function(t){var e=t.classList;return e.add("modal-static"),function(){return e.remove("modal-static")}},{animation:this.animation,runningTransition:"continue"})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(o),i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["ngb-modal-window"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(Kx,7),2&t)&&(i.iGM(n=i.CRH())&&(e._dialogEl=n.first))},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,e){2&t&&(i.uIk("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),i.Tol("modal d-block"+(e.windowClass?" "+e.windowClass:"")),i.ekj("fade",e.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:$x,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,e){1&t&&(i.F$t(),i.TgZ(0,"div",0,1),i.TgZ(2,"div",2),i.Hsn(3),i.qZA(),i.qZA()),2&t&&i.Tol("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),t}(),Bw=function(){var t=function(){function t(e,n,r,a,o,s){var l=this;_classCallCheck(this,t),this._applicationRef=e,this._injector=n,this._document=r,this._scrollBar=a,this._rendererFactory=o,this._ngZone=s,this._activeWindowCmptHasChanged=new $n.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.vpe,this._activeWindowCmptHasChanged.subscribe(function(){if(l._windowCmpts.length){var t=l._windowCmpts[l._windowCmpts.length-1];(function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.runOutsideAngular(function(){var t=ti(e,"focusin").pipe(pi(n),(0,Mt.U)(function(t){return t.target}));ti(e,"keydown").pipe(pi(n),pn(function(t){return t.which===pw.Tab}),Vx(t)).subscribe(function(t){var n=_slicedToArray(t,2),i=n[0],r=n[1],a=_slicedToArray(yw(e),2),o=a[0],s=a[1];(r===o||r===e)&&i.shiftKey&&(s.focus(),i.preventDefault()),r===s&&!i.shiftKey&&(o.focus(),i.preventDefault())}),i&&ti(e,"click").pipe(pi(n),Vx(t),(0,Mt.U)(function(t){return t[1]})).subscribe(function(t){return t.focus()})})})(l._ngZone,t.location.nativeElement,l._activeWindowCmptHasChanged),l._revertAriaHidden(),l._setAriaHidden(t.location.nativeElement)}})}return _createClass(t,[{key:"open",value:function(t,e,n,i){var r=this,a=i.container instanceof HTMLElement?i.container:tw(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null),s=this._scrollBar.compensate(),l=function(){r._modalRefs.length||(o.removeClass(r._document.body,"modal-open"),r._revertAriaHidden())};if(!a)throw new Error('The specified modal container "'.concat(i.container||"body",'" was not found in the DOM.'));var u=new Nw,c=this._getContentRef(t,i.injector||e,n,u,i),h=!1!==i.backdrop?this._attachBackdrop(t,a):void 0,d=this._attachWindowComponent(t,a,c),f=new Zw(d,c,h,i.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(d),f.result.then(s,s),f.result.then(l,l),u.close=function(t){f.close(t)},u.dismiss=function(t){f.dismiss(t)},this._applyWindowOptions(d.instance,i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),h&&h.instance&&(this._applyBackdropOptions(h.instance,i),h.changeDetectorRef.detectChanges()),d.changeDetectorRef.detectChanges(),f}},{key:"activeInstances",get:function(){return this._activeInstances}},{key:"dismissAll",value:function(t){this._modalRefs.forEach(function(e){return e.dismiss(t)})}},{key:"hasOpenModals",value:function(){return this._modalRefs.length>0}},{key:"_attachBackdrop",value:function(t,e){var n=t.resolveComponentFactory(Dw).create(this._injector);return this._applicationRef.attachView(n.hostView),e.appendChild(n.location.nativeElement),n}},{key:"_attachWindowComponent",value:function(t,e,n){var i=t.resolveComponentFactory(Uw).create(this._injector,n.nodes);return this._applicationRef.attachView(i.hostView),e.appendChild(i.location.nativeElement),i}},{key:"_applyWindowOptions",value:function(t,e){this._windowAttributes.forEach(function(n){tw(e[n])&&(t[n]=e[n])})}},{key:"_applyBackdropOptions",value:function(t,e){this._backdropAttributes.forEach(function(n){tw(e[n])&&(t[n]=e[n])})}},{key:"_getContentRef",value:function(t,e,n,r,a){return n?n instanceof i.Rgc?this._createFromTemplateRef(n,r):function(t){return"string"==typeof t}(n)?this._createFromString(n):this._createFromComponent(t,e,n,r,a):new Ow([])}},{key:"_createFromTemplateRef",value:function(t,e){var n=t.createEmbeddedView({$implicit:e,close:function(t){e.close(t)},dismiss:function(t){e.dismiss(t)}});return this._applicationRef.attachView(n),new Ow([n.rootNodes],n)}},{key:"_createFromString",value:function(t){var e=this._document.createTextNode("".concat(t));return new Ow([[e]])}},{key:"_createFromComponent",value:function(t,e,n,r,a){var o=t.resolveComponentFactory(n),s=i.zs3.create({providers:[{provide:Nw,useValue:r}],parent:e}),l=o.create(s),u=l.location.nativeElement;return a.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new Ow([[u]],l.hostView,l)}},{key:"_setAriaHidden",value:function(t){var e=this,n=t.parentElement;n&&t!==this._document.body&&(Array.from(n.children).forEach(function(n){n!==t&&"SCRIPT"!==n.nodeName&&(e._ariaHiddenValues.set(n,n.getAttribute("aria-hidden")),n.setAttribute("aria-hidden","true"))}),this._setAriaHidden(n))}},{key:"_revertAriaHidden",value:function(){this._ariaHiddenValues.forEach(function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}},{key:"_registerModalRef",value:function(t){var e=this,n=function(){var n=e._modalRefs.indexOf(t);n>-1&&(e._modalRefs.splice(n,1),e._activeInstances.emit(e._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(n,n)}},{key:"_registerWindowCmpt",value:function(t){var e=this;this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(function(){var n=e._windowCmpts.indexOf(t);n>-1&&(e._windowCmpts.splice(n,1),e._activeWindowCmptHasChanged.next())})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(i.z2F),i.LFG(i.zs3),i.LFG(o),i.LFG(Lw),i.LFG(i.FYo),i.LFG(i.R0b))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i.z2F),i.LFG(i.gxx),i.LFG(o),i.LFG(Lw),i.LFG(i.FYo),i.LFG(i.R0b))},token:t,providedIn:"root"}),t}(),zw=function(){var t=function(){function t(e,n,i,r){_classCallCheck(this,t),this._moduleCFR=e,this._injector=n,this._modalStack=i,this._config=r}return _createClass(t,[{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),e);return this._modalStack.open(this._moduleCFR,this._injector,t,n)}},{key:"activeInstances",get:function(){return this._modalStack.activeInstances}},{key:"dismissAll",value:function(t){this._modalStack.dismissAll(t)}},{key:"hasOpenModals",value:function(){return this._modalStack.hasOpenModals()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(i._Vd),i.LFG(i.zs3),i.LFG(Bw),i.LFG(Iw))},t.\u0275prov=i.Yz7({factory:function(){return new t(i.LFG(i._Vd),i.LFG(i.gxx),i.LFG(Bw),i.LFG(Iw))},token:t,providedIn:"root"}),t}(),qw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[zw]}),t}(),Hw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),Gw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),Vw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),Ww=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),jw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),Yw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),Qw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),Jw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t}();new i.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});var Xw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[z]]}),t}(),$w=[uw,cw,hw,dw,fw,ww,Pw,qw,Hw,Gw,Vw,Ww,jw,Yw,Qw,Jw,Xw],Kw=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[$w,uw,cw,hw,dw,fw,ww,Pw,qw,Hw,Gw,Vw,Ww,jw,Yw,Qw,Jw,Xw]}),t}(),tk=function(){var t=function(){function t(e,n,i,r,a,o){_classCallCheck(this,t),this.save=e,this.helper=n,this.points=i,this.safety=r,this.force=a,this.calc=o}return _createClass(t,[{key:"getDesignForceList",value:function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null===this.helper.toNumber(e)?new Array:!0===this.save.isManual()?this.fromManualInput(t,e):this.fromPickUpData(t,e,n)}},{key:"fromManualInput",value:function(t,e){var n=this,i=this.getEnableMembers(t),r=this.force.getSaveData();if(0===r.length)return new Array;var a,o=_createForOfIteratorHelper(i);try{var s=function(){var i=a.value,o=i.n,s=r.find(function(t){return t.index===i.index});if(void 0===s)return{v:new Array};for(var l=e,u={comb:null},c=!1,h=0,d=["Mt","Md","Nd","Vd"];h<d.length;h++){var f=d[h],p=n.helper.toNumber(s[l+"_"+f]);null===p?u[f]=0:(u[f]=p,c=!0)}if(!1===c)return i.designForce=[],"continue";var g=n.getSectionForce(t,o,{Mdmax:u,Mdmin:u,Vdmax:u,Vdmin:u,Ndmax:u,Ndmin:u,MtMax:u,Mtmin:u});i.designForce=g,console.log(i)};for(o.s();!(a=o.n()).done;){var l=s();if("continue"!==l&&"object"==typeof l)return l.v}}catch(u){o.e(u)}finally{o.f()}return i}},{key:"fromPickUpData",value:function(t,e,n){var i=this,r=this.getEnableMembers(t),a=this.save.getPickUpData(),o=e.toString();if(!(o in a))return new Array;var s,l=a[o],u=_createForOfIteratorHelper(r);try{var c=function(){var e=s.value,r=e.n,a=e.index,o=l.find(function(t){return t.index===a});if(void 0===o)return{v:new Array};var u="mz",c="Mdz",h="fy",d="Vdy";("Md"===t&&!0===e.isMyCalc||"Vd"===t&&!0===e.isVzCalc||"Mt"===t&&(!0===e.isMyCalc||!0===e.isVzCalc))&&(u="my",c="Mdy",h="fz",d="Vdz");var f={},p=[u,h,"fx"],g=["Md","Vd","Nd"];"Mt"===t&&(p.push("mx"),g.push("Mt"));for(var v=0;v<p.length;v++)for(var m=0,_=["max","min"];m<_.length;m++){var y=_[m],b=o[p[v]];if(void 0!==b){var x=b[y],w=g[v]+y,k={Md:x[c],Vd:x[d],Nd:x.Nd,comb:x.comb};"Mt"===t&&(k.Mt=x.Mtd),f[w]=k}}e.designForce=i.getSectionForce(t,r,f,n)};for(u.s();!(s=u.n()).done;){var h=c();if("object"==typeof h)return h.v}}catch(d){u.e(d)}finally{u.f()}return r}},{key:"getEnableMembers",value:function(t){for(var e=this.points.getGroupeList(),n=e.length-1;n>=0;n--)if(!1!==this.calc.calc_checked[n]){for(var i=e[n],r=i.length-1;r>=0;r--){var a,o=!1,s=i[r].positions,l=_createForOfIteratorHelper(s);try{for(l.s();!(a=l.n()).done;){var u=a.value;if(!0===o)u.enable=o;else switch(t){case"Md":u.enable=!0===u.isMyCalc||!0===u.isMzCalc;break;case"Vd":u.enable=!0===u.isVyCalc||!0===u.isVzCalc;break;case"Mt":u.enable=!0===u.isMtCalc}var c="";c in u&&null!==u.p_name&&(c=u.p_name.toString().toUpperCase()),!0===u.enable&&c.indexOf("MAX")>=0&&(o=!0),u.isMax=o,c.indexOf("END")>=0&&(o=!1)}}catch(w){l.e(w)}finally{l.f()}for(var h=s.length-1;h>=0;h--)!1===s[h].enable?s.splice(h,1):delete s[h].enable;0===s.length&&i.splice(r,1)}0===i.length&&e.splice(n,1)}else e.splice(n,1);var d,f=[],p=_createForOfIteratorHelper(e);try{for(p.s();!(d=p.n()).done;){var g,v=_createForOfIteratorHelper(d.value);try{for(v.s();!(g=v.n()).done;){var m=g.value,_=this.helper.toNumber(m.n);null===_&&(_=1),_=0===_?1:Math.abs(_);var y,b=_createForOfIteratorHelper(m.positions);try{for(b.s();!(y=b.n()).done;){var x=y.value;x.n=_,f.push(x)}}catch(w){b.e(w)}finally{b.f()}}}catch(w){v.e(w)}finally{v.f()}}}catch(w){p.e(w)}finally{p.f()}return f}},{key:"checkEnable",value:function(t,e){for(var n=[],i=arguments.length,r=new Array(i>2?i-2:0),a=2;a<i;a++)r[a-2]=arguments[a];for(var o=0,s=r;o<s.length;o++){s[o];n.push([])}var l,u=this.points.getGroupeList(),c=_createForOfIteratorHelper(u);try{for(c.s();!(l=c.n()).done;){var h=l.value,d=this.safety.getSafetyFactor(t,h[0].g_id,e),f=!1;if("Md"===t)for(var p=0,g=["M_rc","M_rs","M_rb"];p<g.length;p++){var v=g[p];if(null===this.helper.toNumber(d[v])){f=!0;break}}else if("Vd"===t)for(var m=0,_=["rs","rb_T","rb_C","rb_S"];m<_.length;m++){var y=_[m];if(null===this.helper.toNumber(d[y])){f=!0;break}}else for(var b=0,x=["rs","rb_T","rb_C","rb_S"];b<x.length;b++){var w=x[b];if(null===this.helper.toNumber(d[w])){f=!0;break}}if(!f){var k,C=_createForOfIteratorHelper(h);try{for(C.s();!(k=C.n()).done;){var M,T=k.value,S=_createForOfIteratorHelper(T.positions);try{var A=function(){for(var t=M.value.index,e=0;e<r.length;e++){var i=r[e].find(function(e){return e.index===t});void 0!==i&&n[e].push(i)}};for(S.s();!(M=S.n()).done;)A()}catch(z){S.e(z)}finally{S.f()}}}catch(z){C.e(z)}finally{C.f()}}}}catch(z){c.e(z)}finally{c.f()}for(var E=0,P=n;E<P.length;E++)for(var I=P[E],O=I.length-1;O>=0;O--)if(!0===I[O].isMax){for(var R=[{Md:0,Nd:0,Vd:0,Mt:0,side:"\u4e0a\u5074\u5f15\u5f35"},{Md:0,Nd:0,Vd:0,Mt:0,side:"\u4e0b\u5074\u5f15\u5f35"}],L=O,D=O;D>=0&&!1!==I[L].isMax;D--)L--;L++;for(var N=O;N>=L;N--){var Z,F=_createForOfIteratorHelper(I[N].designForce);try{for(F.s();!(Z=F.n()).done;){var U=Z.value;"Md"===t?"\u4e0a\u5074\u5f15\u5f35"===U.side&&U[t]<=R[0][t]?R[0]=U:U[t]>=R[0][t]&&(R[1]=U):"\u4e0a\u5074\u5f15\u5f35"===U.side&&Math.abs(U[t])>Math.abs(R[0][t])?R[0]=U:Math.abs(U[t])>Math.abs(R[1][t])&&(R[1]=U)}}catch(z){F.e(z)}finally{F.f()}N!==L&&I.splice(N,1)}for(var B=R.length-1;B>=0;B--)"comb"in R[B]||R.splice(B,1);I[O=L].designForce=R}return n}},{key:"alignMultipleLists",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var i=e[0],r=1;r<e.length;r++){for(var a=e[r],o=JSON.parse(JSON.stringify({temp:i})).temp,s=function(t){for(var e=i[t],n=o[t],r=function(t){var i=e.designForce[t],r={side:i.side,target:i.target,Md:0,Vd:0,Nd:0,comb:""},o=a.find(function(t){return t.index===e.index});if(void 0===o)return n.designForce[t]=r,"continue";var s=o.designForce.find(function(t){return t.side===i.side&&t.target===i.target});n.designForce[t]=void 0!==s?s:r},s=0;s<e.designForce.length;s++)r(s)},l=0;l<i.length;l++)s(l);e[r]=o}return e}},{key:"getSectionForce",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=new Array,a=t+"max",o=t+"min";if(!(a in n)&&!(o in n))return r;a in n||(a=o),o in n||(o=a);for(var s=0,l=[a,o];s<l.length;s++){for(var u=l[s],c=n[u],h=c.Md>0?"\u4e0b\u5074\u5f15\u5f35":"\u4e0a\u5074\u5f15\u5f35",d={side:h,target:t,Md:c.Md/e,Mt:c.Mt/e,Vd:c.Vd/e,Nd:c.Nd/e,comb:c.comb},f=!1,p=0;p<r.length;p++){var g=r[p];g.side===h&&g.target===t&&(f=!0,(i&&Math.abs(g[t])<Math.abs(d[t])||!i&&Math.abs(g[t])>Math.abs(d[t]))&&(r[p]=d))}!1===f&&r.push(d)}return r}},{key:"getLiveload",value:function(t,e){if(0===e.length)return null;for(var n=JSON.parse(JSON.stringify({temp:e})).temp,i=0;i<t.length;i++)for(var r=t[i],a=n[i],o=0;o<r.designForce.length&&a.designForce.length!==o;o++){for(var s=0,l=["Md","Vd","Nd"];s<l.length;s++){var u=l[s],c=a.designForce[o],h=r.designForce[o];u in c&&u in h&&(c[u]-=h[u])}a.designForce[o].comb="-"}return n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(oh),i.LFG(Qc),i.LFG($c),i.LFG(ih),i.LFG(rh),i.LFG(ah))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ek=n(4762),nk={apiKey:"AIzaSyCO4R1CmJQzVUKfotcOqJCLbwNjrwMzRXc",authDomain:"structuralen-395cf.firebaseapp.com",projectId:"structuralen-395cf",storageBucket:"structuralen-395cf.appspot.com",messagingSenderId:"861143356248",appId:"1:861143356248:web:b3236a57a09f7513040b2d",measurementId:"G-Y61W803WE7"},ik=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.bars=e,this.steel=n,this.helper=i}return _createClass(t,[{key:"getRectangle",value:function(t,e,n,i,r,a){var o={symmetry:!0,Concretes:[],ConcreteElastic:[]},s=this.getRectangleShape(e,t,n,i,r,a),l=s.B,u={Height:s.H,WTop:l,WBottom:l,ElasticID:"c"};o.Concretes.push(u),o.member=s,o.ConcreteElastic.push(this.helper.getConcreteElastic(r));for(var c=this.getRectBar(s,r,i),h=0,d=Object.keys(c);h<d.length;h++){var f=d[h];o[f]=c[f]}var p=o.Bars,g=p.length-1;t:for(var v=0;v<p.length;v++){var m=p[v].Depth,_=u.Height-p[g].Depth;if(m!==_){o.symmetry=!1;break}for(var y=0,b=["i","n","ElasticID"];y<b.length;y++){var x=b[y];if(m[x]!==_[x]){o.symmetry=!1;break t}}g--}return o}},{key:"getTsection",value:function(t,e,n,i,r,a){var o={symmetry:!1,Concretes:[],ConcreteElastic:[]},s=this.getTsectionShape(e,t,n,i,r,a),l=s.H,u=s.B,c=s.Bt,h=s.t;o.Concretes.push({Height:h,WTop:c,WBottom:c,ElasticID:"c"}),o.Concretes.push({Height:l-h,WTop:u,WBottom:u,ElasticID:"c"}),o.ConcreteElastic.push(this.helper.getConcreteElastic(r));for(var d=this.getRectBar(s,r,i),f=0,p=Object.keys(d);f<p.length;f++){var g=p[f];o[g]=d[g]}return o}},{key:"getInvertedTsection",value:function(t,e,n,i,r,a){var o={symmetry:!1,Concretes:[],ConcreteElastic:[]},s=this.getTsectionShape(e,t,n,i,r,a),l=s.B,u=s.Bt,c=s.t;o.Concretes.push({Height:s.H-c,WTop:l,WBottom:l,ElasticID:"c"}),o.Concretes.push({Height:c,WTop:u,WBottom:u,ElasticID:"c"}),o.ConcreteElastic.push(this.helper.getConcreteElastic(r));for(var h=this.getRectBar(s,r,i),d=0,f=Object.keys(h);d<f.length;d++){var p=f[d];o[p]=h[p]}return o}},{key:"getSection",value:function(t,e,n){var i={H:null,B:null,Bt:null,t:null,tan:null,member:null},r=this.bars.getCalcData(n),a="Md"===e?r.haunch_M:r.haunch_V,o=this.helper.toNumber(t.H);null!==this.helper.toNumber(a)&&(o+=1*a),i.H=o;var s=this.helper.toNumber(t.B);if(i.B=s,null===o||null===s)throw"\u5f62\u72b6\u306e\u5165\u529b\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093";return i.tan=r.tan,i}},{key:"getTSection",value:function(t,e,n){var i=this.getSection(t,e,n),r=this.helper.toNumber(t.Bt),a=this.helper.toNumber(t.t);return null===r&&(r=i.B),null===a&&(a=i.H),i.Bt=r,i.t=a,i}},{key:"getRectangleShape",value:function(t,e,n,i,r,a){var o,s,l=this.getSection(t,e,n),u=this.bars.getCalcData(n),c=this.steel.getCalcData(n);switch(i){case"\u4e0a\u5074\u5f15\u5f35":o=this.helper.rebarInfo(u.rebar1),s=this.helper.rebarInfo(u.rebar2);break;case"\u4e0b\u5074\u5f15\u5f35":o=this.helper.rebarInfo(u.rebar2),s=this.helper.rebarInfo(u.rebar1)}if(null!==o){null===o.rebar_ss&&(o.rebar_ss=l.B/o.line),"barCenterPosition"in a&&a.barCenterPosition&&(o.dsc=this.helper.getBarCenterPosition(o,1),o.line=o.rebar_n,o.n=1);var h=this.helper.getFsyk(o.rebar_dia,r.material_bar,"tensionBar");235===h.fsy&&(o.mark="R"),o.fsy=h,"M_rs"in r.safety_factor?o.rs=r.safety_factor.M_rs:"V_rs"in r.safety_factor&&(o.rs=r.safety_factor.V_rs),l.tension=o}if(r.safety_factor.range>=2&&null!==s){var d=this.helper.getFsyk(s.rebar_dia,r.material_bar,"tensionBar");235===d.fsy&&(s.mark="R"),s.fsy=d,"M_rs"in r.safety_factor?s.rs=r.safety_factor.M_rs:"V_rs"in r.safety_factor&&(s.rs=r.safety_factor.V_rs),l.compress=s}if(r.safety_factor.range>=3){null===s&&(s={dsc:0});var f=this.helper.sideInfo(u.sidebar1,u.sidebar2,o.dsc,s.dsc,l.H);if(null!==f){var p=this.helper.getFsyk(f.rebar_dia,r.material_bar,"sidebar");235===p.fsy&&(f.mark="R"),f.fsy=p,"M_rs"in r.safety_factor?f.rs=r.safety_factor.M_rs:"V_rs"in r.safety_factor&&(f.rs=r.safety_factor.V_rs),l.sidebar=f}}var g=this.helper.toNumber(u.sidebar2.side_cover);null!==g&&(l.side_cover=g),l.stirrup=u.stirrup,l.bend=u.bend;var v={I:{position:null,tension_thickness:null,tension_width:null,compress_thickness:null,compress_width:null,web_thickness:null,web_height:null,fsy_tension:null,fsy_web:null,fsy_compress:null,fvy_web:null},H:{position:null,left_thickness:null,left_width:null,right_thickness:null,right_width:null,web_thickness:null,web_height:null,fsy_left:null,fsy_web:null,fsy_right:null,fvy_web:null},rs:null};if(null!==c){v.rs=r.safety_factor.S_rs;for(var m=0,_=["left","right"];m<_.length;m++){var y=_[m],b=y+"_thickness",x=y+"_width",w=c.H[b];v.H[b]=w,v.H[x]=c.H[x],v.H["fsy_"+y]=this.helper.getFsyk2(w,r.material_steel)}switch(v.H.web_thickness=c.H.web_thickness,v.H.web_height=c.H.web_height,v.H.fsy_web=this.helper.getFsyk2(v.H.web_thickness,r.material_steel),i){case"\u4e0a\u5074\u5f15\u5f35":v.I.tension_thickness=c.I.upper_thickness,v.I.tension_width=c.I.upper_width,v.I.compress_thickness=c.I.lower_thickness,v.I.compress_width=c.I.lower_width,v.I.position=l.H-(c.I.upper_cover+(c.I.upper_thickness+c.I.web_height+c.I.lower_thickness));var k=0;null!==c.H.left_width&&(k=c.H.left_width),null!==c.H.right_width&&(k=Math.max(k,c.H.right_width)),0!==k&&(v.H.position=l.H-(c.H.left_cover+k)),v.I.fsy_tension=this.helper.getFsyk2(c.I.upper_thickness,r.material_steel),v.I.fsy_compress=this.helper.getFsyk2(c.I.lower_thickness,r.material_steel);break;case"\u4e0b\u5074\u5f15\u5f35":v.I.tension_thickness=c.I.lower_thickness,v.I.tension_width=c.I.lower_width,v.I.compress_thickness=c.I.upper_thickness,v.I.compress_width=c.I.upper_width,v.I.position=c.I.upper_cover,v.H.position=c.H.left_cover,v.I.fsy_tension=this.helper.getFsyk2(c.I.lower_thickness,r.material_steel),v.I.fsy_compress=this.helper.getFsyk2(c.I.upper_thickness,r.material_steel)}v.I.web_thickness=c.I.web_thickness,v.I.web_height=c.I.web_height,v.I.fsy_web=this.helper.getFsyk2(v.I.web_thickness,r.material_steel);for(var C=0,M=["I","H"];C<M.length;C++){var T=M[C];v[T].fvy_web=this.helper.getFsyk2(c[T].web_thickness,r.material_steel,"fvy")}}return l.steel=v,l}},{key:"getTsectionShape",value:function(t,e,n,i,r,a){var o=this.getRectangleShape(t,e,n,i,r,a),s=this.helper.toNumber(t.Bt),l=this.helper.toNumber(t.t);return null===s&&(s=o.B),null===l&&(l=o.H),o.Bt=s,o.t=l,o}},{key:"getRectBar",value:function(t,e,n){var i={Bars:new Array,Steels:new Array,SteelElastic:new Array},r=t.H,a=this.getCompresBar(t.tension,e),o=a.Bars;if(o.length<1)return null;var s,l=_createForOfIteratorHelper(a.SteelElastic);try{var u=function(){var t=s.value;void 0===i.SteelElastic.find(function(e){return e.ElasticID===t.ElasticID})&&i.SteelElastic.push(t)};for(l.s();!(s=l.n()).done;)u()}catch(Z){l.e(Z)}finally{l.f()}var c=new Array;if("compress"in t){var h=this.getCompresBar(t.compress,e);c=h.Bars;var d,f=_createForOfIteratorHelper(h.SteelElastic);try{var p=function(){var t=d.value;void 0===i.SteelElastic.find(function(e){return e.ElasticID===t.ElasticID})&&i.SteelElastic.push(t)};for(f.s();!(d=f.n()).done;)p()}catch(Z){f.e(Z)}finally{f.f()}}var g=new Array;if("sidebar"in t){var v=this.getSideBar(t.sidebar,e);g=v.Bars;var m,_=_createForOfIteratorHelper(v.SteelElastic);try{for(_.s();!(m=_.n()).done;){var y=m.value;i.SteelElastic.push(y)}}catch(Z){_.e(Z)}finally{_.f()}}var b,x=1,w=_createForOfIteratorHelper(c);try{for(w.s();!(b=w.n()).done;){var k=b.value;k.n=k.n,k.Depth=k.Depth,k.index=x++,i.Bars.push(k)}}catch(Z){w.e(Z)}finally{w.f()}var C,M=_createForOfIteratorHelper(g);try{for(M.s();!(C=M.n()).done;){var T=C.value;T.n=T.n,T.index=x++,i.Bars.push(T)}}catch(Z){M.e(Z)}finally{M.f()}var S,A=_createForOfIteratorHelper(o);try{for(A.s();!(S=A.n()).done;){var E=S.value;E.n=E.n,E.Depth=r-E.Depth,E.IsTensionBar=!0,E.index=x++,i.Bars.push(E)}}catch(Z){A.e(Z)}finally{A.f()}for(var P=this.getSteel(t,n),I=0,O=Object.keys(P);I<O.length;I++){var R,L=O[I],D=_createForOfIteratorHelper(P[L]);try{for(D.s();!(R=D.n()).done;){var N=R.value;i[L].push(N)}}catch(Z){D.e(Z)}finally{D.f()}}return i}},{key:"getCompresBar",value:function(t,e){var n={Bars:new Array,SteelElastic:new Array},i=t.fsy,r="t"+i.id;n.SteelElastic.push({fsk:i.fsy/t.rs,Es:200,ElasticID:r});for(var a=t.mark+t.rebar_dia,o=t.rebar_n,s=t.dsc/t.cos,l=t.space/t.cos,u=0;u<t.n;u++){var c={Depth:s+u*l,i:a,n:Math.min(t.line,o*t.cos),IsTensionBar:!1,ElasticID:r};n.Bars.push(c),o-=t.line}return n}},{key:"getSideBar",value:function(t,e){var n={Bars:new Array,SteelElastic:new Array};if(null===t)return n;for(var i=t.fsy,r="s"+i.id,a=t.mark+t.side_dia,o=0;o<t.n;o++)n.Bars.push({Depth:t.cover+o*t.space,i:a,n:t.line,IsTensionBar:!1,ElasticID:r});return n.SteelElastic.push({fsk:i.fsy/t.rs,Es:200,ElasticID:r}),n}},{key:"getSteel",value:function(t,e){for(var n={Steels:new Array,SteelElastic:new Array},i="st",r={UpperT:t.steel.I.compress_thickness,UpperW:t.steel.I.compress_width,BottomT:t.steel.I.tension_thickness,BottomW:t.steel.I.tension_width,WebT:t.steel.I.web_thickness,WebH:t.steel.I.web_height},a=!1,o=0,s=Object.keys(r);o<s.length;o++){var l=s[o];null===this.helper.toNumber(r[l])?r[l]=0:a=!0}if(!0===a){r.Df=this.helper.toNumber(t.steel.I.position),null===r.Df&&(r.Df=0);var u=[];if(r.Df>0){for(var c=0,h=[t.steel.I.fsy_tension.fsy,t.steel.I.fsy_compress.fsy,t.steel.I.fsy_web.fsy,t.steel.H.fsy_left.fsy,t.steel.H.fsy_right.fsy,t.steel.H.fsy_web.fsy];c<h.length;c++){var d=h[c];if(null!==this.helper.toNumber(d)){n.SteelElastic.push({ElasticID:i,Es:200,fsk:t.steel.I.fsy_tension.fsy,rs:t.steel.rs});break}}u.push({Height:r.Df,WTop:0,WBottom:0,ElasticID:i})}if(0===n.SteelElastic.length&&(i="sc"),r.UpperT>0){var f=t.steel.I.fsy_compress.fsy,p=n.SteelElastic.find(function(t){return t.fsk===f}),g=i;void 0===p?n.SteelElastic.push({ElasticID:g,Es:200,fsk:f,rs:t.steel.rs}):g=p.ElasticID,u.push({Height:r.UpperT,WTop:r.UpperW,WBottom:r.UpperW,ElasticID:g})}if(0===n.SteelElastic.length&&(i="sw"),r.WebH>0){var v=t.steel.I.fsy_web.fsy,m=n.SteelElastic.find(function(t){return t.fsk===v}),_=i;void 0===m?n.SteelElastic.push({ElasticID:_,Es:200,fsk:v,rs:t.steel.rs}):_=m.ElasticID,u.push({Height:r.WebH,WTop:r.WebT,WBottom:r.WebT,ElasticID:_})}if(0===n.SteelElastic.length&&(i="st"),r.BottomT>0){var y=t.steel.I.fsy_tension.fsy,b=n.SteelElastic.find(function(t){return t.fsk===y}),x=i;void 0===b?n.SteelElastic.push({ElasticID:x,Es:200,fsk:y,rs:t.steel.rs}):x=b.ElasticID,u.push({Height:r.BottomT,WTop:r.BottomW,WBottom:r.BottomW,ElasticID:x,IsTensionBar:!0})}n.Steels.push(u)}for(var w={LeftT:t.steel.H.left_thickness,LeftW:t.steel.H.left_width,RightT:t.steel.H.right_thickness,RightW:t.steel.H.right_width,WebT:t.steel.H.web_thickness,WebH:t.steel.H.web_height-r.WebT},k=!1,C=0,M=Object.keys(w);C<M.length;C++){var T=M[C];null===this.helper.toNumber(w[T])?w[T]=0:k=!0}if(!0===k){var S=this.helper.toNumber(t.steel.H.position);null===S?(w.LeftDf=0,w.RightDf=0):(w.LeftDf=S,w.RightDf=S);var A=t.H;w.LeftW>w.RightW?(w.RightDf+=(w.LeftW-w.RightW)/2,w.WebDf=w.RightDf+(w.RightW-w.WebT)/2):(w.LeftDf+=(w.RightW-w.LeftW)/2,w.WebDf=w.LeftDf+(w.LeftW-w.WebT)/2),"\u4e0a\u5074\u5f15\u5f35"===e&&(w.WebDf=A-w.WebDf),0===n.SteelElastic.length&&(i="sl");var E=[];if(w.LeftT>0){w.LeftDf>0&&E.push({Height:w.LeftDf,WTop:0,WBottom:0,ElasticID:i});var P=t.steel.H.fsy_left.fsy,I=n.SteelElastic.find(function(t){return t.fsk===P}),O=i;void 0===I?n.SteelElastic.push({ElasticID:i,Es:200,fsk:P,rs:t.steel.rs}):O=I.ElasticID,E.push({Height:w.LeftW,WTop:w.LeftT,WBottom:w.LeftT,ElasticID:O,IsTensionBar:!0}),n.Steels.push(E)}0===n.SteelElastic.length&&(i="sr");var R=[];if(w.RightT>0){w.RightDf>0&&R.push({Height:w.RightDf,WTop:0,WBottom:0,ElasticID:i});var L=t.steel.H.fsy_right.fsy,D=n.SteelElastic.find(function(t){return t.fsk===L}),N=i;void 0===D?n.SteelElastic.push({ElasticID:N,Es:200,fsk:L,rs:t.steel.rs}):N=D.ElasticID,R.push({Height:w.RightW,WTop:w.RightT,WBottom:w.RightT,ElasticID:N,IsTensionBar:!0}),n.Steels.push(R)}0===n.SteelElastic.length&&(i="sw");var Z=[];if(w.WebT>0){w.WebDf>0&&Z.push({Height:w.WebDf,WTop:0,WBottom:0,ElasticID:i});var F=t.steel.H.fsy_web.fsy,U=n.SteelElastic.find(function(t){return t.fsk===F}),B=i;void 0===U?n.SteelElastic.push({ElasticID:B,Es:200,fsk:F,rs:t.steel.rs}):B=U.ElasticID,Z.push({Height:w.WebT,WTop:w.WebH,WBottom:w.WebH,ElasticID:B,IsTensionBar:!0}),n.Steels.push(Z)}}return n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Kc),i.LFG(th),i.LFG(Qc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),rk=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.bars=e,this.steel=n,this.helper=i}return _createClass(t,[{key:"getHorizontalOval",value:function(t,e,n,i,r){for(var a={symmetry:!0,Concretes:[],ConcreteElastic:[]},o=this.getShape(t,e,n,i,r),s=o.H,l=o.B,u=0,c=1.8;Math.round(10*c)/10<=180;c+=1.8){var h={Height:(Math.cos(this.helper.Radians(u))-Math.cos(this.helper.Radians(c)))*s/2,WTop:l-s+Math.sin(this.helper.Radians(u))*s,WBottom:l-s+Math.sin(this.helper.Radians(c))*s,ElasticID:"c"};a.Concretes.push(h),u=c}a.ConcreteElastic.push(this.helper.getConcreteElastic(i));for(var d=this.getHorizontalOvalBar(o,i),f=0,p=Object.keys(d);f<p.length;f++){var g=p[f];a[g]=d[g]}return a}},{key:"getShape",value:function(t,e,n,i,r){var a,o,s=this.getSection(t),l=this.bars.getCalcData(e);switch(n){case"\u4e0a\u5074\u5f15\u5f35":a=this.helper.rebarInfo(l.rebar1),o=this.helper.rebarInfo(l.rebar2);break;case"\u4e0b\u5074\u5f15\u5f35":a=this.helper.rebarInfo(l.rebar2),o=this.helper.rebarInfo(l.rebar1)}if(null===a)throw"\u5f15\u5f35\u9244\u7b4b\u60c5\u5831\u304c\u3042\u308a\u307e\u305b\u3093";null===a.rebar_ss&&(a.rebar_ss=(s.B-s.H)/a.line),"barCenterPosition"in r&&r.barCenterPosition&&(a.dsc=this.helper.getBarCenterPosition(a,1),a.line=a.rebar_n,a.n=1);var u=this.helper.getFsyk(a.rebar_dia,i.material_bar,"tensionBar");if(235===u.fsy&&(a.mark="R"),a.fsy=u,"M_rs"in i.safety_factor?a.rs=i.safety_factor.M_rs:"V_rs"in i.safety_factor&&(a.rs=i.safety_factor.V_rs),s.tension=a,i.safety_factor.range>=2&&null!==o){var c=this.helper.getFsyk(o.rebar_dia,i.material_bar,"tensionBar");235===c.fsy&&(o.mark="R"),o.fsy=c,"M_rs"in i.safety_factor?o.rs=i.safety_factor.M_rs:"V_rs"in i.safety_factor&&(o.rs=i.safety_factor.V_rs),s.compress=o}if(null===o&&(o=a,s.compress=a),i.safety_factor.range>=3){var h=this.helper.sideInfo(l.sidebar1,l.sidebar2,a.dsc,o.dsc,s.H);if(null!==h){var d=this.helper.getFsyk(h.rebar_dia,i.material_bar,"sidebar");235===d.fsy&&(h.mark="R"),h.fsy=d,"M_rs"in i.safety_factor?h.rs=i.safety_factor.M_rs:"V_rs"in i.safety_factor&&(h.rs=i.safety_factor.V_rs),s.sidebar=h}}return s.stirrup=l.stirrup,s.bend=l.bend,s}},{key:"getSection",value:function(t){var e={H:null,B:null,Bw:null,H_summary:null,B_summary:null},n=this.helper.toNumber(t.H);e.H=n;var i=this.helper.toNumber(t.B);if(e.B=i,null===n||null===i)throw"\u5f62\u72b6\u306e\u5165\u529b\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093";e.H_summary=this.helper.toNumber(t.H),e.B_summary=this.helper.toNumber(t.B);var r=(Math.PI*Math.pow(n/2,2)/2+n*(i-n)+Math.PI*Math.pow(n/2,2)/2)/n;return e.Bw=r,e}},{key:"getHorizontalOvalBar",value:function(t,e){var n={Bars:new Array,SteelElastic:new Array},i=t.H,r=t.tension,a=this.getCompresBar(r,e),o=a.Bars;if(o.length<1)return null;var s,l=_createForOfIteratorHelper(a.SteelElastic);try{var u=function(){var t=s.value;void 0===n.SteelElastic.find(function(e){return e.ElasticID===t.ElasticID})&&n.SteelElastic.push(t)};for(l.s();!(s=l.n()).done;)u()}catch(P){l.e(P)}finally{l.f()}var c=new Array,h=new Array;if("compress"in t){var d=t.compress,f=this.getCompresBar(d,e);c=f.Bars;var p,g,v=_createForOfIteratorHelper(f.SteelElastic);try{var m=function(){var t=p.value;void 0===n.SteelElastic.find(function(e){return e.ElasticID===t.ElasticID})&&n.SteelElastic.push(t)};for(v.s();!(p=v.n()).done;)m()}catch(P){v.e(P)}finally{v.f()}if("sidebar"in t){h=(g=this.getSideBar(t.sidebar,e,r,d,i)).Bars;var _,y=_createForOfIteratorHelper(g.SteelElastic);try{for(y.s();!(_=y.n()).done;){var b=_.value;n.SteelElastic.push(b)}}catch(P){y.e(P)}finally{y.f()}}}var x,w=_createForOfIteratorHelper(c);try{for(w.s();!(x=w.n()).done;){var k=x.value;k.n=k.n,k.Depth=k.Depth,n.Bars.push(k)}}catch(P){w.e(P)}finally{w.f()}var C,M=_createForOfIteratorHelper(h);try{for(M.s();!(C=M.n()).done;){var T=C.value;T.n=T.n,n.Bars.push(T)}}catch(P){M.e(P)}finally{M.f()}var S,A=_createForOfIteratorHelper(o);try{for(A.s();!(S=A.n()).done;){var E=S.value;E.n=E.n,E.Depth=i-E.Depth,E.IsTensionBar=!0,n.Bars.push(E)}}catch(P){A.e(P)}finally{A.f()}return n}},{key:"getCompresBar",value:function(t,e){var n={Bars:new Array,SteelElastic:new Array},i=t.fsy,r="t"+i.id;n.SteelElastic.push({fsk:i.fsy/t.rs,Es:200,ElasticID:r});for(var a=t.mark+t.rebar_dia,o=t.rebar_n,s=t.dsc/t.cos,l=t.space/t.cos,u=0;u<t.n;u++){var c={Depth:s+u*l,i:a,n:Math.min(t.line,o*t.cos),IsTensionBar:!1,ElasticID:r};n.Bars.push(c),o-=t.line}return n}},{key:"getSideBar",value:function(t,e,n,i,r){var a={Bars:new Array,SteelElastic:new Array};if(null===t.side_dia)return new Array;if(0===t.n)return new Array;for(var o=r-(n.dsc+i.dsc),s=(Math,t.fsy),l="s"+s.id,u=e.safety_factor.rs,c=t.mark+t.side_dia,h=180/(t.n+1),d=h*t.n,f=h;f<=d;f+=h){var p={Depth:r/2-o/2*Math.cos(this.helper.Radians(f)),i:c,n:2,IsTensionBar:!1,ElasticID:l};a.Bars.push(p)}return a.SteelElastic.push({fsk:s.fsy/u,Es:200,ElasticID:l}),a}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Kc),i.LFG(th),i.LFG(Qc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ak=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.bars=e,this.steel=n,this.helper=i}return _createClass(t,[{key:"getVerticalOval",value:function(t,e,n,i,r){for(var a={symmetry:!0,Concretes:[],ConcreteElastic:[]},o=this.getShape(t,e,n,i,r),s=o.H,l=o.B,u=0,c=1.8;Math.round(10*c)/10<=90;c+=1.8){var h={Height:(Math.cos(this.helper.Radians(u))-Math.cos(this.helper.Radians(c)))*l/2,WTop:Math.sin(this.helper.Radians(u))*l,WBottom:Math.sin(this.helper.Radians(c))*l,ElasticID:"c"};a.Concretes.push(h),u=c}a.Concretes.push({Height:s-l,WTop:l,WBottom:l,ElasticID:"c"});for(var d=91.8;Math.round(10*d)/10<=180;d+=1.8){var f={Height:(Math.cos(this.helper.Radians(u))-Math.cos(this.helper.Radians(d)))*l/2,WTop:Math.sin(this.helper.Radians(u))*l,WBottom:Math.sin(this.helper.Radians(d))*l,ElasticID:"c"};a.Concretes.push(f),u=d}a.ConcreteElastic.push(this.helper.getConcreteElastic(i));for(var p=this.getVerticalOvalBar(o,i),g=0,v=Object.keys(p);g<v.length;g++){var m=v[g];a[m]=p[m]}return a}},{key:"getShape",value:function(t,e,n,i,r){var a,o,s=this.getSection(t),l=this.bars.getCalcData(e);switch(n){case"\u4e0a\u5074\u5f15\u5f35":a=this.helper.rebarInfo(l.rebar1),o=this.helper.rebarInfo(l.rebar2);break;case"\u4e0b\u5074\u5f15\u5f35":a=this.helper.rebarInfo(l.rebar2),o=this.helper.rebarInfo(l.rebar1)}if(null===a)throw"\u5f15\u5f35\u9244\u7b4b\u60c5\u5831\u304c\u3042\u308a\u307e\u305b\u3093";null===a.rebar_ss&&(a.rebar_ss=(s.H-2*a.dsc)/a.line),"barCenterPosition"in r&&r.barCenterPosition&&(a.dsc=this.helper.getBarCenterPosition(a,1),a.line=a.rebar_n,a.n=1);var u=this.helper.getFsyk(a.rebar_dia,i.material_bar,"tensionBar");if(235===u.fsy&&(a.mark="R"),a.fsy=u,s.tension=a,i.safety_factor.range>=2&&null!==o){var c=this.helper.getFsyk(o.rebar_dia,i.material_bar,"tensionBar");235===c.fsy&&(o.mark="R"),o.fsy=c,s.compress=o}if(null===o&&(o=a,s.compress=a),i.safety_factor.range>=3){null===o&&(o={dsc:0});var h=this.helper.sideInfo(l.sidebar1,l.sidebar2,a.dsc,o.dsc,s.H);if(null!==h){var d=this.helper.getFsyk(h.side_dia,i.material_bar,"sidebar");235===d.fsy&&(h.mark="R"),h.fsy=d,s.sidebar=h}}s.stirrup=l.stirrup,s.bend=l.bend;var f,p=s,g=0,v=0,m=_createForOfIteratorHelper(this.getVerticalOvalBar(p,i).Bars);try{for(m.s();!(f=m.n()).done;){var _=f.value;!0===_.IsTensionBar&&(g+=_.Depth*_.n,v+=_.n)}}catch(y){m.e(y)}finally{m.f()}return a.dsc=p.Hw-g/v+(p.H-p.Hw)/2,a.rebar_n=v,s}},{key:"getSection",value:function(t){var e={H:null,B:null,Hw:null,H_summary:null,B_summary:null},n=this.helper.toNumber(t.H);e.H=n;var i=this.helper.toNumber(t.B);if(e.B=i,null===n||null===i)throw"\u5f62\u72b6\u306e\u5165\u529b\u304c\u6b63\u3057\u304f\u3042\u308a\u307e\u305b\u3093";e.H_summary=this.helper.toNumber(t.H),e.B_summary=this.helper.toNumber(t.B);var r=(Math.PI*Math.pow(i/2,2)/2+i*(n-i)+Math.PI*Math.pow(i/2,2)/2)/i;return e.Hw=r,e}},{key:"getVerticalOvalBar",value:function(t,e){var n={Bars:new Array,SteelElastic:new Array},i=t.H,r=t.B,a=t.tension,o=e.safety_factor.rs,s=a.fsy,l="s"+s.id;n.SteelElastic.push({fsk:s.fsy/o,Es:200,ElasticID:l});var u=a.mark+a.rebar_dia,c=new Array;if("compress"in t){var h=t.compress,d=h.fsy,f=h.mark+h.rebar_dia,p="s"+d.id;void 0===n.SteelElastic.find(function(t){return t.ElasticID===p})&&n.SteelElastic.push({fsk:d.fsy/o,Es:200,ElasticID:p});for(var g=0;g<h.n;g++)for(var v=r-2*(h.dsc+g*h.space),m=180/(h.rebar_n-h.line*g+1),_=m;_<180;_+=m){var y={Depth:r/2-Math.sin(this.helper.Radians(_))*v/2,i:f,n:1,IsTensionBar:!1,ElasticID:p};c.push(y)}}var b=new Array;if("sidebar"in t){var x=this.getSideBar(t.sidebar,e);b=x.Bars;var w,k=_createForOfIteratorHelper(x.SteelElastic);try{for(k.s();!(w=k.n()).done;){var C=w.value;n.SteelElastic.push(C)}}catch(B){k.e(B)}finally{k.f()}}for(var M=new Array,T=0;T<a.n;T++)for(var S=r-2*(a.dsc+T*a.space),A=180/(a.rebar_n-a.line*T+1),E=A;E<180;E+=A){var P=i-r/2+Math.sin(this.helper.Radians(E))*S/2;M.push({Depth:P,i:u,n:1,IsTensionBar:0<=E&&E<=180,ElasticID:l})}for(var I=0,O=c;I<O.length;I++){var R=O[I];R.n=R.n,n.Bars.push(R)}var L,D=_createForOfIteratorHelper(b);try{for(D.s();!(L=D.n()).done;){var N=L.value;N.Depth=N.Depth+r/2,N.n=N.n,n.Bars.push(N)}}catch(B){D.e(B)}finally{D.f()}for(var Z=0,F=M;Z<F.length;Z++){var U=F[Z];n.Bars.push(U)}return n}},{key:"getSideBar",value:function(t,e){var n={Bars:new Array,SteelElastic:new Array};if(null===t)return n;for(var i=t.fsy,r="s"+i.id,a=t.mark+t.side_dia,o=0;o<t.n;o++)n.Bars.push({Depth:t.cover+o*t.space,i:a,n:t.line,IsTensionBar:!1,ElasticID:r});return n.SteelElastic.push({fsk:i.fsy/e.safety_factor.rs,Es:200,ElasticID:r}),n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Kc),i.LFG(th),i.LFG(Qc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ok=function(){var t=function(){function t(e,n,i,r,a,o,s,l,u,c,h,d,f){_classCallCheck(this,t),this.http=e,this.user=n,this.basic=i,this.members=r,this.points=a,this.safety=o,this.helper=s,this.circle=l,this.rect=u,this.hOval=c,this.vOval=h,this.I=d,this.box=f,this.options={headers:new yn({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"})}}return _createClass(t,[{key:"http_post",value:function(t){return(0,ek.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,i){n.http.post("https://przh0fpakg.execute-api.ap-northeast-1.amazonaws.com/prod/RCNonlinear-2",t,n.options).subscribe(function(t){null!==t.ErrorException&&i({error:t.ErrorException}),n.user.setUserPoint(t.deduct_points,t.new_points),e(t)},function(t){var e="";"message"in t&&(e+=t.message+"\n"),"text"in t&&(e+=t.text+"\n"),i(e)})}));case 1:case"end":return e.stop()}},e)}))}},{key:"parseJsonString",value:function(t){var e=null,n=null;try{n=JSON.parse(t),e=JSON.parse(n)}catch(i){return n}return e}},{key:"getInputJsonString",value:function(t){return JSON.stringify({production:!0,uid:this.user.uid,InputData:t})}},{key:"setInputData",value:function(t,e,n,i){var r,a=["index","side","Nd","Vd","Md","Mt","SteelElastic","Steels","shape"],o={},s=0,l=arguments.length<=4?void 0:arguments[4],u=_createForOfIteratorHelper(l);try{for(u.s();!(r=u.n()).done;){var c,h=r.value,d=_createForOfIteratorHelper(h.designForce);try{for(d.s();!(c=d.n()).done;){var f=c.value;f.index=h.index;var p={index:f.index,side:f.side,Nd:f.Nd};"\u5fdc\u529b\u5ea6"===e&&(p.Vd=Math.abs(f.Vd),p.Md=Math.abs(f.Md),p.Mt=Math.abs(f.Mt)),p.force=f;try{var g=this.getPostData(t,n,f,i);p.shape=g,"Steels"in g&&(p.Steels=g.Steels),p.SteelElastic=g.SteelElastic,o[s]=p,s++}catch(A){console.log(A)}}}catch(J){d.e(J)}finally{d.f()}}}catch(J){u.e(J)}finally{u.f()}for(var v={},m=0,_=Object.keys(o);m<_.length;m++){var y=_[m],b=o[y],x=b.index.toString();b.shape.symmetry&&(x in v?v[x].push(y):v[x]=[y])}for(var w=[],k=0,C=Object.keys(v);k<C.length;k++){var M=C[k],T=v[M];if(!(T.length<2))for(var S=T[0],A=o[S],E=1;E<T.length;E++){var P=T[E],I=o[P];Math.abs(A.force[t])<Math.abs(I.force[t])?(w.push(S),A=I):w.push(P)}}for(var O=0,R=w;O<R.length;O++){var L=R[O];delete o[L]}for(var D=[],N=[],Z=0,F=Object.keys(o);Z<F.length;Z++){var U,B=F[Z],z=o[B],q={},H=_createForOfIteratorHelper(a);try{for(H.s();!(U=H.n()).done;){var G=U.value;G in z&&(q[G]=z[G])}}catch(J){H.e(J)}finally{H.f()}D.push(q),N.push(q)}for(var V=1;V<(arguments.length<=4?0:arguments.length-4);V++){var W,j=V+4<4||arguments.length<=V+4?void 0:arguments[V+4],Y=_createForOfIteratorHelper(D);try{var Q=function(){var t=W.value,e=JSON.parse(JSON.stringify({temp:t})).temp;"Md"in e&&(e.Md=0),"Nd"in e&&(e.Nd=0),"Vd"in e&&(e.Vd=0);var n=j.find(function(e){return e.index===t.index});if(void 0===n)return N.push(e),"continue";var i=n.designForce.find(function(e){return e.side===t.side});void 0!==i?("Md"in e&&(e.Md=Math.abs(i.Md)),"Nd"in e&&(e.Nd=i.Nd),"Vd"in e&&(e.Vd=i.Vd),N.push(e)):N.push(e)};for(Y.s();!(W=Y.n()).done;)Q()}catch(J){Y.e(J)}finally{Y.f()}}return N}},{key:"setInputData_old",value:function(t,e,n,i){for(var r=["index","side","Nd","Md","ConcreteElastic","Concretes","SteelElastic","Bars","Steels","shape"],a={},o=0,s=arguments.length,l=new Array(s>4?s-4:0),u=4;u<s;u++)l[u-4]=arguments[u];for(var c=0,h=l;c<h.length;c++){var d,f=h[c],p=_createForOfIteratorHelper(f);try{for(p.s();!(d=p.n()).done;){var g,v=d.value,m=_createForOfIteratorHelper(v.designForce);try{for(m.s();!(g=m.n()).done;){var _=g.value;_.index=v.index;var y={index:_.index,side:_.side,Nd:_.Nd};"\u5fdc\u529b\u5ea6"===e&&(y.Md=Math.abs(_.Md)),y.force=_;try{var b=this.getPostData(t,n,_,i);y.shape=b,y.Concretes=b.Concretes,y.ConcreteElastic=b.ConcreteElastic,"Bars"in b&&(y.Bars=b.Bars),"Steels"in b&&(y.Steels=b.Steels),y.SteelElastic=b.SteelElastic,a[o]=y,o++}catch(b){console.log(b)}}}catch(Q){m.e(Q)}finally{m.f()}}}catch(Q){p.e(Q)}finally{p.f()}}for(var x={},w=0,k=Object.keys(a);w<k.length;w++){var C=k[w],M=a[C],T=M.index.toString();M.shape.symmetry&&(T in x?x[T].push(C):x[T]=[C])}for(var S=[],A=0,E=Object.keys(x);A<E.length;A++){var P=E[A],I=x[P];if(!(I.length<2))for(var O=I[0],R=a[O],L=1;L<I.length;L++){var D=I[L],N=a[D];Math.abs(R.force[t])<Math.abs(N.force[t])?(S.push(O),R=N):S.push(D)}}for(var Z=0,F=S;Z<F.length;Z++){var U=F[Z];delete a[U]}for(var B=[],z=0,q=Object.keys(a);z<q.length;z++){var H,G=q[z],V=a[G],W={},j=_createForOfIteratorHelper(r);try{for(j.s();!(H=j.n()).done;){var Y=H.value;Y in V&&(W[Y]=V[Y])}}catch(Q){j.e(Q)}finally{j.f()}B.push(W)}return B}},{key:"getShapeName",value:function(t,e){var n=null;if(t.shape.indexOf("\u5186")>=0){if(t.shape.indexOf("\u5186\u5f62")>=0)n="Circle";else if(t.shape.indexOf("\u5186\u74b0")>=0){var i=this.helper.toNumber(t.B);(null===i||0===i)&&(n="Circle"),n="Ring"}}else if(t.shape.indexOf("\u77e9\u5f62")>=0)n="Rectangle";else if(t.shape.indexOf("T")>=0){var r=this.basic.conditions_list.find(function(t){return"JR-002"===t.id});if(void 0===r&&(r={selected:!1}),t.shape.indexOf("T\u5f62")>=0)if(!0===r.selected&&"\u4e0a\u5074\u5f15\u5f35"===e)n="Rectangle";else{n="Tsection";var a=this.helper.toNumber(t.B);if(null===a)return null;var o=this.helper.toNumber(t.Bt);o===a&&(o=null);var s=this.helper.toNumber(t.t);null===o&&null==s&&(n="Rectangle")}else if(t.shape.indexOf("\u9006T\u5f62")>=0)if(!0===r.selected&&"\u4e0b\u5074\u5f15\u5f35"===e)n="Rectangle";else{var l=this.helper.toNumber(t.B);if(null===l)return null;var u=this.helper.toNumber(t.Bt);u===l&&(u=null);var c=this.helper.toNumber(t.t);null===u&&null==c&&(n="Rectangle"),n="InvertedTsection"}}else if(t.shape.indexOf("\u5c0f\u5224")>=0)t.B>t.H?n="HorizontalOval":t.B<t.H?n="VerticalOval":t.B===t.H&&(n="Circle");else if(t.shape.indexOf("I\u5f62")>=0)n="I";else if(t.shape.indexOf("H\u5f62")>=0)n="H";else if(t.shape.indexOf("\u7bb1\u5f62/\u03c0\u5f62")>=0)n="Box";else{if(!(t.shape.indexOf("\u92fc\u7ba1")>=0))throw"\u65ad\u9762\u5f62\u72b6\uff1a"+t.shape+" \u306f\u9069\u5207\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002";n="Pipe"}return n}},{key:"getPostData",value:function(t,e,n,i){var r,a=n.index,o=this.points.getCalcData(a),s=this.members.getCalcData(o.m_no),l=this.safety.getCalcData(t,s.g_id,e),u=this.getShapeName(s,n.side);switch(u){case"Circle":r=this.circle.getCircle(s,a,l,i);break;case"Ring":r=this.circle.getRing(s,a,l,i);break;case"Rectangle":r=this.rect.getRectangle(t,s,a,n.side,l,i);break;case"Tsection":r=this.rect.getTsection(t,s,a,n.side,l,i);break;case"InvertedTsection":r=this.rect.getInvertedTsection(t,s,a,n.side,l,i);break;case"HorizontalOval":r=this.hOval.getHorizontalOval(s,a,n.side,l,i);break;case"VerticalOval":r=this.vOval.getVerticalOval(s,a,n.side,l,i);break;case"I":r=this.I.getI(t,s,a,n.side,l,i);break;case"Box":r=this.box.getBox(t,s,a,n.side,l,i);break;default:throw"\u65ad\u9762\u5f62\u72b6\uff1a"+u+" \u306f\u9069\u5207\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002"}return r.shape=u,r}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Zn),i.LFG(mb),i.LFG(Jc),i.LFG(Xc),i.LFG($c),i.LFG(ih),i.LFG(Qc),i.LFG(Xy),i.LFG(ik),i.LFG(rk),i.LFG(ak),i.LFG(Qy),i.LFG(Jy))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),sk=function(){var t=function(){function t(e,n,i,r,a){_classCallCheck(this,t),this.save=e,this.basic=n,this.calc=i,this.force=r,this.post=a,this.safetyID=2,this.DesignForceList=null,this.isEnable=!1}return _createClass(t,[{key:"setDesignForces",value:function(){this.isEnable=!1,this.DesignForceList=new Array;var t=this.save.isManual()?5:this.basic.pickup_torsional_moment_no(5);this.DesignForceList=this.force.getDesignForceList("Mt",t)}},{key:"setInputData",value:function(){if(this.DesignForceList.length<1)return null;var t,e=this.force.checkEnable("Mt",this.safetyID,this.DesignForceList),n={},i=this.post.setInputData("Md","\u8010\u529b",this.safetyID,n,e[0]),r=JSON.parse(JSON.stringify({temp:e[0]})).temp,a=_createForOfIteratorHelper(r);try{for(a.s();!(t=a.n()).done;){var o,s=_createForOfIteratorHelper(t.value.designForce);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.side="\u4e0a\u5074\u5f15\u5f35"===l.side?"\u4e0b\u5074\u5f15\u5f35":"\u4e0a\u5074\u5f15\u5f35"}}catch(m){s.e(m)}finally{s.f()}}}catch(m){a.e(m)}finally{a.f()}var u,c=this.post.setInputData("Md","\u8010\u529b",this.safetyID,n,r),h=_createForOfIteratorHelper(c);try{for(h.s();!(u=h.n()).done;){var d=u.value;d.side="\u4e0a\u5074\u5f15\u5f35"===d.side?"\u4e0b\u5074\u5f15\u5f35\u306e\u53cd\u5bfe\u5074":"\u4e0a\u5074\u5f15\u5f35\u306e\u53cd\u5bfe\u5074",d.memo="\u66f2\u3052 Mud' \u7528"}}catch(m){h.e(m)}finally{h.f()}var f,p=this.post.setInputData("Vd","\u8010\u529b",this.safetyID,n,e[0]),g=_createForOfIteratorHelper(p);try{for(g.s();!(f=g.n()).done;){var v=f.value;v.Nd=0,v.index*=-1,v.memo="\u305b\u3093\u65ad Mu \u7528"}}catch(m){g.e(m)}finally{g.f()}return i.concat(c,p)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(oh),i.LFG(Jc),i.LFG(ah),i.LFG(tk),i.LFG(ok))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),lk=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.helper=e,this.basic=n,this.safetyID=2,this.DesignForceList=null,this.isEnable=!1}return _createClass(t,[{key:"calcVmu",value:function(t,e,n,i,r,a){var o={},s=0;void 0!==a&&(s=this.helper.toNumber(a.Md));var l=Math.abs(s);0!==l&&(o.Md=l);var u=0;void 0!==a&&(u=this.helper.toNumber(a.Nd)),0!==u&&(o.Nd=u);var c=0;if(void 0!==a&&(c=Math.abs(this.helper.toNumber(a.Vd))),null===c)return o;c=Math.abs(c),o.Vd=c;this.helper.toNumber(i.safety_factor.V_rbc);var h=this.helper.toNumber(i.safety_factor.ri);return null===h&&(h=1),o.ri=h,o}},{key:"calcVyd",value:function(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,g,v,m,_,y,b,x){var w={},k=.2*Math.pow(t,1/3);k=Math.min(k,.72),w.fvcd=k;var C=Math.pow(1e3/e,1/4);C=Math.min(C,1.5),w.Bd=C,w.pc=n;var M=Math.pow(100*n,1/3);M=Math.min(M,1.5),w.Bp=M;var T,S=i*r/6e3;w.Mo=S,a<=0?T=1:i>0?(T=1+2*S/a,T=Math.min(T,2)):(T=1+4*S/a,T=Math.max(T,0)),w.Bn=T;var A=C*M*T*k*o*e/s;A/=1e3,A*=l,w.Vcd=A;var E=e/1.15;w.z=E;var P=Math.sin(this.helper.Radians(u))+Math.cos(this.helper.Radians(u));w.sinCos=P;var I=h*f*P/g*E/m;I/=1e3,w.Vsd=I;var O=A+I;if(null===_){var R=Math.sin(this.helper.Radians(c))+Math.cos(this.helper.Radians(c));w.sinCos2=R;var L=d*p*R/v*E/m;L/=1e3,L=Math.min(L,I),w.Vsd2=L,O+=L}else{var D=b;w.fsvyd=D;var N=D*x/1.05/1e3;w.Vsd2=N,O+=N}return w.Vyd=O,w}},{key:"calcVwcd",value:function(t,e,n,i){var r={},a=1.25*Math.sqrt(t);a=Math.min(a,7.8),r.fwcd=a;var o=a*e*n/i;return o/=1e3,r.Vwcd=o,r}},{key:"calcVdd",value:function(t,e,n,i,r,a,o,s,l,u,c){var h={},d=.19*Math.sqrt(t);h.fdd=d;var f=Math.pow(1e3/e,1/4);f=Math.min(f,1.5),h.Bd=f;var p=n/(i*r);h.pw=p,p<.002&&(p=0);var g=a/e;h.ad=g;var v=4.2*Math.pow(100*p,1/3)*(g-.75)/Math.sqrt(t);v=Math.max(v,0),h.Bw=v;var m,_=o*s/6e3;h.Mo=_,l<=0?m=1:o>0?(m=1+2*_/l,m=Math.min(m,2)):(m=1+4*_/l,m=Math.max(m,0)),h.Bn=m,h.pc=u;var y=(1+Math.sqrt(100*u))/2;y=Math.min(y,1.5),h.Bp=y;var b=5/(1+Math.pow(g,2));h.Ba=b;var x=(f*m+v)*y*b*d*i*e/c;return x/=1e3,h.Vdd=x,h}},{key:"calcVydd",value:function(t,e,n,i,r,a,o,s,l,u,c,h,d,f,p,g,v,m,_,y){var b={},x=Math.pow(t,1/3);b.fvcd=x;var w=Math.pow(n/e,-1.166);w=Math.min(w,2.244),b.Ba=w;var k=Math.pow(1e3/e,1/4);k=Math.min(k,1.5),b.Bd=k;var C=0+Math.pow(100*i,1/3);C=Math.min(C,1.5),b.Bp=C;var M,T=null===o?r*a/6e3:r*o/6e3;b.Mo=T,s<=0?M=1:r>0?(M=1+2*T/s,M=Math.min(M,2)):(M=1+4*T/s,M=Math.max(M,0)),b.Bn=M,b.ad=n/e;var S=null===u?.65*w*x*k*C*M*l*e/c:.65*w*x*k*C*M*u*e/c;b.Vdd=S/1e3;var A=n/e<0?0:n/e>1?1:2*(n/e-.5),E=e/1.15,P=p*v*(Math.sin(this.helper.Radians(d))+Math.cos(this.helper.Radians(d)))/_*E/1.1;b.Vsd=P/1e3;var I=g*m*(Math.sin(this.helper.Radians(f))+Math.cos(this.helper.Radians(f)))/y*E/1.1;b.Vsd2=I/1e3;var O=S+A*(P+(I=Math.min(I,P)));return O/=1e3,b.Vyd=O,b}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(Qc),i.LFG(Jc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),uk=function(){var t=function(){function t(e,n,i,r,a,o,s,l,u,c){_classCallCheck(this,t),this.save=e,this.safety=n,this.helper=i,this.force=r,this.crack=a,this.vmu=o,this.fatigue=s,this.post=l,this.basic=u,this.calc=c,this.safetyID=1,this.DesignForceList=null,this.DesignForceList1=null,this.DesignForceList2=null,this.DesignForceList3=null,this.isEnable=!1}return _createClass(t,[{key:"setDesignForces",value:function(){if(this.isEnable=!1,this.DesignForceList=new Array,null!==this.helper.toNumber(this.fatigue.train_A_count)||null!==this.helper.toNumber(this.fatigue.train_B_count)){var t=this.save.isManual()?2:this.basic.pickup_torsional_moment_no(2);this.DesignForceList1=this.force.getDesignForceList("Vd",t);var e=this.save.isManual()?3:this.basic.pickup_torsional_moment_no(3);this.DesignForceList3=this.force.getDesignForceList("Vd",e,!1);var n=this.save.isManual()?4:this.basic.pickup_torsional_moment_no(4);this.DesignForceList=this.force.getDesignForceList("Vd",n),this.DesignForceList2=this.force.getLiveload(this.DesignForceList3,this.DesignForceList)}}},{key:"setInputData",value:function(){if(this.DesignForceList.length<1)return null;var t=this.force.checkEnable("Vd",this.safetyID,this.DesignForceList,this.DesignForceList2,this.DesignForceList3,this.DesignForceList1),e=this.force.alignMultipleLists(t[0],t[1],t[2],t[3]);this.deleteFatigueDisablePosition(e);for(var n=this.post.setInputData("Vd","\u5fdc\u529b\u5ea6",this.safetyID,{},e[2],e[1],e[3]),i=[],r=0,a=[e[1],e[2]];r<a.length;r++){var o,s=_createForOfIteratorHelper(a[r]);try{for(s.s();!(o=s.n()).done;){var l,u=o.value,c=_createForOfIteratorHelper(u.designForce);try{for(c.s();!(l=c.n()).done;){var h=l.value;i.push({index:u.index,side:h.side,Nd:h.Nd,Md:h.Md,Vd:h.Vd,Reactions:[{M:{Mi:0}}]})}}catch(d){c.e(d)}finally{c.f()}}}catch(d){s.e(d)}finally{s.f()}}return n}},{key:"deleteFatigueDisablePosition",value:function(t){for(var e=t[0].length-1;e>=0;e--){for(var n=t[0][e],i=n.designForce,r=this.fatigue.getCalcData(n.index),a=i.length-1;a>=0;a--){for(var o=!1,s=0,l=Object.keys(r.share);s<l.length;s++){var u=l[s];if(null!==r.share[u]){o=!0;break}}if(!1===o||0===i[a].Vd){var c,h=_createForOfIteratorHelper(t);try{for(h.s();!(c=h.n()).done;){c.value[e].designForce.splice(a,1)}}catch(p){h.e(p)}finally{h.f()}}else i.fatigue=r.share}if(n.designForce.length<1){var d,f=_createForOfIteratorHelper(t);try{for(f.s();!(d=f.n()).done;){d.value.splice(e,1)}}catch(p){f.e(p)}finally{f.f()}}}}},{key:"getSafetyFactor",value:function(t){return this.safety.getCalcData("Vd",t,this.safetyID)}},{key:"calcFatigue",value:function(t,e,n,i,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=this.basic.get_specification1(),s=this.basic.get_specification2();0==o&&1===s&&(a.k12=!0);var l=t[0],u=t[1],c=t[2],h=this.vmu.calcVmu(t[0],e,n,i,null,{Md:l.Md,Vd:l.Vd,Nd:0}),d=this.helper.toNumber(l.Vd);if(null===d)return h;d=Math.abs(d),h.Vpd=d;var f=this.helper.toNumber(l.Md);null!==f&&(f=Math.abs(f),h.Mpd=f);var p=this.helper.toNumber(l.Nd);null!==p&&(h.Npd=p);var g=this.helper.toNumber(u.Vd);if(null===g)return h;g=Math.abs(g),h.Vrd=g;var v=this.helper.toNumber(u.Md);null!==v&&(v=Math.abs(v),h.Mrd=v);var m,_=this.helper.toNumber(u.Nd);null!==_&&(h.Nrd=_),c.side.includes("\u4e0b\u5074")?(m=e.steels[3],e.steels[1],e.steels[2]):(m=e.steels[1],e.steels[3],e.steels[2]);var y=e.steels.Ix,b=e.steels.dim,x=c.Md*Math.pow(10,6)/y*(b.yt-m.steel_h),w=l.Md*Math.pow(10,6)/y*(b.yt-m.steel_h),k=c.Vd*Math.pow(10,3)/b.Aw,C=l.Vd*Math.pow(10,3)/b.Aw;h.sigma_max=x,h.sigma_min=w,h.tau_max=k,h.tau_min=C;var M=.5*(x+Math.pow(Math.pow(x,2)+4*Math.pow(k,2),.5)),T=.5*(w+Math.pow(Math.pow(w,2)+4*Math.pow(C,2),.5));h.sigma_Pmax=M,h.sigma_Pmin=T,h.gamma_a=1;var S=1*(M-T);h.delta_sigma_fud=S;var A=115;A={A:190,B:155,C:115,D:84,E:62,F:46,G:32}[r.bottom.Class];var E=T/(M-T),P=1;E>-.5&&(P=1);var I=1;m.steel_h<=25&&(I=1);var O=A*P*I;h.delta_sigma_cod=A,h.fai=E,h.CR=P,h.CT=I,h.delta_sigma_cod2=O;var R=1*S/O;return h.gamma_i=1,h.ratio=R,h}},{key:"bend",value:function(t,e,n,i,r,a){var o=e.Vpd,s=e.Vrd,l=e.kr,u=e.rs,c=e.ri,h=Math.cos(Math.PI*e.deg2/180)+Math.sin(Math.PI*e.deg2/180),d=o+s-l*e.Vcd,f=e.Aw*e.z/(e.Ss*Math.pow(h,2))+e.Asb*e.z*h/e.Ss2,p=o+s+e.Vcd,g=d/f*((o+e.Vcd)/p);if(null===g)return e;g*=1e3,e.sigma_min2=g;var v=Math.max(g,0),m=d/f*(s/p);if(null===m)return e;m*=1e3,e.sigma_rd2=m;var _=Math.max(m,0),y=.12,b=this.helper.toNumber(t.Asb.bending_dia);if(null===b)return e;var x=this.helper.toNumber(t.Asb.fwud);if(null===x)return e;e.fwud2=x;var w=this.helper.toNumber(n.r1_3);null===w&&(w=1),e.r12=w;var k=3.09-.003*b,C=w*(Math.pow(10,k)/Math.pow(i,y))*(1-v/x)/u;e.fsr2002=C;var M=c*_/(C/r);e.ratio2002=M,M<1?(y=.06,k=2.71-.003*a):(y=.12,k=3.09-.003*a),e.k2=y,e.ar2=k;var T=e.a,S=e.b,A=e.N,E=e.r2,P=e.ratio200;if(null!==t.Asb.Asb){var I=Math.pow(T,1/y),O=Math.pow(1-T,1/y),R=Math.pow(1/((I+O)*(1-S+S)),y);e.r2=E;var L=w*R*(Math.pow(10,k)/Math.pow(A,y))*(1-v/x)/u;if(e.frd2=L,P<1&&A<=i)return e;var D=c*_/(L/r);D>0&&(e.ratio2=D)}}},{key:"getTrainCount",value:function(){var t=new Array(2),e=0;"train_A_count"in this.fatigue&&(null===(e=this.helper.toNumber(this.fatigue.train_A_count))&&(e=0));var n=0;return"train_B_count"in this.fatigue&&(null===(n=this.helper.toNumber(this.fatigue.train_B_count))&&(n=0)),t[0]=e,t[1]=n,t}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(oh),i.LFG(ih),i.LFG(Qc),i.LFG(tk),i.LFG(eh),i.LFG(lk),i.LFG(nh),i.LFG(ok),i.LFG(Jc),i.LFG(ah))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ck=function(){var t=function(){function t(e,n,i,r,a,o,s,l,u,c){_classCallCheck(this,t),this.safety=e,this.save=n,this.helper=i,this.force=r,this.post=a,this.calc=o,this.param=s,this.vmu=l,this.basic=u,this.crack=c,this.safetyID=1,this.DesignForceList=null,this.isEnable=!1}return _createClass(t,[{key:"setDesignForces",value:function(){this.isEnable=!1,this.DesignForceList=new Array;var t=this.save.isManual()?5:this.basic.pickup_torsional_moment_no(5);this.DesignForceList=this.force.getDesignForceList("Mt",t)}},{key:"setInputData",value:function(){if(this.DesignForceList.length<1)return null;var t,e=this.force.checkEnable("Mt",this.safetyID,this.DesignForceList),n={},i=this.post.setInputData("Md","\u8010\u529b",this.safetyID,n,e[0]),r=JSON.parse(JSON.stringify({temp:e[0]})).temp,a=_createForOfIteratorHelper(r);try{for(a.s();!(t=a.n()).done;){var o,s=_createForOfIteratorHelper(t.value.designForce);try{for(s.s();!(o=s.n()).done;){var l=o.value;l.side="\u4e0a\u5074\u5f15\u5f35"===l.side?"\u4e0b\u5074\u5f15\u5f35":"\u4e0a\u5074\u5f15\u5f35"}}catch(m){s.e(m)}finally{s.f()}}}catch(m){a.e(m)}finally{a.f()}var u,c=this.post.setInputData("Md","\u8010\u529b",this.safetyID,n,r),h=_createForOfIteratorHelper(c);try{for(h.s();!(u=h.n()).done;){var d=u.value;d.side="\u4e0a\u5074\u5f15\u5f35"===d.side?"\u4e0b\u5074\u5f15\u5f35\u306e\u53cd\u5bfe\u5074":"\u4e0a\u5074\u5f15\u5f35\u306e\u53cd\u5bfe\u5074",d.memo="\u66f2\u3052 Mud' \u7528"}}catch(m){h.e(m)}finally{h.f()}var f,p=this.post.setInputData("Vd","\u8010\u529b",this.safetyID,n,e[0]),g=_createForOfIteratorHelper(p);try{for(g.s();!(f=g.n()).done;){var v=f.value;v.Nd=0,v.index*=-1,v.memo="\u305b\u3093\u65ad Mu \u7528"}}catch(m){g.e(m)}finally{g.f()}return i.concat(c,p)}},{key:"getSafetyFactor",value:function(t,e,n){return this.safety.getCalcData(t,e,n)}},{key:"calcMtud",value:function(t,e,n,i,r,a,o,s,l){t.find(function(t){return t.index===e.index&&t.side===e.side+"\u306e\u53cd\u5bfe\u5074"});var u=t.find(function(t){return t.index===-1*e.index&&t.side===e.side}),c={};if(void 0===u||u.length<1?(c.Md=0,c.Nd=0,c.Vd=0):c=this.vmu.calcVmu(u,i,r,o,null,l),void 0===l||!("Mt"in l))return c;var h=this.helper.toNumber(l.Mt);null===h&&(h=0),h=Math.abs(h),c.Mt=h;var d=a.safety_factor.rb_T,f=a.safety_factor.rb_C,p=a.safety_factor.rb_S,g=a.safety_factor.rs,v=a.safety_factor.ri;c.gamma_b1=d,c.gamma_b2=f,c.gamma_i=v,c.rs=g;var m=this.helper.toNumber(l.Nd);null===m&&(m=0),c.Nd=m;var _=this.helper.toNumber(l.Md);null===_&&(_=0);var y=_;c.Mxd=y,c.Myd=0;var b,x,w,k,C=this.helper.toNumber(l.Vd);null===C&&(C=0),c.Vd=Math.abs(C),"I"===n.shapeName?l.side.includes("\u4e0b\u5074")?(b=n.steels[3],x=n.steels[1],w=n.steels[2]):(b=n.steels[1],x=n.steels[3],w=n.steels[2]):"Box"===n.shapeName&&(l.side.includes("\u4e0b\u5074")?(b=n.steels[4],x=n.steels[1],w=n.steels[2],k=n.steels[3]):(b=n.steels[1],x=n.steels[4],w=n.steels[2],k=n.steels[3]));var M,T,S=this.crack.getCalcData(e.index),A=S.buckle_s;l.side.includes("\u4e0b\u5074")?(M=S.buckle_u,T=S.buckle_l):(M=S.buckle_l,T=S.buckle_u);var E=this.calcEffectiveWidth(n,x,b,w,k,S),P=1e3*this.helper.toNumber(n.member.eff_len),I=1e3*this.helper.toNumber(n.member.eff_len),O=b.steel_h/2+x.steel_h/2,R=0;"I"===n.shapeName?R=E.x.lambda1+E.x.lambda4:"Box"===n.shapeName&&(R=E.x.lambda1+E.x.lambda1+E.x.lambda1+E.x.lambda4);var L,D,N=n.steels.A,Z=n.steels.Ix,F=n.steels.Iy,U=n.steels.dim,B=2*Math.pow(10,5),z=Math.pow(Z/N,.5),q=Math.pow(F/N,.5),H={};L=this.param.getVertices_fixed(n,E),D=this.param.getCentroid(L),H=this.param.getSectionParam(L,D);for(var G=l.side.includes("\u4e0b\u5074")?D.y:b.steel_h+w.steel_h+x.steel_h+D.y,V=H.Ix/G,W=l.side.includes("\u4e0b\u5074")?x.steel_h+D.y:b.steel_h+w.steel_h+D.y,j=H.Ix/W,Y=l.side.includes("\u4e0b\u5074")?b.steel_h+w.steel_h+D.y:x.steel_h+D.y,Q=H.Ix/Y,J=l.side.includes("\u4e0b\u5074")?b.steel_h+w.steel_h+x.steel_h+D.y:D.y,X=this.calcBtoDto({tension:b,compress:x,shear1:w,shear2:k},{buckle_c:M,buckle_s:A,buckle_t:T},{A:N,yu:G,Zzu:V,yuw:W,Zzuw:j,ylw:Y,Zzlw:Q,yl:J,Zzl:H.Ix/J},{Nd:m,Myd:0,Mzd:_},n.shapeName),$=0,K=Object.keys(X);$<K.length;$++){var tt=K[$];c[tt]=X[tt]}var et,nt=P/z,it=I/q;if(0===nt&&0===it)et=1;else{var rt=y>0?1/Math.PI*Math.pow(x.fsy.fsyk/B,.5)*nt:1/Math.PI*Math.pow(x.fsy.fsyk/B,.5)*it;et=rt<=.1?1:.1<rt&&rt<=Math.pow(2,.5)?1-.53*(rt-.1):1.7/(2.8*Math.pow(rt,2))}c.rho_bg_Nplus=et,c.rho_bg_Nminus=1;var at=c.rho_bl0,ot=1*N*(b.fsy.fsyk/g)/d/1e3,st=et*at*N*(x.fsy.fsyk/g)/f/1e3,lt=et*at*N*(x.fsy.fsyk/g)/f/1e3;c.Nud=ot,c.Nuod=st,c.Nuod2=lt;var ut,ct=O/w.steel_b,ht=(b.steel_b+x.steel_b)/2,dt=w.steel_h/ht;if(P<=0||null==P)ut=1;else{var ft;if("I"===n.shapeName)ft=Math.pow(12+2*dt/ct,.5);else if("Box"===n.shapeName){var pt=(14+12*ct)/(5+21*ct);ft=dt<pt?0:pt<=dt&&dt<1?1.05*(dt-pt)/(1-pt)*Math.pow(3*ct+1,.5)*Math.pow(ht/P,.5):1<=dt&&dt<2?.74*Math.pow((3*ct+dt)*(dt+1),.5)*Math.pow(ht/P,.5):1.28*Math.pow(3*ct+dt,.5)*(ht/P)*.5}else ft=Math.pow(12+2*dt/ct,.5);var gt=1/Math.PI*Math.pow(x.fsy.fsyk/B,.5)*(ft*(P/ht));c.lambda_e=gt,ut=gt<=.1?1:.1<gt&&gt<=Math.pow(2,.5)?1-.53*(gt-.1):1.7/(2.8*Math.pow(gt,2))}for(var vt=1,mt=0,_t=["_compress","_tension"];mt<_t.length;mt++)for(var yt=_t[mt],bt=0,xt=["","_both"];bt<xt.length;bt++){var wt=xt[bt],kt=wt+yt,Ct=X["bt"+kt];if(void 0===Ct)break;var Mt=2*Math.pow(10,5),Tt=.3,St="_compress"===yt?x:b,At=St.lib_n,Et=X["ko"+kt],Pt=St.fsy.fsyk,It=(0===At?.7:.5)*Math.pow(Math.pow(Math.PI,2)*Et/(12*(1-Math.pow(Tt,2)))*Mt/Pt,.5),Ot=(0===At?1.2:1.7)*It,Rt=Ct*Math.pow(12*(1-Math.pow(Tt,2))/(Math.pow(Math.PI,2)*Et)*(Pt/Mt),.5),Lt=void 0;Ct<=It?Lt=1:Ct<Ot&&(Lt=At<=0?.49/Math.min(.7,Rt):Rt<=.5?1:.5<Rt&&Rt<=1?1.5-Rt:.5/Math.pow(Rt,2)),vt>Lt&&(vt=Lt)}var Dt=l.side.includes("\u4e0b\u5074")?U.yuo:U.ylo,Nt=l.side.includes("\u4e0b\u5074")?U.yui:U.yli,Zt=x.fsy.fsyk,Ft=Zt/g;c.fsyk_compress=Zt;var Ut=R*x.steel_h,Bt=R*x.steel_h,zt=Math.min(ut,vt)*(H.Ix/Dt)*Ft*(Bt/Ut)/f/1e3/1e3;c.Mucd=zt,c.Mucod=H.Ix/Dt*1*Ft*(Bt/Ut)/f/1e3/1e3,c.rho_bg_culc=ut,c.rho_bl_culc=vt;var qt=Math.min(ut,vt)*(H.Ix/Dt)*Ft*(Bt/Ut)/f/1e3/1e3,Ht=Math.min(ut,vt)*(H.Ix/Nt)*Ft*(Bt/Ut)/f/1e3/1e3;c.Mucxd=qt,c.Mucyd=0;var Gt=l.side.includes("\u4e0b\u5074")?U.ylo:U.yco,Vt=l.side.includes("\u4e0b\u5074")?U.yli:U.yci,Wt=b.fsy.fsyk,jt=Wt/g;c.fsyk_tension=Wt;var Yt=R*b.steel_h,Qt=R*b.steel_h,Jt=H.Ix/Gt*jt*(Qt/Yt)/d/1e3/1e3,Xt=H.Ix/Vt*jt*(Qt/Yt)/d/1e3/1e3;c.Mutxd=Jt,c.Mutyd=0;var $t=w.fsy.fsyk,Kt=$t/g;c.fsyk_shear=$t;var te=H.Ix/Math.abs(W)*Kt/f/1e3/1e3;c.Mucwd=te;var ee=H.Ix/Math.abs(Y)*Kt/d/1e3/1e3;c.Mutwd=ee;var ne=Math.min(qt,Ht,Jt,Xt),ie=U.Aw;c.An=U.Aw+U.Afgu+U.Afgl;var re=w.fsy.fsvyk,ae=re/p;c.fsvyk_web=re;var oe=ie*ae/g/1e3;c.Vyd=oe;var se=(b.steel_h/2+w.steel_h+x.steel_h/2)*(w.steel_w+w.steel_b);c.At=se;var le=2*se*w.steel_b*ae/d/1e3/1e3,ue=2*se*(b.steel_h/2+x.steel_h/2)*ae/d/1e3/1e3;c.Mtuyd=le,c.Mtuzd=ue;var ce=v*(y/Jt+m/ot);c.ratio_M_compress=v*(y/qt),c.ratio_M_tension=ce;var he=v*(Math.abs(C/oe)+Math.abs(h/le));c.ratio_VT_web=he;var de=Math.pow(v/1.1,2)*(Math.pow(_/ne,2)+Math.pow(C/oe+h/ue,2)),fe=Math.pow(v/1.1,2)*(Math.pow(_/ne+m/ot,2)+Math.pow(C/oe+h/ue,2));return c.ratio_MV_tension_u=de,c.ratio_MV_tension_l=fe,c}},{key:"calcEffectiveWidth",value:function(t,e,n,i,r,a){var o=this.helper.toNumber(t.member.eff_len),s=a.section,l=0,u=0,c=0,h=0,d=0,f=0,p=0,g=0,v=0;if(o<=0||null==o)switch(t.shapeName){case"I":l=e.steel_w,u=0,c=0,h=e.steel_b-l,d=n.steel_w,f=0,p=0,g=n.steel_b-d,v=i.steel_h;break;case"Box":l=e.steel_w,u=i.steel_w/2,c=i.steel_w-u,h=e.steel_b-(l+u+c),d=n.steel_w,f=r.steel_w/2,p=r.steel_w-f,g=n.steel_b-(d+f+p),v=i.steel_h}else{var m=1e3*o,_=1e3*o,y=n.steel_h/2+e.steel_h/2;1===s||5===s?(l=this.Equation_6_2_3(e.steel_w,m),u=this.Equation_6_2_3(i.steel_w/2,m),c=this.Equation_6_2_3(i.steel_w/2,m),h=this.Equation_6_2_3(e.steel_w,m),d=this.Equation_6_2_3(n.steel_w,m),f=this.Equation_6_2_3(i.steel_w/2,m),p=this.Equation_6_2_3(i.steel_w/2,m),g=this.Equation_6_2_3(n.steel_w,m),v=this.Equation_6_2_3((i.steel_h+y)/2,_)):(l=this.Equation_6_2_4(e.steel_w,m),u=this.Equation_6_2_4(i.steel_w/2,m),c=this.Equation_6_2_4(i.steel_w/2,m),h=this.Equation_6_2_4(e.steel_w,m),d=this.Equation_6_2_4(n.steel_w,m),f=this.Equation_6_2_4(i.steel_w/2,m),p=this.Equation_6_2_4(i.steel_w/2,m),g=this.Equation_6_2_4(n.steel_w,m),v=this.Equation_6_2_4((i.steel_h+y)/2,_))}var b={x:{},y:{}};return b.x.lambda1=l,b.x.lambda2=u,b.x.lambda3=c,b.x.lambda4=h,b.x.lambda5=d,b.x.lambda6=f,b.x.lambda7=p,b.x.lambda8=g,b.y.lambda1=v,b.y.lambda2=v,b.y.lambda3=v,b.y.lambda4=v,b}},{key:"Equation_6_2_3",value:function(t,e){var n;return(n=t/e<=.05?t:(1.1-t/e*2)*t)>=.15*e&&(n=.15*e),n}},{key:"Equation_6_2_4",value:function(t,e){var n,i=t/e;return(n=i<=.02?t:(1.06-3.2*i+4.5*Math.pow(i,2))*t)>=.15*e&&(n=.15*e),n}},{key:"calcBtoDto",value:function(t,e,n,i,r){for(var a={},o=t.tension,s=t.compress,l=t.shear1,u=t.shear2,c=1e3*i.Nd/n.A,h=i.Nd>0?0:c,d=1e3*i.Mzd*1e3/n.Zzlw,f={sigma_N:h,sigma_My1:0,sigma_My2:0,sigma_Mz:1e3*i.Mzd*1e3/n.Zzl},p=this.calcBto_flange(s,l,{sigma_N:h,sigma_My1:0,sigma_My2:0,sigma_Mz:1e3*i.Mzd*1e3/n.Zzu},e.buckle_c,r),g=0,v=Object.keys(p);g<v.length;g++){var m=v[g];a[m+"_compress"]=p[m]}for(var _=this.calcBto_flange(o,l,f,e.buckle_t,r),y=0,b=Object.keys(_);y<b.length;y++){var x=b[y];a[x+"_tension"]=_[x]}for(var w=o.steel_h+l.steel_h+s.steel_h,k=Math.abs(c)+Math.abs(0)+Math.abs(d),C=this.calcDto(w,l,u,{sigma_d:k,tau_d:0/(l.steel_h*l.steel_b)},e.buckle_s),M=0,T=Object.keys(C);M<T.length;M++){var S=T[M];a[S+"_shear"]=C[S]}var A=a.rho_bl_both_compress,E=A===Math.min(a.rho_bl_both_tension,A)?"_compress":"_tension",P=a["eta_both"+E],I=a["ko_both"+E],O=a["Rr_both"+E];return a.rho_bl0=a["rho_bl_both"+E],a.eta0=P,a.ko0=I,a.Rr0=O,a}},{key:"calcBto_flange",value:function(t,e,n,i,r){var a={};if("I"===r||"Box"===r||"PI"===r){var o=(t.steel_w-e.steel_b/2)/t.steel_h;a.bt=o;for(var s=this.calcBtoParam_flange(t,e,{bt:o,sigmas:n,buckle:i},"single"),l=0,u=Object.keys(s);l<u.length;l++){var c=u[l];a[c]=s[c]}if("Box"===r||"PI"===r){var h=(e.steel_w-e.steel_b/2-e.steel_b/2)/t.steel_h;a.bt_both=h;for(var d=this.calcBtoParam_flange(t,e,{bt:h,sigmas:n,buckle:i},"both"),f=0,p=Object.keys(d);f<p.length;f++){var g=p[f];a[g+"_both"]=d[g]}}}return a}},{key:"calcBtoParam_flange",value:function(t,e,n,i){var r,a,o,s,l,u,c,h,d,f={},p="both"===i,g=2*Math.pow(10,5),v=t.lib_n+1,m=n.bt,_=n.buckle,y=n.sigmas,b=y.sigma_N,x=y.sigma_Mz,w=b+y.sigma_My1+x,k=b+y.sigma_My2+x,C=Math.abs(w)>Math.abs(k)?w:k,M=C===w?k:w,T=M/C;if(b<0&&(T=-1),C>0&&M>0?(a=0,o=0,r=p?v<=1?60:60*v:16):(a=p?v<=1?.85-.15*T:.75-.25*(v-1+T)/v:.7,o=p?v<=1?-1<=T&&T<0?10*Math.pow(T,2)-6.27*T+7.63:8.4/(T+1.1):8.4*Math.pow(v,3)/(2.1*v-1+T):.425,r=a*Math.pow(Math.pow(Math.PI,2)*o/(12*(1-Math.pow(.3,2)))*g/t.fsy.fsyk,.5)),l=(s=_?p?v<=1?1.2:1.7:1.2:0)*r,f.Rcr=a,f.k=o,f.bto=r,f.chi=s,f.chi_bto=l,p)v<=1?(c=4,u=(.85-.15*T)*Math.pow(c,.5)/1.4):(c=4*Math.pow(v,2),u=(.5+.25*(1-T)/v)*Math.pow(c,.5)/v);else{c=.425;var S=(.85-.15*T)*Math.pow(c,.5)/1.4,A=(.5+.25*(1-T)/1)*Math.pow(c,.5)/1;u=S<A?S:A}return h=1/u*m*Math.pow(12*(1-Math.pow(.3,2))/(Math.pow(Math.PI,2)*c)*t.fsy.fsyk/g,.5),d=C>0&&M>0?1:p?v<=1?.49/Math.pow(Math.max(.7,h),2):h<=.5?1:.5<h&&h<=1?1.5-h:.5/Math.pow(h,2):.49/Math.pow(Math.max(.7,h),2),f.eta=u,f.ko=c,f.Rr=h,f.rho_bl=d,f}},{key:"calcDto",value:function(t,e,n,i,r){var a={},o=e.steel_h,s=e.steel_b;a.dt=o/s;var l,u=2*Math.pow(10,5);l=e.lib_n<=0?23.9:129,a.kb=l,a.Rcr=1;var c=e.fsy.fsyk,h=1*Math.pow(Math.pow(Math.PI,2)*l/(12*(1-Math.pow(.3,2)))*(u/c),.5);h=h>250?250:h,a.dto=h;var d=t/o,f=r&&e.lib_n<=0?1.2:0,p=f*h;a.chi=f,a.chi_dto=p,e.lib_n,e.lib_n>=1&&d>.8||e.lib_n;var g,v,m=e.lib_n>=1?2036:377;return e.lib_n>=1?d<=.8?(g=98.6,v=84.3):(g=132,v=63.1):d<=1?(g=63.1,v=84.3):(g=84.3,v=63.1),Math.pow(o/(100*s),4),Math.pow(i.sigma_d/m,2),Math.pow(i.tau_d/(g+v*Math.pow(1/d,2)),2),a}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(ih),i.LFG(oh),i.LFG(Qc),i.LFG(tk),i.LFG(ok),i.LFG(ah),i.LFG(Yy),i.LFG(lk),i.LFG(Jc),i.LFG(eh))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),hk=function(){var t=function(){function t(){_classCallCheck(this,t),this._printStyle=[],this.useExistingCss=!1,this.printDelay=0,this._styleSheetFile=""}return _createClass(t,[{key:"printStyle",set:function(t){for(var e in t)t.hasOwnProperty(e)&&this._printStyle.push((e+JSON.stringify(t[e])).replace(/['"]+/g,""));this.returnStyleValues()}},{key:"returnStyleValues",value:function(){return"<style> ".concat(this._printStyle.join(" ").replace(/,/g,";")," </style>")}},{key:"styleSheetFile",set:function(t){var e=function(t){return'<link rel="stylesheet" type="text/css" href="'.concat(t,'">')};if(-1!==t.indexOf(",")){var n,i=_createForOfIteratorHelper(t.split(","));try{for(i.s();!(n=i.n()).done;){var r=n.value;this._styleSheetFile=this._styleSheetFile+e(r)}}catch(a){i.e(a)}finally{i.f()}}else this._styleSheetFile=e(t)}},{key:"returnStyleSheetLinkTags",value:function(){return this._styleSheetFile}},{key:"getElementTag",value:function(t){for(var e=[],n=document.getElementsByTagName(t),i=0;i<n.length;i++)e.push(n[i].outerHTML);return e.join("\r\n")}},{key:"getFormData",value:function(t){for(var e=0;e<t.length;e++)t[e].defaultValue=t[e].value,t[e].checked&&(t[e].defaultChecked=!0)}},{key:"getHtmlContents",value:function(){var t=document.getElementById(this.printSectionId),e=t.getElementsByTagName("input");this.getFormData(e);var n=t.getElementsByTagName("textarea");return this.getFormData(n),t.innerHTML}},{key:"print",value:function(){var t,e,n="",i="",r=this.getElementTag("base");this.useExistingCss&&(n=this.getElementTag("style"),i=this.getElementTag("link")),t=this.getHtmlContents(),(e=window.open("","_blank","top=0,left=0,height=auto,width=auto")).document.open(),e.document.write("\n      <html>\n        <head>\n          <title>".concat(this.printTitle?this.printTitle:"","</title>\n          ").concat(r,"\n          ").concat(this.returnStyleValues(),"\n          ").concat(this.returnStyleSheetLinkTags(),"\n          ").concat(n,"\n          ").concat(i,"\n        </head>\n        <body>\n          ").concat(t,"\n          <script defer>\n            function triggerPrint(event) {\n              window.removeEventListener('load', triggerPrint, false);\n              setTimeout(function() {\n                closeWindow(window.print());\n              }, ").concat(this.printDelay,");\n            }\n            function closeWindow(){\n                window.close();\n            }\n            window.addEventListener('load', triggerPrint, false);\n          <\/script>\n        </body>\n      </html>")),e.document.close()}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.lG2({type:t,selectors:[["button","ngxPrint",""]],hostBindings:function(t,e){1&t&&i.NdJ("click",function(){return e.print()})},inputs:{useExistingCss:"useExistingCss",printDelay:"printDelay",printStyle:"printStyle",styleSheetFile:"styleSheetFile",printSectionId:"printSectionId",printTitle:"printTitle"}}),t}(),dk=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[]]}),t}();function fk(t,e){1&t&&(i.TgZ(0,"div",2),i.TgZ(1,"span",3),i._uU(2,"Loading..."),i.qZA(),i.qZA())}function pk(t,e){if(1&t&&(i.TgZ(0,"tbody"),i.TgZ(1,"tr"),i.TgZ(2,"td",18),i._uU(3),i.qZA(),i.TgZ(4,"td",18),i._uU(5),i.qZA(),i.TgZ(6,"td",18),i._uU(7),i.qZA(),i.TgZ(8,"td",19),i._uU(9),i.qZA(),i.TgZ(10,"td"),i._uU(11),i.qZA(),i.TgZ(12,"td"),i._uU(13),i.qZA(),i.TgZ(14,"td"),i._uU(15),i.qZA(),i.TgZ(16,"td"),i._uU(17),i.qZA(),i.TgZ(18,"td"),i._uU(19),i.qZA(),i.TgZ(20,"td"),i._uU(21),i.qZA(),i.qZA(),i.qZA()),2&t){var n=e.$implicit;i.xp6(3),i.Oqu(n.m_no),i.xp6(2),i.Oqu(n.p_id),i.xp6(2),i.Oqu(n.position),i.xp6(2),i.Oqu(n.p_name),i.xp6(1),i.Gre("",n.upper.Md.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.upper.Md.value),i.xp6(1),i.Gre("",n.upper.Nd.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.upper.Nd.value),i.xp6(1),i.Gre("",n.upper.comb.position," g-right2 g-top1"),i.xp6(1),i.Oqu(n.upper.comb.value),i.xp6(1),i.Gre("",n.lower.Md.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.lower.Md.value),i.xp6(1),i.Gre("",n.lower.Nd.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.lower.Nd.value),i.xp6(1),i.Gre("",n.lower.comb.position," g-top1"),i.xp6(1),i.Oqu(n.lower.comb.value)}}function gk(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",7),i._uU(2),i.qZA(),i.TgZ(3,"table",8),i.TgZ(4,"thead",9),i.TgZ(5,"tr"),i.TgZ(6,"th",10),i._uU(7,"\u90e8\u6750"),i._UZ(8,"br"),i._uU(9,"\u756a\u53f7"),i.qZA(),i.TgZ(10,"th",10),i._uU(11,"\u7b97\u51fa"),i._UZ(12,"br"),i._uU(13,"\u756a\u53f7"),i.qZA(),i.TgZ(14,"th",11),i._uU(15,"\u7b97\u51fa\u70b9"),i.qZA(),i.TgZ(16,"th",12),i._uU(17,"\u7b97\u51fa\u70b9\u540d"),i.qZA(),i.TgZ(18,"th",13),i._uU(19,"\u4e0a\u5074"),i.qZA(),i.TgZ(20,"th",14),i._uU(21,"\u4e0b\u5074"),i.qZA(),i.qZA(),i.TgZ(22,"tr"),i.TgZ(23,"th",15),i._uU(24,"M (kN\u30fbm)"),i.qZA(),i.TgZ(25,"th",15),i._uU(26,"N (kN)"),i.qZA(),i.TgZ(27,"th",16),i._uU(28,"comb"),i.qZA(),i.TgZ(29,"th",15),i._uU(30,"M (kN\u30fbm)"),i.qZA(),i.TgZ(31,"th",15),i._uU(32,"N (kN)"),i.qZA(),i.TgZ(33,"th",17),i._uU(34,"comb"),i.qZA(),i.qZA(),i.qZA(),i.YNc(35,pk,22,28,"tbody",6),i.qZA(),i.qZA()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.title),i.xp6(33),i.Q6J("ngForOf",n.rows)}}function vk(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"h5"),i._uU(2),i.qZA(),i.YNc(3,gk,36,2,"div",6),i.qZA()),2&t){var n=i.oxw().$implicit;i.xp6(2),i.Oqu(n.g_name),i.xp6(1),i.Q6J("ngForOf",n.tables)}}function mk(t,e){if(1&t&&(i.TgZ(0,"tbody"),i.TgZ(1,"tr"),i.TgZ(2,"td",25),i._uU(3),i.qZA(),i.TgZ(4,"td",25),i._uU(5),i.qZA(),i.TgZ(6,"td",25),i._uU(7),i.qZA(),i.TgZ(8,"td",26),i._uU(9),i.qZA(),i.TgZ(10,"td",27),i._uU(11),i.qZA(),i.TgZ(12,"td"),i._uU(13),i.qZA(),i.TgZ(14,"td"),i._uU(15),i.qZA(),i.TgZ(16,"td"),i._uU(17),i.qZA(),i.TgZ(18,"td"),i._uU(19),i.qZA(),i.qZA(),i.TgZ(20,"tr"),i.TgZ(21,"td",27),i._uU(22),i.qZA(),i.TgZ(23,"td"),i._uU(24),i.qZA(),i.TgZ(25,"td"),i._uU(26),i.qZA(),i.TgZ(27,"td"),i._uU(28),i.qZA(),i.TgZ(29,"td"),i._uU(30),i.qZA(),i.qZA(),i.qZA()),2&t){var n=e.$implicit;i.xp6(3),i.Oqu(n.m_no),i.xp6(2),i.Oqu(n.p_id),i.xp6(2),i.Oqu(n.position),i.xp6(2),i.Oqu(n.p_name),i.xp6(2),i.Oqu(n.upperSideName),i.xp6(1),i.Gre("",n.upper.Vd.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.upper.Vd.value),i.xp6(1),i.Gre("",n.upper.Md.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.upper.Md.value),i.xp6(1),i.Gre("",n.upper.Nd.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.upper.Nd.value),i.xp6(1),i.Gre("",n.upper.comb.position," g-top1"),i.xp6(1),i.Oqu(n.upper.comb.value),i.xp6(3),i.Oqu(n.bottomSideName),i.xp6(1),i.Gre("",n.lower.Vd.position," g-right1"),i.xp6(1),i.Oqu(n.lower.Vd.value),i.xp6(1),i.Gre("",n.lower.Md.position," g-right1"),i.xp6(1),i.Oqu(n.lower.Md.value),i.xp6(1),i.Gre("",n.lower.Nd.position," g-right1"),i.xp6(1),i.Oqu(n.lower.Nd.value),i.xp6(1),i.Tol(n.lower.comb.position),i.xp6(1),i.Oqu(n.lower.comb.value)}}function _k(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",7),i._uU(2),i.qZA(),i.TgZ(3,"table",8),i.TgZ(4,"thead"),i.TgZ(5,"tr"),i.TgZ(6,"th",10),i._uU(7,"\u90e8\u6750"),i._UZ(8,"br"),i._uU(9,"\u756a\u53f7"),i.qZA(),i.TgZ(10,"th",10),i._uU(11,"\u7b97\u51fa"),i._UZ(12,"br"),i._uU(13,"\u756a\u53f7"),i.qZA(),i.TgZ(14,"th",11),i._uU(15,"\u7b97\u51fa\u70b9"),i.qZA(),i.TgZ(16,"th",20),i._uU(17,"\u7b97\u51fa\u70b9\u540d"),i.qZA(),i.TgZ(18,"th",21),i._uU(19,"V"),i.qZA(),i.TgZ(20,"th",21),i._uU(21,"M"),i.qZA(),i.TgZ(22,"th",21),i._uU(23,"N"),i.qZA(),i.TgZ(24,"th",22),i._uU(25,"comb"),i.qZA(),i.qZA(),i.TgZ(26,"tr"),i.TgZ(27,"th",23),i._uU(28,"(kN)"),i.qZA(),i.TgZ(29,"th",23),i._uU(30,"(kN\u30fbm)"),i.qZA(),i.TgZ(31,"th",23),i._uU(32,"(kN)"),i.qZA(),i._UZ(33,"th",24),i.qZA(),i.qZA(),i.YNc(34,mk,31,38,"tbody",6),i.qZA(),i.qZA()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.title),i.xp6(32),i.Q6J("ngForOf",n.rows)}}function yk(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"h5"),i._uU(2),i.qZA(),i.YNc(3,_k,35,2,"div",6),i.qZA()),2&t){var n=i.oxw().$implicit;i.xp6(2),i.Oqu(n.g_name),i.xp6(1),i.Q6J("ngForOf",n.tables)}}function bk(t,e){if(1&t&&(i.TgZ(0,"tbody"),i.TgZ(1,"tr"),i.TgZ(2,"td",25),i._uU(3),i.qZA(),i.TgZ(4,"td",25),i._uU(5),i.qZA(),i.TgZ(6,"td",25),i._uU(7),i.qZA(),i.TgZ(8,"td",26),i._uU(9),i.qZA(),i.TgZ(10,"td",27),i._uU(11),i.qZA(),i.TgZ(12,"td"),i._uU(13),i.qZA(),i.TgZ(14,"td"),i._uU(15),i.qZA(),i.TgZ(16,"td"),i._uU(17),i.qZA(),i.TgZ(18,"td"),i._uU(19),i.qZA(),i.TgZ(20,"td"),i._uU(21),i.qZA(),i.qZA(),i.TgZ(22,"tr"),i.TgZ(23,"td",27),i._uU(24),i.qZA(),i.TgZ(25,"td"),i._uU(26),i.qZA(),i.TgZ(27,"td"),i._uU(28),i.qZA(),i.TgZ(29,"td"),i._uU(30),i.qZA(),i.TgZ(31,"td"),i._uU(32),i.qZA(),i.TgZ(33,"td"),i._uU(34),i.qZA(),i.qZA(),i.qZA()),2&t){var n=e.$implicit;i.xp6(3),i.Oqu(n.m_no),i.xp6(2),i.Oqu(n.p_id),i.xp6(2),i.Oqu(n.position),i.xp6(2),i.Oqu(n.p_name),i.xp6(2),i.Oqu(n.upperSideName),i.xp6(1),i.Gre("",n.upper.Mt.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.upper.Mt.value),i.xp6(1),i.Gre("",n.upper.Md.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.upper.Md.value),i.xp6(1),i.Gre("",n.upper.Vd.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.upper.Vd.value),i.xp6(1),i.Gre("",n.upper.Nd.position," g-right1 g-top1"),i.xp6(1),i.Oqu(n.upper.Nd.value),i.xp6(1),i.Gre("",n.upper.comb.position," g-top1"),i.xp6(1),i.Oqu(n.upper.comb.value),i.xp6(3),i.Oqu(n.bottomSideName),i.xp6(1),i.Gre("",n.lower.Mt.position," g-right1"),i.xp6(1),i.Oqu(n.lower.Mt.value),i.xp6(1),i.Gre("",n.lower.Md.position," g-right1"),i.xp6(1),i.Oqu(n.lower.Md.value),i.xp6(1),i.Gre("",n.lower.Vd.position," g-right1"),i.xp6(1),i.Oqu(n.lower.Vd.value),i.xp6(1),i.Gre("",n.lower.Nd.position," g-right1"),i.xp6(1),i.Oqu(n.lower.Nd.value),i.xp6(1),i.Tol(n.lower.comb.position),i.xp6(1),i.Oqu(n.lower.comb.value)}}function xk(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",7),i._uU(2),i.qZA(),i.TgZ(3,"table",8),i.TgZ(4,"thead"),i.TgZ(5,"tr"),i.TgZ(6,"th",10),i._uU(7,"\u90e8\u6750"),i._UZ(8,"br"),i._uU(9,"\u756a\u53f7"),i.qZA(),i.TgZ(10,"th",10),i._uU(11,"\u7b97\u51fa"),i._UZ(12,"br"),i._uU(13,"\u756a\u53f7"),i.qZA(),i.TgZ(14,"th",11),i._uU(15,"\u7b97\u51fa\u70b9"),i.qZA(),i.TgZ(16,"th",20),i._uU(17,"\u7b97\u51fa\u70b9\u540d"),i.qZA(),i.TgZ(18,"th",28),i._uU(19,"Mt"),i.qZA(),i.TgZ(20,"th",28),i._uU(21,"M"),i.qZA(),i.TgZ(22,"th",28),i._uU(23,"V"),i.qZA(),i.TgZ(24,"th",28),i._uU(25,"N"),i.qZA(),i.TgZ(26,"th",22),i._uU(27,"comb"),i.qZA(),i.qZA(),i.TgZ(28,"tr"),i.TgZ(29,"th",23),i._uU(30,"(kN\u30fbm)"),i.qZA(),i.TgZ(31,"th",23),i._uU(32,"(kN\u30fbm)"),i.qZA(),i.TgZ(33,"th",23),i._uU(34,"(kN)"),i.qZA(),i.TgZ(35,"th",23),i._uU(36,"(kN)"),i.qZA(),i._UZ(37,"th",24),i.qZA(),i.qZA(),i.YNc(38,bk,35,46,"tbody",6),i.qZA(),i.qZA()),2&t){var n=e.$implicit;i.xp6(2),i.Oqu(n.title),i.xp6(36),i.Q6J("ngForOf",n.rows)}}function wk(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"h5"),i._uU(2),i.qZA(),i.YNc(3,xk,39,2,"div",6),i.qZA()),2&t){var n=i.oxw().$implicit;i.xp6(2),i.Oqu(n.g_name),i.xp6(1),i.Q6J("ngForOf",n.tables)}}function kk(t,e){if(1&t&&(i.TgZ(0,"div",4),i.YNc(1,vk,4,2,"div",5),i.YNc(2,yk,4,2,"div",5),i.YNc(3,wk,4,2,"div",5),i.qZA()),2&t){var n=e.$implicit;i.xp6(1),i.Q6J("ngIf",1==n.tableType),i.xp6(1),i.Q6J("ngIf",2==n.tableType),i.xp6(1),i.Q6J("ngIf",3==n.tableType)}}var Ck=function(){var t=function(){function t(e,n,i,r){_classCallCheck(this,t),this.members=e,this.safetyFatigueShearForce=n,this.safetyTorsionalMoment=i,this.earthquakesTorsionalMoment=r,this.isLoading=!0,this.isFulfilled=!1,this.rowCountAtPage=52,this.rowTitleRowCount=6,this.rowTitleRowCount1=4}return _createClass(t,[{key:"ngOnInit",value:function(){this.pages=new Array;for(var t=this.members.getGroupeList(),e=0;e<t.length;e++){var n=t[e],i="\u4e0a\u3000\u3000 \u5074",r="\u4e0b\u3000\u3000 \u5074",a="\u4e0a\u5074",o="\u4e0b\u5074",s=this.members.getGroupeName(e),l=null,u=1,c=0,h=s+" \u305b\u3093\u65ad\u529b\u306b\u5bfe\u3059\u308b\u7167\u67fb";if(u=2,c=0,this.safetyFatigueShearForce.DesignForceList.length>0){var d=[],f=[];d.push(this.safetyFatigueShearForce.DesignForceList),f.push("\u5b89\u5168\u6027\uff08\u75b2\u52b4\u7834\u58ca\uff09\u6700\u5927\u5fdc\u529b"),d.push(this.safetyFatigueShearForce.DesignForceList3),f.push("\u5b89\u5168\u6027\uff08\u75b2\u52b4\u7834\u58ca\uff09\u6700\u5c0f\u5fdc\u529b"),d.push(this.safetyFatigueShearForce.DesignForceList2),f.push("\u5b89\u5168\u6027\uff08\u75b2\u52b4\u7834\u58ca\uff09\u5909\u52d5\u5fdc\u529b");for(var p=0;p<d.length;p++){var g=this.setPage(n,a,o,d[p]);if(0!==g.length){var v=this.getTableRowsOfPage(g,c,u);c=v.currentRow,l=this.setTables(v.tableRowsOfPage,l,h,i,r,u,f[p])}}}null!==l&&(this.pages.push(l),l=null);var m=s+" \u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8\u306b\u5bfe\u3059\u308b\u7167\u67fb";if(u=3,c=0,this.safetyTorsionalMoment.DesignForceList.length>0){var _=this.setPage(n,a,o,this.safetyTorsionalMoment.DesignForceList);if(_.length>0){var y=this.getTableRowsOfPage(_,c,u);c=y.currentRow,l=this.setTables(y.tableRowsOfPage,l,m,i,r,u,"\u5b89\u5168\u6027\uff08\u7834\u58ca\uff09")}}if(this.earthquakesTorsionalMoment.DesignForceList.length>0){var b=this.setPage(n,a,o,this.earthquakesTorsionalMoment.DesignForceList);if(b.length>0){var x=this.getTableRowsOfPage(b,c,u);c=x.currentRow,l=this.setTables(x.tableRowsOfPage,l,m,i,r,u,"\u5fa9\u65e7\u6027\uff08\u5730\u9707\u6642\uff09")}}null!==l&&(this.pages.push(l),l=null)}this.isLoading=!1,this.isFulfilled=!0}},{key:"setTables",value:function(t,e,n,i,r,a,o){if(null===e&&(e={g_name:n,tables:new Array,tableType:a}),null!==t[0]){var s=70;s+=1===a?16*t[0].length:32*t[0].length,e.tables.push({title:o,upperSideName:i,bottomSideName:r,rows:t[0],viewBox:"0 0 568 "+s.toString(),height:s.toString()})}for(var l=1;l<t.length;l++){this.pages.push(e),e={g_name:n,tables:new Array,tableType:a};var u=70;u+=1===a?16*t[l].length:32*t[l].length;var c={title:o,upperSideName:i,bottomSideName:r,rows:t[l],viewBox:"0 0 568 "+u.toString(),height:u.toString()};e.tables.push(c)}return e}},{key:"getTableRowsOfPage",value:function(t,e,n){var i={},r=new Array,a=new Array,o=t.length*(1===n?1:2);if((e+=0===e?this.rowTitleRowCount:this.rowTitleRowCount1)>this.rowTitleRowCount&&this.rowCountAtPage<e+o&&this.rowTitleRowCount1+o<this.rowCountAtPage)return r.push(null),r.push(t),i.currentRow=e=this.rowTitleRowCount+o,i.tableRowsOfPage=r,i;var s,l=e,u=_createForOfIteratorHelper(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;a.push(c),l+=1===n?1:2,this.rowCountAtPage<l&&(r.push(a),a=new Array,l=this.rowTitleRowCount)}}catch(h){u.e(h)}finally{u.f()}return l>this.rowTitleRowCount&&r.push(a),i.currentRow=e=l,i.tableRowsOfPage=r,i}},{key:"setPage",value:function(t,e,n,i){var r,a=[],o=_createForOfIteratorHelper(t);try{var s=function(){var t=r.value,o=i.filter(function(e){return e.m_no===t.m_no});if(void 0!==o){var s,l=_createForOfIteratorHelper(o);try{for(l.s();!(s=l.n()).done;){var u,c=s.value,h={m_no:t.m_no,p_id:c.p_id,position:c.position.toFixed(3),p_name:c.p_name,upperSideName:e,bottomSideName:n},d=_createForOfIteratorHelper(c.designForce);try{for(d.s();!(u=d.n()).done;){var f=u.value,p={value:"-",position:"center"},g={value:"-",position:"center"},v={value:"-",position:"center"},m={value:"-",position:"center"},_={value:"-",position:"center"};"Md"in f&&!isNaN(f.Md)&&null!==f.Md&&(p.value=f.Md.toFixed(2),p.position="right"),"Nd"in f&&!isNaN(f.Nd)&&null!==f.Nd&&(g.value=f.Nd.toFixed(2),g.position="right"),"Vd"in f&&!isNaN(f.Vd)&&null!==f.Vd&&(v.value=f.Vd.toFixed(2),v.position="right"),"Mt"in f&&!isNaN(f.Mt)&&null!==f.Mt&&(m.value=f.Mt.toFixed(2),m.position="right"),"comb"in f&&(_.value=f.comb,_.position="center");var y={Md:p,Nd:g,Vd:v,Mt:m,comb:_};switch(f.side){case"\u4e0a\u5074\u5f15\u5f35":h.upper=y;break;case"\u4e0b\u5074\u5f15\u5f35":h.lower=y}}}catch(b){d.e(b)}finally{d.f()}"upper"in h||(h.upper={Md:{value:"-",position:"center"},Nd:{value:"-",position:"center"},Vd:{value:"-",position:"center"},Mt:{value:"-",position:"center"},comb:{value:"-",position:"center"}}),"lower"in h||(h.lower={Md:{value:"-",position:"center"},Nd:{value:"-",position:"center"},Vd:{value:"-",position:"center"},Mt:{value:"-",position:"center"},comb:{value:"-",position:"center"}}),a.push(h)}}catch(b){l.e(b)}finally{l.f()}}};for(o.s();!(r=o.n()).done;)s()}catch(l){o.e(l)}finally{o.f()}return a}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(Xc),i.Y36(uk),i.Y36(ck),i.Y36(sk))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-section-force-list"]],decls:2,vars:2,consts:[["class","spinner-border","style","width: 1rem; height: 1rem;","role","status",4,"ngIf"],["class","sheet-table",4,"ngFor","ngForOf"],["role","status",1,"spinner-border",2,"width","1rem","height","1rem"],[1,"sr-only"],[1,"sheet-table"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"cell_title1"],[1,"spreadsheet"],[1,"head"],["rowspan","2",1,"center","g-right1","g-bottom2",2,"width","40px"],["rowspan","2",1,"center","g-right1","g-bottom2",2,"width","64px"],["rowspan","2",1,"center","g-right2","g-bottom2",2,"width","110px"],["colspan","3",1,"center","g-right2","g-bottom1",2,"width","190px"],["colspan","3",1,"center","g-bottom1",2,"width","190px"],[1,"center","g-right1","g-bottom2",2,"width","75px"],[1,"center","g-right2","g-bottom2",2,"width","40px"],[1,"center","g-bottom2",2,"width","40px"],[1,"center","g-right1","g-top1"],[1,"left","g-right2","g-top1"],["colspan","2","rowspan","2",1,"center","g-right2","g-bottom2",2,"width","170px"],[1,"center","g-right1",2,"width","80px"],[1,"center",2,"width","40px"],[1,"center","g-right1","g-bottom2"],[1,"g-bottom2"],["rowspan","2",1,"center","g-right1","g-top1"],["rowspan","2",1,"left","g-right1","g-top1"],[1,"center","g-right2","g-top1",2,"width","40px"],[1,"center","g-right1",2,"width","60px"]],template:function(t,e){1&t&&(i.YNc(0,fk,3,0,"div",0),i.YNc(1,kk,4,3,"div",1)),2&t&&(i.Q6J("ngIf",e.isLoading),i.xp6(1),i.Q6J("ngForOf",e.pages))},directives:[O,P],styles:['@charset "UTF-8";.sticky[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;position:-webkit-sticky;position:sticky;top:100px;width:300px;margin-left:15px}#print_section[_ngcontent-%COMP%]{display:inline-block}.HtmlPage[_ngcontent-%COMP%]{font-family:"\\ff2d\\ff33  \\30b4\\30b7\\30c3\\30af",sans-serif;margin:0;padding:0;display:block}.sheet[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:83px;padding-left:113px;padding-right:113px}.sheet-title[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title[_ngcontent-%COMP%]   .indent15[_ngcontent-%COMP%]{text-indent:1.5em}.sheet-title[_ngcontent-%COMP%]   .indent20[_ngcontent-%COMP%]{text-indent:2em}.sheet-title[_ngcontent-%COMP%]   .indent25[_ngcontent-%COMP%]{text-indent:2.5em}.sheet-title[_ngcontent-%COMP%]   .indent30[_ngcontent-%COMP%]{text-indent:3em}.sheet-title[_ngcontent-%COMP%]   .indent40[_ngcontent-%COMP%]{text-indent:4em}.sheet-title[_ngcontent-%COMP%]   .indent45[_ngcontent-%COMP%]{text-indent:4.5em}.sheet-title[_ngcontent-%COMP%]   .indent50[_ngcontent-%COMP%]{text-indent:5em}.sheet-title[_ngcontent-%COMP%]   .indent55[_ngcontent-%COMP%]{text-indent:5.5em}.sheet-title[_ngcontent-%COMP%]   .indent60[_ngcontent-%COMP%]{text-indent:6em}.sheet-title[_ngcontent-%COMP%]   .indent65[_ngcontent-%COMP%]{text-indent:6.5em}.sheet-title[_ngcontent-%COMP%]   .indent70[_ngcontent-%COMP%]{text-indent:7em}.sheet-title[_ngcontent-%COMP%]   .indent75[_ngcontent-%COMP%]{text-indent:7.5em}.sheet-title[_ngcontent-%COMP%]   .indent80[_ngcontent-%COMP%]{text-indent:8em}.sheet-title[_ngcontent-%COMP%]   .indent85[_ngcontent-%COMP%]{text-indent:8.5em}.sheet-title[_ngcontent-%COMP%]   .indent90[_ngcontent-%COMP%]{text-indent:9em}.sheet-title[_ngcontent-%COMP%]   .indent95[_ngcontent-%COMP%]{text-indent:9.5em}.sheet-title[_ngcontent-%COMP%]   .indent100[_ngcontent-%COMP%]{text-indent:10em}.sheet-title[_ngcontent-%COMP%]   .indent105[_ngcontent-%COMP%]{text-indent:10.5em}.sheet-title[_ngcontent-%COMP%]   .indent110[_ngcontent-%COMP%]{text-indent:11em}.sheet-title[_ngcontent-%COMP%]   .indent115[_ngcontent-%COMP%]{text-indent:11.5em}.sheet-title[_ngcontent-%COMP%]   .indent120[_ngcontent-%COMP%]{text-indent:12em}.sheet-title[_ngcontent-%COMP%]   .indent135[_ngcontent-%COMP%]{text-indent:13.5em}.sheet-title[_ngcontent-%COMP%]   .indent140[_ngcontent-%COMP%]{text-indent:14em}.sheet-title[_ngcontent-%COMP%]   .indent160[_ngcontent-%COMP%]{text-indent:16em}.sheet-title[_ngcontent-%COMP%]   .indent170[_ngcontent-%COMP%]{text-indent:17em}.sheet-title[_ngcontent-%COMP%]   .indent175[_ngcontent-%COMP%]{text-indent:17.5em}.sheet-title[_ngcontent-%COMP%]   .indent180[_ngcontent-%COMP%]{text-indent:18em}.sheet-title[_ngcontent-%COMP%]   .indent190[_ngcontent-%COMP%]{text-indent:19em}.sheet-title[_ngcontent-%COMP%]   .indent200[_ngcontent-%COMP%]{text-indent:20em}.sheet-title[_ngcontent-%COMP%]   .indent240[_ngcontent-%COMP%]{text-indent:24em}.sheet-title[_ngcontent-%COMP%]   .indent_title[_ngcontent-%COMP%]{text-align:center}.sheet-title[_ngcontent-%COMP%]   .textright[_ngcontent-%COMP%]{text-align:right}p.noword[_ngcontent-%COMP%]{margin-bottom:14pt}p.caption[_ngcontent-%COMP%]{text-align:center}div.noword[_ngcontent-%COMP%]{margin-bottom:14pt}div[_ngcontent-%COMP%]   .margin30[_ngcontent-%COMP%]{margin-left:3em}div[_ngcontent-%COMP%]   .margin50[_ngcontent-%COMP%]{margin-left:5em}div[_ngcontent-%COMP%]   .margin70[_ngcontent-%COMP%]{margin-left:7em}div[_ngcontent-%COMP%]   .margin110[_ngcontent-%COMP%]{margin-left:11em}div[_ngcontent-%COMP%]   .margin115[_ngcontent-%COMP%]{margin-left:11.5em}div[_ngcontent-%COMP%]   .margin130[_ngcontent-%COMP%]{margin-left:13em}table.title[_ngcontent-%COMP%]{text-align:center;border:1px solid black;font-size:12px;width:454px;table-layout:fixed}table.formula[_ngcontent-%COMP%]{text-align:center;font-size:12px;margin:0}table.formula[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{border-top:1px solid black}table.formula[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{border-bottom:1px solid black}.cell_title1[_ngcontent-%COMP%]{font-size:10pt;text-align:left;margin-top:14px}.cell_title2[_ngcontent-%COMP%]{font-size:10pt;text-align:right}.sheet-table[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:80px;padding-left:80px;padding-right:80px}table.main[_ngcontent-%COMP%]{font-size:10px;table-layout:fixed;margin:0}table.main[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.main[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;white-space:nowrap;margin:0}table.main[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:50px;height:12px;margin:0}table.main[_ngcontent-%COMP%]   .minwidth[_ngcontent-%COMP%]{min-width:100px}table.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:10px}table.main[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.main[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:10px}table.main[_ngcontent-%COMP%]   .cell_name1[_ngcontent-%COMP%]{table-layout:fixed;width:134px}table.main[_ngcontent-%COMP%]   .cell_name2[_ngcontent-%COMP%]{table-layout:fixed;width:65px}table.main[_ngcontent-%COMP%]   .cell_name3[_ngcontent-%COMP%]{table-layout:fixed;width:69px}table.main[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.main[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom3[_ngcontent-%COMP%]{border-bottom:0}table.main[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.center[_ngcontent-%COMP%]{text-align:center}.caption-top[_ngcontent-%COMP%]{caption-side:top;font-size:12px}table.spreadsheet[_ngcontent-%COMP%]{font-size:12px;table-layout:fixed;margin:0;border:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.spreadsheet[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:2px}table.spreadsheet[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.spreadsheet[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:2px}table.spreadsheet[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.sheet-title2[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title2[_ngcontent-%COMP%]   .pad05[_ngcontent-%COMP%]{padding-left:.5em}.sheet-title2[_ngcontent-%COMP%]   .pad10[_ngcontent-%COMP%]{padding-left:1em}.sheet-title2[_ngcontent-%COMP%]   .pad20[_ngcontent-%COMP%]{padding-left:2em}.sheet-title2[_ngcontent-%COMP%]   .pad30[_ngcontent-%COMP%]{padding-left:3em}.sheet-title2[_ngcontent-%COMP%]   .pad35[_ngcontent-%COMP%]{padding-left:3.5em}.sheet-title2[_ngcontent-%COMP%]   .pad40[_ngcontent-%COMP%]{padding-left:4em}.sheet-title2[_ngcontent-%COMP%]   .pad45[_ngcontent-%COMP%]{padding-left:4.5em}.sheet-title2[_ngcontent-%COMP%]   .pad50[_ngcontent-%COMP%]{padding-left:5em}.sheet-title2[_ngcontent-%COMP%]   .pad55[_ngcontent-%COMP%]{padding-left:5.5em}.sheet-title2[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title2[_ngcontent-%COMP%]   img.flow[_ngcontent-%COMP%]{width:60%;height:60%;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   img.flow2[_ngcontent-%COMP%]{width:600px;height:263px;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   div.flow-align[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:14px}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{vertical-align:top}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{vertical-align:middle}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]   .caption-top[_ngcontent-%COMP%]{caption-side:top}']}),t}(),Mk=function(){var t=function(){function t(e,n,i,r,a,o,s,l,u,c,h,d,f){_classCallCheck(this,t),this.save=e,this.members=n,this.points=i,this.bars=r,this.steel=a,this.post=o,this.helper=s,this.circle=l,this.rect=u,this.hOval=c,this.vOval=h,this.I=d,this.box=f}return _createClass(t,[{key:"getTitleString",value:function(t,e,n){var i="";null!==this.helper.toNumber(e.position)&&(i=e.position.toFixed(3));var r=t.m_no.toFixed(0);this.save.isManual()?r="No"+r:r+="\u90e8\u6750",t.m_len>0&&(r+="("+i+")");var a=e.p_name,o=this.bars.getCalcData(e.index);return{title1:r,title2:a,title3:"\u4e0a\u5074\u5f15\u5f35"===n?o.rebar1.title+"\u5f15\u5f35":o.rebar2.title+"\u5f15\u5f35"}}},{key:"alien",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right";return null===t?{alien:"center",value:"-"}:{alien:e,value:t}}},{key:"numStr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return null===t?null:t.toFixed(Number.isInteger(t)?0:e)}},{key:"getSteelStruct",value:function(t,e,n){var i=this.getSection(t,e,n),r=this.steel.getCalcData(e.index);return null===r||(r.A=i.steels.A,i.steels=r,i.steels.Zs=1e3),i}},{key:"getSection",value:function(t,e,n){var i={member:null,shapeName:null,steels:{},CFTFlag:!1},r=e.index,a=e.side,o=this.points.getCalcData(r),s=this.members.getCalcData(o.m_no);i.member=s;var l,u=this.post.getShapeName(s,a);switch(i.shapeName=u,u){case"I":l=this.I.getShape(s,t,r,a,n,{});for(var c=0,h=Object.keys(l.steel);c<h.length;c++){var d=h[c];i.steels[d]=l.steel[d]}break;case"H":break;case"Box":l=this.box.getBoxShape(s,t,r,a,n,{});for(var f=0,p=Object.keys(l.steel);f<p.length;f++){var g=p[f];i.steels[g]=l.steel[g]}break;case"Pipe":break;default:throw"\u65ad\u9762\u5f62\u72b6\uff1a"+u+" \u306f\u9069\u5207\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002"}return i}},{key:"getVmuSection",value:function(t,e){var n={tan:null!==this.helper.toNumber(t.tan)?this.helper.toNumber(t.tan):0,Aw:{stirrup_dia:null,stirrup_n:null,Aw:null,AwString:null,deg:null,Ss:null,fwyd:null,fwud:null,rs:null},Asb:{bending_dia:null,bending_n:null,Asb:null,AsbString:null,deg:null,Ss:null,fwyd:null,fwud:null,rs:null}};if(null===this.helper.toNumber(t.stirrup.stirrup_dia))return n;n.Aw.stirrup_dia=Math.abs(t.stirrup.stirrup_dia);var i=t.stirrup.stirrup_dia>0?"D":"R";n.Aw.stirrup_n=this.helper.toNumber(t.stirrup.stirrup_n),null===n.Aw.stirrup_n&&(n.Aw.stirrup_n=0),n.Aw.Ss=this.helper.toNumber(t.stirrup.stirrup_ss),null===n.Aw.Ss&&(n.Aw.Ss=Number.MAX_VALUE);var r=this.helper.getFsyk(n.Aw.stirrup_dia,e.material_bar,"stirrup");235===r.fsy&&(i="R");var a=i+n.Aw.stirrup_dia,o=this.helper.getAs(a);if(n.Aw.Aw=o*n.Aw.stirrup_n,0!==n.Aw.Aw&&(n.Aw.AwString=a+"-"+this.numStr(n.Aw.stirrup_n,3)+"\u672c"),n.Aw.fwyd=r.fsy,n.Aw.fwud=r.fsu,n.Aw.rs=e.safety_factor.rs,null===this.helper.toNumber(t.bend.bending_dia))return n;n.Asb.bending_dia=Math.abs(t.bend.bending_dia);var s=t.bend.bending_dia>0?"D":"R";n.Asb.bending_n=this.helper.toNumber(t.bend.bending_n),null===n.Asb.bending_n&&(n.Asb.bending_n=0),n.Asb.Ss=this.helper.toNumber(t.bend.bending_ss),null===n.Asb.Ss&&(n.Asb.Ss=Number.MAX_VALUE),n.Asb.deg=this.helper.toNumber(t.bend.bending_angle),null===n.Asb.deg&&(n.Asb.deg=45);var l=this.helper.getFsyk(n.Asb.bending_dia,e.material_bar,"stirrup");235===l.fsy&&(s="R");var u=s+n.Asb.bending_dia,c=this.helper.getAs(u);return n.Asb.Asb=c*n.Asb.bending_n,0!==n.Asb.Asb&&(n.Asb.AsbString=u+"-"+this.numStr(n.Asb.bending_n,3)+"\u672c"),n.Asb.fwyd=l.fsy,n.Asb.fwud=l.fsu,n.Asb.rs=e.safety_factor.rs,n}},{key:"getAstCircleVd",value:function(t,e){var n={tension:null,Ast:null,AstString:null,dst:null,fsy:null,fsd:null,fsu:null,rs:null,Es:200};if(!("tension"in t))return n.rs=e.safety_factor.rs,n;n.tension=t.tension,n.fsy=t.tension.fsy.fsy,n.fsu=t.tension.fsy.fsu,n.rs=t.tension.rs,n.fsd=Math.round(n.fsy/n.rs*10)/10;var i=("R"===t.tension.mark?"\u03c6":"D")+t.tension.rebar_dia,r=t.tension.rebar_n,a=this.helper.getAs(i)*r*t.tension.cos;return n.Ast=a,n.AstString=i+"-"+this.numStr(r,3)+"\u672c",n.dst=t.tension.dsc,n}},{key:"getAst",value:function(t,e,n){var i={tension:null,Ast:null,AstString:null,dst:null,fsy:null,fsd:null,fsu:null,rs:null,Es:200};if(!("tension"in t))return i;i.tension=t.tension,i.fsy=t.tension.fsy.fsy,i.fsu=t.tension.fsy.fsu,i.rs="Md"===n?e.safety_factor.M_rs:e.safety_factor.V_rs,i.fsd=Math.round(i.fsy/i.rs*10)/10;var r=("R"===t.tension.mark?"\u03c6":"D")+t.tension.rebar_dia,a=t.tension.rebar_n,o=this.helper.getAs(r)*a*t.tension.cos;return i.Ast=o,i.AstString=r+"-"+this.numStr(a,3)+"\u672c",i.dst=this.helper.getBarCenterPosition(t.tension),i}},{key:"getAsc",value:function(t){var e={compress:null,Asc:null,AscString:null,dsc:null};if(!("compress"in t))return e;e.compress=t.compress;var n=("R"===t.compress.mark?"\u03c6":"D")+t.compress.rebar_dia,i=t.compress.rebar_n,r=this.helper.getAs(n)*i*t.compress.cos;return e.Asc=r,e.AscString=n+"-"+this.numStr(i,3)+"\u672c",e.dsc=this.helper.getBarCenterPosition(t.compress),e}},{key:"getAse",value:function(t){var e={Ase:null,AseString:null,dse:null,de:null,sidebar:null};if(!("sidebar"in t))return e;e.sidebar=t.sidebar;var n=("R"===t.sidebar.mark?"\u03c6":"D")+t.sidebar.side_dia,i=t.sidebar.n,r=this.helper.getAs(n)*i;e.Ase=r,e.AseString=n+"-"+this.numStr(i,3)+"\u672c";var a=t.sidebar.cover2;return e.dse=t.sidebar.cover+t.sidebar.space*(i-1)/2,e.de=a,e}},{key:"getSteel",value:function(t,e,n,i){var r={I:{tension_flange:null,web:null,compress_flange:null,value:{},title:"I"},H:{left_flange:null,web:null,right_flange:null,title:"I"},fsy_tension:{fsy:null,fsd:null},fsy_Iweb:{fsy:null,fsd:null},fsy_compress:{fsy:null,fsd:null},fsy_left:{fsy:null,fsd:null},fsy_Hweb:{fsy:null,fsd:null},fsy_right:{fsy:null,fsd:null},rs:e.safety_factor.S_rs,flag:!1};return"steel"in t&&("I"in t.steel?this.getRectSteel(t,r,i):this.getCircleSteel(t,r,i)),r}},{key:"getCircleSteel",value:function(t,e,n){var i=this.helper.toNumber(t.steel.thickness);if(null!==i&&0!==i){e.flag=!0,e.I.tension_flange=i;var r=this.helper.toNumber(t.steel.fsy.fsy),a=this.helper.toNumber(t.steel.rs);if(null!==r&&null!==a&&(e.fsy_tension.fsy=r,e.fsy_tension.fsd=r/a),"Vd"===n){e.fsvy_Iweb={fsvy:null,fvyd:null};var o=this.helper.toNumber(t.steel.fvy.fvy);return null!==o&&null!==a&&(e.fsvy_Iweb={fsvy:o,fvyd:o/a}),e}}}},{key:"getRectSteel",value:function(t,e,n){var i=t.steel.I;null!==i.tension_thickness&&null!==i.tension_width&&(e.I.tension_flange=i.tension_width.toString()+"\xd7"+i.tension_thickness.toString(),e.flag=!0,e.I.value.widthT=i.tension_width,e.I.value.thicknessT=i.tension_thickness),null!==i.compress_thickness&&null!==i.compress_width&&(e.I.compress_flange=i.compress_width.toString()+"\xd7"+i.compress_thickness.toString(),e.flag=!0,e.I.value.widthC=i.compress_width,e.I.value.thicknessC=i.compress_thickness),null!==i.web_thickness&&null!==i.web_height&&(e.I.web=i.web_height.toString()+"\xd7"+i.web_thickness.toString(),e.flag=!0,e.I.value.heightW=i.web_height,e.I.value.thicknessW=i.web_thickness);for(var r=0,a=["fsy_tension","fsy_compress"];r<a.length;r++){var o=a[r];null!==i[o]&&null!==i[o].fsy&&(e[o].fsy=i[o].fsy,e[o].fsd=i[o].fsy/e.rs)}null!==i.fsy_web&&null!==i.fsy_web.fsy&&(e.fsy_Iweb.fsy=i.fsy_web.fsy,e.fsy_Iweb.fsd=i.fsy_web.fsy/e.rs),null!==(i=t.steel.H).left_thickness&&null!==i.left_width&&(e.H.left_flange=i.left_width.toString()+"\xd7"+i.left_thickness.toString(),e.flag=!0),null!==i.web_thickness&&null!==i.web_height&&(e.H.web=i.web_height.toString()+"\xd7"+i.web_thickness.toString(),e.flag=!0),null!==i.right_thickness&&null!==i.right_width&&(e.H.right_flange=i.right_width.toString()+"\xd7"+i.right_thickness.toString(),e.flag=!0);for(var s=0,l=["fsy_left","fsy_right"];s<l.length;s++){var u=l[s];null!==i[u]&&null!==i[u].fsy&&(e[u].fsy=i[u].fsy,e[u].fsd=i[u].fsy/e.rs)}return null!==i.fsy_web&&null!==i.fsy_web.fsy&&(e.fsy_Hweb.fsy=i.fsy_web.fsy,e.fsy_Hweb.fsd=i.fsy_web.fsy/e.rs),"Vd"!==n||(e.fsvy_Iweb={fsvy:null,fvyd:null},null!==t.steel.I.fvy_web&&(e.fsvy_Iweb={fsvy:t.steel.I.fvy_web.fvy,fvyd:null===t.steel.I.fvy_web.fvy?null:t.steel.I.fvy_web.fvy/e.rs}),e.fsvy_Hweb={fsvy:null,fvyd:null},null!==t.steel.H.fvy_web&&(e.fsvy_Hweb={fsvy:t.steel.H.fvy_web.fvy,fvyd:null===t.steel.H.fvy_web.fvy?null:t.steel.H.fvy_web.fvy/e.rs})),e}},{key:"getStructuralVal",value:function(t,e,n,i){var r,a,o,s,l,u,c,h,d,f,p,g,v,m,_,y={};switch(t){case"Circle":a=(r=this.circle.getSection(e)).H,y.A=Math.pow(a,2)*Math.PI/4,y.I=Math.pow(a,4)*Math.PI/64,y.eu=a/2,y.el=a/2;break;case"Ring":a=(r=this.circle.getSection(e)).H,o=r.B,y.A=(Math.pow(a,2)-Math.pow(o,2))*Math.PI/4,y.I=(Math.pow(a,4)-Math.pow(o,4))*Math.PI/64,y.eu=a/2,y.el=a/2;break;case"Rectangle":a=(r=this.rect.getSection(e,n,i)).H,o=r.B,y.A=o*a,y.I=o*Math.pow(a,3)/12,y.eu=a/2,y.el=a/2;break;case"Tsection":a=(r=this.rect.getTSection(e,n,i)).H,o=r.B,s=r.Bt,l=r.t,g=s-o,y.A=a*o+l*g,m=a-(v=(u=o*Math.pow(a,2)+g*Math.pow(l,2))/(c=2*(o*a+g*l))),y.eu=v,y.el=m,h=s*Math.pow(l,3)/12,d=s*l*Math.pow(v-l/2,2),f=o*Math.pow(a-l,3)/12,p=o*(a-l)*Math.pow(m-(a-l)/2,2),y.I=h+d+f+p;break;case"InvertedTsection":a=(r=this.rect.getSection(e,n,i)).H,o=r.B,s=r.Bt,l=r.t,g=s-o,y.A=a*o+l*g,m=a-(v=(u=o*Math.pow(a,2)+g*Math.pow(l,2))/(c=2*(o*a+g*l))),y.eu=m,y.el=v,h=s*Math.pow(l,3)/12,d=s*l*Math.pow(v-l/2,2),f=o*Math.pow(a-l,3)/12,p=o*(a-l)*Math.pow(m-(a-l)/2,2),y.I=h+d+f+p;break;case"HorizontalOval":a=(r=this.hOval.getSection(e)).H,o=r.B,_=Math.pow(a,2)*Math.PI/4+a*(o-a),y.A=_,y.I=Math.pow(a,4)*Math.PI/64+(o-a)*Math.pow(a,3)/12,y.eu=a/2,y.el=a/2;break;case"VerticalOval":r=this.vOval.getSection(e),g=a-o,_=Math.pow(o,2)*Math.PI/4+o*g,u=Math.PI*Math.pow(o,4)/64,c=g*Math.pow(o,3)/6,h=Math.PI*Math.pow(g,2)*Math.pow(o,2)/16,d=o*Math.pow(g,3)/12,y.A=_,y.I=u+c+h+d,y.eu=a/2,y.el=a/2;break;default:throw"\u65ad\u9762\u5f62\u72b6\uff1a"+e.shape+" \u306f\u9069\u5207\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002"}return y}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(oh),i.LFG(Xc),i.LFG($c),i.LFG(Kc),i.LFG(th),i.LFG(ok),i.LFG(Qc),i.LFG(Xy),i.LFG(ik),i.LFG(rk),i.LFG(ak),i.LFG(Qy),i.LFG(Jy))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Tk(t,e){1&t&&(i.TgZ(0,"div",3),i.TgZ(1,"span",4),i._uU(2,"Loading..."),i.qZA(),i.qZA())}function Sk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title1.alien," minwidth g-top2 g-left2"),i.xp6(1),i.hij(" ",n.title1.value,"")}}function Ak(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title2.alien," g-left2"),i.xp6(1),i.hij(" ",n.title2.value,"")}}function Ek(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title3.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.title3.value,"")}}function Pk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Ix.alien," g-left2"),i.xp6(1),i.hij(" ",n.Ix.value,"")}}function Ik(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Iy.alien," g-left2"),i.xp6(1),i.hij(" ",n.Iy.value,"")}}function Ok(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.A.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.A.value,"")}}function Rk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afgu.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afgu.value,"")}}function Lk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afnu.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afnu.value,"")}}function Dk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afgl.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afgl.value,"")}}function Nk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afnl.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afnl.value,"")}}function Zk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Aw.alien," g-left2"),i.xp6(1),i.hij(" ",n.Aw.value,"")}}function Fk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Yu.alien," g-left2"),i.xp6(1),i.hij(" ",n.Yu.value,"")}}function Uk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Yl.alien," g-left2"),i.xp6(1),i.hij(" ",n.Yl.value,"")}}function Bk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Xr.alien," g-left2"),i.xp6(1),i.hij(" ",n.Xr.value,"")}}function zk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Xl.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.Xl.value,"")}}function qk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function Hk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_tension.value,"")}}function Gk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bto_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bto_tension.value,"")}}function Vk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_bto_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_bto_tension.value,"")}}function Wk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_tension.value,"")}}function jk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_tension.value,"")}}function Yk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ko_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.ko_tension.value,"")}}function Qk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_tension.value,"")}}function Jk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_tension.value,"")}}function Xk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_ratio_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_ratio_tension.value,"")}}function $k(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_chi_ratio_tension.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.bt_chi_ratio_tension.value,"")}}function Kk(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function tC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function eC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_both_tension.value,"")}}function nC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bto_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bto_both_tension.value,"")}}function iC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_bto_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_bto_both_tension.value,"")}}function rC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_both_tension.value,"")}}function aC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_both_tension.value,"")}}function oC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ko_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.ko_both_tension.value,"")}}function sC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_both_tension.value,"")}}function lC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_tension.value,"")}}function uC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_both_ratio_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_both_ratio_tension.value,"")}}function cC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_chi_both_ratio_tension.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.bt_chi_both_ratio_tension.value,"")}}function hC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function dC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.dt_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.dt_shear.value,"")}}function fC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.dto_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.dto_shear.value,"")}}function pC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_dto_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_dto_shear.value,"")}}function gC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_shear.value,"")}}function vC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_shear.value,"")}}function mC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.kb_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.kb_shear.value,"")}}function _C(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_shear.value,"")}}function yC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.dt_ratio_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.dt_ratio_shear.value,"")}}function bC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.dt_chi_ratio_shear.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.dt_chi_ratio_shear.value,"")}}function xC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title1.alien," minwidth g-top2 g-left2"),i.xp6(1),i.hij(" ",n.title1.value,"")}}function wC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title2.alien," g-left2"),i.xp6(1),i.hij(" ",n.title2.value,"")}}function kC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title3.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.title3.value,"")}}function CC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Ix.alien," g-left2"),i.xp6(1),i.hij(" ",n.Ix.value,"")}}function MC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Iy.alien," g-left2"),i.xp6(1),i.hij(" ",n.Iy.value,"")}}function TC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.A.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.A.value,"")}}function SC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function AC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_compress.value,"")}}function EC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bto_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bto_compress.value,"")}}function PC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_bto_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_bto_compress.value,"")}}function IC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_compress.value,"")}}function OC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_compress.value,"")}}function RC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ko_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.ko_compress.value,"")}}function LC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_compress.value,"")}}function DC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_compress.value,"")}}function NC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_ratio_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_ratio_compress.value,"")}}function ZC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_chi_ratio_compress.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.bt_chi_ratio_compress.value,"")}}function FC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function UC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function BC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_both_compress.value,"")}}function zC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bto_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bto_both_compress.value,"")}}function qC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_bto_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_bto_both_compress.value,"")}}function HC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_both_compress.value,"")}}function GC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_both_compress.value,"")}}function VC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ko_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.ko_both_compress.value,"")}}function WC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_both_compress.value,"")}}function jC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_compress.value,"")}}function YC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_both_ratio_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_both_ratio_compress.value,"")}}function QC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_chi_both_ratio_compress.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.bt_chi_both_ratio_compress.value,"")}}function JC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function XC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bsts.alien," g-left2"),i.xp6(1),i.hij(" ",n.bsts.value,"")}}function $C(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Is.alien," g-left2"),i.xp6(1),i.hij(" ",n.Is.value,"")}}function KC(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bstso.alien," g-left2"),i.xp6(1),i.hij(" ",n.bstso.value,"")}}function tM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.I.alien," g-left2"),i.xp6(1),i.hij(" ",n.I.value,"")}}function eM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bsts_ratio.alien," g-left2"),i.xp6(1),i.hij(" ",n.bsts_ratio.value,"")}}function nM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Is_I_ratio.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.Is_I_ratio.value,"")}}function iM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function rM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bsts.alien," g-left2"),i.xp6(1),i.hij(" ",n.bsts.value,"")}}function aM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Is.alien," g-left2"),i.xp6(1),i.hij(" ",n.Is.value,"")}}function oM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bstso.alien," g-left2"),i.xp6(1),i.hij(" ",n.bstso.value,"")}}function sM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.I.alien," g-left2"),i.xp6(1),i.hij(" ",n.I.value,"")}}function lM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bsts_ratio.alien," g-left2"),i.xp6(1),i.hij(" ",n.bsts_ratio.value,"")}}function uM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Is_I_ratio.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.Is_I_ratio.value,"")}}function cM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title1.alien," minwidth g-top2 g-left2"),i.xp6(1),i.hij(" ",n.title1.value,"")}}function hM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title2.alien," g-left2"),i.xp6(1),i.hij(" ",n.title2.value,"")}}function dM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title3.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.title3.value,"")}}function fM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Ix.alien," g-left2"),i.xp6(1),i.hij(" ",n.Ix.value,"")}}function pM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Iy.alien," g-left2"),i.xp6(1),i.hij(" ",n.Iy.value,"")}}function gM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.A.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.A.value,"")}}function vM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mxd.value,"")}}function mM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Myd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Myd.value,"")}}function _M(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Nd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Nd.value,"")}}function yM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mucxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mucxd.value,"")}}function bM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mutxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mutxd.value,"")}}function xM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mucyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mucyd.value,"")}}function wM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mutyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mutyd.value,"")}}function kM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Nud.alien," g-left2"),i.xp6(1),i.hij(" ",n.Nud.value,"")}}function CM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.An.alien," g-left2"),i.xp6(1),i.hij(" ",n.An.value,"")}}function MM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bg_culc.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bg_culc.value,"")}}function TM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.lambda_e.alien," g-left2"),i.xp6(1),i.hij(" ",n.lambda_e.value,"")}}function SM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_culc.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_culc.value,"")}}function AM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b1.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b1.value,"")}}function EM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b2.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b2.value,"")}}function PM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_i.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.gamma_i.value,"")}}function IM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ratio_M_compress.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.ratio_M_compress.value,"")}}function OM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ratio_M_tension.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.ratio_M_tension.value,"")}}function RM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Vd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Vd.value,"")}}function LM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mtd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mtd.value,"")}}function DM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Vyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Vyd.value,"")}}function NM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mtuzd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mtuzd.value,"")}}function ZM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Aw.alien," g-left2"),i.xp6(1),i.hij(" ",n.Aw.value,"")}}function FM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.At.alien," g-left2"),i.xp6(1),i.hij(" ",n.At.value,"")}}function UM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b1.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b1.value,"")}}function BM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_i.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.gamma_i.value,"")}}function zM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ratio_VT_web.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.ratio_VT_web.value,"")}}function qM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title1.alien," minwidth g-top2 g-left2"),i.xp6(1),i.hij(" ",n.title1.value,"")}}function HM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title2.alien," g-left2"),i.xp6(1),i.hij(" ",n.title2.value,"")}}function GM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title3.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.title3.value,"")}}function VM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Ix.alien," g-left2"),i.xp6(1),i.hij(" ",n.Ix.value,"")}}function WM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Iy.alien," g-left2"),i.xp6(1),i.hij(" ",n.Iy.value,"")}}function jM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.A.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.A.value,"")}}function YM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mxd.value,"")}}function QM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Myd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Myd.value,"")}}function JM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Nd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Nd.value,"")}}function XM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Vd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Vd.value,"")}}function $M(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mtd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mtd.value,"")}}function KM(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mucxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mucxd.value,"")}}function tT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mutxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mutxd.value,"")}}function eT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mucyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mucyd.value,"")}}function nT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mutyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mutyd.value,"")}}function iT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Nud.alien," g-left2"),i.xp6(1),i.hij(" ",n.Nud.value,"")}}function rT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Vyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Vyd.value,"")}}function aT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mtuzd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mtuzd.value,"")}}function oT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.An.alien," g-left2"),i.xp6(1),i.hij(" ",n.An.value,"")}}function sT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Aw.alien," g-left2"),i.xp6(1),i.hij(" ",n.Aw.value,"")}}function lT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.At.alien," g-left2"),i.xp6(1),i.hij(" ",n.At.value,"")}}function uT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b1.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b1.value,"")}}function cT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b2.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b2.value,"")}}function hT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_i.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.gamma_i.value,"")}}function dT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ratio_MV_tension_l.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.ratio_MV_tension_l.value,"")}}function fT(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",7),i.TgZ(2,"div",8),i._uU(3),i.qZA(),i.TgZ(4,"div",9),i._uU(5),i.qZA(),i.TgZ(6,"table",10),i.TgZ(7,"tr"),i.TgZ(8,"th",11),i._uU(9,"\u90e8\u6750\u540d\u79f0"),i.qZA(),i.YNc(10,Sk,3,4,"ng-container",6),i.qZA(),i.TgZ(11,"tr"),i.TgZ(12,"th",12),i._uU(13,"\u4f4d\u7f6e"),i.qZA(),i.YNc(14,Ak,3,4,"ng-container",6),i.qZA(),i.TgZ(15,"tr"),i.TgZ(16,"th",13),i._uU(17,"\u65ad\u9762\u756a\u53f7"),i.qZA(),i.YNc(18,Ek,3,4,"ng-container",6),i.qZA(),i.TgZ(19,"tr"),i.TgZ(20,"th",14),i._uU(21,"Ix"),i.qZA(),i.TgZ(22,"th",15),i._uU(23,"(mm"),i.TgZ(24,"sup"),i._uU(25,"2"),i.qZA(),i._uU(26,")"),i.qZA(),i.YNc(27,Pk,3,4,"ng-container",6),i.qZA(),i.TgZ(28,"tr"),i.TgZ(29,"th",14),i._uU(30,"Iy"),i.qZA(),i.TgZ(31,"th",15),i._uU(32,"(mm"),i.TgZ(33,"sup"),i._uU(34,"2"),i.qZA(),i._uU(35,")"),i.qZA(),i.YNc(36,Ik,3,4,"ng-container",6),i.qZA(),i.TgZ(37,"tr"),i.TgZ(38,"th",16),i._uU(39,"A"),i.qZA(),i.TgZ(40,"th",17),i._uU(41,"(mm"),i.TgZ(42,"sup"),i._uU(43,"2"),i.qZA(),i._uU(44,")"),i.qZA(),i.YNc(45,Ok,3,4,"ng-container",6),i.qZA(),i.ynx(46),i.TgZ(47,"tr"),i.TgZ(48,"th",14),i._uU(49,"Afgu"),i.qZA(),i.TgZ(50,"th",15),i._uU(51,"(mm"),i.TgZ(52,"sup"),i._uU(53,"2"),i.qZA(),i._uU(54,")"),i.qZA(),i.YNc(55,Rk,3,4,"ng-container",6),i.qZA(),i.TgZ(56,"tr"),i.TgZ(57,"th",14),i._uU(58,"Afnu"),i.qZA(),i.TgZ(59,"th",15),i._uU(60,"(mm"),i.TgZ(61,"sup"),i._uU(62,"2"),i.qZA(),i._uU(63,")"),i.qZA(),i.YNc(64,Lk,3,4,"ng-container",6),i.qZA(),i.TgZ(65,"tr"),i.TgZ(66,"th",14),i._uU(67,"Afgl"),i.qZA(),i.TgZ(68,"th",15),i._uU(69,"(mm"),i.TgZ(70,"sup"),i._uU(71,"2"),i.qZA(),i._uU(72,")"),i.qZA(),i.YNc(73,Dk,3,4,"ng-container",6),i.qZA(),i.TgZ(74,"tr"),i.TgZ(75,"th",14),i._uU(76,"Afnl"),i.qZA(),i.TgZ(77,"th",15),i._uU(78,"(mm"),i.TgZ(79,"sup"),i._uU(80,"2"),i.qZA(),i._uU(81,")"),i.qZA(),i.YNc(82,Nk,3,4,"ng-container",6),i.qZA(),i.TgZ(83,"tr"),i.TgZ(84,"th",14),i._uU(85,"Aw"),i.qZA(),i.TgZ(86,"th",15),i._uU(87,"(mm"),i.TgZ(88,"sup"),i._uU(89,"2"),i.qZA(),i._uU(90,")"),i.qZA(),i.YNc(91,Zk,3,4,"ng-container",6),i.qZA(),i.TgZ(92,"tr"),i.TgZ(93,"th",14),i._uU(94,"Yu"),i.qZA(),i.TgZ(95,"th",15),i._uU(96,"(mm)"),i.qZA(),i.YNc(97,Fk,3,4,"ng-container",6),i.qZA(),i.TgZ(98,"tr"),i.TgZ(99,"th",14),i._uU(100,"Yl"),i.qZA(),i.TgZ(101,"th",15),i._uU(102,"(mm)"),i.qZA(),i.YNc(103,Uk,3,4,"ng-container",6),i.qZA(),i.TgZ(104,"tr"),i.TgZ(105,"th",14),i._uU(106,"Xr"),i.qZA(),i.TgZ(107,"th",15),i._uU(108,"(mm)"),i.qZA(),i.YNc(109,Bk,3,4,"ng-container",6),i.qZA(),i.TgZ(110,"tr"),i.TgZ(111,"th",16),i._uU(112,"Xl"),i.qZA(),i.TgZ(113,"th",17),i._uU(114,"(mm)"),i.qZA(),i.YNc(115,zk,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(116),i.TgZ(117,"tr"),i.TgZ(118,"th",18),i._uU(119,"\u5f15\u5f35\u30d5\u30e9\u30f3\u30b8\uff08\u7247\u7e01\u652f\u6301\u7248\uff09"),i.qZA(),i.qZA(),i.TgZ(120,"tr"),i.TgZ(121,"th",12),i._uU(122,"\u8ef8\u5f15\u5f35\u529b\u3092\u53d7\u3051\u308b\u8981\u7d20"),i.qZA(),i.YNc(123,qk,3,4,"ng-container",6),i.qZA(),i.TgZ(124,"tr"),i.TgZ(125,"th",12),i._uU(126,"(b/t)"),i.qZA(),i.YNc(127,Hk,3,4,"ng-container",6),i.qZA(),i.TgZ(128,"tr"),i.TgZ(129,"th",12),i._uU(130,"(b/t)o"),i.qZA(),i.YNc(131,Gk,3,4,"ng-container",6),i.qZA(),i.TgZ(132,"tr"),i.TgZ(133,"th",12),i._uU(134,"\u03c7wt(b/t)o"),i.qZA(),i.YNc(135,Vk,3,4,"ng-container",6),i.qZA(),i.TgZ(136,"tr"),i.TgZ(137,"th",12),i._uU(138,"\u03c7wt"),i.qZA(),i.YNc(139,Wk,3,4,"ng-container",6),i.qZA(),i.TgZ(140,"tr"),i.TgZ(141,"th",12),i._uU(142,"Rcr"),i.qZA(),i.YNc(143,jk,3,4,"ng-container",6),i.qZA(),i.TgZ(144,"tr"),i.TgZ(145,"th",12),i._uU(146,"ko"),i.qZA(),i.YNc(147,Yk,3,4,"ng-container",6),i.qZA(),i.TgZ(148,"tr"),i.TgZ(149,"th",12),i._uU(150,"\u03c1bl"),i.qZA(),i.YNc(151,Qk,3,4,"ng-container",6),i.qZA(),i.TgZ(152,"tr"),i.TgZ(153,"th",14),i._uU(154,"fsyk"),i.qZA(),i.TgZ(155,"th",15),i._uU(156,"(N/mm"),i.TgZ(157,"sup"),i._uU(158,"2"),i.qZA(),i._uU(159,")"),i.qZA(),i.YNc(160,Jk,3,4,"ng-container",6),i.qZA(),i.TgZ(161,"tr"),i.TgZ(162,"th",12),i._uU(163,"(b/t)\u2266(b/t)o"),i.qZA(),i.YNc(164,Xk,3,4,"ng-container",6),i.qZA(),i.TgZ(165,"tr"),i.TgZ(166,"th",13),i._uU(167,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(168,$k,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(169),i.TgZ(170,"tr"),i.TgZ(171,"th",18),i._uU(172,"\u5f15\u5f35\u30d5\u30e9\u30f3\u30b8\uff08\u4e21\u7e01\u652f\u6301\u7248or\u88dc\u525b\u677f\uff09"),i.qZA(),i.qZA(),i.TgZ(173,"tr"),i.TgZ(174,"th",12),i._uU(175,"\u8ef8\u5f15\u5f35\u529b\u3092\u53d7\u3051\u308b\u8981\u7d20"),i.qZA(),i.YNc(176,Kk,3,4,"ng-container",6),i.qZA(),i.TgZ(177,"tr"),i.TgZ(178,"th",12),i._uU(179,"\u677f\u8981\u7d20\u306e\u652f\u6301\u306e\u72b6\u614b"),i.qZA(),i.YNc(180,tC,3,4,"ng-container",6),i.qZA(),i.TgZ(181,"tr"),i.TgZ(182,"th",12),i._uU(183,"(b/t)"),i.qZA(),i.YNc(184,eC,3,4,"ng-container",6),i.qZA(),i.TgZ(185,"tr"),i.TgZ(186,"th",12),i._uU(187,"(b/t)o"),i.qZA(),i.YNc(188,nC,3,4,"ng-container",6),i.qZA(),i.TgZ(189,"tr"),i.TgZ(190,"th",12),i._uU(191,"\u03c7wt(b/t)o"),i.qZA(),i.YNc(192,iC,3,4,"ng-container",6),i.qZA(),i.TgZ(193,"tr"),i.TgZ(194,"th",12),i._uU(195,"\u03c7wt"),i.qZA(),i.YNc(196,rC,3,4,"ng-container",6),i.qZA(),i.TgZ(197,"tr"),i.TgZ(198,"th",12),i._uU(199,"Rcr"),i.qZA(),i.YNc(200,aC,3,4,"ng-container",6),i.qZA(),i.TgZ(201,"tr"),i.TgZ(202,"th",12),i._uU(203,"ko"),i.qZA(),i.YNc(204,oC,3,4,"ng-container",6),i.qZA(),i.TgZ(205,"tr"),i.TgZ(206,"th",12),i._uU(207,"\u03c1bl"),i.qZA(),i.YNc(208,sC,3,4,"ng-container",6),i.qZA(),i.TgZ(209,"tr"),i.TgZ(210,"th",14),i._uU(211,"fsyk"),i.qZA(),i.TgZ(212,"th",15),i._uU(213,"(N/mm"),i.TgZ(214,"sup"),i._uU(215,"2"),i.qZA(),i._uU(216,")"),i.qZA(),i.YNc(217,lC,3,4,"ng-container",6),i.qZA(),i.TgZ(218,"tr"),i.TgZ(219,"th",12),i._uU(220,"(b/t)\u2266(b/t)o"),i.qZA(),i.YNc(221,uC,3,4,"ng-container",6),i.qZA(),i.TgZ(222,"tr"),i.TgZ(223,"th",13),i._uU(224,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(225,cC,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(226),i.TgZ(227,"tr"),i.TgZ(228,"th",18),i._uU(229,"\u8179\u677f\uff08\u4e21\u7e01\u652f\u6301\u7248or\u88dc\u525b\u677f\uff09"),i.qZA(),i.qZA(),i.TgZ(230,"tr"),i.TgZ(231,"th",12),i._uU(232,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(233,hC,3,4,"ng-container",6),i.qZA(),i.TgZ(234,"tr"),i.TgZ(235,"th",12),i._uU(236,"(Dw/tw)"),i.qZA(),i.YNc(237,dC,3,4,"ng-container",6),i.qZA(),i.TgZ(238,"tr"),i.TgZ(239,"th",12),i._uU(240,"(Dw/tw)o"),i.qZA(),i.YNc(241,fC,3,4,"ng-container",6),i.qZA(),i.TgZ(242,"tr"),i.TgZ(243,"th",12),i._uU(244,"\u03c7wt(Dw/tw)o"),i.qZA(),i.YNc(245,pC,3,4,"ng-container",6),i.qZA(),i.TgZ(246,"tr"),i.TgZ(247,"th",12),i._uU(248,"\u03c7wt"),i.qZA(),i.YNc(249,gC,3,4,"ng-container",6),i.qZA(),i.TgZ(250,"tr"),i.TgZ(251,"th",12),i._uU(252,"Rcr"),i.qZA(),i.YNc(253,vC,3,4,"ng-container",6),i.qZA(),i.TgZ(254,"tr"),i.TgZ(255,"th",12),i._uU(256,"kb"),i.qZA(),i.YNc(257,mC,3,4,"ng-container",6),i.qZA(),i.TgZ(258,"tr"),i.TgZ(259,"th",14),i._uU(260,"fsyk"),i.qZA(),i.TgZ(261,"th",15),i._uU(262,"(N/mm"),i.TgZ(263,"sup"),i._uU(264,"2"),i.qZA(),i._uU(265,")"),i.qZA(),i.YNc(266,_C,3,4,"ng-container",6),i.qZA(),i.TgZ(267,"tr"),i.TgZ(268,"th",12),i._uU(269,"(Dw/tw)\u2266(Dw/tw)o"),i.qZA(),i.YNc(270,yC,3,4,"ng-container",6),i.qZA(),i.TgZ(271,"tr"),i.TgZ(272,"th",13),i._uU(273,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(274,bC,3,4,"ng-container",6),i.qZA(),i.BQk(),i.qZA(),i.qZA(),i.TgZ(275,"div",7),i.TgZ(276,"div",8),i._uU(277),i.qZA(),i.TgZ(278,"div",9),i._uU(279),i.qZA(),i.TgZ(280,"table",10),i.TgZ(281,"tr"),i.TgZ(282,"th",11),i._uU(283,"\u90e8\u6750\u540d\u79f0"),i.qZA(),i.YNc(284,xC,3,4,"ng-container",6),i.qZA(),i.TgZ(285,"tr"),i.TgZ(286,"th",12),i._uU(287,"\u4f4d\u7f6e"),i.qZA(),i.YNc(288,wC,3,4,"ng-container",6),i.qZA(),i.TgZ(289,"tr"),i.TgZ(290,"th",13),i._uU(291,"\u65ad\u9762\u756a\u53f7"),i.qZA(),i.YNc(292,kC,3,4,"ng-container",6),i.qZA(),i.TgZ(293,"tr"),i.TgZ(294,"th",14),i._uU(295,"Ix"),i.qZA(),i.TgZ(296,"th",15),i._uU(297,"(mm"),i.TgZ(298,"sup"),i._uU(299,"2"),i.qZA(),i._uU(300,")"),i.qZA(),i.YNc(301,CC,3,4,"ng-container",6),i.qZA(),i.TgZ(302,"tr"),i.TgZ(303,"th",14),i._uU(304,"Iy"),i.qZA(),i.TgZ(305,"th",15),i._uU(306,"(mm"),i.TgZ(307,"sup"),i._uU(308,"2"),i.qZA(),i._uU(309,")"),i.qZA(),i.YNc(310,MC,3,4,"ng-container",6),i.qZA(),i.TgZ(311,"tr"),i.TgZ(312,"th",16),i._uU(313,"A"),i.qZA(),i.TgZ(314,"th",17),i._uU(315,"(mm"),i.TgZ(316,"sup"),i._uU(317,"2"),i.qZA(),i._uU(318,")"),i.qZA(),i.YNc(319,TC,3,4,"ng-container",6),i.qZA(),i.ynx(320),i.TgZ(321,"tr"),i.TgZ(322,"th",18),i._uU(323,"\u5727\u7e2e\u30d5\u30e9\u30f3\u30b8\uff08\u7247\u7e01\u652f\u6301\u7248\uff09"),i.qZA(),i.qZA(),i.TgZ(324,"tr"),i.TgZ(325,"th",12),i._uU(326,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(327,SC,3,4,"ng-container",6),i.qZA(),i.TgZ(328,"tr"),i.TgZ(329,"th",12),i._uU(330,"(b/t)"),i.qZA(),i.YNc(331,AC,3,4,"ng-container",6),i.qZA(),i.TgZ(332,"tr"),i.TgZ(333,"th",12),i._uU(334,"(b/t)o"),i.qZA(),i.YNc(335,EC,3,4,"ng-container",6),i.qZA(),i.TgZ(336,"tr"),i.TgZ(337,"th",12),i._uU(338,"\u03c7wt(b/t)o"),i.qZA(),i.YNc(339,PC,3,4,"ng-container",6),i.qZA(),i.TgZ(340,"tr"),i.TgZ(341,"th",12),i._uU(342,"\u03c7wt"),i.qZA(),i.YNc(343,IC,3,4,"ng-container",6),i.qZA(),i.TgZ(344,"tr"),i.TgZ(345,"th",12),i._uU(346,"Rcr"),i.qZA(),i.YNc(347,OC,3,4,"ng-container",6),i.qZA(),i.TgZ(348,"tr"),i.TgZ(349,"th",12),i._uU(350,"ko"),i.qZA(),i.YNc(351,RC,3,4,"ng-container",6),i.qZA(),i.TgZ(352,"tr"),i.TgZ(353,"th",12),i._uU(354,"\u03c1bl"),i.qZA(),i.YNc(355,LC,3,4,"ng-container",6),i.qZA(),i.TgZ(356,"tr"),i.TgZ(357,"th",14),i._uU(358,"fsyk"),i.qZA(),i.TgZ(359,"th",15),i._uU(360,"(N/mm"),i.TgZ(361,"sup"),i._uU(362,"2"),i.qZA(),i._uU(363,")"),i.qZA(),i.YNc(364,DC,3,4,"ng-container",6),i.qZA(),i.TgZ(365,"tr"),i.TgZ(366,"th",12),i._uU(367,"(b/t)\u2266(b/t)o"),i.qZA(),i.YNc(368,NC,3,4,"ng-container",6),i.qZA(),i.TgZ(369,"tr"),i.TgZ(370,"th",13),i._uU(371,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(372,ZC,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(373),i.TgZ(374,"tr"),i.TgZ(375,"th",18),i._uU(376,"\u5727\u7e2e\u30d5\u30e9\u30f3\u30b8\uff08\u4e21\u7e01\u652f\u6301\u7248or\u88dc\u525b\u677f\uff09"),i.qZA(),i.qZA(),i.TgZ(377,"tr"),i.TgZ(378,"th",12),i._uU(379,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(380,FC,3,4,"ng-container",6),i.qZA(),i.TgZ(381,"tr"),i.TgZ(382,"th",12),i._uU(383,"\u677f\u8981\u7d20\u306e\u652f\u6301\u306e\u72b6\u614b"),i.qZA(),i.YNc(384,UC,3,4,"ng-container",6),i.qZA(),i.TgZ(385,"tr"),i.TgZ(386,"th",12),i._uU(387,"(b/t)"),i.qZA(),i.YNc(388,BC,3,4,"ng-container",6),i.qZA(),i.TgZ(389,"tr"),i.TgZ(390,"th",12),i._uU(391,"(b/t)o"),i.qZA(),i.YNc(392,zC,3,4,"ng-container",6),i.qZA(),i.TgZ(393,"tr"),i.TgZ(394,"th",12),i._uU(395,"\u03c7wt(b/t)o"),i.qZA(),i.YNc(396,qC,3,4,"ng-container",6),i.qZA(),i.TgZ(397,"tr"),i.TgZ(398,"th",12),i._uU(399,"\u03c7wt"),i.qZA(),i.YNc(400,HC,3,4,"ng-container",6),i.qZA(),i.TgZ(401,"tr"),i.TgZ(402,"th",12),i._uU(403,"Rcr"),i.qZA(),i.YNc(404,GC,3,4,"ng-container",6),i.qZA(),i.TgZ(405,"tr"),i.TgZ(406,"th",12),i._uU(407,"ko"),i.qZA(),i.YNc(408,VC,3,4,"ng-container",6),i.qZA(),i.TgZ(409,"tr"),i.TgZ(410,"th",12),i._uU(411,"\u03c1bl"),i.qZA(),i.YNc(412,WC,3,4,"ng-container",6),i.qZA(),i.TgZ(413,"tr"),i.TgZ(414,"th",14),i._uU(415,"fsyk"),i.qZA(),i.TgZ(416,"th",15),i._uU(417,"(N/mm"),i.TgZ(418,"sup"),i._uU(419,"2"),i.qZA(),i._uU(420,")"),i.qZA(),i.YNc(421,jC,3,4,"ng-container",6),i.qZA(),i.TgZ(422,"tr"),i.TgZ(423,"th",12),i._uU(424,"(b/t)\u2266(b/t)o"),i.qZA(),i.YNc(425,YC,3,4,"ng-container",6),i.qZA(),i.TgZ(426,"tr"),i.TgZ(427,"th",13),i._uU(428,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(429,QC,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(430),i.TgZ(431,"tr"),i.TgZ(432,"th",18),i._uU(433,"\u7e26\u30ea\u30d6\uff08\u5f15\u5f35\u30d5\u30e9\u30f3\u30b8\u5074\uff09"),i.qZA(),i.qZA(),i.TgZ(434,"tr"),i.TgZ(435,"th",12),i._uU(436,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(437,JC,3,4,"ng-container",6),i.qZA(),i.TgZ(438,"tr"),i.TgZ(439,"th",12),i._uU(440,"(bs/ts)"),i.qZA(),i.YNc(441,XC,3,4,"ng-container",6),i.qZA(),i.TgZ(442,"tr"),i.TgZ(443,"th",14),i._uU(444,"Is"),i.qZA(),i.TgZ(445,"th",15),i._uU(446,"(mm"),i.TgZ(447,"sup"),i._uU(448,"4"),i.qZA(),i._uU(449,")"),i.qZA(),i.YNc(450,$C,3,4,"ng-container",6),i.qZA(),i.TgZ(451,"tr"),i.TgZ(452,"th",12),i._uU(453,"(bs/ts)o"),i.qZA(),i.YNc(454,KC,3,4,"ng-container",6),i.qZA(),i.TgZ(455,"tr"),i.TgZ(456,"th",14),i._uU(457,"I"),i.qZA(),i.TgZ(458,"th",15),i._uU(459,"(mm"),i.TgZ(460,"sup"),i._uU(461,"4"),i.qZA(),i._uU(462,")"),i.qZA(),i.YNc(463,tM,3,4,"ng-container",6),i.qZA(),i.TgZ(464,"tr"),i.TgZ(465,"th",12),i._uU(466,"(bs/ts)\u2266(bs/ts)o"),i.qZA(),i.YNc(467,eM,3,4,"ng-container",6),i.qZA(),i.TgZ(468,"tr"),i.TgZ(469,"th",13),i._uU(470,"Is\u2267I"),i.qZA(),i.YNc(471,nM,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(472),i.TgZ(473,"tr"),i.TgZ(474,"th",18),i._uU(475,"\u7e26\u30ea\u30d6\uff08\u5727\u7e2e\u30d5\u30e9\u30f3\u30b8\u5074\uff09"),i.qZA(),i.qZA(),i.TgZ(476,"tr"),i.TgZ(477,"th",12),i._uU(478,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(479,iM,3,4,"ng-container",6),i.qZA(),i.TgZ(480,"tr"),i.TgZ(481,"th",12),i._uU(482,"(bs/ts)"),i.qZA(),i.YNc(483,rM,3,4,"ng-container",6),i.qZA(),i.TgZ(484,"tr"),i.TgZ(485,"th",14),i._uU(486,"Is"),i.qZA(),i.TgZ(487,"th",15),i._uU(488,"(mm"),i.TgZ(489,"sup"),i._uU(490,"4"),i.qZA(),i._uU(491,")"),i.qZA(),i.YNc(492,aM,3,4,"ng-container",6),i.qZA(),i.TgZ(493,"tr"),i.TgZ(494,"th",12),i._uU(495,"(bs/ts)o"),i.qZA(),i.YNc(496,oM,3,4,"ng-container",6),i.qZA(),i.TgZ(497,"tr"),i.TgZ(498,"th",14),i._uU(499,"I"),i.qZA(),i.TgZ(500,"th",15),i._uU(501,"(mm"),i.TgZ(502,"sup"),i._uU(503,"4"),i.qZA(),i._uU(504,")"),i.qZA(),i.YNc(505,sM,3,4,"ng-container",6),i.qZA(),i.TgZ(506,"tr"),i.TgZ(507,"th",12),i._uU(508,"(bs/ts)\u2266(bs/ts)o"),i.qZA(),i.YNc(509,lM,3,4,"ng-container",6),i.qZA(),i.TgZ(510,"tr"),i.TgZ(511,"th",13),i._uU(512,"Is\u2267I"),i.qZA(),i.YNc(513,uM,3,4,"ng-container",6),i.qZA(),i.BQk(),i.qZA(),i.qZA(),i.TgZ(514,"div",7),i.TgZ(515,"div",8),i._uU(516),i.qZA(),i.TgZ(517,"div",9),i._uU(518),i.qZA(),i.TgZ(519,"table",10),i.TgZ(520,"tr"),i.TgZ(521,"th",11),i._uU(522,"\u90e8\u6750\u540d\u79f0"),i.qZA(),i.YNc(523,cM,3,4,"ng-container",6),i.qZA(),i.TgZ(524,"tr"),i.TgZ(525,"th",12),i._uU(526,"\u4f4d\u7f6e"),i.qZA(),i.YNc(527,hM,3,4,"ng-container",6),i.qZA(),i.TgZ(528,"tr"),i.TgZ(529,"th",13),i._uU(530,"\u65ad\u9762\u756a\u53f7"),i.qZA(),i.YNc(531,dM,3,4,"ng-container",6),i.qZA(),i.TgZ(532,"tr"),i.TgZ(533,"th",14),i._uU(534,"Ix"),i.qZA(),i.TgZ(535,"th",15),i._uU(536,"(mm"),i.TgZ(537,"sup"),i._uU(538,"2"),i.qZA(),i._uU(539,")"),i.qZA(),i.YNc(540,fM,3,4,"ng-container",6),i.qZA(),i.TgZ(541,"tr"),i.TgZ(542,"th",14),i._uU(543,"Iy"),i.qZA(),i.TgZ(544,"th",15),i._uU(545,"(mm"),i.TgZ(546,"sup"),i._uU(547,"2"),i.qZA(),i._uU(548,")"),i.qZA(),i.YNc(549,pM,3,4,"ng-container",6),i.qZA(),i.TgZ(550,"tr"),i.TgZ(551,"th",16),i._uU(552,"A"),i.qZA(),i.TgZ(553,"th",17),i._uU(554,"(mm"),i.TgZ(555,"sup"),i._uU(556,"2"),i.qZA(),i._uU(557,")"),i.qZA(),i.YNc(558,gM,3,4,"ng-container",6),i.qZA(),i.ynx(559),i.TgZ(560,"tr"),i.TgZ(561,"th",18),i._uU(562,"\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8\u3092\u53d7\u3051\u308b\u90e8\u6750\u306e\u7167\u67fb"),i.qZA(),i.qZA(),i.TgZ(563,"tr"),i.TgZ(564,"th",14),i._uU(565,"Mxd"),i.qZA(),i.TgZ(566,"th",15),i._uU(567,"(kN\u30fbm)"),i.qZA(),i.YNc(568,vM,3,4,"ng-container",6),i.qZA(),i.TgZ(569,"tr"),i.TgZ(570,"th",14),i._uU(571,"Myd"),i.qZA(),i.TgZ(572,"th",15),i._uU(573,"(kN\u30fbm)"),i.qZA(),i.YNc(574,mM,3,4,"ng-container",6),i.qZA(),i.TgZ(575,"tr"),i.TgZ(576,"th",14),i._uU(577,"Nd"),i.qZA(),i.TgZ(578,"th",15),i._uU(579,"(kN)"),i.qZA(),i.YNc(580,_M,3,4,"ng-container",6),i.qZA(),i.TgZ(581,"tr"),i.TgZ(582,"th",14),i._uU(583,"Mucxd"),i.qZA(),i.TgZ(584,"th",15),i._uU(585,"(kN\u30fbm)"),i.qZA(),i.YNc(586,yM,3,4,"ng-container",6),i.qZA(),i.TgZ(587,"tr"),i.TgZ(588,"th",14),i._uU(589,"Mutxd"),i.qZA(),i.TgZ(590,"th",15),i._uU(591,"(kN\u30fbm)"),i.qZA(),i.YNc(592,bM,3,4,"ng-container",6),i.qZA(),i.TgZ(593,"tr"),i.TgZ(594,"th",14),i._uU(595,"Mucyd"),i.qZA(),i.TgZ(596,"th",15),i._uU(597,"(kN\u30fbm)"),i.qZA(),i.YNc(598,xM,3,4,"ng-container",6),i.qZA(),i.TgZ(599,"tr"),i.TgZ(600,"th",14),i._uU(601,"Mutyd"),i.qZA(),i.TgZ(602,"th",15),i._uU(603,"(kN\u30fbm)"),i.qZA(),i.YNc(604,wM,3,4,"ng-container",6),i.qZA(),i.TgZ(605,"tr"),i.TgZ(606,"th",14),i._uU(607,"Nud"),i.qZA(),i.TgZ(608,"th",15),i._uU(609,"(kN)"),i.qZA(),i.YNc(610,kM,3,4,"ng-container",6),i.qZA(),i.TgZ(611,"tr"),i.TgZ(612,"th",14),i._uU(613,"An"),i.qZA(),i.TgZ(614,"th",15),i._uU(615,"(mm"),i.TgZ(616,"sup"),i._uU(617,"2"),i.qZA(),i._uU(618,")"),i.qZA(),i.YNc(619,CM,3,4,"ng-container",6),i.qZA(),i.TgZ(620,"tr"),i.TgZ(621,"th",12),i._uU(622,"\u03c1bg"),i.qZA(),i.YNc(623,MM,3,4,"ng-container",6),i.qZA(),i.TgZ(624,"tr"),i.TgZ(625,"th",12),i._uU(626,"\u03bbe"),i.qZA(),i.YNc(627,TM,3,4,"ng-container",6),i.qZA(),i.TgZ(628,"tr"),i.TgZ(629,"th",12),i._uU(630,"\u03c1bl"),i.qZA(),i.YNc(631,SM,3,4,"ng-container",6),i.qZA(),i.TgZ(632,"tr"),i.TgZ(633,"th",12),i._uU(634,"\u03b3b1"),i.qZA(),i.YNc(635,AM,3,4,"ng-container",6),i.qZA(),i.TgZ(636,"tr"),i.TgZ(637,"th",12),i._uU(638,"\u03b3b2"),i.qZA(),i.YNc(639,EM,3,4,"ng-container",6),i.qZA(),i.TgZ(640,"tr"),i.TgZ(641,"th",13),i._uU(642,"\u03b3i"),i.qZA(),i.YNc(643,PM,3,4,"ng-container",6),i.qZA(),i.TgZ(644,"tr"),i.TgZ(645,"th",19),i._uU(646,"\u5f15\u5f35\u30d5\u30e9\u30f3\u30b8\u5916\u7e01\u306e\u7167\u67fb\u7d50\u679c ( = \u03b3i\u30fb(Mxd/Muxd+Myd/Muyd))"),i.qZA(),i.qZA(),i.TgZ(647,"tr"),i.TgZ(648,"th",13),i._uU(649,"\u7167\u67fb\u7d50\u679c"),i.qZA(),i.YNc(650,IM,3,4,"ng-container",6),i.qZA(),i.TgZ(651,"tr"),i.TgZ(652,"th",19),i._uU(653,"\u5727\u7e2e\u30d5\u30e9\u30f3\u30b8\u5916\u7e01\u306e\u7167\u67fb\u7d50\u679c ( = \u03b3i\u30fb(Mxd/Muxd+Myd/Muyd+Nd/Nud))"),i.qZA(),i.qZA(),i.TgZ(654,"tr"),i.TgZ(655,"th",13),i._uU(656,"\u7167\u67fb\u7d50\u679c"),i.qZA(),i.YNc(657,OM,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(658),i.TgZ(659,"tr"),i.TgZ(660,"th",18),i._uU(661,"\u305b\u3093\u65ad\u3068\u306d\u3058\u308a\u3092\u53d7\u3051\u308b\u90e8\u6750\u306e\u7167\u67fb"),i.qZA(),i.qZA(),i.TgZ(662,"tr"),i.TgZ(663,"th",14),i._uU(664,"Vd"),i.qZA(),i.TgZ(665,"th",15),i._uU(666,"(kN)"),i.qZA(),i.YNc(667,RM,3,4,"ng-container",6),i.qZA(),i.TgZ(668,"tr"),i.TgZ(669,"th",14),i._uU(670,"Mtd"),i.qZA(),i.TgZ(671,"th",15),i._uU(672,"(kN\u30fbm)"),i.qZA(),i.YNc(673,LM,3,4,"ng-container",6),i.qZA(),i.TgZ(674,"tr"),i.TgZ(675,"th",14),i._uU(676,"Vyd"),i.qZA(),i.TgZ(677,"th",15),i._uU(678,"(kN)"),i.qZA(),i.YNc(679,DM,3,4,"ng-container",6),i.qZA(),i.TgZ(680,"tr"),i.TgZ(681,"th",14),i._uU(682,"Mtud"),i.qZA(),i.TgZ(683,"th",15),i._uU(684,"(kN\u30fbm)"),i.qZA(),i.YNc(685,NM,3,4,"ng-container",6),i.qZA(),i.TgZ(686,"tr"),i.TgZ(687,"th",14),i._uU(688,"Aw"),i.qZA(),i.TgZ(689,"th",15),i._uU(690,"(mm"),i.TgZ(691,"sup"),i._uU(692,"2"),i.qZA(),i._uU(693,")"),i.qZA(),i.YNc(694,ZM,3,4,"ng-container",6),i.qZA(),i.TgZ(695,"tr"),i.TgZ(696,"th",14),i._uU(697,"At"),i.qZA(),i.TgZ(698,"th",15),i._uU(699,"(mm"),i.TgZ(700,"sup"),i._uU(701,"2"),i.qZA(),i._uU(702,")"),i.qZA(),i.YNc(703,FM,3,4,"ng-container",6),i.qZA(),i.TgZ(704,"tr"),i.TgZ(705,"th",12),i._uU(706,"\u03b3b1"),i.qZA(),i.YNc(707,UM,3,4,"ng-container",6),i.qZA(),i.TgZ(708,"tr"),i.TgZ(709,"th",13),i._uU(710,"\u03b3i"),i.qZA(),i.YNc(711,BM,3,4,"ng-container",6),i.qZA(),i.TgZ(712,"tr"),i.TgZ(713,"th",19),i._uU(714,"\u8179\u677f\u306e\u7167\u67fb\u7d50\u679c ( = \u03b3i\u30fb(Vd/Vyd+Mtd/Mtud))"),i.qZA(),i.qZA(),i.TgZ(715,"tr"),i.TgZ(716,"th",13),i._uU(717,"\u7167\u67fb\u7d50\u679c"),i.qZA(),i.YNc(718,zM,3,4,"ng-container",6),i.qZA(),i.BQk(),i.qZA(),i.qZA(),i.TgZ(719,"div",7),i.TgZ(720,"div",8),i._uU(721),i.qZA(),i.TgZ(722,"div",9),i._uU(723),i.qZA(),i.TgZ(724,"table",10),i.TgZ(725,"tr"),i.TgZ(726,"th",11),i._uU(727,"\u90e8\u6750\u540d\u79f0"),i.qZA(),i.YNc(728,qM,3,4,"ng-container",6),i.qZA(),i.TgZ(729,"tr"),i.TgZ(730,"th",12),i._uU(731,"\u4f4d\u7f6e"),i.qZA(),i.YNc(732,HM,3,4,"ng-container",6),i.qZA(),i.TgZ(733,"tr"),i.TgZ(734,"th",13),i._uU(735,"\u65ad\u9762\u756a\u53f7"),i.qZA(),i.YNc(736,GM,3,4,"ng-container",6),i.qZA(),i.TgZ(737,"tr"),i.TgZ(738,"th",14),i._uU(739,"Ix"),i.qZA(),i.TgZ(740,"th",15),i._uU(741,"(mm"),i.TgZ(742,"sup"),i._uU(743,"2"),i.qZA(),i._uU(744,")"),i.qZA(),i.YNc(745,VM,3,4,"ng-container",6),i.qZA(),i.TgZ(746,"tr"),i.TgZ(747,"th",14),i._uU(748,"Iy"),i.qZA(),i.TgZ(749,"th",15),i._uU(750,"(mm"),i.TgZ(751,"sup"),i._uU(752,"2"),i.qZA(),i._uU(753,")"),i.qZA(),i.YNc(754,WM,3,4,"ng-container",6),i.qZA(),i.TgZ(755,"tr"),i.TgZ(756,"th",16),i._uU(757,"A"),i.qZA(),i.TgZ(758,"th",17),i._uU(759,"(mm"),i.TgZ(760,"sup"),i._uU(761,"2"),i.qZA(),i._uU(762,")"),i.qZA(),i.YNc(763,jM,3,4,"ng-container",6),i.qZA(),i.ynx(764),i.TgZ(765,"tr"),i.TgZ(766,"th",18),i._uU(767,"\u66f2\u3052\u3068\u305b\u3093\u65ad\u3092\u53d7\u3051\u308b\u90e8\u6750\u306e\u7167\u67fb"),i.qZA(),i.qZA(),i.TgZ(768,"tr"),i.TgZ(769,"th",14),i._uU(770,"Mxd"),i.qZA(),i.TgZ(771,"th",15),i._uU(772,"(kN\u30fbm)"),i.qZA(),i.YNc(773,YM,3,4,"ng-container",6),i.qZA(),i.TgZ(774,"tr"),i.TgZ(775,"th",14),i._uU(776,"Myd"),i.qZA(),i.TgZ(777,"th",15),i._uU(778,"(kN\u30fbm)"),i.qZA(),i.YNc(779,QM,3,4,"ng-container",6),i.qZA(),i.TgZ(780,"tr"),i.TgZ(781,"th",14),i._uU(782,"Nd"),i.qZA(),i.TgZ(783,"th",15),i._uU(784,"(kN)"),i.qZA(),i.YNc(785,JM,3,4,"ng-container",6),i.qZA(),i.TgZ(786,"tr"),i.TgZ(787,"th",14),i._uU(788,"Vd"),i.qZA(),i.TgZ(789,"th",15),i._uU(790,"(kN)"),i.qZA(),i.YNc(791,XM,3,4,"ng-container",6),i.qZA(),i.TgZ(792,"tr"),i.TgZ(793,"th",14),i._uU(794,"Mtd"),i.qZA(),i.TgZ(795,"th",15),i._uU(796,"(kN\u30fbm)"),i.qZA(),i.YNc(797,$M,3,4,"ng-container",6),i.qZA(),i.TgZ(798,"tr"),i.TgZ(799,"th",14),i._uU(800,"Mucxd"),i.qZA(),i.TgZ(801,"th",15),i._uU(802,"(kN\u30fbm)"),i.qZA(),i.YNc(803,KM,3,4,"ng-container",6),i.qZA(),i.TgZ(804,"tr"),i.TgZ(805,"th",14),i._uU(806,"Mutxd"),i.qZA(),i.TgZ(807,"th",15),i._uU(808,"(kN\u30fbm)"),i.qZA(),i.YNc(809,tT,3,4,"ng-container",6),i.qZA(),i.TgZ(810,"tr"),i.TgZ(811,"th",14),i._uU(812,"Mucyd"),i.qZA(),i.TgZ(813,"th",15),i._uU(814,"(kN\u30fbm)"),i.qZA(),i.YNc(815,eT,3,4,"ng-container",6),i.qZA(),i.TgZ(816,"tr"),i.TgZ(817,"th",14),i._uU(818,"Mutyd"),i.qZA(),i.TgZ(819,"th",15),i._uU(820,"(kN\u30fbm)"),i.qZA(),i.YNc(821,nT,3,4,"ng-container",6),i.qZA(),i.TgZ(822,"tr"),i.TgZ(823,"th",14),i._uU(824,"Nud"),i.qZA(),i.TgZ(825,"th",15),i._uU(826,"(kN)"),i.qZA(),i.YNc(827,iT,3,4,"ng-container",6),i.qZA(),i.TgZ(828,"tr"),i.TgZ(829,"th",14),i._uU(830,"Vyd"),i.qZA(),i.TgZ(831,"th",15),i._uU(832,"(kN)"),i.qZA(),i.YNc(833,rT,3,4,"ng-container",6),i.qZA(),i.TgZ(834,"tr"),i.TgZ(835,"th",14),i._uU(836,"Mtud"),i.qZA(),i.TgZ(837,"th",15),i._uU(838,"(kN\u30fbm)"),i.qZA(),i.YNc(839,aT,3,4,"ng-container",6),i.qZA(),i.TgZ(840,"tr"),i.TgZ(841,"th",14),i._uU(842,"An"),i.qZA(),i.TgZ(843,"th",15),i._uU(844,"(mm"),i.TgZ(845,"sup"),i._uU(846,"2"),i.qZA(),i._uU(847,")"),i.qZA(),i.YNc(848,oT,3,4,"ng-container",6),i.qZA(),i.TgZ(849,"tr"),i.TgZ(850,"th",14),i._uU(851,"Aw"),i.qZA(),i.TgZ(852,"th",15),i._uU(853,"(mm"),i.TgZ(854,"sup"),i._uU(855,"2"),i.qZA(),i._uU(856,")"),i.qZA(),i.YNc(857,sT,3,4,"ng-container",6),i.qZA(),i.TgZ(858,"tr"),i.TgZ(859,"th",14),i._uU(860,"At"),i.qZA(),i.TgZ(861,"th",15),i._uU(862,"(mm"),i.TgZ(863,"sup"),i._uU(864,"2"),i.qZA(),i._uU(865,")"),i.qZA(),i.YNc(866,lT,3,4,"ng-container",6),i.qZA(),i.TgZ(867,"tr"),i.TgZ(868,"th",12),i._uU(869,"\u03b3b1"),i.qZA(),i.YNc(870,uT,3,4,"ng-container",6),i.qZA(),i.TgZ(871,"tr"),i.TgZ(872,"th",12),i._uU(873,"\u03b3b2"),i.qZA(),i.YNc(874,cT,3,4,"ng-container",6),i.qZA(),i.TgZ(875,"tr"),i.TgZ(876,"th",13),i._uU(877,"\u03b3i"),i.qZA(),i.YNc(878,hT,3,4,"ng-container",6),i.qZA(),i.TgZ(879,"tr"),i.TgZ(880,"th",19),i._uU(881,"\u30d5\u30e9\u30f3\u30b8\u306e\u7167\u67fb\u7d50\u679c ( = (\u03b3i/1.1)"),i.TgZ(882,"sup"),i._uU(883,"2"),i.qZA(),i._uU(884,"\u30fb((Mxd/Muxd+Myd/Muyd+Nd/Nud)"),i.TgZ(885,"sup"),i._uU(886,"2"),i.qZA(),i._uU(887,"+(Vd/Vyd+Mtd/Mtud)"),i.TgZ(888,"sup"),i._uU(889,"2"),i.qZA(),i._uU(890,")"),i.qZA(),i.qZA(),i.TgZ(891,"tr"),i.TgZ(892,"th",13),i._uU(893,"\u7167\u67fb\u7d50\u679c"),i.qZA(),i.YNc(894,dT,3,4,"ng-container",6),i.qZA(),i.BQk(),i.qZA(),i.qZA(),i.qZA()),2&t){var n=e.$implicit,r=e.index;i.xp6(3),i.AsE("",n.caption," (\u305d\u306e",4*r+1,")"),i.xp6(2),i.hij("[",n.g_name,"]"),i.xp6(5),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(10),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(3),i.AsE("",n.caption," (\u305d\u306e",4*r+2,")"),i.xp6(2),i.hij("[",n.g_name,"]"),i.xp6(5),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(3),i.AsE("",n.caption," (\u305d\u306e",4*r+3,")"),i.xp6(2),i.hij("[",n.g_name,"]"),i.xp6(5),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(10),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(7),i.Q6J("ngForOf",n.columns),i.xp6(7),i.Q6J("ngForOf",n.columns),i.xp6(10),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(7),i.Q6J("ngForOf",n.columns),i.xp6(3),i.AsE("",n.caption," (\u305d\u306e",4*r+4,")"),i.xp6(2),i.hij("[",n.g_name,"]"),i.xp6(5),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(10),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(16),i.Q6J("ngForOf",n.columns)}}function pT(t,e){if(1&t&&(i.TgZ(0,"div",5),i.YNc(1,fT,895,160,"div",6),i.qZA()),2&t){var n=i.oxw();i.s9C("id",n.page_index),i.xp6(1),i.Q6J("ngForOf",n.safetyTorsionalMomentPages)}}function gT(t,e){if(1&t&&(i.TgZ(0,"div",21),i.TgZ(1,"p"),i._uU(2),i.qZA(),i.qZA()),2&t){var n=i.oxw();i.xp6(2),i.Oqu(n.err)}}var vT=function(){var t=function(){function t(e,n,i,r,a,o,s,l,u){_classCallCheck(this,t),this.http=e,this.calc=n,this.post=i,this.result=r,this.helper=a,this.basic=o,this.points=s,this.summary=l,this.user=u,this.title="\u5b89\u5168\u6027\uff08\u7834\u58ca\uff09",this.page_index="ap_14",this.isLoading=!0,this.isFulfilled=!1,this.safetyTorsionalMomentPages=new Array,this.isJREAST=!1,this.isSRC=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.isLoading=!0,this.isFulfilled=!1,this.err="";var t=this.calc.setInputData();if(null===t||t.length<1)return this.isLoading=!1,void this.summary.setSummaryTable("safetyTorsionalMoment");try{this.safetyTorsionalMomentPages=this.getSafetyPages(t),this.isFulfilled=!0,this.calc.isEnable=!0,this.summary.setSummaryTable("safetyTorsionalMoment",this.safetyTorsionalMomentPages)}catch(e){this.err=e.toString(),this.isFulfilled=!1,this.summary.setSummaryTable("safetyTorsionalMoment")}this.isLoading=!1}},{key:"getSafetyPages",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u5b89\u5168\u6027\uff08\u7834\u58ca\uff09\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8\u306e\u7167\u67fb\u7d50\u679c",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.calc.DesignForceList,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.calc.safetyID,a=new Array;this.isJREAST=!1;var o,s=this.basic.get_specification2();(2===s||5===s)&&(this.isJREAST=!0);for(var l=this.points.getGroupeList(),u=0;u<l.length;u++){var c=this.points.getGroupeName(u),h=l[u];o={caption:n,g_name:c,columns:new Array,SRCFlag:!1};var d,f=this.calc.getSafetyFactor("Md",h[0].g_id,r),p=this.calc.getSafetyFactor("Vd",h[0].g_id,r),g=!1,v=_createForOfIteratorHelper(h);try{for(v.s();!(d=v.n()).done;){var m,_=d.value,y=_createForOfIteratorHelper(_.positions);try{var b=function(){for(var r=m.value,s=function(){var s=u[l],h=t.find(function(t){return t.index===r.index&&t.side===s});if(void 0===h||h.length<1)return"continue";var d=i.find(function(t){return t.index===h.index}).designForce.find(function(t){return t.side===h.side});o.columns.length>4&&(o.SRCFlag=g,a.push(o),o={caption:n,g_name:c,columns:new Array,SRCFlag:!1},g=!1);var v=e.result.getSection("Md",h,f),m=e.result.getSection("Vd",h,p),_=e.result.getTitleString(v.member,r,s),y=e.helper.getFck(p),b=e.calc.calcMtud(t,h,v,m,y,f,p,r.La,d),x=e.getResultString(b);x.title1={alien:"center",value:_.title1},x.title2={alien:"center",value:_.title2},x.title3={alien:"center",value:_.title3},x.A=e.result.alien(v.steels.A),x.Ix=e.result.alien(Math.round(v.steels.Ix)),x.Iy=e.result.alien(Math.round(v.steels.Iy)),x.Afgu=e.result.alien(Math.round(v.steels.dim.Afgu)),x.Afnu=e.result.alien(Math.round(v.steels.dim.Afnu)),x.Afgl=e.result.alien(Math.round(v.steels.dim.Afgl)),x.Afnl=e.result.alien(Math.round(v.steels.dim.Afnl)),x.Aw=e.result.alien(Math.round(v.steels.dim.Aw)),x.Yu=e.result.alien(null),x.Yl=e.result.alien(null),x.Xr=e.result.alien(null),x.Xl=e.result.alien(null),x.fsyk=e.result.alien(null),x.fwyd3=e.result.alien(null),x.index=r.index,x.side_summary=s,o.columns.push(x)},l=0,u=["\u4e0a\u5074\u5f15\u5f35","\u4e0b\u5074\u5f15\u5f35"];l<u.length;l++)s()};for(y.s();!(m=y.n()).done;)b()}catch(T){y.e(T)}finally{y.f()}}}catch(T){v.e(T)}finally{v.f()}if(o.columns.length>0){for(var x=o.columns.length;x<5;x++){for(var w={},k=0,C=Object.keys(o.columns[0]);k<C.length;k++){var M=C[k];w[M]="index"===M||"side_summary"===M||"shape_summary"===M?null:"bendFlag"!==M&&"steelFlag"!==M&&"CFTFlag"!==M&&{alien:"center",value:"-"}}o.columns.push(w)}o.SRCFlag=g,a.push(o)}}return a}},{key:"getResultString",value:function(t){var e={empty:{alien:"center",value:"-"},fck:{alien:"center",value:"-"},fcd:{alien:"center",value:"-"},fsyk_tension:{alien:"center",value:"-"},fsyk_compress:{alien:"center",value:"-"},fsyk_shear:{alien:"center",value:"-"},fsvyk_web:{alien:"center",value:"-"},Md:{alien:"center",value:"-"},Nd:{alien:"center",value:"-"},Vd:{alien:"center",value:"-"},Mtd:{alien:"center",value:"-"},bt:{alien:"center",value:"-"},bto:{alien:"center",value:"-"},chi_wt_bto:{alien:"center",value:"-"},chi_wt:{alien:"center",value:"-"},Rcr:{alien:"center",value:"-"},ko:{alien:"center",value:"-"},kb:{alien:"center",value:"-"},rho_bl:{alien:"center",value:"-"},bt_ratio:{alien:"center",value:"-"},bt_chi_wt_bt_ratio:{alien:"center",value:"-"},bt_tension:{alien:"center",value:"-"},bto_tension:{alien:"center",value:"-"},chi_wt_bto_tension:{alien:"center",value:"-"},chi_bto_tension:{alien:"center",value:"-"},chi_tension:{alien:"center",value:"-"},Rcr_tension:{alien:"center",value:"-"},ko_tension:{alien:"center",value:"-"},rho_bl_tension:{alien:"center",value:"-"},bt_ratio_tension:{alien:"center",value:"-"},bt_chi_ratio_tension:{alien:"center",value:"-"},bt_both_tension:{alien:"center",value:"-"},bto_both_tension:{alien:"center",value:"-"},chi_wt_bto_both_tension:{alien:"center",value:"-"},chi_bto_both_tension:{alien:"center",value:"-"},chi_both_tension:{alien:"center",value:"-"},Rcr_both_tension:{alien:"center",value:"-"},ko_both_tension:{alien:"center",value:"-"},rho_bl_both_tension:{alien:"center",value:"-"},bt_both_ratio_tension:{alien:"center",value:"-"},bt_chi_both_ratio_tension:{alien:"center",value:"-"},bt_compress:{alien:"center",value:"-"},bto_compress:{alien:"center",value:"-"},chi_wt_bto_compress:{alien:"center",value:"-"},chi_bto_compress:{alien:"center",value:"-"},chi_compress:{alien:"center",value:"-"},Rcr_compress:{alien:"center",value:"-"},ko_compress:{alien:"center",value:"-"},rho_bl_compress:{alien:"center",value:"-"},bt_ratio_compress:{alien:"center",value:"-"},bt_chi_ratio_compress:{alien:"center",value:"-"},bt_both_compress:{alien:"center",value:"-"},bto_both_compress:{alien:"center",value:"-"},chi_wt_bto_both_compress:{alien:"center",value:"-"},chi_bto_both_compress:{alien:"center",value:"-"},chi_both_compress:{alien:"center",value:"-"},Rcr_both_compress:{alien:"center",value:"-"},ko_both_compress:{alien:"center",value:"-"},rho_bl_both_compress:{alien:"center",value:"-"},bt_both_ratio_compress:{alien:"center",value:"-"},bt_chi_both_ratio_compress:{alien:"center",value:"-"},dt_shear:{alien:"center",value:"-"},dto_shear:{alien:"center",value:"-"},chi_dto_shear:{alien:"center",value:"-"},chi_shear:{alien:"center",value:"-"},Rcr_shear:{alien:"center",value:"-"},kb_shear:{alien:"center",value:"-"},dt_ratio_shear:{alien:"center",value:"-"},dt_chi_ratio_shear:{alien:"center",value:"-"},bsts:{alien:"center",value:"-"},Is:{alien:"center",value:"-"},bstso:{alien:"center",value:"-"},I:{alien:"center",value:"-"},bsts_ratio:{alien:"center",value:"-"},Is_I_ratio:{alien:"center",value:"-"},Mxd:{alien:"center",value:"-"},Myd:{alien:"center",value:"-"},Mucxd:{alien:"center",value:"-"},Mutxd:{alien:"center",value:"-"},Mucyd:{alien:"center",value:"-"},Mutyd:{alien:"center",value:"-"},Nud:{alien:"center",value:"-"},Nuod:{alien:"center",value:"-"},Nuod2:{alien:"center",value:"-"},An:{alien:"center",value:"-"},rho_bg_culc:{alien:"center",value:"-"},lambda_e:{alien:"center",value:"-"},rho_bl_culc:{alien:"center",value:"-"},gamma_b1:{alien:"center",value:"-"},gamma_b2:{alien:"center",value:"-"},gamma_i:{alien:"center",value:"-"},ratio_M_compress:{alien:"center",value:"-"},ratio_M_tension:{alien:"center",value:"-"},Vyd:{alien:"center",value:"-"},Mtuzd:{alien:"center",value:"-"},Aw:{alien:"center",value:"-"},At:{alien:"center",value:"-"},ratio_VT_web:{alien:"center",value:"-"},ratio_MV_tension_u:{alien:"center",value:"-"},ratio_MV_tension_l:{alien:"center",value:"-"},ratio_MV_web_u:{alien:"center",value:"-"},ratio_MV_web_l:{alien:"center",value:"-"},ratio_MV_web:{alien:"center",value:"-"}};return null===t||("fsyk_tension"in t&&(e.fsyk_tension={alien:"right",value:t.fsyk_tension.toFixed(1)}),"fsyk_compress"in t&&(e.fsyk_compress={alien:"right",value:t.fsyk_compress.toFixed(1)}),"fsyk_shear"in t&&(e.fsyk_shear={alien:"right",value:t.fsyk_shear.toFixed(1)}),"fsvyk_web"in t&&(e.fsvyk_web={alien:"right",value:t.fsvyk_web.toFixed(1)}),"Md"in t&&(e.Md={alien:"right",value:(Math.round(10*t.Md)/10).toFixed(1)}),"Nd"in t&&(e.Nd={alien:"right",value:(Math.round(10*t.Nd)/10).toFixed(1)}),"Vd"in t&&(e.Vd={alien:"right",value:(Math.round(10*t.Vd)/10).toFixed(1)}),"Mt"in t&&(e.Mtd={alien:"right",value:(Math.round(10*t.Mt)/10).toFixed(1)}),"bt"in t&&(e.bt={alien:"right",value:t.bt.toFixed(3)}),"bto"in t&&(e.bto={alien:"right",value:t.bto.toFixed(3)}),"chi_wt_bto"in t&&(e.chi_wt_bto={alien:"right",value:t.chi_wt_bto.toFixed(3)}),"chi_wt"in t&&(e.chi_wt={alien:"right",value:t.chi_wt.toFixed(3)}),"Rcr"in t&&(e.Rcr={alien:"right",value:t.Rcr.toFixed(3)}),"ko"in t&&(e.ko={alien:"right",value:t.ko.toFixed(3)}),"rho_bl"in t&&(e.rho_bl={alien:"right",value:t.rho_bl.toFixed(3)}),"bt_ratio"in t&&(e.bt_ratio={alien:"right",value:t.bt_ratio.toFixed(3)}),"bt_chi_wt_bt_ratio"in t&&(e.bt_chi_wt_bt_ratio={alien:"right",value:t.bt_chi_wt_bt_ratio.toFixed(3)}),"bt_tension"in t&&(e.bt_tension={alien:"right",value:t.bt_tension.toFixed(3)}),"bto_tension"in t&&(e.bto_tension={alien:"right",value:t.bto_tension.toFixed(3)}),"chi_bto_tension"in t&&(e.chi_bto_tension.alien="right",e.chi_bto_tension.value=0!==t.chi_bto_tension?t.chi_bto_tension.toFixed(3):"---"),"chi_tension"in t&&(e.chi_tension.alien="right",e.chi_tension.value=0!==t.chi_tension?t.chi_tension.toFixed(3):"---"),"Rcr_tension"in t&&(e.Rcr_tension.alien="right",e.Rcr_tension.value=0!==t.Rcr_tension?t.Rcr_tension.toFixed(3):"---"),"k_tension"in t&&(e.ko_tension.alien="right",e.ko_tension.value=0!==t.k_tension?t.k_tension.toFixed(3):"---"),"rho_bl_tension"in t&&(e.rho_bl_tension={alien:"right",value:t.rho_bl_tension.toFixed(3)}),"bt_tension"in t&&"bto_tension"in t&&(e.bt_ratio_tension={alien:"right",value:t.bt_tension/t.bto_tension<1?"OK":"NG"}),"bt_tension"in t&&"chi_bto_tension"in t&&(e.bt_chi_ratio_tension.alien="right",e.bt_chi_ratio_tension.value=0!==t.chi_bto_tension?t.bt_tension/t.chi_bto_tension<1?"OK":"NG":"---"),"bt_both_tension"in t&&(e.bt_both_tension={alien:"right",value:t.bt_both_tension.toFixed(3)}),"bto_both_tension"in t&&(e.bto_both_tension={alien:"right",value:t.bto_both_tension.toFixed(3)}),"chi_bto_both_tension"in t&&(e.chi_bto_both_tension.alien="right",e.chi_bto_both_tension.value=0!==t.chi_bto_both_tension?t.chi_bto_both_tension.toFixed(3):"---"),"chi_both_tension"in t&&(e.chi_both_tension.alien="right",e.chi_both_tension.value=0!==t.chi_both_tension?t.chi_both_tension.toFixed(3):"---"),"Rcr_both_tension"in t&&(e.Rcr_both_tension.alien="right",e.Rcr_both_tension.value=0!==t.Rcr_both_tension?t.Rcr_both_tension.toFixed(3):"---"),"k_both_tension"in t&&(e.ko_both_tension.alien="right",e.ko_both_tension.value=0!==t.k_both_tension?t.k_both_tension.toFixed(3):"---"),"rho_bl_both_tension"in t&&(e.rho_bl_both_tension={alien:"right",value:t.rho_bl_both_tension.toFixed(3)}),"bt_both_tension"in t&&"bto_both_tension"in t&&(e.bt_both_ratio_tension={alien:"right",value:t.bt_both_tension/t.bto_both_tension<1?"OK":"NG"}),"bt_both_tension"in t&&"chi_bto_both_tension"in t&&(e.bt_chi_both_ratio_tension.alien="right",e.bt_chi_both_ratio_tension.value=0!==t.chi_bto_both_tension?t.bt_both_tension/t.chi_bto_both_tension<1?"OK":"NG":"---"),"bt_compress"in t&&(e.bt_compress={alien:"right",value:t.bt_compress.toFixed(3)}),"bto_compress"in t&&(e.bto_compress={alien:"right",value:t.bto_compress.toFixed(3)}),"chi_bto_compress"in t&&(e.chi_bto_compress.alien="right",e.chi_bto_compress.value=0!==t.chi_bto_compress?t.chi_bto_compress.toFixed(3):"---"),"chi_compress"in t&&(e.chi_compress.alien="right",e.chi_compress.value=0!==t.chi_compress?t.chi_compress.toFixed(3):"---"),"Rcr_compress"in t&&(e.Rcr_compress.alien="right",e.Rcr_compress.value=0!==t.Rcr_compress?t.Rcr_compress.toFixed(3):"---"),"k_compress"in t&&(e.ko_compress.alien="right",e.ko_compress.value=0!==t.k_compress?t.k_compress.toFixed(3):"---"),"rho_bl_compress"in t&&(e.rho_bl_compress={alien:"right",value:t.rho_bl_compress.toFixed(3)}),"bt_compress"in t&&"bto_compress"in t&&(e.bt_ratio_compress={alien:"right",value:t.bt_compress/t.bto_compress<1?"OK":"NG"}),"bt_compress"in t&&"chi_bto_compress"in t&&(e.bt_chi_ratio_compress.alien="right",e.bt_chi_ratio_compress.value=0!==t.chi_bto_compress?t.bt_compress/t.chi_bto_compress<1?"OK":"NG":"---"),"bt_both_compress"in t&&(e.bt_both_compress={alien:"right",value:t.bt_both_compress.toFixed(3)}),"bto_both_compress"in t&&(e.bto_both_compress={alien:"right",value:t.bto_both_compress.toFixed(3)}),"chi_bto_both_compress"in t&&(e.chi_bto_both_compress.alien="right",e.chi_bto_both_compress.value=0!==t.chi_bto_both_compress?t.chi_bto_both_compress.toFixed(3):"---"),"chi_both_compress"in t&&(e.chi_both_compress.alien="right",e.chi_both_compress.value=0!==t.chi_both_compress?t.chi_both_compress.toFixed(3):"---"),"Rcr_both_compress"in t&&(e.Rcr_both_compress.alien="right",e.Rcr_both_compress.value=0!==t.Rcr_both_compress?t.Rcr_both_compress.toFixed(3):"---"),"k_both_compress"in t&&(e.ko_both_compress.alien="right",e.ko_both_compress.value=0!==t.k_both_compress?t.k_both_compress.toFixed(3):"---"),"rho_bl_both_compress"in t&&(e.rho_bl_both_compress={alien:"right",value:t.rho_bl_both_compress.toFixed(3)}),"bt_both_compress"in t&&"bto_both_compress"in t&&(e.bt_both_ratio_compress={alien:"right",value:t.bt_both_compress/t.bto_both_compress<1?"OK":"NG"}),"bt_both_compress"in t&&"chi_bto_both_compress"in t&&(e.bt_chi_both_ratio_compress.alien="right",e.bt_chi_both_ratio_compress.value=0!==t.chi_bto_both_compress?t.bt_both_compress/t.chi_bto_both_compress<1?"OK":"NG":"---"),"dt_shear"in t&&(e.dt_shear={alien:"right",value:t.dt_shear.toFixed(3)}),"dto_shear"in t&&(e.dto_shear={alien:"right",value:t.dto_shear.toFixed(3)}),"chi_dto_shear"in t&&(e.chi_dto_shear.alien="right",e.chi_dto_shear.value=0!==t.chi_dto_shear?t.chi_dto_shear.toFixed(1):"---"),"chi_shear"in t&&(e.chi_shear.alien="right",e.chi_shear.value=0!==t.chi_shear?t.chi_shear.toFixed(2):"---"),"Rcr_shear"in t&&(e.Rcr_shear.alien="right",e.Rcr_shear.value=0!==t.Rcr_shear?t.Rcr_shear.toFixed(3):"---"),"kb_shear"in t&&(e.kb_shear.alien="right",e.kb_shear.value=0!==t.kb_shear?t.kb_shear.toFixed(3):"---"),"dt_shear"in t&&"dto_shear"in t&&(e.dt_ratio_shear={alien:"right",value:t.dt_shear/t.dto_shear<1?"OK":"NG"}),"dt_shear"in t&&"chi_dto_shear"in t&&(e.dt_chi_ratio_shear.alien="right",e.dt_chi_ratio_shear.value=0!==t.chi_dto_shear?t.dt_shear/t.chi_dto_shear<1?"OK":"NG":"---"),"bsts"in t&&(e.bsts={alien:"right",value:t.bsts.toFixed(3)}),"Is"in t&&(e.Is={alien:"right",value:t.Is.toFixed(3)}),"bstso"in t&&(e.bstso={alien:"right",value:t.bstso.toFixed(3)}),"I"in t&&(e.I={alien:"right",value:t.I.toFixed(3)}),"bsts_ratio"in t&&(e.bsts_ratio={alien:"right",value:t.bsts_ratio.toFixed(3)}),"Mxd"in t&&(e.Mxd={alien:"right",value:t.Mxd.toFixed(1)}),"Myd"in t&&(e.Myd={alien:"right",value:t.Myd.toFixed(1)}),"Mucxd"in t&&(e.Mucxd={alien:"right",value:t.Mucxd.toFixed(1)}),"Mutxd"in t&&(e.Mutxd={alien:"right",value:t.Mutxd.toFixed(1)}),"Mucyd"in t&&(e.Mucyd={alien:"right",value:t.Mucyd.toFixed(1)}),"Mutyd"in t&&(e.Mutyd={alien:"right",value:t.Mutyd.toFixed(1)}),"Nud"in t&&(e.Nud={alien:"right",value:t.Nud.toFixed(1)}),"An"in t&&(e.An={alien:"right",value:t.An.toFixed(0)}),"rho_bg_culc"in t&&(e.rho_bg_culc={alien:"right",value:t.rho_bg_culc.toFixed(2)}),"lambda_e"in t&&(e.lambda_e={alien:"right",value:t.lambda_e.toFixed(2)}),"rho_bl_culc"in t&&(e.rho_bl_culc={alien:"right",value:t.rho_bl_culc.toFixed(2)}),"gamma_b1"in t&&(e.gamma_b1={alien:"right",value:t.gamma_b1.toFixed(2)}),"gamma_b2"in t&&(e.gamma_b2={alien:"right",value:t.gamma_b2.toFixed(2)}),"gamma_i"in t&&(e.gamma_i={alien:"right",value:t.gamma_i.toFixed(1)}),"ratio_M_compress"in t&&(e.ratio_M_compress={alien:"right",value:t.ratio_M_compress.toFixed(3)}),"ratio_M_tension"in t&&(e.ratio_M_tension={alien:"right",value:t.ratio_M_tension.toFixed(3)}),"Vyd"in t&&(e.Vyd={alien:"right",value:t.Vyd.toFixed(1)}),"Mtuzd"in t&&(e.Mtuzd={alien:"right",value:t.Mtuzd.toFixed(1)}),"Aw"in t&&(e.Aw={alien:"right",value:t.Aw.toFixed(3)}),"At"in t&&(e.At={alien:"right",value:t.At.toFixed(0)}),"ratio_VT_web"in t&&(e.ratio_VT_web={alien:"right",value:t.ratio_VT_web.toFixed(3)}),"ratio_MV_tension_u"in t&&(e.ratio_MV_tension_u={alien:"right",value:t.ratio_MV_tension_u.toFixed(3)}),"ratio_MV_tension_l"in t&&(e.ratio_MV_tension_l={alien:"right",value:t.ratio_MV_tension_l.toFixed(3)}),"ratio_MV_web_u"in t&&(e.ratio_MV_web_u={alien:"right",value:t.ratio_MV_web_u.toFixed(3)}),"ratio_MV_web_l"in t&&(e.ratio_MV_web_l={alien:"right",value:t.ratio_MV_web_l.toFixed(3)}),"ratio_MV_web"in t&&(e.ratio_MV_web={alien:"right",value:t.ratio_MV_web.toFixed(3)})),e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(Zn),i.Y36(ck),i.Y36(ok),i.Y36(Mk),i.Y36(Qc),i.Y36(Jc),i.Y36($c),i.Y36(Ib),i.Y36(mb))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-result-safety-torsional-moment"]],decls:3,vars:3,consts:[["class","spinner-border","style","width: 1rem; height: 1rem;","role","status",4,"ngIf"],[3,"id",4,"ngIf"],["class","sheet",4,"ngIf"],["role","status",1,"spinner-border",2,"width","1rem","height","1rem"],[1,"sr-only"],[3,"id"],[4,"ngFor","ngForOf"],[1,"sheet-table"],[1,"cell_title1"],[1,"cell_title2"],[1,"main"],["colspan","2",1,"cell_name1","g-top2"],["colspan","2",1,"cell_name1"],["colspan","2",1,"cell_name1","g-bottom2"],[1,"cell_name2"],[1,"cell_name3"],[1,"cell_name2","g-bottom2"],[1,"cell_name3","g-bottom2"],["colspan","12",1,"cell_name1","g-bottom2"],["colspan","12",1,"cell_name1","g-bottom2","left"],["colspan","2"],[1,"sheet"]],template:function(t,e){1&t&&(i.YNc(0,Tk,3,0,"div",0),i.YNc(1,pT,2,2,"div",1),i.YNc(2,gT,3,1,"div",2)),2&t&&(i.Q6J("ngIf",e.isLoading),i.xp6(1),i.Q6J("ngIf",(null==e.safetyTorsionalMomentPages?null:e.safetyTorsionalMomentPages.length)>0),i.xp6(1),i.Q6J("ngIf",e.err.length>0))},directives:[O,P],styles:['@charset "UTF-8";.sticky[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;position:-webkit-sticky;position:sticky;top:100px;width:300px;margin-left:15px}#print_section[_ngcontent-%COMP%]{display:inline-block}.HtmlPage[_ngcontent-%COMP%]{font-family:"\\ff2d\\ff33  \\30b4\\30b7\\30c3\\30af",sans-serif;margin:0;padding:0;display:block}.sheet[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:83px;padding-left:113px;padding-right:113px}.sheet-title[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title[_ngcontent-%COMP%]   .indent15[_ngcontent-%COMP%]{text-indent:1.5em}.sheet-title[_ngcontent-%COMP%]   .indent20[_ngcontent-%COMP%]{text-indent:2em}.sheet-title[_ngcontent-%COMP%]   .indent25[_ngcontent-%COMP%]{text-indent:2.5em}.sheet-title[_ngcontent-%COMP%]   .indent30[_ngcontent-%COMP%]{text-indent:3em}.sheet-title[_ngcontent-%COMP%]   .indent40[_ngcontent-%COMP%]{text-indent:4em}.sheet-title[_ngcontent-%COMP%]   .indent45[_ngcontent-%COMP%]{text-indent:4.5em}.sheet-title[_ngcontent-%COMP%]   .indent50[_ngcontent-%COMP%]{text-indent:5em}.sheet-title[_ngcontent-%COMP%]   .indent55[_ngcontent-%COMP%]{text-indent:5.5em}.sheet-title[_ngcontent-%COMP%]   .indent60[_ngcontent-%COMP%]{text-indent:6em}.sheet-title[_ngcontent-%COMP%]   .indent65[_ngcontent-%COMP%]{text-indent:6.5em}.sheet-title[_ngcontent-%COMP%]   .indent70[_ngcontent-%COMP%]{text-indent:7em}.sheet-title[_ngcontent-%COMP%]   .indent75[_ngcontent-%COMP%]{text-indent:7.5em}.sheet-title[_ngcontent-%COMP%]   .indent80[_ngcontent-%COMP%]{text-indent:8em}.sheet-title[_ngcontent-%COMP%]   .indent85[_ngcontent-%COMP%]{text-indent:8.5em}.sheet-title[_ngcontent-%COMP%]   .indent90[_ngcontent-%COMP%]{text-indent:9em}.sheet-title[_ngcontent-%COMP%]   .indent95[_ngcontent-%COMP%]{text-indent:9.5em}.sheet-title[_ngcontent-%COMP%]   .indent100[_ngcontent-%COMP%]{text-indent:10em}.sheet-title[_ngcontent-%COMP%]   .indent105[_ngcontent-%COMP%]{text-indent:10.5em}.sheet-title[_ngcontent-%COMP%]   .indent110[_ngcontent-%COMP%]{text-indent:11em}.sheet-title[_ngcontent-%COMP%]   .indent115[_ngcontent-%COMP%]{text-indent:11.5em}.sheet-title[_ngcontent-%COMP%]   .indent120[_ngcontent-%COMP%]{text-indent:12em}.sheet-title[_ngcontent-%COMP%]   .indent135[_ngcontent-%COMP%]{text-indent:13.5em}.sheet-title[_ngcontent-%COMP%]   .indent140[_ngcontent-%COMP%]{text-indent:14em}.sheet-title[_ngcontent-%COMP%]   .indent160[_ngcontent-%COMP%]{text-indent:16em}.sheet-title[_ngcontent-%COMP%]   .indent170[_ngcontent-%COMP%]{text-indent:17em}.sheet-title[_ngcontent-%COMP%]   .indent175[_ngcontent-%COMP%]{text-indent:17.5em}.sheet-title[_ngcontent-%COMP%]   .indent180[_ngcontent-%COMP%]{text-indent:18em}.sheet-title[_ngcontent-%COMP%]   .indent190[_ngcontent-%COMP%]{text-indent:19em}.sheet-title[_ngcontent-%COMP%]   .indent200[_ngcontent-%COMP%]{text-indent:20em}.sheet-title[_ngcontent-%COMP%]   .indent240[_ngcontent-%COMP%]{text-indent:24em}.sheet-title[_ngcontent-%COMP%]   .indent_title[_ngcontent-%COMP%]{text-align:center}.sheet-title[_ngcontent-%COMP%]   .textright[_ngcontent-%COMP%]{text-align:right}p.noword[_ngcontent-%COMP%]{margin-bottom:14pt}p.caption[_ngcontent-%COMP%]{text-align:center}div.noword[_ngcontent-%COMP%]{margin-bottom:14pt}div[_ngcontent-%COMP%]   .margin30[_ngcontent-%COMP%]{margin-left:3em}div[_ngcontent-%COMP%]   .margin50[_ngcontent-%COMP%]{margin-left:5em}div[_ngcontent-%COMP%]   .margin70[_ngcontent-%COMP%]{margin-left:7em}div[_ngcontent-%COMP%]   .margin110[_ngcontent-%COMP%]{margin-left:11em}div[_ngcontent-%COMP%]   .margin115[_ngcontent-%COMP%]{margin-left:11.5em}div[_ngcontent-%COMP%]   .margin130[_ngcontent-%COMP%]{margin-left:13em}table.title[_ngcontent-%COMP%]{text-align:center;border:1px solid black;font-size:12px;width:454px;table-layout:fixed}table.formula[_ngcontent-%COMP%]{text-align:center;font-size:12px;margin:0}table.formula[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{border-top:1px solid black}table.formula[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{border-bottom:1px solid black}.cell_title1[_ngcontent-%COMP%]{font-size:10pt;text-align:left;margin-top:14px}.cell_title2[_ngcontent-%COMP%]{font-size:10pt;text-align:right}.sheet-table[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:80px;padding-left:80px;padding-right:80px}table.main[_ngcontent-%COMP%]{font-size:10px;table-layout:fixed;margin:0}table.main[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.main[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;white-space:nowrap;margin:0}table.main[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:50px;height:12px;margin:0}table.main[_ngcontent-%COMP%]   .minwidth[_ngcontent-%COMP%]{min-width:100px}table.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:10px}table.main[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.main[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:10px}table.main[_ngcontent-%COMP%]   .cell_name1[_ngcontent-%COMP%]{table-layout:fixed;width:134px}table.main[_ngcontent-%COMP%]   .cell_name2[_ngcontent-%COMP%]{table-layout:fixed;width:65px}table.main[_ngcontent-%COMP%]   .cell_name3[_ngcontent-%COMP%]{table-layout:fixed;width:69px}table.main[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.main[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom3[_ngcontent-%COMP%]{border-bottom:0}table.main[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.center[_ngcontent-%COMP%]{text-align:center}.caption-top[_ngcontent-%COMP%]{caption-side:top;font-size:12px}table.spreadsheet[_ngcontent-%COMP%]{font-size:12px;table-layout:fixed;margin:0;border:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.spreadsheet[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:2px}table.spreadsheet[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.spreadsheet[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:2px}table.spreadsheet[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.sheet-title2[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title2[_ngcontent-%COMP%]   .pad05[_ngcontent-%COMP%]{padding-left:.5em}.sheet-title2[_ngcontent-%COMP%]   .pad10[_ngcontent-%COMP%]{padding-left:1em}.sheet-title2[_ngcontent-%COMP%]   .pad20[_ngcontent-%COMP%]{padding-left:2em}.sheet-title2[_ngcontent-%COMP%]   .pad30[_ngcontent-%COMP%]{padding-left:3em}.sheet-title2[_ngcontent-%COMP%]   .pad35[_ngcontent-%COMP%]{padding-left:3.5em}.sheet-title2[_ngcontent-%COMP%]   .pad40[_ngcontent-%COMP%]{padding-left:4em}.sheet-title2[_ngcontent-%COMP%]   .pad45[_ngcontent-%COMP%]{padding-left:4.5em}.sheet-title2[_ngcontent-%COMP%]   .pad50[_ngcontent-%COMP%]{padding-left:5em}.sheet-title2[_ngcontent-%COMP%]   .pad55[_ngcontent-%COMP%]{padding-left:5.5em}.sheet-title2[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title2[_ngcontent-%COMP%]   img.flow[_ngcontent-%COMP%]{width:60%;height:60%;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   img.flow2[_ngcontent-%COMP%]{width:600px;height:263px;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   div.flow-align[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:14px}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{vertical-align:top}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{vertical-align:middle}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]   .caption-top[_ngcontent-%COMP%]{caption-side:top}']}),t}();function mT(t,e){1&t&&(i.TgZ(0,"div",3),i.TgZ(1,"span",4),i._uU(2,"Loading..."),i.qZA(),i.qZA())}function _T(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title1.alien," minwidth g-top2 g-left2"),i.xp6(1),i.hij(" ",n.title1.value,"")}}function yT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title2.alien," g-left2"),i.xp6(1),i.hij(" ",n.title2.value,"")}}function bT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title3.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.title3.value,"")}}function xT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Ix.alien," g-left2"),i.xp6(1),i.hij(" ",n.Ix.value,"")}}function wT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.A.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.A.value,"")}}function kT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afgu.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afgu.value,"")}}function CT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afgl.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afgl.value,"")}}function MT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Aw.alien," g-left2"),i.xp6(1),i.hij(" ",n.Aw.value,"")}}function TT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Yu.alien," g-left2"),i.xp6(1),i.hij(" ",n.Yu.value,"")}}function ST(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Yl.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.Yl.value,"")}}function AT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function ET(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.t.alien," g-left2"),i.xp6(1),i.hij(" ",n.t.value,"")}}function PT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function IT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.sigma_max.alien," g-left2"),i.xp6(1),i.hij(" ",n.sigma_max.value,"")}}function OT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.sigma_min.alien," g-left2"),i.xp6(1),i.hij(" ",n.sigma_min.value,"")}}function RT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.delta_sigma_fud.alien," g-left2"),i.xp6(1),i.hij(" ",n.delta_sigma_fud.value,"")}}function LT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.delta_sigma_cod.alien," g-left2"),i.xp6(1),i.hij(" ",n.delta_sigma_cod.value,"")}}function DT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.CR.alien," g-left2"),i.xp6(1),i.hij(" ",n.CR.value,"")}}function NT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.CT.alien," g-left2"),i.xp6(1),i.hij(" ",n.CT.value,"")}}function ZT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.delta_sigma_cod.alien," g-left2"),i.xp6(1),i.hij(" ",n.delta_sigma_cod.value,"")}}function FT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_a.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_a.value,"")}}function UT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_i.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.gamma_i.value,"")}}function BT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ratio.alien," g-left2"),i.xp6(1),i.hij(" ",n.ratio.value,"")}}function zT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",21),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.result.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.result.value,"")}}function qT(t,e){if(1&t&&(i.TgZ(0,"div",7),i.TgZ(1,"div",8),i._uU(2),i.qZA(),i.TgZ(3,"div",9),i._uU(4),i.qZA(),i.TgZ(5,"table",10),i.TgZ(6,"tr"),i.TgZ(7,"th",11),i._uU(8,"\u90e8\u6750\u540d\u79f0"),i.qZA(),i.YNc(9,_T,3,4,"ng-container",12),i.qZA(),i.TgZ(10,"tr"),i.TgZ(11,"th",13),i._uU(12,"\u4f4d\u7f6e"),i.qZA(),i.YNc(13,yT,3,4,"ng-container",12),i.qZA(),i.TgZ(14,"tr"),i.TgZ(15,"th",14),i._uU(16,"\u65ad\u9762\u756a\u53f7"),i.qZA(),i.YNc(17,bT,3,4,"ng-container",12),i.qZA(),i.TgZ(18,"tr"),i.TgZ(19,"th",15),i._uU(20,"Ix"),i.qZA(),i.TgZ(21,"th",16),i._uU(22,"(mm"),i.TgZ(23,"sup"),i._uU(24,"2"),i.qZA(),i._uU(25,")"),i.qZA(),i.YNc(26,xT,3,4,"ng-container",12),i.qZA(),i.TgZ(27,"tr"),i.TgZ(28,"th",17),i._uU(29,"A"),i.qZA(),i.TgZ(30,"th",18),i._uU(31,"(mm"),i.TgZ(32,"sup"),i._uU(33,"2"),i.qZA(),i._uU(34,")"),i.qZA(),i.YNc(35,wT,3,4,"ng-container",12),i.qZA(),i.TgZ(36,"tr"),i.TgZ(37,"th",15),i._uU(38,"Afgu"),i.qZA(),i.TgZ(39,"th",16),i._uU(40,"(mm"),i.TgZ(41,"sup"),i._uU(42,"2"),i.qZA(),i._uU(43,")"),i.qZA(),i.YNc(44,kT,3,4,"ng-container",12),i.qZA(),i.TgZ(45,"tr"),i.TgZ(46,"th",15),i._uU(47,"Afgl"),i.qZA(),i.TgZ(48,"th",16),i._uU(49,"(mm"),i.TgZ(50,"sup"),i._uU(51,"2"),i.qZA(),i._uU(52,")"),i.qZA(),i.YNc(53,CT,3,4,"ng-container",12),i.qZA(),i.TgZ(54,"tr"),i.TgZ(55,"th",15),i._uU(56,"Aw"),i.qZA(),i.TgZ(57,"th",16),i._uU(58,"(mm"),i.TgZ(59,"sup"),i._uU(60,"2"),i.qZA(),i._uU(61,")"),i.qZA(),i.YNc(62,MT,3,4,"ng-container",12),i.qZA(),i.TgZ(63,"tr"),i.TgZ(64,"th",15),i._uU(65,"Yu"),i.qZA(),i.TgZ(66,"th",16),i._uU(67,"(mm)"),i.qZA(),i.YNc(68,TT,3,4,"ng-container",12),i.qZA(),i.TgZ(69,"tr"),i.TgZ(70,"th",17),i._uU(71,"Yl"),i.qZA(),i.TgZ(72,"th",18),i._uU(73,"(mm)"),i.qZA(),i.YNc(74,ST,3,4,"ng-container",12),i.qZA(),i.ynx(75),i.TgZ(76,"tr"),i.TgZ(77,"th",19),i._uU(78,"\u92fc\u90e8\u6750\u306e\u5bfe\u75b2\u52b4\u6027\u306e\u7167\u67fb"),i.qZA(),i.qZA(),i.TgZ(79,"tr"),i.TgZ(80,"th",13),i._uU(81,"\u7d99\u624b\u306e\u7a2e\u985e"),i.qZA(),i.YNc(82,AT,3,4,"ng-container",12),i.qZA(),i.TgZ(83,"tr"),i.TgZ(84,"th",15),i._uU(85,"t"),i.qZA(),i.TgZ(86,"th",16),i._uU(87,"(mm)"),i.qZA(),i.YNc(88,ET,3,4,"ng-container",12),i.qZA(),i.TgZ(89,"tr"),i.TgZ(90,"th",14),i._uU(91,"\u7167\u67fb\u3059\u308b\u5fdc\u529b\u30bf\u30a4\u30d7"),i.qZA(),i.YNc(92,PT,3,4,"ng-container",12),i.qZA(),i.BQk(),i.ynx(93),i.TgZ(94,"tr"),i.TgZ(95,"th",19),i._uU(96,"\u75b2\u52b4\u9650\u306b\u3088\u308b\u7167\u67fb"),i.qZA(),i.qZA(),i.TgZ(97,"tr"),i.TgZ(98,"th",15),i._uU(99,"\u03c3max,\u03c4max"),i.qZA(),i.TgZ(100,"th",16),i._uU(101,"(N/mm"),i.TgZ(102,"sup"),i._uU(103,"2"),i.qZA(),i._uU(104,")"),i.qZA(),i.YNc(105,IT,3,4,"ng-container",12),i.qZA(),i.TgZ(106,"tr"),i.TgZ(107,"th",15),i._uU(108,"\u03c3min,\u03c4min"),i.qZA(),i.TgZ(109,"th",16),i._uU(110,"(N/mm"),i.TgZ(111,"sup"),i._uU(112,"2"),i.qZA(),i._uU(113,")"),i.qZA(),i.YNc(114,OT,3,4,"ng-container",12),i.qZA(),i.TgZ(115,"tr"),i.TgZ(116,"th",15),i._uU(117,"\u22bf\u03c3fud,\u22bf\u03c4fud"),i.qZA(),i.TgZ(118,"th",16),i._uU(119,"(N/mm"),i.TgZ(120,"sup"),i._uU(121,"2"),i.qZA(),i._uU(122,")"),i.qZA(),i.YNc(123,RT,3,4,"ng-container",12),i.qZA(),i.TgZ(124,"tr"),i.TgZ(125,"th",15),i._uU(126,"\u22bf\u03c3cod,\u22bf\u03c4cod"),i.qZA(),i.TgZ(127,"th",16),i._uU(128,"(N/mm"),i.TgZ(129,"sup"),i._uU(130,"2"),i.qZA(),i._uU(131,")"),i.qZA(),i.YNc(132,LT,3,4,"ng-container",12),i.qZA(),i.TgZ(133,"tr"),i.TgZ(134,"th",13),i._uU(135,"CR"),i.qZA(),i.YNc(136,DT,3,4,"ng-container",12),i.qZA(),i.TgZ(137,"tr"),i.TgZ(138,"th",13),i._uU(139,"Ct"),i.qZA(),i.YNc(140,NT,3,4,"ng-container",12),i.qZA(),i.TgZ(141,"tr"),i.TgZ(142,"th",15),i._uU(143,"\u22bf\u03c3cod'"),i.qZA(),i.TgZ(144,"th",16),i._uU(145,"(N/mm"),i.TgZ(146,"sup"),i._uU(147,"2"),i.qZA(),i._uU(148,")"),i.qZA(),i.YNc(149,ZT,3,4,"ng-container",12),i.qZA(),i.TgZ(150,"tr"),i.TgZ(151,"th",13),i._uU(152,"\u03b3a"),i.qZA(),i.YNc(153,FT,3,4,"ng-container",12),i.qZA(),i.TgZ(154,"tr"),i.TgZ(155,"th",14),i._uU(156,"\u03b3i"),i.qZA(),i.YNc(157,UT,3,4,"ng-container",12),i.qZA(),i.TgZ(158,"tr"),i.TgZ(159,"th",20),i._uU(160,"\u75b2\u52b4\u9650\u306b\u3088\u308b\u7167\u67fb\u7d50\u679c( = (\u03b3i/1.1)"),i.TgZ(161,"sup"),i._uU(162,"2"),i.qZA(),i._uU(163,"\u30fb((Mxd/Muxd+Myd/Muyd)"),i.TgZ(164,"sup"),i._uU(165,"2"),i.qZA(),i._uU(166,"+(Vd/Vyd+Mtd/Mtud)"),i.TgZ(167,"sup"),i._uU(168,"2"),i.qZA(),i._uU(169,")"),i.qZA(),i.qZA(),i.TgZ(170,"tr"),i.TgZ(171,"th",13),i._uU(172,"\u7167\u67fb\u7d50\u679c"),i.qZA(),i.YNc(173,BT,3,4,"ng-container",12),i.qZA(),i.TgZ(174,"tr"),i.TgZ(175,"th",14),i._uU(176,"\u5224\u5b9a"),i.qZA(),i.YNc(177,zT,3,4,"ng-container",12),i.qZA(),i.BQk(),i.qZA(),i.qZA()),2&t){var n=e.$implicit,r=e.index;i.xp6(2),i.AsE("",n.caption," (\u305d\u306e",r+1,")"),i.xp6(2),i.hij("[",n.g_name,"]"),i.xp6(5),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(13),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(16),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns)}}function HT(t,e){if(1&t&&(i.TgZ(0,"div",5),i.YNc(1,qT,178,27,"div",6),i.qZA()),2&t){var n=i.oxw();i.s9C("id",n.page_index),i.xp6(1),i.Q6J("ngForOf",n.safetyFatigueShearForcepages)}}function GT(t,e){if(1&t&&(i.TgZ(0,"div",22),i.TgZ(1,"p"),i._uU(2),i.qZA(),i.qZA()),2&t){var n=i.oxw();i.xp6(2),i.Oqu(n.err)}}var VT=function(){var t=function(){function t(e,n,i,r,a,o){_classCallCheck(this,t),this.calc=e,this.result=n,this.helper=i,this.points=r,this.fatigue=a,this.summary=o,this.isLoading=!0,this.isFulfilled=!1,this.safetyFatigueShearForcepages=new Array,this.title="\u5b89\u5168\u6027\uff08\u75b2\u52b4\u7834\u58ca\uff09\u305b\u3093\u65ad\u529b\u306e\u7167\u67fb\u7d50\u679c",this.page_index="ap_4",this.isSRC=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.isLoading=!0,this.isFulfilled=!1,this.err="";var t=this.calc.getTrainCount();this.NA=t[0],this.NB=t[1];var e=this.calc.setInputData();if(null===e||e.length<1)return this.isLoading=!1,void this.summary.setSummaryTable("safetyFatigueShearForce");try{this.safetyFatigueShearForcepages=this.setSafetyFatiguePages(e),this.isFulfilled=!0,this.calc.isEnable=!0,this.summary.setSummaryTable("safetyFatigueShearForce",this.safetyFatigueShearForcepages)}catch(n){this.err=n.toString(),this.isFulfilled=!1,this.summary.setSummaryTable("safetyFatigueShearForce")}this.isLoading=!1}},{key:"setSafetyFatiguePages",value:function(t){for(var e,n=this,i=new Array,r=this.points.getGroupeList(),a=0;a<r.length;a++){var o=this.points.getGroupeName(a);e={caption:this.title,g_name:o,columns:new Array,SRCFlag:!1};var s,l=this.calc.getSafetyFactor(r[a][0].g_id),u=!1,c=_createForOfIteratorHelper(r[a]);try{for(c.s();!(s=c.n()).done;){var h,d=_createForOfIteratorHelper(s.value.positions);try{var f=function(){for(var r=h.value,a=n.fatigue.getCalcData(r.index),s=function(){var s=d[c],h=t.filter(function(t){return t.index===r.index&&t.side===s});if(void 0===h||h.length<1)return"continue";e.columns.length>4&&(e.SRCFlag=u,i.push(e),e={caption:n.title,g_name:o,columns:new Array,SRCFlag:!1},u=!1);var f=n.result.getSection("Vd",h[0],l),p=n.result.getTitleString(f.member,r,s),g=n.helper.getFck(l),v=n.calc.calcFatigue(h,f,g,l,a),m=n.getResultString(v);m.title1={alien:"center",value:p.title1},m.title2={alien:"center",value:p.title2},m.title3={alien:"center",value:p.title3},m.A=n.result.alien(f.steels.A),m.Ix=n.result.alien(Math.round(f.steels.Ix)),m.Afgu=n.result.alien(f.steels.dim.Afgu),m.Afgl=n.result.alien(f.steels.dim.Afgl),m.Aw=n.result.alien(f.steels.dim.Aw),m.Yu=n.result.alien(null),m.Yl=n.result.alien(null),m.t=n.result.alien(null),m.fsy=n.result.alien(null),m.rs=n.result.alien(null),m.fsd=n.result.alien(null),m.fsy_steel=n.result.alien(null),m.fsd_steel=n.result.alien(null),m.fsy_steel=n.result.alien(null),m.fsd_steel=n.result.alien(null),m.rs_steel=n.result.alien(null),m.fwyd3=n.result.alien(null),m.index=r.index,m.side_summary=s,e.columns.push(m)},c=0,d=["\u4e0a\u5074\u5f15\u5f35","\u4e0b\u5074\u5f15\u5f35"];c<d.length;c++)s()};for(d.s();!(h=d.n()).done;)f()}catch(y){d.e(y)}finally{d.f()}}}catch(y){c.e(y)}finally{c.f()}if(e.columns.length>0){for(var p=e.columns.length;p<5;p++){for(var g={},v=0,m=Object.keys(e.columns[0]);v<m.length;v++){var _=m[v];g[_]="index"===_||"side_summary"===_||"shape_summary"===_?null:"bendFlag"!==_&&"steelFlag"!==_&&"CFTFlag"!==_&&{alien:"center",value:"-"}}e.columns.push(g)}e.SRCFlag=u,i.push(e)}}return i}},{key:"getResultString",value:function(t){var e={empty:{alien:"center",value:"-"},Vpd:{alien:"center",value:"-"},Mpd:{alien:"center",value:"-"},Npd:{alien:"center",value:"-"},Vrd:{alien:"center",value:"-"},Mrd:{alien:"center",value:"-"},Nrd:{alien:"center",value:"-"},fvcd:{alien:"center",value:"-"},rbc:{alien:"center",value:"-"},Vcd:{alien:"center",value:"-"},kr:{alien:"center",value:"-"},sigma_max:{alien:"center",value:"-"},sigma_min:{alien:"center",value:"-"},tau_max:{alien:"center",value:"-"},tau_min:{alien:"center",value:"-"},sigma_Pmax:{alien:"center",value:"-"},sigma_Pmin:{alien:"center",value:"-"},gamma_a:{alien:"center",value:"-"},delta_sigma_fud:{alien:"center",value:"-"},delta_sigma_cod:{alien:"center",value:"-"},delta_sigma_cod2:{alien:"center",value:"-"},fai:{alien:"center",value:"-"},CR:{alien:"center",value:"-"},CT:{alien:"center",value:"-"},gamma_i:{alien:"center",value:"-"},ratio:{alien:"center",value:"-"},result:{alien:"center",value:"-"},ratio2:{alien:"center",value:"-"},result2:{alien:"center",value:"-"}};if(null===t)return e;"Vpd"in t&&(e.Vpd={alien:"right",value:(Math.round(10*t.Vpd)/10).toFixed(1)}),"Mpd"in t&&(e.Mpd={alien:"right",value:(Math.round(10*t.Mpd)/10).toFixed(1)}),"Npd"in t&&(e.Npd={alien:"right",value:(Math.round(10*t.Npd)/10).toFixed(1)}),"Vrd"in t&&(e.Vrd={alien:"right",value:(Math.round(10*t.Vrd)/10).toFixed(1)}),"Mrd"in t&&(e.Mrd={alien:"right",value:(Math.round(10*t.Mrd)/10).toFixed(1)}),"Nrd"in t&&(e.Nrd={alien:"right",value:(Math.round(10*t.Nrd)/10).toFixed(1)}),"fvcd"in t&&(e.fvcd={alien:"right",value:t.fvcd.toFixed(3)}),"rbc"in t&&(e.rbc={alien:"right",value:t.rbc.toFixed(2)}),"Vcd"in t&&(e.Vcd={alien:"right",value:t.Vcd.toFixed(1)}),"kr"in t&&(e.kr={alien:"right",value:t.kr.toFixed(1)}),"sigma_max"in t&&(e.sigma_max={alien:"right",value:t.sigma_max.toFixed(1)}),"sigma_min"in t&&(e.sigma_min={alien:"right",value:t.sigma_min.toFixed(1)}),"tau_max"in t&&(e.tau_max={alien:"right",value:t.tau_max.toFixed(1)}),"tau_min"in t&&(e.tau_min={alien:"right",value:t.tau_min.toFixed(1)}),"sigma_Pmax"in t&&(e.sigma_Pmax={alien:"right",value:t.sigma_Pmax.toFixed(1)}),"sigma_Pmin"in t&&(e.sigma_Pmin={alien:"right",value:t.sigma_Pmin.toFixed(1)}),"gamma_a"in t&&(e.gamma_a={alien:"right",value:t.gamma_a.toFixed(1)}),"delta_sigma_fud"in t&&(e.delta_sigma_fud={alien:"right",value:t.delta_sigma_fud.toFixed(1)}),"delta_sigma_cod"in t&&(e.delta_sigma_cod={alien:"right",value:t.delta_sigma_cod.toFixed(1)}),"delta_sigma_cod2"in t&&(e.delta_sigma_cod2={alien:"right",value:t.delta_sigma_cod2.toFixed(1)}),"fai"in t&&(e.fai={alien:"right",value:t.fai.toFixed(1)}),"CR"in t&&(e.CR={alien:"right",value:t.CR.toFixed(1)}),"CT"in t&&(e.CT={alien:"right",value:t.CT.toFixed(1)}),"gamma_i"in t&&(e.gamma_i={alien:"right",value:t.gamma_i.toFixed(1)});var n=0;return"ratio"in t&&(e.ratio.value=t.ratio.toFixed(3).toString()+(t.ratio<1?" < 1.00":" > 1.00"),n=t.ratio),e.result.value=n<1?"\u7701\u7565\u53ef\u80fd":"\u7701\u7565\u4e0d\u53ef",n=0,"ratio2"in t&&(e.ratio2.value=t.ratio2.toFixed(3).toString()+(t.ratio2<1?" < 1.00":" > 1.00"),n=t.ratio2),e.result2.value=n<1?"OK":"NG",e}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(uk),i.Y36(Mk),i.Y36(Qc),i.Y36($c),i.Y36(nh),i.Y36(Ib))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-result-safety-fatigue-shear-force"]],decls:3,vars:3,consts:[["class","spinner-border","style","width: 1rem; height: 1rem;","role","status",4,"ngIf"],[3,"id",4,"ngIf"],["class","sheet",4,"ngIf"],["role","status",1,"spinner-border",2,"width","1rem","height","1rem"],[1,"sr-only"],[3,"id"],["class","sheet-table",4,"ngFor","ngForOf"],[1,"sheet-table"],[1,"cell_title1"],[1,"cell_title2"],[1,"main"],["colspan","2",1,"cell_name1","g-top2"],[4,"ngFor","ngForOf"],["colspan","2",1,"cell_name1"],["colspan","2",1,"cell_name1","g-bottom2"],[1,"cell_name2"],[1,"cell_name3"],[1,"cell_name2","g-bottom2"],[1,"cell_name3","g-bottom2"],["colspan","12",1,"cell_name1","g-bottom2"],["colspan","12",1,"cell_name1","g-bottom2","left"],["colspan","2"],[1,"sheet"]],template:function(t,e){1&t&&(i.YNc(0,mT,3,0,"div",0),i.YNc(1,HT,2,2,"div",1),i.YNc(2,GT,3,1,"div",2)),2&t&&(i.Q6J("ngIf",e.isLoading),i.xp6(1),i.Q6J("ngIf",(null==e.safetyFatigueShearForcepages?null:e.safetyFatigueShearForcepages.length)>0),i.xp6(1),i.Q6J("ngIf",e.err.length>0))},directives:[O,P],styles:['@charset "UTF-8";.sticky[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;position:-webkit-sticky;position:sticky;top:100px;width:300px;margin-left:15px}#print_section[_ngcontent-%COMP%]{display:inline-block}.HtmlPage[_ngcontent-%COMP%]{font-family:"\\ff2d\\ff33  \\30b4\\30b7\\30c3\\30af",sans-serif;margin:0;padding:0;display:block}.sheet[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:83px;padding-left:113px;padding-right:113px}.sheet-title[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title[_ngcontent-%COMP%]   .indent15[_ngcontent-%COMP%]{text-indent:1.5em}.sheet-title[_ngcontent-%COMP%]   .indent20[_ngcontent-%COMP%]{text-indent:2em}.sheet-title[_ngcontent-%COMP%]   .indent25[_ngcontent-%COMP%]{text-indent:2.5em}.sheet-title[_ngcontent-%COMP%]   .indent30[_ngcontent-%COMP%]{text-indent:3em}.sheet-title[_ngcontent-%COMP%]   .indent40[_ngcontent-%COMP%]{text-indent:4em}.sheet-title[_ngcontent-%COMP%]   .indent45[_ngcontent-%COMP%]{text-indent:4.5em}.sheet-title[_ngcontent-%COMP%]   .indent50[_ngcontent-%COMP%]{text-indent:5em}.sheet-title[_ngcontent-%COMP%]   .indent55[_ngcontent-%COMP%]{text-indent:5.5em}.sheet-title[_ngcontent-%COMP%]   .indent60[_ngcontent-%COMP%]{text-indent:6em}.sheet-title[_ngcontent-%COMP%]   .indent65[_ngcontent-%COMP%]{text-indent:6.5em}.sheet-title[_ngcontent-%COMP%]   .indent70[_ngcontent-%COMP%]{text-indent:7em}.sheet-title[_ngcontent-%COMP%]   .indent75[_ngcontent-%COMP%]{text-indent:7.5em}.sheet-title[_ngcontent-%COMP%]   .indent80[_ngcontent-%COMP%]{text-indent:8em}.sheet-title[_ngcontent-%COMP%]   .indent85[_ngcontent-%COMP%]{text-indent:8.5em}.sheet-title[_ngcontent-%COMP%]   .indent90[_ngcontent-%COMP%]{text-indent:9em}.sheet-title[_ngcontent-%COMP%]   .indent95[_ngcontent-%COMP%]{text-indent:9.5em}.sheet-title[_ngcontent-%COMP%]   .indent100[_ngcontent-%COMP%]{text-indent:10em}.sheet-title[_ngcontent-%COMP%]   .indent105[_ngcontent-%COMP%]{text-indent:10.5em}.sheet-title[_ngcontent-%COMP%]   .indent110[_ngcontent-%COMP%]{text-indent:11em}.sheet-title[_ngcontent-%COMP%]   .indent115[_ngcontent-%COMP%]{text-indent:11.5em}.sheet-title[_ngcontent-%COMP%]   .indent120[_ngcontent-%COMP%]{text-indent:12em}.sheet-title[_ngcontent-%COMP%]   .indent135[_ngcontent-%COMP%]{text-indent:13.5em}.sheet-title[_ngcontent-%COMP%]   .indent140[_ngcontent-%COMP%]{text-indent:14em}.sheet-title[_ngcontent-%COMP%]   .indent160[_ngcontent-%COMP%]{text-indent:16em}.sheet-title[_ngcontent-%COMP%]   .indent170[_ngcontent-%COMP%]{text-indent:17em}.sheet-title[_ngcontent-%COMP%]   .indent175[_ngcontent-%COMP%]{text-indent:17.5em}.sheet-title[_ngcontent-%COMP%]   .indent180[_ngcontent-%COMP%]{text-indent:18em}.sheet-title[_ngcontent-%COMP%]   .indent190[_ngcontent-%COMP%]{text-indent:19em}.sheet-title[_ngcontent-%COMP%]   .indent200[_ngcontent-%COMP%]{text-indent:20em}.sheet-title[_ngcontent-%COMP%]   .indent240[_ngcontent-%COMP%]{text-indent:24em}.sheet-title[_ngcontent-%COMP%]   .indent_title[_ngcontent-%COMP%]{text-align:center}.sheet-title[_ngcontent-%COMP%]   .textright[_ngcontent-%COMP%]{text-align:right}p.noword[_ngcontent-%COMP%]{margin-bottom:14pt}p.caption[_ngcontent-%COMP%]{text-align:center}div.noword[_ngcontent-%COMP%]{margin-bottom:14pt}div[_ngcontent-%COMP%]   .margin30[_ngcontent-%COMP%]{margin-left:3em}div[_ngcontent-%COMP%]   .margin50[_ngcontent-%COMP%]{margin-left:5em}div[_ngcontent-%COMP%]   .margin70[_ngcontent-%COMP%]{margin-left:7em}div[_ngcontent-%COMP%]   .margin110[_ngcontent-%COMP%]{margin-left:11em}div[_ngcontent-%COMP%]   .margin115[_ngcontent-%COMP%]{margin-left:11.5em}div[_ngcontent-%COMP%]   .margin130[_ngcontent-%COMP%]{margin-left:13em}table.title[_ngcontent-%COMP%]{text-align:center;border:1px solid black;font-size:12px;width:454px;table-layout:fixed}table.formula[_ngcontent-%COMP%]{text-align:center;font-size:12px;margin:0}table.formula[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{border-top:1px solid black}table.formula[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{border-bottom:1px solid black}.cell_title1[_ngcontent-%COMP%]{font-size:10pt;text-align:left;margin-top:14px}.cell_title2[_ngcontent-%COMP%]{font-size:10pt;text-align:right}.sheet-table[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:80px;padding-left:80px;padding-right:80px}table.main[_ngcontent-%COMP%]{font-size:10px;table-layout:fixed;margin:0}table.main[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.main[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;white-space:nowrap;margin:0}table.main[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:50px;height:12px;margin:0}table.main[_ngcontent-%COMP%]   .minwidth[_ngcontent-%COMP%]{min-width:100px}table.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:10px}table.main[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.main[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:10px}table.main[_ngcontent-%COMP%]   .cell_name1[_ngcontent-%COMP%]{table-layout:fixed;width:134px}table.main[_ngcontent-%COMP%]   .cell_name2[_ngcontent-%COMP%]{table-layout:fixed;width:65px}table.main[_ngcontent-%COMP%]   .cell_name3[_ngcontent-%COMP%]{table-layout:fixed;width:69px}table.main[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.main[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom3[_ngcontent-%COMP%]{border-bottom:0}table.main[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.center[_ngcontent-%COMP%]{text-align:center}.caption-top[_ngcontent-%COMP%]{caption-side:top;font-size:12px}table.spreadsheet[_ngcontent-%COMP%]{font-size:12px;table-layout:fixed;margin:0;border:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.spreadsheet[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:2px}table.spreadsheet[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.spreadsheet[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:2px}table.spreadsheet[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.sheet-title2[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title2[_ngcontent-%COMP%]   .pad05[_ngcontent-%COMP%]{padding-left:.5em}.sheet-title2[_ngcontent-%COMP%]   .pad10[_ngcontent-%COMP%]{padding-left:1em}.sheet-title2[_ngcontent-%COMP%]   .pad20[_ngcontent-%COMP%]{padding-left:2em}.sheet-title2[_ngcontent-%COMP%]   .pad30[_ngcontent-%COMP%]{padding-left:3em}.sheet-title2[_ngcontent-%COMP%]   .pad35[_ngcontent-%COMP%]{padding-left:3.5em}.sheet-title2[_ngcontent-%COMP%]   .pad40[_ngcontent-%COMP%]{padding-left:4em}.sheet-title2[_ngcontent-%COMP%]   .pad45[_ngcontent-%COMP%]{padding-left:4.5em}.sheet-title2[_ngcontent-%COMP%]   .pad50[_ngcontent-%COMP%]{padding-left:5em}.sheet-title2[_ngcontent-%COMP%]   .pad55[_ngcontent-%COMP%]{padding-left:5.5em}.sheet-title2[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title2[_ngcontent-%COMP%]   img.flow[_ngcontent-%COMP%]{width:60%;height:60%;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   img.flow2[_ngcontent-%COMP%]{width:600px;height:263px;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   div.flow-align[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:14px}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{vertical-align:top}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{vertical-align:middle}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]   .caption-top[_ngcontent-%COMP%]{caption-side:top}']}),t}();function WT(t,e){1&t&&(i.TgZ(0,"div",3),i.TgZ(1,"span",4),i._uU(2,"Loading..."),i.qZA(),i.qZA())}function jT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title1.alien," minwidth g-top2 g-left2"),i.xp6(1),i.hij(" ",n.title1.value,"")}}function YT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title2.alien," g-left2"),i.xp6(1),i.hij(" ",n.title2.value,"")}}function QT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title3.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.title3.value,"")}}function JT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Ix.alien," g-left2"),i.xp6(1),i.hij(" ",n.Ix.value,"")}}function XT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Iy.alien," g-left2"),i.xp6(1),i.hij(" ",n.Iy.value,"")}}function $T(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.A.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.A.value,"")}}function KT(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afgu.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afgu.value,"")}}function tS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afnu.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afnu.value,"")}}function eS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afgl.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afgl.value,"")}}function nS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Afnl.alien," g-left2"),i.xp6(1),i.hij(" ",n.Afnl.value,"")}}function iS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Aw.alien," g-left2"),i.xp6(1),i.hij(" ",n.Aw.value,"")}}function rS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Yu.alien," g-left2"),i.xp6(1),i.hij(" ",n.Yu.value,"")}}function aS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Yl.alien," g-left2"),i.xp6(1),i.hij(" ",n.Yl.value,"")}}function oS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Xr.alien," g-left2"),i.xp6(1),i.hij(" ",n.Xr.value,"")}}function sS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Xl.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.Xl.value,"")}}function lS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function uS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_tension.value,"")}}function cS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bto_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bto_tension.value,"")}}function hS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_bto_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_bto_tension.value,"")}}function dS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_tension.value,"")}}function fS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_tension.value,"")}}function pS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ko_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.ko_tension.value,"")}}function gS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_tension.value,"")}}function vS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_tension.value,"")}}function mS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_ratio_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_ratio_tension.value,"")}}function _S(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_chi_ratio_tension.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.bt_chi_ratio_tension.value,"")}}function yS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function bS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function xS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_both_tension.value,"")}}function wS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bto_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bto_both_tension.value,"")}}function kS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_bto_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_bto_both_tension.value,"")}}function CS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_both_tension.value,"")}}function MS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_both_tension.value,"")}}function TS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ko_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.ko_both_tension.value,"")}}function SS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_both_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_both_tension.value,"")}}function AS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_tension.value,"")}}function ES(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_both_ratio_tension.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_both_ratio_tension.value,"")}}function PS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_chi_both_ratio_tension.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.bt_chi_both_ratio_tension.value,"")}}function IS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function OS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.dt_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.dt_shear.value,"")}}function RS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.dto_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.dto_shear.value,"")}}function LS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_dto_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_dto_shear.value,"")}}function DS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_shear.value,"")}}function NS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_shear.value,"")}}function ZS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.kb_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.kb_shear.value,"")}}function FS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_shear.value,"")}}function US(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.dt_ratio_shear.alien," g-left2"),i.xp6(1),i.hij(" ",n.dt_ratio_shear.value,"")}}function BS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.dt_chi_ratio_shear.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.dt_chi_ratio_shear.value,"")}}function zS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title1.alien," minwidth g-top2 g-left2"),i.xp6(1),i.hij(" ",n.title1.value,"")}}function qS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title2.alien," g-left2"),i.xp6(1),i.hij(" ",n.title2.value,"")}}function HS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title3.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.title3.value,"")}}function GS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Ix.alien," g-left2"),i.xp6(1),i.hij(" ",n.Ix.value,"")}}function VS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Iy.alien," g-left2"),i.xp6(1),i.hij(" ",n.Iy.value,"")}}function WS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.A.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.A.value,"")}}function jS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function YS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_compress.value,"")}}function QS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bto_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bto_compress.value,"")}}function JS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_bto_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_bto_compress.value,"")}}function XS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_compress.value,"")}}function $S(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_compress.value,"")}}function KS(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ko_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.ko_compress.value,"")}}function tA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_compress.value,"")}}function eA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_compress.value,"")}}function nA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_ratio_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_ratio_compress.value,"")}}function iA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_chi_ratio_compress.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.bt_chi_ratio_compress.value,"")}}function rA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function aA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function oA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_both_compress.value,"")}}function sA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bto_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bto_both_compress.value,"")}}function lA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_bto_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_bto_both_compress.value,"")}}function uA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.chi_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.chi_both_compress.value,"")}}function cA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Rcr_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.Rcr_both_compress.value,"")}}function hA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ko_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.ko_both_compress.value,"")}}function dA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_both_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_both_compress.value,"")}}function fA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.fsyk_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.fsyk_compress.value,"")}}function pA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_both_ratio_compress.alien," g-left2"),i.xp6(1),i.hij(" ",n.bt_both_ratio_compress.value,"")}}function gA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bt_chi_both_ratio_compress.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.bt_chi_both_ratio_compress.value,"")}}function vA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function mA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bsts.alien," g-left2"),i.xp6(1),i.hij(" ",n.bsts.value,"")}}function _A(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Is.alien," g-left2"),i.xp6(1),i.hij(" ",n.Is.value,"")}}function yA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bstso.alien," g-left2"),i.xp6(1),i.hij(" ",n.bstso.value,"")}}function bA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.I.alien," g-left2"),i.xp6(1),i.hij(" ",n.I.value,"")}}function xA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bsts_ratio.alien," g-left2"),i.xp6(1),i.hij(" ",n.bsts_ratio.value,"")}}function wA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Is_I_ratio.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.Is_I_ratio.value,"")}}function kA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.empty.alien," g-left2"),i.xp6(1),i.hij(" ",n.empty.value,"")}}function CA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bsts.alien," g-left2"),i.xp6(1),i.hij(" ",n.bsts.value,"")}}function MA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Is.alien," g-left2"),i.xp6(1),i.hij(" ",n.Is.value,"")}}function TA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bstso.alien," g-left2"),i.xp6(1),i.hij(" ",n.bstso.value,"")}}function SA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.I.alien," g-left2"),i.xp6(1),i.hij(" ",n.I.value,"")}}function AA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.bsts_ratio.alien," g-left2"),i.xp6(1),i.hij(" ",n.bsts_ratio.value,"")}}function EA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Is_I_ratio.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.Is_I_ratio.value,"")}}function PA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title1.alien," minwidth g-top2 g-left2"),i.xp6(1),i.hij(" ",n.title1.value,"")}}function IA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title2.alien," g-left2"),i.xp6(1),i.hij(" ",n.title2.value,"")}}function OA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title3.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.title3.value,"")}}function RA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Ix.alien," g-left2"),i.xp6(1),i.hij(" ",n.Ix.value,"")}}function LA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Iy.alien," g-left2"),i.xp6(1),i.hij(" ",n.Iy.value,"")}}function DA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.A.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.A.value,"")}}function NA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mxd.value,"")}}function ZA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Myd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Myd.value,"")}}function FA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Nd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Nd.value,"")}}function UA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mucxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mucxd.value,"")}}function BA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mutxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mutxd.value,"")}}function zA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mucyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mucyd.value,"")}}function qA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mutyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mutyd.value,"")}}function HA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Nud.alien," g-left2"),i.xp6(1),i.hij(" ",n.Nud.value,"")}}function GA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.An.alien," g-left2"),i.xp6(1),i.hij(" ",n.An.value,"")}}function VA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bg_culc.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bg_culc.value,"")}}function WA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.lambda_e.alien," g-left2"),i.xp6(1),i.hij(" ",n.lambda_e.value,"")}}function jA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.rho_bl_culc.alien," g-left2"),i.xp6(1),i.hij(" ",n.rho_bl_culc.value,"")}}function YA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b1.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b1.value,"")}}function QA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b2.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b2.value,"")}}function JA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_i.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.gamma_i.value,"")}}function XA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ratio_M_compress.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.ratio_M_compress.value,"")}}function $A(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ratio_M_tension.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.ratio_M_tension.value,"")}}function KA(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Vd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Vd.value,"")}}function tE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mtd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mtd.value,"")}}function eE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Vyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Vyd.value,"")}}function nE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mtuzd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mtuzd.value,"")}}function iE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Aw.alien," g-left2"),i.xp6(1),i.hij(" ",n.Aw.value,"")}}function rE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.At.alien," g-left2"),i.xp6(1),i.hij(" ",n.At.value,"")}}function aE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b1.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b1.value,"")}}function oE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_i.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.gamma_i.value,"")}}function sE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ratio_VT_web.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.ratio_VT_web.value,"")}}function lE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title1.alien," minwidth g-top2 g-left2"),i.xp6(1),i.hij(" ",n.title1.value,"")}}function uE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title2.alien," g-left2"),i.xp6(1),i.hij(" ",n.title2.value,"")}}function cE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.title3.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.title3.value,"")}}function hE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Ix.alien," g-left2"),i.xp6(1),i.hij(" ",n.Ix.value,"")}}function dE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Iy.alien," g-left2"),i.xp6(1),i.hij(" ",n.Iy.value,"")}}function fE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.A.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.A.value,"")}}function pE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mxd.value,"")}}function gE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Myd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Myd.value,"")}}function vE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Nd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Nd.value,"")}}function mE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Vd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Vd.value,"")}}function _E(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mtd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mtd.value,"")}}function yE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mucxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mucxd.value,"")}}function bE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mutxd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mutxd.value,"")}}function xE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mucyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mucyd.value,"")}}function wE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mutyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mutyd.value,"")}}function kE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Nud.alien," g-left2"),i.xp6(1),i.hij(" ",n.Nud.value,"")}}function CE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Vyd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Vyd.value,"")}}function ME(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Mtuzd.alien," g-left2"),i.xp6(1),i.hij(" ",n.Mtuzd.value,"")}}function TE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.An.alien," g-left2"),i.xp6(1),i.hij(" ",n.An.value,"")}}function SE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.Aw.alien," g-left2"),i.xp6(1),i.hij(" ",n.Aw.value,"")}}function AE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.At.alien," g-left2"),i.xp6(1),i.hij(" ",n.At.value,"")}}function EE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b1.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b1.value,"")}}function PE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_b2.alien," g-left2"),i.xp6(1),i.hij(" ",n.gamma_b2.value,"")}}function IE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.gamma_i.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.gamma_i.value,"")}}function OE(t,e){if(1&t&&(i.ynx(0),i.TgZ(1,"td",20),i._uU(2),i.qZA(),i.BQk()),2&t){var n=e.$implicit;i.xp6(1),i.Gre("",n.ratio_MV_tension_l.alien," g-bottom2 g-left2"),i.xp6(1),i.hij(" ",n.ratio_MV_tension_l.value,"")}}function RE(t,e){if(1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",7),i.TgZ(2,"div",8),i._uU(3),i.qZA(),i.TgZ(4,"div",9),i._uU(5),i.qZA(),i.TgZ(6,"table",10),i.TgZ(7,"tr"),i.TgZ(8,"th",11),i._uU(9,"\u90e8\u6750\u540d\u79f0"),i.qZA(),i.YNc(10,jT,3,4,"ng-container",6),i.qZA(),i.TgZ(11,"tr"),i.TgZ(12,"th",12),i._uU(13,"\u4f4d\u7f6e"),i.qZA(),i.YNc(14,YT,3,4,"ng-container",6),i.qZA(),i.TgZ(15,"tr"),i.TgZ(16,"th",13),i._uU(17,"\u65ad\u9762\u756a\u53f7"),i.qZA(),i.YNc(18,QT,3,4,"ng-container",6),i.qZA(),i.TgZ(19,"tr"),i.TgZ(20,"th",14),i._uU(21,"Ix"),i.qZA(),i.TgZ(22,"th",15),i._uU(23,"(mm"),i.TgZ(24,"sup"),i._uU(25,"2"),i.qZA(),i._uU(26,")"),i.qZA(),i.YNc(27,JT,3,4,"ng-container",6),i.qZA(),i.TgZ(28,"tr"),i.TgZ(29,"th",14),i._uU(30,"Iy"),i.qZA(),i.TgZ(31,"th",15),i._uU(32,"(mm"),i.TgZ(33,"sup"),i._uU(34,"2"),i.qZA(),i._uU(35,")"),i.qZA(),i.YNc(36,XT,3,4,"ng-container",6),i.qZA(),i.TgZ(37,"tr"),i.TgZ(38,"th",16),i._uU(39,"A"),i.qZA(),i.TgZ(40,"th",17),i._uU(41,"(mm"),i.TgZ(42,"sup"),i._uU(43,"2"),i.qZA(),i._uU(44,")"),i.qZA(),i.YNc(45,$T,3,4,"ng-container",6),i.qZA(),i.ynx(46),i.TgZ(47,"tr"),i.TgZ(48,"th",14),i._uU(49,"Afgu"),i.qZA(),i.TgZ(50,"th",15),i._uU(51,"(mm"),i.TgZ(52,"sup"),i._uU(53,"2"),i.qZA(),i._uU(54,")"),i.qZA(),i.YNc(55,KT,3,4,"ng-container",6),i.qZA(),i.TgZ(56,"tr"),i.TgZ(57,"th",14),i._uU(58,"Afnu"),i.qZA(),i.TgZ(59,"th",15),i._uU(60,"(mm"),i.TgZ(61,"sup"),i._uU(62,"2"),i.qZA(),i._uU(63,")"),i.qZA(),i.YNc(64,tS,3,4,"ng-container",6),i.qZA(),i.TgZ(65,"tr"),i.TgZ(66,"th",14),i._uU(67,"Afgl"),i.qZA(),i.TgZ(68,"th",15),i._uU(69,"(mm"),i.TgZ(70,"sup"),i._uU(71,"2"),i.qZA(),i._uU(72,")"),i.qZA(),i.YNc(73,eS,3,4,"ng-container",6),i.qZA(),i.TgZ(74,"tr"),i.TgZ(75,"th",14),i._uU(76,"Afnl"),i.qZA(),i.TgZ(77,"th",15),i._uU(78,"(mm"),i.TgZ(79,"sup"),i._uU(80,"2"),i.qZA(),i._uU(81,")"),i.qZA(),i.YNc(82,nS,3,4,"ng-container",6),i.qZA(),i.TgZ(83,"tr"),i.TgZ(84,"th",14),i._uU(85,"Aw"),i.qZA(),i.TgZ(86,"th",15),i._uU(87,"(mm"),i.TgZ(88,"sup"),i._uU(89,"2"),i.qZA(),i._uU(90,")"),i.qZA(),i.YNc(91,iS,3,4,"ng-container",6),i.qZA(),i.TgZ(92,"tr"),i.TgZ(93,"th",14),i._uU(94,"Yu"),i.qZA(),i.TgZ(95,"th",15),i._uU(96,"(mm)"),i.qZA(),i.YNc(97,rS,3,4,"ng-container",6),i.qZA(),i.TgZ(98,"tr"),i.TgZ(99,"th",14),i._uU(100,"Yl"),i.qZA(),i.TgZ(101,"th",15),i._uU(102,"(mm)"),i.qZA(),i.YNc(103,aS,3,4,"ng-container",6),i.qZA(),i.TgZ(104,"tr"),i.TgZ(105,"th",14),i._uU(106,"Xr"),i.qZA(),i.TgZ(107,"th",15),i._uU(108,"(mm)"),i.qZA(),i.YNc(109,oS,3,4,"ng-container",6),i.qZA(),i.TgZ(110,"tr"),i.TgZ(111,"th",16),i._uU(112,"Xl"),i.qZA(),i.TgZ(113,"th",17),i._uU(114,"(mm)"),i.qZA(),i.YNc(115,sS,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(116),i.TgZ(117,"tr"),i.TgZ(118,"th",18),i._uU(119,"\u5f15\u5f35\u30d5\u30e9\u30f3\u30b8\uff08\u7247\u7e01\u652f\u6301\u7248\uff09"),i.qZA(),i.qZA(),i.TgZ(120,"tr"),i.TgZ(121,"th",12),i._uU(122,"\u8ef8\u5f15\u5f35\u529b\u3092\u53d7\u3051\u308b\u8981\u7d20"),i.qZA(),i.YNc(123,lS,3,4,"ng-container",6),i.qZA(),i.TgZ(124,"tr"),i.TgZ(125,"th",12),i._uU(126,"(b/t)"),i.qZA(),i.YNc(127,uS,3,4,"ng-container",6),i.qZA(),i.TgZ(128,"tr"),i.TgZ(129,"th",12),i._uU(130,"(b/t)o"),i.qZA(),i.YNc(131,cS,3,4,"ng-container",6),i.qZA(),i.TgZ(132,"tr"),i.TgZ(133,"th",12),i._uU(134,"\u03c7wt(b/t)o"),i.qZA(),i.YNc(135,hS,3,4,"ng-container",6),i.qZA(),i.TgZ(136,"tr"),i.TgZ(137,"th",12),i._uU(138,"\u03c7wt"),i.qZA(),i.YNc(139,dS,3,4,"ng-container",6),i.qZA(),i.TgZ(140,"tr"),i.TgZ(141,"th",12),i._uU(142,"Rcr"),i.qZA(),i.YNc(143,fS,3,4,"ng-container",6),i.qZA(),i.TgZ(144,"tr"),i.TgZ(145,"th",12),i._uU(146,"ko"),i.qZA(),i.YNc(147,pS,3,4,"ng-container",6),i.qZA(),i.TgZ(148,"tr"),i.TgZ(149,"th",12),i._uU(150,"\u03c1bl"),i.qZA(),i.YNc(151,gS,3,4,"ng-container",6),i.qZA(),i.TgZ(152,"tr"),i.TgZ(153,"th",14),i._uU(154,"fsyk"),i.qZA(),i.TgZ(155,"th",15),i._uU(156,"(N/mm"),i.TgZ(157,"sup"),i._uU(158,"2"),i.qZA(),i._uU(159,")"),i.qZA(),i.YNc(160,vS,3,4,"ng-container",6),i.qZA(),i.TgZ(161,"tr"),i.TgZ(162,"th",12),i._uU(163,"(b/t)\u2266(b/t)o"),i.qZA(),i.YNc(164,mS,3,4,"ng-container",6),i.qZA(),i.TgZ(165,"tr"),i.TgZ(166,"th",13),i._uU(167,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(168,_S,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(169),i.TgZ(170,"tr"),i.TgZ(171,"th",18),i._uU(172,"\u5f15\u5f35\u30d5\u30e9\u30f3\u30b8\uff08\u4e21\u7e01\u652f\u6301\u7248or\u88dc\u525b\u677f\uff09"),i.qZA(),i.qZA(),i.TgZ(173,"tr"),i.TgZ(174,"th",12),i._uU(175,"\u8ef8\u5f15\u5f35\u529b\u3092\u53d7\u3051\u308b\u8981\u7d20"),i.qZA(),i.YNc(176,yS,3,4,"ng-container",6),i.qZA(),i.TgZ(177,"tr"),i.TgZ(178,"th",12),i._uU(179,"\u677f\u8981\u7d20\u306e\u652f\u6301\u306e\u72b6\u614b"),i.qZA(),i.YNc(180,bS,3,4,"ng-container",6),i.qZA(),i.TgZ(181,"tr"),i.TgZ(182,"th",12),i._uU(183,"(b/t)"),i.qZA(),i.YNc(184,xS,3,4,"ng-container",6),i.qZA(),i.TgZ(185,"tr"),i.TgZ(186,"th",12),i._uU(187,"(b/t)o"),i.qZA(),i.YNc(188,wS,3,4,"ng-container",6),i.qZA(),i.TgZ(189,"tr"),i.TgZ(190,"th",12),i._uU(191,"\u03c7wt(b/t)o"),i.qZA(),i.YNc(192,kS,3,4,"ng-container",6),i.qZA(),i.TgZ(193,"tr"),i.TgZ(194,"th",12),i._uU(195,"\u03c7wt"),i.qZA(),i.YNc(196,CS,3,4,"ng-container",6),i.qZA(),i.TgZ(197,"tr"),i.TgZ(198,"th",12),i._uU(199,"Rcr"),i.qZA(),i.YNc(200,MS,3,4,"ng-container",6),i.qZA(),i.TgZ(201,"tr"),i.TgZ(202,"th",12),i._uU(203,"ko"),i.qZA(),i.YNc(204,TS,3,4,"ng-container",6),i.qZA(),i.TgZ(205,"tr"),i.TgZ(206,"th",12),i._uU(207,"\u03c1bl"),i.qZA(),i.YNc(208,SS,3,4,"ng-container",6),i.qZA(),i.TgZ(209,"tr"),i.TgZ(210,"th",14),i._uU(211,"fsyk"),i.qZA(),i.TgZ(212,"th",15),i._uU(213,"(N/mm"),i.TgZ(214,"sup"),i._uU(215,"2"),i.qZA(),i._uU(216,")"),i.qZA(),i.YNc(217,AS,3,4,"ng-container",6),i.qZA(),i.TgZ(218,"tr"),i.TgZ(219,"th",12),i._uU(220,"(b/t)\u2266(b/t)o"),i.qZA(),i.YNc(221,ES,3,4,"ng-container",6),i.qZA(),i.TgZ(222,"tr"),i.TgZ(223,"th",13),i._uU(224,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(225,PS,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(226),i.TgZ(227,"tr"),i.TgZ(228,"th",18),i._uU(229,"\u8179\u677f\uff08\u4e21\u7e01\u652f\u6301\u7248or\u88dc\u525b\u677f\uff09"),i.qZA(),i.qZA(),i.TgZ(230,"tr"),i.TgZ(231,"th",12),i._uU(232,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(233,IS,3,4,"ng-container",6),i.qZA(),i.TgZ(234,"tr"),i.TgZ(235,"th",12),i._uU(236,"(Dw/tw)"),i.qZA(),i.YNc(237,OS,3,4,"ng-container",6),i.qZA(),i.TgZ(238,"tr"),i.TgZ(239,"th",12),i._uU(240,"(Dw/tw)o"),i.qZA(),i.YNc(241,RS,3,4,"ng-container",6),i.qZA(),i.TgZ(242,"tr"),i.TgZ(243,"th",12),i._uU(244,"\u03c7wt(Dw/tw)o"),i.qZA(),i.YNc(245,LS,3,4,"ng-container",6),i.qZA(),i.TgZ(246,"tr"),i.TgZ(247,"th",12),i._uU(248,"\u03c7wt"),i.qZA(),i.YNc(249,DS,3,4,"ng-container",6),i.qZA(),i.TgZ(250,"tr"),i.TgZ(251,"th",12),i._uU(252,"Rcr"),i.qZA(),i.YNc(253,NS,3,4,"ng-container",6),i.qZA(),i.TgZ(254,"tr"),i.TgZ(255,"th",12),i._uU(256,"kb"),i.qZA(),i.YNc(257,ZS,3,4,"ng-container",6),i.qZA(),i.TgZ(258,"tr"),i.TgZ(259,"th",14),i._uU(260,"fsyk"),i.qZA(),i.TgZ(261,"th",15),i._uU(262,"(N/mm"),i.TgZ(263,"sup"),i._uU(264,"2"),i.qZA(),i._uU(265,")"),i.qZA(),i.YNc(266,FS,3,4,"ng-container",6),i.qZA(),i.TgZ(267,"tr"),i.TgZ(268,"th",12),i._uU(269,"(Dw/tw)\u2266(Dw/tw)o"),i.qZA(),i.YNc(270,US,3,4,"ng-container",6),i.qZA(),i.TgZ(271,"tr"),i.TgZ(272,"th",13),i._uU(273,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(274,BS,3,4,"ng-container",6),i.qZA(),i.BQk(),i.qZA(),i.qZA(),i.TgZ(275,"div",7),i.TgZ(276,"div",8),i._uU(277),i.qZA(),i.TgZ(278,"div",9),i._uU(279),i.qZA(),i.TgZ(280,"table",10),i.TgZ(281,"tr"),i.TgZ(282,"th",11),i._uU(283,"\u90e8\u6750\u540d\u79f0"),i.qZA(),i.YNc(284,zS,3,4,"ng-container",6),i.qZA(),i.TgZ(285,"tr"),i.TgZ(286,"th",12),i._uU(287,"\u4f4d\u7f6e"),i.qZA(),i.YNc(288,qS,3,4,"ng-container",6),i.qZA(),i.TgZ(289,"tr"),i.TgZ(290,"th",13),i._uU(291,"\u65ad\u9762\u756a\u53f7"),i.qZA(),i.YNc(292,HS,3,4,"ng-container",6),i.qZA(),i.TgZ(293,"tr"),i.TgZ(294,"th",14),i._uU(295,"Ix"),i.qZA(),i.TgZ(296,"th",15),i._uU(297,"(mm"),i.TgZ(298,"sup"),i._uU(299,"2"),i.qZA(),i._uU(300,")"),i.qZA(),i.YNc(301,GS,3,4,"ng-container",6),i.qZA(),i.TgZ(302,"tr"),i.TgZ(303,"th",14),i._uU(304,"Iy"),i.qZA(),i.TgZ(305,"th",15),i._uU(306,"(mm"),i.TgZ(307,"sup"),i._uU(308,"2"),i.qZA(),i._uU(309,")"),i.qZA(),i.YNc(310,VS,3,4,"ng-container",6),i.qZA(),i.TgZ(311,"tr"),i.TgZ(312,"th",16),i._uU(313,"A"),i.qZA(),i.TgZ(314,"th",17),i._uU(315,"(mm"),i.TgZ(316,"sup"),i._uU(317,"2"),i.qZA(),i._uU(318,")"),i.qZA(),i.YNc(319,WS,3,4,"ng-container",6),i.qZA(),i.ynx(320),i.TgZ(321,"tr"),i.TgZ(322,"th",18),i._uU(323,"\u5727\u7e2e\u30d5\u30e9\u30f3\u30b8\uff08\u7247\u7e01\u652f\u6301\u7248\uff09"),i.qZA(),i.qZA(),i.TgZ(324,"tr"),i.TgZ(325,"th",12),i._uU(326,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(327,jS,3,4,"ng-container",6),i.qZA(),i.TgZ(328,"tr"),i.TgZ(329,"th",12),i._uU(330,"(b/t)"),i.qZA(),i.YNc(331,YS,3,4,"ng-container",6),i.qZA(),i.TgZ(332,"tr"),i.TgZ(333,"th",12),i._uU(334,"(b/t)o"),i.qZA(),i.YNc(335,QS,3,4,"ng-container",6),i.qZA(),i.TgZ(336,"tr"),i.TgZ(337,"th",12),i._uU(338,"\u03c7wt(b/t)o"),i.qZA(),i.YNc(339,JS,3,4,"ng-container",6),i.qZA(),i.TgZ(340,"tr"),i.TgZ(341,"th",12),i._uU(342,"\u03c7wt"),i.qZA(),i.YNc(343,XS,3,4,"ng-container",6),i.qZA(),i.TgZ(344,"tr"),i.TgZ(345,"th",12),i._uU(346,"Rcr"),i.qZA(),i.YNc(347,$S,3,4,"ng-container",6),i.qZA(),i.TgZ(348,"tr"),i.TgZ(349,"th",12),i._uU(350,"ko"),i.qZA(),i.YNc(351,KS,3,4,"ng-container",6),i.qZA(),i.TgZ(352,"tr"),i.TgZ(353,"th",12),i._uU(354,"\u03c1bl"),i.qZA(),i.YNc(355,tA,3,4,"ng-container",6),i.qZA(),i.TgZ(356,"tr"),i.TgZ(357,"th",14),i._uU(358,"fsyk"),i.qZA(),i.TgZ(359,"th",15),i._uU(360,"(N/mm"),i.TgZ(361,"sup"),i._uU(362,"2"),i.qZA(),i._uU(363,")"),i.qZA(),i.YNc(364,eA,3,4,"ng-container",6),i.qZA(),i.TgZ(365,"tr"),i.TgZ(366,"th",12),i._uU(367,"(b/t)\u2266(b/t)o"),i.qZA(),i.YNc(368,nA,3,4,"ng-container",6),i.qZA(),i.TgZ(369,"tr"),i.TgZ(370,"th",13),i._uU(371,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(372,iA,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(373),i.TgZ(374,"tr"),i.TgZ(375,"th",18),i._uU(376,"\u5727\u7e2e\u30d5\u30e9\u30f3\u30b8\uff08\u4e21\u7e01\u652f\u6301\u7248or\u88dc\u525b\u677f\uff09"),i.qZA(),i.qZA(),i.TgZ(377,"tr"),i.TgZ(378,"th",12),i._uU(379,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(380,rA,3,4,"ng-container",6),i.qZA(),i.TgZ(381,"tr"),i.TgZ(382,"th",12),i._uU(383,"\u677f\u8981\u7d20\u306e\u652f\u6301\u306e\u72b6\u614b"),i.qZA(),i.YNc(384,aA,3,4,"ng-container",6),i.qZA(),i.TgZ(385,"tr"),i.TgZ(386,"th",12),i._uU(387,"(b/t)"),i.qZA(),i.YNc(388,oA,3,4,"ng-container",6),i.qZA(),i.TgZ(389,"tr"),i.TgZ(390,"th",12),i._uU(391,"(b/t)o"),i.qZA(),i.YNc(392,sA,3,4,"ng-container",6),i.qZA(),i.TgZ(393,"tr"),i.TgZ(394,"th",12),i._uU(395,"\u03c7wt(b/t)o"),i.qZA(),i.YNc(396,lA,3,4,"ng-container",6),i.qZA(),i.TgZ(397,"tr"),i.TgZ(398,"th",12),i._uU(399,"\u03c7wt"),i.qZA(),i.YNc(400,uA,3,4,"ng-container",6),i.qZA(),i.TgZ(401,"tr"),i.TgZ(402,"th",12),i._uU(403,"Rcr"),i.qZA(),i.YNc(404,cA,3,4,"ng-container",6),i.qZA(),i.TgZ(405,"tr"),i.TgZ(406,"th",12),i._uU(407,"ko"),i.qZA(),i.YNc(408,hA,3,4,"ng-container",6),i.qZA(),i.TgZ(409,"tr"),i.TgZ(410,"th",12),i._uU(411,"\u03c1bl"),i.qZA(),i.YNc(412,dA,3,4,"ng-container",6),i.qZA(),i.TgZ(413,"tr"),i.TgZ(414,"th",14),i._uU(415,"fsyk"),i.qZA(),i.TgZ(416,"th",15),i._uU(417,"(N/mm"),i.TgZ(418,"sup"),i._uU(419,"2"),i.qZA(),i._uU(420,")"),i.qZA(),i.YNc(421,fA,3,4,"ng-container",6),i.qZA(),i.TgZ(422,"tr"),i.TgZ(423,"th",12),i._uU(424,"(b/t)\u2266(b/t)o"),i.qZA(),i.YNc(425,pA,3,4,"ng-container",6),i.qZA(),i.TgZ(426,"tr"),i.TgZ(427,"th",13),i._uU(428,"(b/t)\u2266\u03c7wt(b/t)o"),i.qZA(),i.YNc(429,gA,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(430),i.TgZ(431,"tr"),i.TgZ(432,"th",18),i._uU(433,"\u7e26\u30ea\u30d6\uff08\u5f15\u5f35\u30d5\u30e9\u30f3\u30b8\u5074\uff09"),i.qZA(),i.qZA(),i.TgZ(434,"tr"),i.TgZ(435,"th",12),i._uU(436,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(437,vA,3,4,"ng-container",6),i.qZA(),i.TgZ(438,"tr"),i.TgZ(439,"th",12),i._uU(440,"(bs/ts)"),i.qZA(),i.YNc(441,mA,3,4,"ng-container",6),i.qZA(),i.TgZ(442,"tr"),i.TgZ(443,"th",14),i._uU(444,"Is"),i.qZA(),i.TgZ(445,"th",15),i._uU(446,"(mm"),i.TgZ(447,"sup"),i._uU(448,"4"),i.qZA(),i._uU(449,")"),i.qZA(),i.YNc(450,_A,3,4,"ng-container",6),i.qZA(),i.TgZ(451,"tr"),i.TgZ(452,"th",12),i._uU(453,"(bs/ts)o"),i.qZA(),i.YNc(454,yA,3,4,"ng-container",6),i.qZA(),i.TgZ(455,"tr"),i.TgZ(456,"th",14),i._uU(457,"I"),i.qZA(),i.TgZ(458,"th",15),i._uU(459,"(mm"),i.TgZ(460,"sup"),i._uU(461,"4"),i.qZA(),i._uU(462,")"),i.qZA(),i.YNc(463,bA,3,4,"ng-container",6),i.qZA(),i.TgZ(464,"tr"),i.TgZ(465,"th",12),i._uU(466,"(bs/ts)\u2266(bs/ts)o"),i.qZA(),i.YNc(467,xA,3,4,"ng-container",6),i.qZA(),i.TgZ(468,"tr"),i.TgZ(469,"th",13),i._uU(470,"Is\u2267I"),i.qZA(),i.YNc(471,wA,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(472),i.TgZ(473,"tr"),i.TgZ(474,"th",18),i._uU(475,"\u7e26\u30ea\u30d6\uff08\u5727\u7e2e\u30d5\u30e9\u30f3\u30b8\u5074\uff09"),i.qZA(),i.qZA(),i.TgZ(476,"tr"),i.TgZ(477,"th",12),i._uU(478,"\u677f\u8981\u7d20\u306e\u7a2e\u985e"),i.qZA(),i.YNc(479,kA,3,4,"ng-container",6),i.qZA(),i.TgZ(480,"tr"),i.TgZ(481,"th",12),i._uU(482,"(bs/ts)"),i.qZA(),i.YNc(483,CA,3,4,"ng-container",6),i.qZA(),i.TgZ(484,"tr"),i.TgZ(485,"th",14),i._uU(486,"Is"),i.qZA(),i.TgZ(487,"th",15),i._uU(488,"(mm"),i.TgZ(489,"sup"),i._uU(490,"4"),i.qZA(),i._uU(491,")"),i.qZA(),i.YNc(492,MA,3,4,"ng-container",6),i.qZA(),i.TgZ(493,"tr"),i.TgZ(494,"th",12),i._uU(495,"(bs/ts)o"),i.qZA(),i.YNc(496,TA,3,4,"ng-container",6),i.qZA(),i.TgZ(497,"tr"),i.TgZ(498,"th",14),i._uU(499,"I"),i.qZA(),i.TgZ(500,"th",15),i._uU(501,"(mm"),i.TgZ(502,"sup"),i._uU(503,"4"),i.qZA(),i._uU(504,")"),i.qZA(),i.YNc(505,SA,3,4,"ng-container",6),i.qZA(),i.TgZ(506,"tr"),i.TgZ(507,"th",12),i._uU(508,"(bs/ts)\u2266(bs/ts)o"),i.qZA(),i.YNc(509,AA,3,4,"ng-container",6),i.qZA(),i.TgZ(510,"tr"),i.TgZ(511,"th",13),i._uU(512,"Is\u2267I"),i.qZA(),i.YNc(513,EA,3,4,"ng-container",6),i.qZA(),i.BQk(),i.qZA(),i.qZA(),i.TgZ(514,"div",7),i.TgZ(515,"div",8),i._uU(516),i.qZA(),i.TgZ(517,"div",9),i._uU(518),i.qZA(),i.TgZ(519,"table",10),i.TgZ(520,"tr"),i.TgZ(521,"th",11),i._uU(522,"\u90e8\u6750\u540d\u79f0"),i.qZA(),i.YNc(523,PA,3,4,"ng-container",6),i.qZA(),i.TgZ(524,"tr"),i.TgZ(525,"th",12),i._uU(526,"\u4f4d\u7f6e"),i.qZA(),i.YNc(527,IA,3,4,"ng-container",6),i.qZA(),i.TgZ(528,"tr"),i.TgZ(529,"th",13),i._uU(530,"\u65ad\u9762\u756a\u53f7"),i.qZA(),i.YNc(531,OA,3,4,"ng-container",6),i.qZA(),i.TgZ(532,"tr"),i.TgZ(533,"th",14),i._uU(534,"Ix"),i.qZA(),i.TgZ(535,"th",15),i._uU(536,"(mm"),i.TgZ(537,"sup"),i._uU(538,"2"),i.qZA(),i._uU(539,")"),i.qZA(),i.YNc(540,RA,3,4,"ng-container",6),i.qZA(),i.TgZ(541,"tr"),i.TgZ(542,"th",14),i._uU(543,"Iy"),i.qZA(),i.TgZ(544,"th",15),i._uU(545,"(mm"),i.TgZ(546,"sup"),i._uU(547,"2"),i.qZA(),i._uU(548,")"),i.qZA(),i.YNc(549,LA,3,4,"ng-container",6),i.qZA(),i.TgZ(550,"tr"),i.TgZ(551,"th",16),i._uU(552,"A"),i.qZA(),i.TgZ(553,"th",17),i._uU(554,"(mm"),i.TgZ(555,"sup"),i._uU(556,"2"),i.qZA(),i._uU(557,")"),i.qZA(),i.YNc(558,DA,3,4,"ng-container",6),i.qZA(),i.ynx(559),i.TgZ(560,"tr"),i.TgZ(561,"th",18),i._uU(562,"\u66f2\u3052\u30e2\u30fc\u30e1\u30f3\u30c8\u3092\u53d7\u3051\u308b\u90e8\u6750\u306e\u7167\u67fb"),i.qZA(),i.qZA(),i.TgZ(563,"tr"),i.TgZ(564,"th",14),i._uU(565,"Mxd"),i.qZA(),i.TgZ(566,"th",15),i._uU(567,"(kN\u30fbm)"),i.qZA(),i.YNc(568,NA,3,4,"ng-container",6),i.qZA(),i.TgZ(569,"tr"),i.TgZ(570,"th",14),i._uU(571,"Myd"),i.qZA(),i.TgZ(572,"th",15),i._uU(573,"(kN\u30fbm)"),i.qZA(),i.YNc(574,ZA,3,4,"ng-container",6),i.qZA(),i.TgZ(575,"tr"),i.TgZ(576,"th",14),i._uU(577,"Nd"),i.qZA(),i.TgZ(578,"th",15),i._uU(579,"(kN)"),i.qZA(),i.YNc(580,FA,3,4,"ng-container",6),i.qZA(),i.TgZ(581,"tr"),i.TgZ(582,"th",14),i._uU(583,"Mucxd"),i.qZA(),i.TgZ(584,"th",15),i._uU(585,"(kN\u30fbm)"),i.qZA(),i.YNc(586,UA,3,4,"ng-container",6),i.qZA(),i.TgZ(587,"tr"),i.TgZ(588,"th",14),i._uU(589,"Mutxd"),i.qZA(),i.TgZ(590,"th",15),i._uU(591,"(kN\u30fbm)"),i.qZA(),i.YNc(592,BA,3,4,"ng-container",6),i.qZA(),i.TgZ(593,"tr"),i.TgZ(594,"th",14),i._uU(595,"Mucyd"),i.qZA(),i.TgZ(596,"th",15),i._uU(597,"(kN\u30fbm)"),i.qZA(),i.YNc(598,zA,3,4,"ng-container",6),i.qZA(),i.TgZ(599,"tr"),i.TgZ(600,"th",14),i._uU(601,"Mutyd"),i.qZA(),i.TgZ(602,"th",15),i._uU(603,"(kN\u30fbm)"),i.qZA(),i.YNc(604,qA,3,4,"ng-container",6),i.qZA(),i.TgZ(605,"tr"),i.TgZ(606,"th",14),i._uU(607,"Nud"),i.qZA(),i.TgZ(608,"th",15),i._uU(609,"(kN)"),i.qZA(),i.YNc(610,HA,3,4,"ng-container",6),i.qZA(),i.TgZ(611,"tr"),i.TgZ(612,"th",14),i._uU(613,"An"),i.qZA(),i.TgZ(614,"th",15),i._uU(615,"(mm"),i.TgZ(616,"sup"),i._uU(617,"2"),i.qZA(),i._uU(618,")"),i.qZA(),i.YNc(619,GA,3,4,"ng-container",6),i.qZA(),i.TgZ(620,"tr"),i.TgZ(621,"th",12),i._uU(622,"\u03c1bg"),i.qZA(),i.YNc(623,VA,3,4,"ng-container",6),i.qZA(),i.TgZ(624,"tr"),i.TgZ(625,"th",12),i._uU(626,"\u03bbe"),i.qZA(),i.YNc(627,WA,3,4,"ng-container",6),i.qZA(),i.TgZ(628,"tr"),i.TgZ(629,"th",12),i._uU(630,"\u03c1bl"),i.qZA(),i.YNc(631,jA,3,4,"ng-container",6),i.qZA(),i.TgZ(632,"tr"),i.TgZ(633,"th",12),i._uU(634,"\u03b3b1"),i.qZA(),i.YNc(635,YA,3,4,"ng-container",6),i.qZA(),i.TgZ(636,"tr"),i.TgZ(637,"th",12),i._uU(638,"\u03b3b2"),i.qZA(),i.YNc(639,QA,3,4,"ng-container",6),i.qZA(),i.TgZ(640,"tr"),i.TgZ(641,"th",13),i._uU(642,"\u03b3i"),i.qZA(),i.YNc(643,JA,3,4,"ng-container",6),i.qZA(),i.TgZ(644,"tr"),i.TgZ(645,"th",19),i._uU(646,"\u5f15\u5f35\u30d5\u30e9\u30f3\u30b8\u5916\u7e01\u306e\u7167\u67fb\u7d50\u679c ( = \u03b3i\u30fb(Mxd/Muxd+Myd/Muyd))"),i.qZA(),i.qZA(),i.TgZ(647,"tr"),i.TgZ(648,"th",13),i._uU(649,"\u7167\u67fb\u7d50\u679c"),i.qZA(),i.YNc(650,XA,3,4,"ng-container",6),i.qZA(),i.TgZ(651,"tr"),i.TgZ(652,"th",19),i._uU(653,"\u5727\u7e2e\u30d5\u30e9\u30f3\u30b8\u5916\u7e01\u306e\u7167\u67fb\u7d50\u679c ( = \u03b3i\u30fb(Mxd/Muxd+Myd/Muyd+Nd/Nud))"),i.qZA(),i.qZA(),i.TgZ(654,"tr"),i.TgZ(655,"th",13),i._uU(656,"\u7167\u67fb\u7d50\u679c"),i.qZA(),i.YNc(657,$A,3,4,"ng-container",6),i.qZA(),i.BQk(),i.ynx(658),i.TgZ(659,"tr"),i.TgZ(660,"th",18),i._uU(661,"\u305b\u3093\u65ad\u3068\u306d\u3058\u308a\u3092\u53d7\u3051\u308b\u90e8\u6750\u306e\u7167\u67fb"),i.qZA(),i.qZA(),i.TgZ(662,"tr"),i.TgZ(663,"th",14),i._uU(664,"Vd"),i.qZA(),i.TgZ(665,"th",15),i._uU(666,"(kN)"),i.qZA(),i.YNc(667,KA,3,4,"ng-container",6),i.qZA(),i.TgZ(668,"tr"),i.TgZ(669,"th",14),i._uU(670,"Mtd"),i.qZA(),i.TgZ(671,"th",15),i._uU(672,"(kN\u30fbm)"),i.qZA(),i.YNc(673,tE,3,4,"ng-container",6),i.qZA(),i.TgZ(674,"tr"),i.TgZ(675,"th",14),i._uU(676,"Vyd"),i.qZA(),i.TgZ(677,"th",15),i._uU(678,"(kN)"),i.qZA(),i.YNc(679,eE,3,4,"ng-container",6),i.qZA(),i.TgZ(680,"tr"),i.TgZ(681,"th",14),i._uU(682,"Mtud"),i.qZA(),i.TgZ(683,"th",15),i._uU(684,"(kN\u30fbm)"),i.qZA(),i.YNc(685,nE,3,4,"ng-container",6),i.qZA(),i.TgZ(686,"tr"),i.TgZ(687,"th",14),i._uU(688,"Aw"),i.qZA(),i.TgZ(689,"th",15),i._uU(690,"(mm"),i.TgZ(691,"sup"),i._uU(692,"2"),i.qZA(),i._uU(693,")"),i.qZA(),i.YNc(694,iE,3,4,"ng-container",6),i.qZA(),i.TgZ(695,"tr"),i.TgZ(696,"th",14),i._uU(697,"At"),i.qZA(),i.TgZ(698,"th",15),i._uU(699,"(mm"),i.TgZ(700,"sup"),i._uU(701,"2"),i.qZA(),i._uU(702,")"),i.qZA(),i.YNc(703,rE,3,4,"ng-container",6),i.qZA(),i.TgZ(704,"tr"),i.TgZ(705,"th",12),i._uU(706,"\u03b3b1"),i.qZA(),i.YNc(707,aE,3,4,"ng-container",6),i.qZA(),i.TgZ(708,"tr"),i.TgZ(709,"th",13),i._uU(710,"\u03b3i"),i.qZA(),i.YNc(711,oE,3,4,"ng-container",6),i.qZA(),i.TgZ(712,"tr"),i.TgZ(713,"th",19),i._uU(714,"\u8179\u677f\u306e\u7167\u67fb\u7d50\u679c ( = \u03b3i\u30fb(Vd/Vyd+Mtd/Mtud))"),i.qZA(),i.qZA(),i.TgZ(715,"tr"),i.TgZ(716,"th",13),i._uU(717,"\u7167\u67fb\u7d50\u679c"),i.qZA(),i.YNc(718,sE,3,4,"ng-container",6),i.qZA(),i.BQk(),i.qZA(),i.qZA(),i.TgZ(719,"div",7),i.TgZ(720,"div",8),i._uU(721),i.qZA(),i.TgZ(722,"div",9),i._uU(723),i.qZA(),i.TgZ(724,"table",10),i.TgZ(725,"tr"),i.TgZ(726,"th",11),i._uU(727,"\u90e8\u6750\u540d\u79f0"),i.qZA(),i.YNc(728,lE,3,4,"ng-container",6),i.qZA(),i.TgZ(729,"tr"),i.TgZ(730,"th",12),i._uU(731,"\u4f4d\u7f6e"),i.qZA(),i.YNc(732,uE,3,4,"ng-container",6),i.qZA(),i.TgZ(733,"tr"),i.TgZ(734,"th",13),i._uU(735,"\u65ad\u9762\u756a\u53f7"),i.qZA(),i.YNc(736,cE,3,4,"ng-container",6),i.qZA(),i.TgZ(737,"tr"),i.TgZ(738,"th",14),i._uU(739,"Ix"),i.qZA(),i.TgZ(740,"th",15),i._uU(741,"(mm"),i.TgZ(742,"sup"),i._uU(743,"2"),i.qZA(),i._uU(744,")"),i.qZA(),i.YNc(745,hE,3,4,"ng-container",6),i.qZA(),i.TgZ(746,"tr"),i.TgZ(747,"th",14),i._uU(748,"Iy"),i.qZA(),i.TgZ(749,"th",15),i._uU(750,"(mm"),i.TgZ(751,"sup"),i._uU(752,"2"),i.qZA(),i._uU(753,")"),i.qZA(),i.YNc(754,dE,3,4,"ng-container",6),i.qZA(),i.TgZ(755,"tr"),i.TgZ(756,"th",16),i._uU(757,"A"),i.qZA(),i.TgZ(758,"th",17),i._uU(759,"(mm"),i.TgZ(760,"sup"),i._uU(761,"2"),i.qZA(),i._uU(762,")"),i.qZA(),i.YNc(763,fE,3,4,"ng-container",6),i.qZA(),i.ynx(764),i.TgZ(765,"tr"),i.TgZ(766,"th",18),i._uU(767,"\u66f2\u3052\u3068\u305b\u3093\u65ad\u3092\u53d7\u3051\u308b\u90e8\u6750\u306e\u7167\u67fb"),i.qZA(),i.qZA(),i.TgZ(768,"tr"),i.TgZ(769,"th",14),i._uU(770,"Mxd"),i.qZA(),i.TgZ(771,"th",15),i._uU(772,"(kN\u30fbm)"),i.qZA(),i.YNc(773,pE,3,4,"ng-container",6),i.qZA(),i.TgZ(774,"tr"),i.TgZ(775,"th",14),i._uU(776,"Myd"),i.qZA(),i.TgZ(777,"th",15),i._uU(778,"(kN\u30fbm)"),i.qZA(),i.YNc(779,gE,3,4,"ng-container",6),i.qZA(),i.TgZ(780,"tr"),i.TgZ(781,"th",14),i._uU(782,"Nd"),i.qZA(),i.TgZ(783,"th",15),i._uU(784,"(kN)"),i.qZA(),i.YNc(785,vE,3,4,"ng-container",6),i.qZA(),i.TgZ(786,"tr"),i.TgZ(787,"th",14),i._uU(788,"Vd"),i.qZA(),i.TgZ(789,"th",15),i._uU(790,"(kN)"),i.qZA(),i.YNc(791,mE,3,4,"ng-container",6),i.qZA(),i.TgZ(792,"tr"),i.TgZ(793,"th",14),i._uU(794,"Mtd"),i.qZA(),i.TgZ(795,"th",15),i._uU(796,"(kN\u30fbm)"),i.qZA(),i.YNc(797,_E,3,4,"ng-container",6),i.qZA(),i.TgZ(798,"tr"),i.TgZ(799,"th",14),i._uU(800,"Mucxd"),i.qZA(),i.TgZ(801,"th",15),i._uU(802,"(kN\u30fbm)"),i.qZA(),i.YNc(803,yE,3,4,"ng-container",6),i.qZA(),i.TgZ(804,"tr"),i.TgZ(805,"th",14),i._uU(806,"Mutxd"),i.qZA(),i.TgZ(807,"th",15),i._uU(808,"(kN\u30fbm)"),i.qZA(),i.YNc(809,bE,3,4,"ng-container",6),i.qZA(),i.TgZ(810,"tr"),i.TgZ(811,"th",14),i._uU(812,"Mucyd"),i.qZA(),i.TgZ(813,"th",15),i._uU(814,"(kN\u30fbm)"),i.qZA(),i.YNc(815,xE,3,4,"ng-container",6),i.qZA(),i.TgZ(816,"tr"),i.TgZ(817,"th",14),i._uU(818,"Mutyd"),i.qZA(),i.TgZ(819,"th",15),i._uU(820,"(kN\u30fbm)"),i.qZA(),i.YNc(821,wE,3,4,"ng-container",6),i.qZA(),i.TgZ(822,"tr"),i.TgZ(823,"th",14),i._uU(824,"Nud"),i.qZA(),i.TgZ(825,"th",15),i._uU(826,"(kN)"),i.qZA(),i.YNc(827,kE,3,4,"ng-container",6),i.qZA(),i.TgZ(828,"tr"),i.TgZ(829,"th",14),i._uU(830,"Vyd"),i.qZA(),i.TgZ(831,"th",15),i._uU(832,"(kN)"),i.qZA(),i.YNc(833,CE,3,4,"ng-container",6),i.qZA(),i.TgZ(834,"tr"),i.TgZ(835,"th",14),i._uU(836,"Mtud"),i.qZA(),i.TgZ(837,"th",15),i._uU(838,"(kN\u30fbm)"),i.qZA(),i.YNc(839,ME,3,4,"ng-container",6),i.qZA(),i.TgZ(840,"tr"),i.TgZ(841,"th",14),i._uU(842,"An"),i.qZA(),i.TgZ(843,"th",15),i._uU(844,"(mm"),i.TgZ(845,"sup"),i._uU(846,"2"),i.qZA(),i._uU(847,")"),i.qZA(),i.YNc(848,TE,3,4,"ng-container",6),i.qZA(),i.TgZ(849,"tr"),i.TgZ(850,"th",14),i._uU(851,"Aw"),i.qZA(),i.TgZ(852,"th",15),i._uU(853,"(mm"),i.TgZ(854,"sup"),i._uU(855,"2"),i.qZA(),i._uU(856,")"),i.qZA(),i.YNc(857,SE,3,4,"ng-container",6),i.qZA(),i.TgZ(858,"tr"),i.TgZ(859,"th",14),i._uU(860,"At"),i.qZA(),i.TgZ(861,"th",15),i._uU(862,"(mm"),i.TgZ(863,"sup"),i._uU(864,"2"),i.qZA(),i._uU(865,")"),i.qZA(),i.YNc(866,AE,3,4,"ng-container",6),i.qZA(),i.TgZ(867,"tr"),i.TgZ(868,"th",12),i._uU(869,"\u03b3b1"),i.qZA(),i.YNc(870,EE,3,4,"ng-container",6),i.qZA(),i.TgZ(871,"tr"),i.TgZ(872,"th",12),i._uU(873,"\u03b3b2"),i.qZA(),i.YNc(874,PE,3,4,"ng-container",6),i.qZA(),i.TgZ(875,"tr"),i.TgZ(876,"th",13),i._uU(877,"\u03b3i"),i.qZA(),i.YNc(878,IE,3,4,"ng-container",6),i.qZA(),i.TgZ(879,"tr"),i.TgZ(880,"th",19),i._uU(881,"\u30d5\u30e9\u30f3\u30b8\u306e\u7167\u67fb\u7d50\u679c ( = (\u03b3i/1.1)"),i.TgZ(882,"sup"),i._uU(883,"2"),i.qZA(),i._uU(884,"\u30fb((Mxd/Muxd+Myd/Muyd+Nd/Nud)"),i.TgZ(885,"sup"),i._uU(886,"2"),i.qZA(),i._uU(887,"+(Vd/Vyd+Mtd/Mtud)"),i.TgZ(888,"sup"),i._uU(889,"2"),i.qZA(),i._uU(890,")"),i.qZA(),i.qZA(),i.TgZ(891,"tr"),i.TgZ(892,"th",13),i._uU(893,"\u7167\u67fb\u7d50\u679c"),i.qZA(),i.YNc(894,OE,3,4,"ng-container",6),i.qZA(),i.BQk(),i.qZA(),i.qZA(),i.qZA()),2&t){var n=e.$implicit,r=e.index;i.xp6(3),i.AsE("",n.caption," (\u305d\u306e",4*r+1,")"),i.xp6(2),i.hij("[",n.g_name,"]"),i.xp6(5),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(10),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(3),i.AsE("",n.caption," (\u305d\u306e",4*r+2,")"),i.xp6(2),i.hij("[",n.g_name,"]"),i.xp6(5),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(8),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(3),i.AsE("",n.caption," (\u305d\u306e",4*r+3,")"),i.xp6(2),i.hij("[",n.g_name,"]"),i.xp6(5),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(10),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(7),i.Q6J("ngForOf",n.columns),i.xp6(7),i.Q6J("ngForOf",n.columns),i.xp6(10),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(7),i.Q6J("ngForOf",n.columns),i.xp6(3),i.AsE("",n.caption," (\u305d\u306e",4*r+4,")"),i.xp6(2),i.hij("[",n.g_name,"]"),i.xp6(5),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(10),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(6),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(9),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(4),i.Q6J("ngForOf",n.columns),i.xp6(16),i.Q6J("ngForOf",n.columns)}}function LE(t,e){if(1&t&&(i.TgZ(0,"div",5),i.YNc(1,RE,895,160,"div",6),i.qZA()),2&t){var n=i.oxw();i.s9C("id",n.page_index),i.xp6(1),i.Q6J("ngForOf",n.safetyTorsionalMomentPages)}}function DE(t,e){if(1&t&&(i.TgZ(0,"div",21),i.TgZ(1,"p"),i._uU(2),i.qZA(),i.qZA()),2&t){var n=i.oxw();i.xp6(2),i.Oqu(n.err)}}var NE=function(){var t=function(){function t(e,n,i,r,a,o,s,l){_classCallCheck(this,t),this.http=e,this.calc=n,this.result=i,this.post=r,this.base=a,this.summary=o,this.user=s,this.cd=l,this.title="\u5fa9\u65e7\u6027\uff08\u5730\u9707\u6642\uff09",this.page_index="ap_17",this.isLoading=!0,this.isFulfilled=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.isLoading=!0,this.isFulfilled=!1,this.err="";var t=this.calc.setInputData();if(null===t||t.length<1)return this.isLoading=!1,void this.summary.setSummaryTable("earthquakesTorsionalMoment",null);console.log(this.title,t);try{this.safetyTorsionalMomentPages=this.base.getSafetyPages(t,"\u5fa9\u65e7\u6027\uff08\u5730\u9707\u6642\uff09\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8\u306e\u7167\u67fb\u7d50\u679c",this.calc.DesignForceList,this.calc.safetyID),this.isFulfilled=!0,this.calc.isEnable=!0,this.summary.setSummaryTable("earthquakesTorsionalMoment",this.safetyTorsionalMomentPages)}catch(e){this.err=e.toString(),this.isFulfilled=!1,this.summary.setSummaryTable("earthquakesTorsionalMoment")}this.isLoading=!1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(Zn),i.Y36(sk),i.Y36(Mk),i.Y36(ok),i.Y36(vT),i.Y36(Ib),i.Y36(mb),i.Y36(i.sBO))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-result-earthquakes-torsional-moment"]],decls:3,vars:3,consts:[["class","spinner-border","style","width: 1rem; height: 1rem;","role","status",4,"ngIf"],[3,"id",4,"ngIf"],["class","sheet",4,"ngIf"],["role","status",1,"spinner-border",2,"width","1rem","height","1rem"],[1,"sr-only"],[3,"id"],[4,"ngFor","ngForOf"],[1,"sheet-table"],[1,"cell_title1"],[1,"cell_title2"],[1,"main"],["colspan","2",1,"cell_name1","g-top2"],["colspan","2",1,"cell_name1"],["colspan","2",1,"cell_name1","g-bottom2"],[1,"cell_name2"],[1,"cell_name3"],[1,"cell_name2","g-bottom2"],[1,"cell_name3","g-bottom2"],["colspan","12",1,"cell_name1","g-bottom2"],["colspan","12",1,"cell_name1","g-bottom2","left"],["colspan","2"],[1,"sheet"]],template:function(t,e){1&t&&(i.YNc(0,WT,3,0,"div",0),i.YNc(1,LE,2,2,"div",1),i.YNc(2,DE,3,1,"div",2)),2&t&&(i.Q6J("ngIf",e.isLoading),i.xp6(1),i.Q6J("ngIf",(null==e.safetyTorsionalMomentPages?null:e.safetyTorsionalMomentPages.length)>0),i.xp6(1),i.Q6J("ngIf",e.err.length>0))},directives:[O,P],styles:['@charset "UTF-8";.sticky[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;position:-webkit-sticky;position:sticky;top:100px;width:300px;margin-left:15px}#print_section[_ngcontent-%COMP%]{display:inline-block}.HtmlPage[_ngcontent-%COMP%]{font-family:"\\ff2d\\ff33  \\30b4\\30b7\\30c3\\30af",sans-serif;margin:0;padding:0;display:block}.sheet[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:83px;padding-left:113px;padding-right:113px}.sheet-title[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title[_ngcontent-%COMP%]   .indent15[_ngcontent-%COMP%]{text-indent:1.5em}.sheet-title[_ngcontent-%COMP%]   .indent20[_ngcontent-%COMP%]{text-indent:2em}.sheet-title[_ngcontent-%COMP%]   .indent25[_ngcontent-%COMP%]{text-indent:2.5em}.sheet-title[_ngcontent-%COMP%]   .indent30[_ngcontent-%COMP%]{text-indent:3em}.sheet-title[_ngcontent-%COMP%]   .indent40[_ngcontent-%COMP%]{text-indent:4em}.sheet-title[_ngcontent-%COMP%]   .indent45[_ngcontent-%COMP%]{text-indent:4.5em}.sheet-title[_ngcontent-%COMP%]   .indent50[_ngcontent-%COMP%]{text-indent:5em}.sheet-title[_ngcontent-%COMP%]   .indent55[_ngcontent-%COMP%]{text-indent:5.5em}.sheet-title[_ngcontent-%COMP%]   .indent60[_ngcontent-%COMP%]{text-indent:6em}.sheet-title[_ngcontent-%COMP%]   .indent65[_ngcontent-%COMP%]{text-indent:6.5em}.sheet-title[_ngcontent-%COMP%]   .indent70[_ngcontent-%COMP%]{text-indent:7em}.sheet-title[_ngcontent-%COMP%]   .indent75[_ngcontent-%COMP%]{text-indent:7.5em}.sheet-title[_ngcontent-%COMP%]   .indent80[_ngcontent-%COMP%]{text-indent:8em}.sheet-title[_ngcontent-%COMP%]   .indent85[_ngcontent-%COMP%]{text-indent:8.5em}.sheet-title[_ngcontent-%COMP%]   .indent90[_ngcontent-%COMP%]{text-indent:9em}.sheet-title[_ngcontent-%COMP%]   .indent95[_ngcontent-%COMP%]{text-indent:9.5em}.sheet-title[_ngcontent-%COMP%]   .indent100[_ngcontent-%COMP%]{text-indent:10em}.sheet-title[_ngcontent-%COMP%]   .indent105[_ngcontent-%COMP%]{text-indent:10.5em}.sheet-title[_ngcontent-%COMP%]   .indent110[_ngcontent-%COMP%]{text-indent:11em}.sheet-title[_ngcontent-%COMP%]   .indent115[_ngcontent-%COMP%]{text-indent:11.5em}.sheet-title[_ngcontent-%COMP%]   .indent120[_ngcontent-%COMP%]{text-indent:12em}.sheet-title[_ngcontent-%COMP%]   .indent135[_ngcontent-%COMP%]{text-indent:13.5em}.sheet-title[_ngcontent-%COMP%]   .indent140[_ngcontent-%COMP%]{text-indent:14em}.sheet-title[_ngcontent-%COMP%]   .indent160[_ngcontent-%COMP%]{text-indent:16em}.sheet-title[_ngcontent-%COMP%]   .indent170[_ngcontent-%COMP%]{text-indent:17em}.sheet-title[_ngcontent-%COMP%]   .indent175[_ngcontent-%COMP%]{text-indent:17.5em}.sheet-title[_ngcontent-%COMP%]   .indent180[_ngcontent-%COMP%]{text-indent:18em}.sheet-title[_ngcontent-%COMP%]   .indent190[_ngcontent-%COMP%]{text-indent:19em}.sheet-title[_ngcontent-%COMP%]   .indent200[_ngcontent-%COMP%]{text-indent:20em}.sheet-title[_ngcontent-%COMP%]   .indent240[_ngcontent-%COMP%]{text-indent:24em}.sheet-title[_ngcontent-%COMP%]   .indent_title[_ngcontent-%COMP%]{text-align:center}.sheet-title[_ngcontent-%COMP%]   .textright[_ngcontent-%COMP%]{text-align:right}p.noword[_ngcontent-%COMP%]{margin-bottom:14pt}p.caption[_ngcontent-%COMP%]{text-align:center}div.noword[_ngcontent-%COMP%]{margin-bottom:14pt}div[_ngcontent-%COMP%]   .margin30[_ngcontent-%COMP%]{margin-left:3em}div[_ngcontent-%COMP%]   .margin50[_ngcontent-%COMP%]{margin-left:5em}div[_ngcontent-%COMP%]   .margin70[_ngcontent-%COMP%]{margin-left:7em}div[_ngcontent-%COMP%]   .margin110[_ngcontent-%COMP%]{margin-left:11em}div[_ngcontent-%COMP%]   .margin115[_ngcontent-%COMP%]{margin-left:11.5em}div[_ngcontent-%COMP%]   .margin130[_ngcontent-%COMP%]{margin-left:13em}table.title[_ngcontent-%COMP%]{text-align:center;border:1px solid black;font-size:12px;width:454px;table-layout:fixed}table.formula[_ngcontent-%COMP%]{text-align:center;font-size:12px;margin:0}table.formula[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{border-top:1px solid black}table.formula[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{border-bottom:1px solid black}.cell_title1[_ngcontent-%COMP%]{font-size:10pt;text-align:left;margin-top:14px}.cell_title2[_ngcontent-%COMP%]{font-size:10pt;text-align:right}.sheet-table[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:80px;padding-left:80px;padding-right:80px}table.main[_ngcontent-%COMP%]{font-size:10px;table-layout:fixed;margin:0}table.main[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.main[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;white-space:nowrap;margin:0}table.main[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:50px;height:12px;margin:0}table.main[_ngcontent-%COMP%]   .minwidth[_ngcontent-%COMP%]{min-width:100px}table.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:10px}table.main[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.main[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:10px}table.main[_ngcontent-%COMP%]   .cell_name1[_ngcontent-%COMP%]{table-layout:fixed;width:134px}table.main[_ngcontent-%COMP%]   .cell_name2[_ngcontent-%COMP%]{table-layout:fixed;width:65px}table.main[_ngcontent-%COMP%]   .cell_name3[_ngcontent-%COMP%]{table-layout:fixed;width:69px}table.main[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.main[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom3[_ngcontent-%COMP%]{border-bottom:0}table.main[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.center[_ngcontent-%COMP%]{text-align:center}.caption-top[_ngcontent-%COMP%]{caption-side:top;font-size:12px}table.spreadsheet[_ngcontent-%COMP%]{font-size:12px;table-layout:fixed;margin:0;border:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.spreadsheet[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:2px}table.spreadsheet[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.spreadsheet[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:2px}table.spreadsheet[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.sheet-title2[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title2[_ngcontent-%COMP%]   .pad05[_ngcontent-%COMP%]{padding-left:.5em}.sheet-title2[_ngcontent-%COMP%]   .pad10[_ngcontent-%COMP%]{padding-left:1em}.sheet-title2[_ngcontent-%COMP%]   .pad20[_ngcontent-%COMP%]{padding-left:2em}.sheet-title2[_ngcontent-%COMP%]   .pad30[_ngcontent-%COMP%]{padding-left:3em}.sheet-title2[_ngcontent-%COMP%]   .pad35[_ngcontent-%COMP%]{padding-left:3.5em}.sheet-title2[_ngcontent-%COMP%]   .pad40[_ngcontent-%COMP%]{padding-left:4em}.sheet-title2[_ngcontent-%COMP%]   .pad45[_ngcontent-%COMP%]{padding-left:4.5em}.sheet-title2[_ngcontent-%COMP%]   .pad50[_ngcontent-%COMP%]{padding-left:5em}.sheet-title2[_ngcontent-%COMP%]   .pad55[_ngcontent-%COMP%]{padding-left:5.5em}.sheet-title2[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title2[_ngcontent-%COMP%]   img.flow[_ngcontent-%COMP%]{width:60%;height:60%;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   img.flow2[_ngcontent-%COMP%]{width:600px;height:263px;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   div.flow-align[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:14px}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{vertical-align:top}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{vertical-align:middle}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]   .caption-top[_ngcontent-%COMP%]{caption-side:top}']}),t}();function ZE(t,e){1&t&&(i.ynx(0),i._UZ(1,"app-section-force-list"),i.BQk())}function FE(t,e){1&t&&(i.ynx(0),i._UZ(1,"app-result-safety-torsional-moment"),i._UZ(2,"app-result-safety-fatigue-shear-force"),i._UZ(3,"app-result-earthquakes-torsional-moment"),i.BQk())}function UE(t,e){1&t&&(i.ynx(0),i.TgZ(1,"li"),i.TgZ(2,"a",7),i._uU(3,"\u65ad\u9762\u529b\u4e00\u89a7\u8868"),i.qZA(),i.qZA(),i.BQk())}function BE(t,e){1&t&&(i.ynx(0),i.TgZ(1,"li"),i.TgZ(2,"a",8),i._uU(3," \u5b89\u5168\u6027\uff08\u7834\u58ca\uff09\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8"),i.qZA(),i.qZA(),i.BQk())}function zE(t,e){1&t&&(i.ynx(0),i.TgZ(1,"li"),i.TgZ(2,"a",9),i._uU(3," \u5b89\u5168\u6027\uff08\u75b2\u52b4\u7834\u58ca\uff09\u305b\u3093\u65ad"),i.qZA(),i.qZA(),i.BQk())}function qE(t,e){1&t&&(i.ynx(0),i.TgZ(1,"li"),i.TgZ(2,"a",10),i._uU(3," \u5fa9\u65e7\u6027\uff08\u5730\u9707\u6642\uff09\u306d\u3058\u308a\u30e2\u30fc\u30e1\u30f3\u30c8"),i.qZA(),i.qZA(),i.BQk())}function HE(t,e){if(1&t&&(i.ynx(0),i.YNc(1,BE,4,0,"ng-container",4),i.YNc(2,zE,4,0,"ng-container",4),i.YNc(3,qE,4,0,"ng-container",4),i.BQk()),2&t){var n=i.oxw();i.xp6(1),i.Q6J("ngIf",n.safetyTorsionalMoment.isEnable),i.xp6(1),i.Q6J("ngIf",n.safetyFatigueShearForce.isEnable),i.xp6(1),i.Q6J("ngIf",n.earthquakesTorsionalMoment.isEnable)}}function GE(t,e){if(1&t){var n=i.EpF();i.ynx(0),i.TgZ(1,"button",11),i.NdJ("click",function(){return i.CHM(n),i.oxw().summaryTableShow()}),i._uU(2,"\u7dcf\u62ec\u8868"),i.qZA(),i.BQk()}}var VE=function(){var t=function(){function t(e,n,i,r,a,o,s){_classCallCheck(this,t),this.modalService=e,this.summary=n,this.printControl=i,this.earthquakesTorsionalMoment=r,this.safetyFatigueShearForce=a,this.safetyTorsionalMoment=o,this.user=s}return _createClass(t,[{key:"ngOnInit",value:function(){this.printSectionForce=this.printControl.print_selected.print_section_force_checked,this.printcalculate=!1,!0===this.printControl.print_selected.print_calculate_checked&&(this.printcalculate=!0),this.earthquakesTorsionalMoment.setDesignForces(),this.safetyFatigueShearForce.setDesignForces(),this.safetyTorsionalMoment.setDesignForces(),this.summary.clear(),this._printSummaryTable=!1}},{key:"printSummaryTable",value:function(){return 0==this._printSummaryTable&&!0===this.summary.checkDone()&&(alert(this.user.deduct_points+"\u30dd\u30a4\u30f3\u30c8\u6d88\u8cbb\u3057\u307e\u3057\u305f\u3002\u672c\u65e5\u306e\u4f7f\u7528\u91cf\u306f\u3001"+this.user.daily_points+"\u3067\u3059."),this._printSummaryTable=!0),this._printSummaryTable}},{key:"summaryTableShow",value:function(){this.modalService.open(Rx,{size:"xl",scrollable:!1})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(zw),i.Y36(Ib),i.Y36(ah),i.Y36(sk),i.Y36(uk),i.Y36(ck),i.Y36(mb))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-result-viewer"]],decls:13,vars:5,consts:[[1,"main-container"],["id","print_section"],["print_section",""],[1,"HtmlPage"],[4,"ngIf"],[1,"sticky"],["styleSheetFile","assets/css/result-viewer.component.css","printSectionId","print_section","ngxPrint",""],["routerLink","/result-viewer","fragment","ap_0"],["routerLink","/result-viewer","fragment","ap_14"],["routerLink","/result-viewer","fragment","ap_4"],["routerLink","/result-viewer","fragment","ap_17"],[3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"main",0),i.TgZ(1,"div",1,2),i.TgZ(3,"div",3),i.YNc(4,ZE,2,0,"ng-container",4),i.YNc(5,FE,4,0,"ng-container",4),i.qZA(),i.qZA(),i.TgZ(6,"div",5),i.TgZ(7,"ul"),i.YNc(8,UE,4,0,"ng-container",4),i.YNc(9,HE,4,3,"ng-container",4),i.qZA(),i.TgZ(10,"button",6),i._uU(11,"Print"),i.qZA(),i.YNc(12,GE,3,0,"ng-container",4),i.qZA(),i.qZA()),2&t&&(i.xp6(4),i.Q6J("ngIf",e.printSectionForce),i.xp6(1),i.Q6J("ngIf",e.printcalculate),i.xp6(3),i.Q6J("ngIf",e.printSectionForce),i.xp6(1),i.Q6J("ngIf",e.printcalculate),i.xp6(3),i.Q6J("ngIf",e.printSummaryTable()))},directives:[O,hk,Ck,vT,VT,NE,Tc],styles:['@charset "UTF-8";.sticky[_ngcontent-%COMP%]{display:inline-block;vertical-align:top;position:-webkit-sticky;position:sticky;top:100px;width:300px;margin-left:15px}#print_section[_ngcontent-%COMP%]{display:inline-block}.HtmlPage[_ngcontent-%COMP%]{font-family:"\\ff2d\\ff33  \\30b4\\30b7\\30c3\\30af",sans-serif;margin:0;padding:0;display:block}.sheet[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:83px;padding-left:113px;padding-right:113px}.sheet-title[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title[_ngcontent-%COMP%]   .indent15[_ngcontent-%COMP%]{text-indent:1.5em}.sheet-title[_ngcontent-%COMP%]   .indent20[_ngcontent-%COMP%]{text-indent:2em}.sheet-title[_ngcontent-%COMP%]   .indent25[_ngcontent-%COMP%]{text-indent:2.5em}.sheet-title[_ngcontent-%COMP%]   .indent30[_ngcontent-%COMP%]{text-indent:3em}.sheet-title[_ngcontent-%COMP%]   .indent40[_ngcontent-%COMP%]{text-indent:4em}.sheet-title[_ngcontent-%COMP%]   .indent45[_ngcontent-%COMP%]{text-indent:4.5em}.sheet-title[_ngcontent-%COMP%]   .indent50[_ngcontent-%COMP%]{text-indent:5em}.sheet-title[_ngcontent-%COMP%]   .indent55[_ngcontent-%COMP%]{text-indent:5.5em}.sheet-title[_ngcontent-%COMP%]   .indent60[_ngcontent-%COMP%]{text-indent:6em}.sheet-title[_ngcontent-%COMP%]   .indent65[_ngcontent-%COMP%]{text-indent:6.5em}.sheet-title[_ngcontent-%COMP%]   .indent70[_ngcontent-%COMP%]{text-indent:7em}.sheet-title[_ngcontent-%COMP%]   .indent75[_ngcontent-%COMP%]{text-indent:7.5em}.sheet-title[_ngcontent-%COMP%]   .indent80[_ngcontent-%COMP%]{text-indent:8em}.sheet-title[_ngcontent-%COMP%]   .indent85[_ngcontent-%COMP%]{text-indent:8.5em}.sheet-title[_ngcontent-%COMP%]   .indent90[_ngcontent-%COMP%]{text-indent:9em}.sheet-title[_ngcontent-%COMP%]   .indent95[_ngcontent-%COMP%]{text-indent:9.5em}.sheet-title[_ngcontent-%COMP%]   .indent100[_ngcontent-%COMP%]{text-indent:10em}.sheet-title[_ngcontent-%COMP%]   .indent105[_ngcontent-%COMP%]{text-indent:10.5em}.sheet-title[_ngcontent-%COMP%]   .indent110[_ngcontent-%COMP%]{text-indent:11em}.sheet-title[_ngcontent-%COMP%]   .indent115[_ngcontent-%COMP%]{text-indent:11.5em}.sheet-title[_ngcontent-%COMP%]   .indent120[_ngcontent-%COMP%]{text-indent:12em}.sheet-title[_ngcontent-%COMP%]   .indent135[_ngcontent-%COMP%]{text-indent:13.5em}.sheet-title[_ngcontent-%COMP%]   .indent140[_ngcontent-%COMP%]{text-indent:14em}.sheet-title[_ngcontent-%COMP%]   .indent160[_ngcontent-%COMP%]{text-indent:16em}.sheet-title[_ngcontent-%COMP%]   .indent170[_ngcontent-%COMP%]{text-indent:17em}.sheet-title[_ngcontent-%COMP%]   .indent175[_ngcontent-%COMP%]{text-indent:17.5em}.sheet-title[_ngcontent-%COMP%]   .indent180[_ngcontent-%COMP%]{text-indent:18em}.sheet-title[_ngcontent-%COMP%]   .indent190[_ngcontent-%COMP%]{text-indent:19em}.sheet-title[_ngcontent-%COMP%]   .indent200[_ngcontent-%COMP%]{text-indent:20em}.sheet-title[_ngcontent-%COMP%]   .indent240[_ngcontent-%COMP%]{text-indent:24em}.sheet-title[_ngcontent-%COMP%]   .indent_title[_ngcontent-%COMP%]{text-align:center}.sheet-title[_ngcontent-%COMP%]   .textright[_ngcontent-%COMP%]{text-align:right}p.noword[_ngcontent-%COMP%]{margin-bottom:14pt}p.caption[_ngcontent-%COMP%]{text-align:center}div.noword[_ngcontent-%COMP%]{margin-bottom:14pt}div[_ngcontent-%COMP%]   .margin30[_ngcontent-%COMP%]{margin-left:3em}div[_ngcontent-%COMP%]   .margin50[_ngcontent-%COMP%]{margin-left:5em}div[_ngcontent-%COMP%]   .margin70[_ngcontent-%COMP%]{margin-left:7em}div[_ngcontent-%COMP%]   .margin110[_ngcontent-%COMP%]{margin-left:11em}div[_ngcontent-%COMP%]   .margin115[_ngcontent-%COMP%]{margin-left:11.5em}div[_ngcontent-%COMP%]   .margin130[_ngcontent-%COMP%]{margin-left:13em}table.title[_ngcontent-%COMP%]{text-align:center;border:1px solid black;font-size:12px;width:454px;table-layout:fixed}table.formula[_ngcontent-%COMP%]{text-align:center;font-size:12px;margin:0}table.formula[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{border-top:1px solid black}table.formula[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{border-bottom:1px solid black}.cell_title1[_ngcontent-%COMP%]{font-size:10pt;text-align:left;margin-top:14px}.cell_title2[_ngcontent-%COMP%]{font-size:10pt;text-align:right}.sheet-table[_ngcontent-%COMP%]{background:white;box-shadow:0 .5mm 2mm #0000004d;margin:5mm auto;overflow:hidden;position:relative;box-sizing:border-box;page-break-after:always;height:1123px;width:794px;padding-top:80px;padding-left:80px;padding-right:80px}table.main[_ngcontent-%COMP%]{font-size:10px;table-layout:fixed;margin:0}table.main[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.main[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;white-space:nowrap;margin:0}table.main[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{width:50px;height:12px;margin:0}table.main[_ngcontent-%COMP%]   .minwidth[_ngcontent-%COMP%]{min-width:100px}table.main[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:10px}table.main[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.main[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:10px}table.main[_ngcontent-%COMP%]   .cell_name1[_ngcontent-%COMP%]{table-layout:fixed;width:134px}table.main[_ngcontent-%COMP%]   .cell_name2[_ngcontent-%COMP%]{table-layout:fixed;width:65px}table.main[_ngcontent-%COMP%]   .cell_name3[_ngcontent-%COMP%]{table-layout:fixed;width:69px}table.main[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.main[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.main[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.main[_ngcontent-%COMP%]   .g-bottom3[_ngcontent-%COMP%]{border-bottom:0}table.main[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.center[_ngcontent-%COMP%]{text-align:center}.caption-top[_ngcontent-%COMP%]{caption-side:top;font-size:12px}table.spreadsheet[_ngcontent-%COMP%]{font-size:12px;table-layout:fixed;margin:0;border:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:12px}table.spreadsheet[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left;padding-left:2px}table.spreadsheet[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}table.spreadsheet[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right;padding-right:2px}table.spreadsheet[_ngcontent-%COMP%]   .g-top1[_ngcontent-%COMP%]{border-top:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-right1[_ngcontent-%COMP%]{border-right:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom1[_ngcontent-%COMP%]{border-bottom:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-left1[_ngcontent-%COMP%]{border-left:1px solid lightgray}table.spreadsheet[_ngcontent-%COMP%]   .g-top2[_ngcontent-%COMP%]{border-top:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-right2[_ngcontent-%COMP%]{border-right:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-bottom2[_ngcontent-%COMP%]{border-bottom:1px solid black}table.spreadsheet[_ngcontent-%COMP%]   .g-left2[_ngcontent-%COMP%]{border-left:1px solid black}.sheet-title2[_ngcontent-%COMP%]{margin:0;font-size:14px;text-align:left}.sheet-title2[_ngcontent-%COMP%]   .pad05[_ngcontent-%COMP%]{padding-left:.5em}.sheet-title2[_ngcontent-%COMP%]   .pad10[_ngcontent-%COMP%]{padding-left:1em}.sheet-title2[_ngcontent-%COMP%]   .pad20[_ngcontent-%COMP%]{padding-left:2em}.sheet-title2[_ngcontent-%COMP%]   .pad30[_ngcontent-%COMP%]{padding-left:3em}.sheet-title2[_ngcontent-%COMP%]   .pad35[_ngcontent-%COMP%]{padding-left:3.5em}.sheet-title2[_ngcontent-%COMP%]   .pad40[_ngcontent-%COMP%]{padding-left:4em}.sheet-title2[_ngcontent-%COMP%]   .pad45[_ngcontent-%COMP%]{padding-left:4.5em}.sheet-title2[_ngcontent-%COMP%]   .pad50[_ngcontent-%COMP%]{padding-left:5em}.sheet-title2[_ngcontent-%COMP%]   .pad55[_ngcontent-%COMP%]{padding-left:5.5em}.sheet-title2[_ngcontent-%COMP%]   .indent10[_ngcontent-%COMP%]{text-indent:1em}.sheet-title2[_ngcontent-%COMP%]   img.flow[_ngcontent-%COMP%]{width:60%;height:60%;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   img.flow2[_ngcontent-%COMP%]{width:600px;height:263px;padding-top:10px}.sheet-title2[_ngcontent-%COMP%]   div.flow-align[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:14px}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .left[_ngcontent-%COMP%]{text-align:left}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{text-align:right}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .top[_ngcontent-%COMP%]{vertical-align:top}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   .middle[_ngcontent-%COMP%]{vertical-align:middle}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]{text-align:center}.sheet-title2[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   caption[_ngcontent-%COMP%]   .caption-top[_ngcontent-%COMP%]{caption-side:top}']}),t}(),WE=["grid"];function jE(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"li",14),i.TgZ(1,"a",15),i.NdJ("click",function(){var t=i.CHM(n).index;return i.oxw().activePageChenge(t)}),i.TgZ(2,"span"),i._uU(3),i.qZA(),i.qZA(),i.qZA()}if(2&t){var r=e.index,a=i.oxw();i.xp6(1),i.MGl("id","crk",r,""),i.xp6(2),i.Oqu(a.getGroupeName(r))}}var YE=[{path:"",redirectTo:"/blank-page",pathMatch:"full"},{path:"basic-information",component:gh},{path:"members",component:yh},{path:"design-points",component:wh},{path:"bars",component:Mh},{path:"steels",component:rb},{path:"crack",component:function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.crack=e,this.save=n,this.helper=i,this.option_list=new Array,this.columnHeaders=new Array}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this.save.isManual();this.setTitle(t),this.table_datas=this.crack.getTableColumns(),this.options=new Array;for(var e=0;e<this.table_datas.length;e++){var n={showTop:!1,reactive:!0,sortable:!1,locale:"jp",height:this.tableHeight().toString(),width:t?540:650,numberCell:{show:!1},colModel:this.columnHeaders,dataModel:{data:this.table_datas[e]},freezeCols:this.save.isManual()?2:3};this.option_list.push(n)}this.options=this.option_list[0],this.groupe_name=new Array;for(var i=0;i<this.table_datas.length;i++)this.groupe_name.push(this.crack.getGroupeName(i))}},{key:"ngAfterViewInit",value:function(){this.activeButtons(0)}},{key:"setTitle",value:function(t){this.columnHeaders=t?[{title:"",align:"center",dataType:"integer",dataIndx:"m_no",editable:!1,frozen:!0,sortable:!1,width:60,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}}]:[{title:"\u90e8\u6750\n\u756a\u53f7",align:"center",dataType:"integer",dataIndx:"m_no",editable:!1,frozen:!0,sortable:!1,width:60,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u4f4d\u7f6e",dataType:"float",format:"#.000",dataIndx:"position",editable:!1,frozen:!0,sortable:!1,width:110,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}}],this.columnHeaders.push({title:"\u7b97\u51fa\u70b9\u540d",dataType:"string",dataIndx:"p_name",editable:!1,frozen:!0,sortable:!1,width:250,style:{background:"#f5f5f5"},styleHead:{background:"#f5f5f5"}},{title:"\u533a\u9593No",dataType:"integer",dataIndx:"section",sortable:!1,width:70},{title:"\u5c40\u90e8\u5ea7\u5c48",align:"center",colModel:[{title:"\u4e0a\u5074",align:"center",dataType:"bool",dataIndx:"buckle_u",type:"checkbox",sortable:!1,width:50},{title:"\u305b\u3093\u65ad",align:"center",dataType:"bool",dataIndx:"buckle_s",type:"checkbox",sortable:!1,width:50},{title:"\u4e0b\u5074",align:"center",dataType:"bool",dataIndx:"buckle_l",type:"checkbox",sortable:!1,width:50}]})}},{key:"getGroupeName",value:function(t){return this.groupe_name[t]}},{key:"ngOnDestroy",value:function(){this.saveData()}},{key:"saveData",value:function(){var t,e=[],n=_createForOfIteratorHelper(this.table_datas);try{for(n.s();!(t=n.n()).done;){var i,r=_createForOfIteratorHelper(t.value);try{for(r.s();!(i=r.n()).done;){var a=i.value;e.push(a)}}catch(o){r.e(o)}finally{r.f()}}}catch(o){n.e(o)}finally{n.f()}this.crack.setTableColumns(e)}},{key:"tableHeight",value:function(){var t=window.innerHeight;return t-=230}},{key:"activePageChenge",value:function(t){this.activeButtons(t),this.options=this.option_list[t],this.grid.options=this.options,this.grid.refreshDataAndView()}},{key:"activeButtons",value:function(t){for(var e=0;e<=this.table_datas.length;e++){var n=document.getElementById("crk"+e);null!=n&&(e===t?n.classList.add("is-active"):n.classList.contains("is-active")&&n.classList.remove("is-active"))}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(eh),i.Y36(oh),i.Y36(Qc))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-crack-settings"]],viewQuery:function(t,e){var n;(1&t&&i.Gf(WE,5),2&t)&&(i.iGM(n=i.CRH())&&(e.grid=n.first))},decls:98,vars:2,consts:[[1,"c-subNavArea"],[1,"c-subNavArea__nav"],["class","c-subNavArea__navItem",4,"ngFor","ngForOf"],[1,"crack"],[1,"ht-container"],["ht_container",""],[3,"options"],["grid",""],[1,"guide"],["rowspan","2"],["colspan","3"],["src","../../assets/img/EffectiveWidth_SimpleBeam.png"],["rowspan","5"],["src","../../assets/img/EffectiveWidth_ContinuousBeam.png"],[1,"c-subNavArea__navItem"],[1,"c-subNavArea__navItemTitle",3,"id","click"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"nav"),i.TgZ(2,"ul",1),i.YNc(3,jE,4,2,"li",2),i.qZA(),i.qZA(),i.qZA(),i.TgZ(4,"div",3),i.TgZ(5,"div",4,5),i._UZ(7,"app-sheet",6,7),i.qZA(),i.TgZ(9,"div",8),i.TgZ(10,"p"),i._uU(11,"\u30d5\u30e9\u30f3\u30b8\u306e\u6709\u52b9\u5e45"),i.qZA(),i.TgZ(12,"table"),i.TgZ(13,"thead"),i.TgZ(14,"tr"),i._UZ(15,"th",9),i.TgZ(16,"th",9),i._uU(17,"\u533a\u9593"),i._UZ(18,"br"),i._uU(19,"(\u7b87\u6240)"),i.qZA(),i.TgZ(20,"th",10),i._uU(21,"\u7247\u5074\u6709\u52b9\u5e45\u03bb"),i.TgZ(22,"sub"),i._uU(23,"i"),i.qZA(),i.qZA(),i.TgZ(24,"th",9),i._uU(25,"\u7247\u5074\u6709\u52b9\u5e45\u306e\u5206\u5e03"),i.qZA(),i.qZA(),i.TgZ(26,"tr"),i.TgZ(27,"th"),i._uU(28,"\u8a18\u53f7"),i.qZA(),i.TgZ(29,"th"),i._uU(30,"\u9069\u7528\u5f0f"),i.qZA(),i.TgZ(31,"th"),i._uU(32,"\u7b49\u4fa1\u652f\u9593\u9577l"),i.TgZ(33,"sub"),i._uU(34,"i"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(35,"tbody"),i.TgZ(36,"tr"),i.TgZ(37,"td"),i._uU(38,"\u5358\u7d14\u6881"),i.qZA(),i.TgZ(39,"td"),i._uU(40,"1"),i.qZA(),i.TgZ(41,"td"),i._uU(42,"\u03bb\u2460"),i.qZA(),i.TgZ(43,"td"),i._uU(44,"\u5f0f"),i.qZA(),i.TgZ(45,"td"),i._uU(46,"LL"),i.qZA(),i.TgZ(47,"td"),i._UZ(48,"img",11),i.qZA(),i.qZA(),i.TgZ(49,"tr"),i.TgZ(50,"td",12),i._uU(51,"\u9023\u7d9a\u6881"),i.qZA(),i.TgZ(52,"td"),i._uU(53,"1"),i.qZA(),i.TgZ(54,"td"),i._uU(55,"\u03bb\u2460"),i.qZA(),i.TgZ(56,"td"),i._uU(57,"\u5f0f"),i.qZA(),i.TgZ(58,"td"),i._uU(59,"LL"),i.qZA(),i.TgZ(60,"td",12),i._UZ(61,"img",13),i.qZA(),i.qZA(),i.TgZ(62,"tr"),i.TgZ(63,"td"),i._uU(64,"5"),i.qZA(),i.TgZ(65,"td"),i._uU(66,"\u03bb\u2464"),i.qZA(),i.TgZ(67,"td"),i._uU(68,"\u5f0f"),i.qZA(),i.TgZ(69,"td"),i._uU(70,"LL"),i.qZA(),i.qZA(),i.TgZ(71,"tr"),i.TgZ(72,"td"),i._uU(73,"3"),i.qZA(),i.TgZ(74,"td"),i._uU(75,"\u03bb\u2462"),i.qZA(),i.TgZ(76,"td"),i._uU(77,"\u5f0f"),i.qZA(),i.TgZ(78,"td"),i._uU(79,"LL"),i.qZA(),i.qZA(),i.TgZ(80,"tr"),i.TgZ(81,"td"),i._uU(82,"7"),i.qZA(),i.TgZ(83,"td"),i._uU(84,"\u03bb\u2466"),i.qZA(),i.TgZ(85,"td"),i._uU(86,"\u5f0f"),i.qZA(),i.TgZ(87,"td"),i._uU(88,"LL"),i.qZA(),i.qZA(),i.TgZ(89,"tr"),i.TgZ(90,"td"),i._uU(91,"2, 4,"),i._UZ(92,"br"),i._uU(93,"6, 8"),i.qZA(),i.TgZ(94,"td",10),i._uU(95,"\u4e21\u7aef\u306e\u7247\u5074\u6709\u52b9\u5e45\u3092\u7528\u3044\u3066"),i._UZ(96,"br"),i._uU(97,"\u76f4\u7dda\u5909\u5316\u3055\u305b\u308b"),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(3),i.Q6J("ngForOf",e.table_datas),i.xp6(4),i.Q6J("options",e.options))},directives:[P,ch],styles:[".footer[_ngcontent-%COMP%]{margin-top:10px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0}.footer[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #cfcfcf;font-weight:normal;font-size:14px;text-align:center;padding:0}.footer[_ngcontent-%COMP%]   .left-table[_ngcontent-%COMP%]{float:left}.footer[_ngcontent-%COMP%]   .right-table[_ngcontent-%COMP%]{float:left;margin-left:15px}.guide[_ngcontent-%COMP%]{margin-top:10px;margin-left:15px}.guide[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:0}.guide[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], .guide[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .guide[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #cfcfcf;font-weight:normal;font-size:14px;text-align:center;padding:0}.guide[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%], .guide[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%], .guide[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child   img[_ngcontent-%COMP%]{width:100px;height:100px;border:0}@media screen and (max-width: 890px){.crack[_ngcontent-%COMP%]{display:block}}",'@charset "UTF-8";.c-subNavArea__nav[_ngcontent-%COMP%]{text-align:left;margin-left:-10px;font-size:0;background:#fff;color:#2f3f4e;font-size:14px}.c-subNavArea[_ngcontent-%COMP%]   a.is-active[_ngcontent-%COMP%]{background:#2f3f4e;color:#fff}.c-subNavArea__navItem[_ngcontent-%COMP%]{display:inline-block;margin-left:10px;font-size:14px}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]{transform:translate(0);display:block;border-bottom:1px solid #000080;padding:10px 15px;font-size:16px;color:#2f3f4e;cursor:pointer;position:relative}.c-subNavArea__navItemTitle[_ngcontent-%COMP%]:hover{background:#2f3f4e0c;text-decoration:none}']}),t}()},{path:"fatigues",component:sb},{path:"safety-factors-material-strengths",component:pb},{path:"section-forces",component:vb},{path:"calculation-print",component:Pb},{path:"result-viewer",component:VE},{path:"blank-page",component:Yc}],QE=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[Uc.forRoot(YE,{useHash:!1,scrollPositionRestoration:"enabled",anchorScrolling:"enabled",relativeLinkResolution:"legacy"})],Uc]}),t}();function JE(t,e){if(1&t&&(i.TgZ(0,"div"),i._uU(1),i.qZA()),2&t){var n=i.oxw();i.xp6(1),i.hij(" ",n.errorMessage," ")}}function XE(t,e){1&t&&(i.TgZ(0,"div"),i.TgZ(1,"div",15),i.TgZ(2,"span",16),i._uU(3,"Loading..."),i.qZA(),i.qZA(),i.qZA())}var $E=function(){var t=function(){function t(e,n,i){_classCallCheck(this,t),this.activeModal=e,this.auth=n,this.fb=i,this.loginError=!1,this.connecting=!1}return _createClass(t,[{key:"ngOnInit",value:function(){this.loginForm=this.fb.group({email:["",[qt.required,qt.email]],password:["",[qt.required]]})}},{key:"login",value:function(){var t=this;this.connecting=!0;var e=this.loginForm.get("email").value,n=this.loginForm.get("password").value;this.auth.signInWithEmailAndPassword(e,n).then(function(e){return t.connecting=!1,e.user.emailVerified?t.activeModal.close("Submit"):(t.auth.signOut(),Promise.reject("\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\u304c\u78ba\u8a8d\u3067\u304d\u3066\u3044\u307e\u305b\u3093\u3002"))}).catch(function(e){t.connecting=!1,t.loginError=!0,t.errorMessage=e,alert("\u30ed\u30b0\u30a4\u30f3\u306b\u5931\u6557\u3057\u307e\u3057\u305f\u3002\n"+e)})}},{key:"goToLink",value:function(){window.open("https://structuralengine.com/stripe","_blank")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(Nw),i.Y36(Sb),i.Y36(un))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-login-dialog"]],decls:22,vars:5,consts:[[1,"modal-header"],[1,"a",3,"click"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"formGroup","ngSubmit","submit"],["for","email"],["type","email","name","mail","required","","email","","formControlName","email","placeholder","Username","id","user_name_id",1,"form-control",3,"ngModel","ngModelChange"],["for","password"],["type","password","formControlName","password","placeholder","Password","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit","id","submit"],[4,"ngIf"],[1,"modal-footer"],[1,"btn","btn-outline-success",3,"click"],["type","button",1,"btn","btn-outline-dark",3,"click"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"a",1),i.NdJ("click",function(){return e.goToLink()}),i._uU(2,"\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u304c\u304a\u6e08\u307f\u3067\u306a\u3044\u65b9\u306f\u3053\u3061\u3089\u304b\u3089"),i.qZA(),i.TgZ(3,"button",2),i.NdJ("click",function(){return e.activeModal.close()}),i.TgZ(4,"span",3),i._uU(5,"\xd7"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(6,"div",4),i.TgZ(7,"form",5),i.NdJ("ngSubmit",function(){return e.login()})("submit",function(){return e.login()}),i.TgZ(8,"label",6),i._uU(9,"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"),i.qZA(),i.TgZ(10,"input",7),i.NdJ("ngModelChange",function(t){return e.loginUserName=t}),i.qZA(),i.TgZ(11,"label",8),i._uU(12,"\u30d1\u30b9\u30ef\u30fc\u30c9"),i.qZA(),i.TgZ(13,"input",9),i.NdJ("ngModelChange",function(t){return e.loginPassword=t}),i.qZA(),i._UZ(14,"input",10),i.qZA(),i.YNc(15,JE,2,1,"div",11),i.qZA(),i.TgZ(16,"div",12),i.YNc(17,XE,4,0,"div",11),i.TgZ(18,"button",13),i.NdJ("click",function(){return e.login()}),i._uU(19,"\u30ed\u30b0\u30a4\u30f3"),i.qZA(),i.TgZ(20,"button",14),i.NdJ("click",function(){return e.activeModal.close()}),i._uU(21,"\u30ad\u30e3\u30f3\u30bb\u30eb"),i.qZA(),i.qZA()),2&t&&(i.xp6(7),i.Q6J("formGroup",e.loginForm),i.xp6(3),i.Q6J("ngModel",e.loginUserName),i.xp6(3),i.Q6J("ngModel",e.loginPassword),i.xp6(2),i.Q6J("ngIf",e.loginError),i.xp6(2),i.Q6J("ngIf",e.connecting))},directives:[Ve,fe,$e,Nt,nn,an,de,tn,O],styles:["#submit[_ngcontent-%COMP%]{display:none}.a[_ngcontent-%COMP%]{display:block;color:#00f}"]}),t}(),KE=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-wait-dialog"]],decls:2,vars:0,consts:[["CLASS","transmission"],["src","./assets/img/loading.gif"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"img",1),i.qZA())},styles:[""]}),t}(),tP=n(9457),eP=_createClass(function t(){_classCallCheck(this,t)}),nP=function(){var t,e=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"getTranslation",value:function(t){return(0,cn.of)({})}}]),n}(eP);return e.\u0275fac=function(n){return(t||(t=i.n5z(e)))(n||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),iP=_createClass(function t(){_classCallCheck(this,t)}),rP=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"handle",value:function(t){return t.key}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}();function aP(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!=t&&e!=e)return!0;var n,i,r,a=typeof t;if(a==typeof e&&"object"==a){if(!Array.isArray(t)){if(Array.isArray(e))return!1;for(i in r=Object.create(null),t){if(!aP(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r)&&void 0!==e[i])return!1;return!0}if(!Array.isArray(e))return!1;if((n=t.length)==e.length){for(i=0;i<n;i++)if(!aP(t[i],e[i]))return!1;return!0}}return!1}function oP(t){return null!=t}function sP(t){return t&&"object"==typeof t&&!Array.isArray(t)}function lP(t,e){var n=Object.assign({},t);return sP(t)&&sP(e)&&Object.keys(e).forEach(function(i){sP(e[i])&&i in t?n[i]=lP(t[i],e[i]):Object.assign(n,_defineProperty({},i,e[i]))}),n}var uP=_createClass(function t(){_classCallCheck(this,t)}),cP=function(){var t,e=function(t){_inherits(n,t);var e=_createSuper(n);function n(){var t;return _classCallCheck(this,n),(t=e.apply(this,arguments)).templateMatcher=/{{\s?([^{}\s]*)\s?}}/g,t}return _createClass(n,[{key:"interpolate",value:function(t,e){return"string"==typeof t?this.interpolateString(t,e):"function"==typeof t?this.interpolateFunction(t,e):t}},{key:"getValue",value:function(t,e){var n="string"==typeof e?e.split("."):[e];e="";do{e+=n.shift(),!oP(t)||!oP(t[e])||"object"!=typeof t[e]&&n.length?n.length?e+=".":t=void 0:(t=t[e],e="")}while(n.length);return t}},{key:"interpolateFunction",value:function(t,e){return t(e)}},{key:"interpolateString",value:function(t,e){var n=this;return e?t.replace(this.templateMatcher,function(t,i){var r=n.getValue(e,i);return oP(r)?r:t}):t}}]),n}(uP);return e.\u0275fac=function(n){return(t||(t=i.n5z(e)))(n||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),hP=_createClass(function t(){_classCallCheck(this,t)}),dP=function(){var t,e=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.apply(this,arguments)}return _createClass(n,[{key:"compile",value:function(t,e){return t}},{key:"compileTranslations",value:function(t,e){return t}}]),n}(hP);return e.\u0275fac=function(n){return(t||(t=i.n5z(e)))(n||e)},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac}),e}(),fP=_createClass(function t(){_classCallCheck(this,t),this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.vpe,this.onLangChange=new i.vpe,this.onDefaultLangChange=new i.vpe}),pP=new i.OlP("USE_STORE"),gP=new i.OlP("USE_DEFAULT_LANG"),vP=new i.OlP("DEFAULT_LANGUAGE"),mP=new i.OlP("USE_EXTEND"),_P=function(){var t=function(){function t(e,n,r,a,o){var s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],u=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=arguments.length>8?arguments[8]:void 0;_classCallCheck(this,t),this.store=e,this.currentLoader=n,this.compiler=r,this.parser=a,this.missingTranslationHandler=o,this.useDefaultLang=s,this.isolate=l,this.extend=u,this.pending=!1,this._onTranslationChange=new i.vpe,this._onLangChange=new i.vpe,this._onDefaultLangChange=new i.vpe,this._langs=[],this._translations={},this._translationRequests={},c&&this.setDefaultLang(c)}return _createClass(t,[{key:"onTranslationChange",get:function(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}},{key:"onLangChange",get:function(){return this.isolate?this._onLangChange:this.store.onLangChange}},{key:"onDefaultLangChange",get:function(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}},{key:"defaultLang",get:function(){return this.isolate?this._defaultLang:this.store.defaultLang},set:function(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}},{key:"currentLang",get:function(){return this.isolate?this._currentLang:this.store.currentLang},set:function(t){this.isolate?this._currentLang=t:this.store.currentLang=t}},{key:"langs",get:function(){return this.isolate?this._langs:this.store.langs},set:function(t){this.isolate?this._langs=t:this.store.langs=t}},{key:"translations",get:function(){return this.isolate?this._translations:this.store.translations},set:function(t){this.isolate?this._translations=t:this.store.translations=t}},{key:"setDefaultLang",value:function(t){var e=this;if(t!==this.defaultLang){var n=this.retrieveTranslations(t);void 0!==n?(null==this.defaultLang&&(this.defaultLang=t),n.pipe(zi(1)).subscribe(function(n){e.changeDefaultLang(t)})):this.changeDefaultLang(t)}}},{key:"getDefaultLang",value:function(){return this.defaultLang}},{key:"use",value:function(t){var e=this;if(t===this.currentLang)return(0,cn.of)(this.translations[t]);var n=this.retrieveTranslations(t);return void 0!==n?(this.currentLang||(this.currentLang=t),n.pipe(zi(1)).subscribe(function(n){e.changeLang(t)}),n):(this.changeLang(t),(0,cn.of)(this.translations[t]))}},{key:"retrieveTranslations",value:function(t){var e;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),e=this._translationRequests[t]),e}},{key:"getTranslation",value:function(t){var e=this;this.pending=!0;var n=this.currentLoader.getTranslation(t).pipe(Ei(1),zi(1));return this.loadingTranslations=n.pipe((0,Mt.U)(function(n){return e.compiler.compileTranslations(n,t)}),Ei(1),zi(1)),this.loadingTranslations.subscribe({next:function(n){e.translations[t]=e.extend&&e.translations[t]?Object.assign(Object.assign({},n),e.translations[t]):n,e.updateLangs(),e.pending=!1},error:function(t){e.pending=!1}}),n}},{key:"setTranslation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=this.compiler.compileTranslations(e,t),this.translations[t]=(n||this.extend)&&this.translations[t]?lP(this.translations[t],e):e,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}},{key:"getLangs",value:function(){return this.langs}},{key:"addLangs",value:function(t){var e=this;t.forEach(function(t){-1===e.langs.indexOf(t)&&e.langs.push(t)})}},{key:"updateLangs",value:function(){this.addLangs(Object.keys(this.translations))}},{key:"getParsedResult",value:function(t,e,n){var i;if(e instanceof Array){var r,a={},o=!1,s=_createForOfIteratorHelper(e);try{for(s.s();!(r=s.n()).done;){var l=r.value;a[l]=this.getParsedResult(t,l,n),ai(a[l])&&(o=!0)}}catch(c){s.e(c)}finally{s.f()}return o?St(e.map(function(t){return ai(a[t])?a[t]:(0,cn.of)(a[t])})).pipe((0,Mt.U)(function(t){var n={};return t.forEach(function(t,i){n[e[i]]=t}),n})):a}if(t&&(i=this.parser.interpolate(this.parser.getValue(t,e),n)),void 0===i&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(i=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],e),n)),void 0===i){var u={key:e,translateService:this};void 0!==n&&(u.interpolateParams=n),i=this.missingTranslationHandler.handle(u)}return void 0!==i?i:e}},{key:"get",value:function(t,e){var n=this;if(!oP(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(dn(function(i){return ai(i=n.getParsedResult(i,t,e))?i:(0,cn.of)(i)}));var i=this.getParsedResult(this.translations[this.currentLang],t,e);return ai(i)?i:(0,cn.of)(i)}},{key:"getStreamOnTranslationChange",value:function(t,e){var n=this;if(!oP(t)||!t.length)throw new Error('Parameter "key" required');return _i(Ms(function(){return n.get(t,e)}),this.onTranslationChange.pipe(yi(function(i){var r=n.getParsedResult(i.translations,t,e);return"function"==typeof r.subscribe?r:(0,cn.of)(r)})))}},{key:"stream",value:function(t,e){var n=this;if(!oP(t)||!t.length)throw new Error('Parameter "key" required');return _i(Ms(function(){return n.get(t,e)}),this.onLangChange.pipe(yi(function(i){var r=n.getParsedResult(i.translations,t,e);return ai(r)?r:(0,cn.of)(r)})))}},{key:"instant",value:function(t,e){if(!oP(t)||!t.length)throw new Error('Parameter "key" required');var n=this.getParsedResult(this.translations[this.currentLang],t,e);if(ai(n)){if(t instanceof Array){var i={};return t.forEach(function(e,n){i[t[n]]=t[n]}),i}return t}return n}},{key:"set",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentLang;this.translations[n][t]=this.compiler.compile(e,n),this.updateLangs(),this.onTranslationChange.emit({lang:n,translations:this.translations[n]})}},{key:"changeLang",value:function(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}},{key:"changeDefaultLang",value:function(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}},{key:"reloadLang",value:function(t){return this.resetLang(t),this.getTranslation(t)}},{key:"resetLang",value:function(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}},{key:"getBrowserLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return void 0!==(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage)?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}}},{key:"getBrowserCultureLang",value:function(){if("undefined"!=typeof window&&void 0!==window.navigator){var t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(fP),i.LFG(eP),i.LFG(hP),i.LFG(uP),i.LFG(iP),i.LFG(gP),i.LFG(pP),i.LFG(mP),i.LFG(vP))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),yP=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this._ref=n,this.value=""}return _createClass(t,[{key:"updateValue",value:function(t,e,n){var i=this,r=function(e){i.value=void 0!==e?e:t,i.lastKey=t,i._ref.markForCheck()};if(n){var a=this.translate.getParsedResult(n,t,e);ai(a.subscribe)?a.subscribe(r):r(a)}this.translate.get(t,e).subscribe(r)}},{key:"transform",value:function(t){var e,n=this;if(!t||!t.length)return t;for(var i=arguments.length,r=new Array(i>1?i-1:0),a=1;a<i;a++)r[a-1]=arguments[a];if(aP(t,this.lastKey)&&aP(r,this.lastParams))return this.value;if(oP(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){var o=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{e=JSON.parse(o)}catch(s){throw new SyntaxError("Wrong parameter in TranslatePipe. Expected a valid Object, received: ".concat(r[0]))}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(e=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,e),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(function(i){n.lastKey&&i.lang===n.translate.currentLang&&(n.lastKey=null,n.updateValue(t,e,i.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(function(i){n.lastKey&&(n.lastKey=null,n.updateValue(t,e,i.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(function(){n.lastKey&&(n.lastKey=null,n.updateValue(t,e))})),this.value}},{key:"_dispose",value:function(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}},{key:"ngOnDestroy",value:function(){this._dispose()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(_P,16),i.Y36(i.sBO,16))},t.\u0275pipe=i.Yjl({name:"translate",type:t,pure:!1}),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),bP=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"forRoot",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:eP,useClass:nP},e.compiler||{provide:hP,useClass:dP},e.parser||{provide:uP,useClass:cP},e.missingTranslationHandler||{provide:iP,useClass:rP},fP,{provide:pP,useValue:e.isolate},{provide:gP,useValue:e.useDefaultLang},{provide:mP,useValue:e.extend},{provide:vP,useValue:e.defaultLanguage},_P]}}},{key:"forChild",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.loader||{provide:eP,useClass:nP},e.compiler||{provide:hP,useClass:dP},e.parser||{provide:uP,useClass:cP},e.missingTranslationHandler||{provide:iP,useClass:rP},{provide:pP,useValue:e.isolate},{provide:gP,useValue:e.useDefaultLang},{provide:mP,useValue:e.extend},{provide:vP,useValue:e.defaultLanguage},_P]}}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t}(),xP=function(){var t=function(){function t(e,n){_classCallCheck(this,t),this.translate=e,this.helper=n,this.languageIndex={ja:"\u65e5\u672c\u8a9e",en:"English"},this.browserLang=e.getBrowserLang(),e.use(this.browserLang)}return _createClass(t,[{key:"trans",value:function(t){this.browserLang=t,this.translate.use(this.browserLang)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.LFG(_P),i.LFG(Qc))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),wP=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"electron",get:function(){return this._electron?this._electron:window&&window.require?(this._electron=window.require("electron"),this._electron):null}},{key:"isElectronApp",get:function(){return!!window.navigator.userAgent.match(/Electron/)}},{key:"isMacOS",get:function(){return this.isElectronApp&&"darwin"===process.platform}},{key:"isWindows",get:function(){return this.isElectronApp&&"win32"===process.platform}},{key:"isLinux",get:function(){return this.isElectronApp&&"linux"===process.platform}},{key:"isX86",get:function(){return this.isElectronApp&&"ia32"===process.arch}},{key:"isX64",get:function(){return this.isElectronApp&&"x64"===process.arch}},{key:"isArm",get:function(){return this.isElectronApp&&"arm"===process.arch}},{key:"desktopCapturer",get:function(){return this.electron?this.electron.desktopCapturer:null}},{key:"ipcRenderer",get:function(){return this.electron?this.electron.ipcRenderer:null}},{key:"remote",get:function(){return this.electron?this.electron.remote:null}},{key:"webFrame",get:function(){return this.electron?this.electron.webFrame:null}},{key:"clipboard",get:function(){return this.electron?this.electron.clipboard:null}},{key:"crashReporter",get:function(){return this.electron?this.electron.crashReporter:null}},{key:"process",get:function(){return this.remote?this.remote.process:null}},{key:"nativeImage",get:function(){return this.electron?this.electron.nativeImage:null}},{key:"screen",get:function(){return this.electron?this.remote.screen:null}},{key:"shell",get:function(){return this.electron?this.electron.shell:null}}]),t}(),kP=function(){var t=function(t){_inherits(n,t);var e=_createSuper(n);function n(){return _classCallCheck(this,n),e.call(this)}return _createClass(n)}(wP);return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t}(),CP=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[{provide:wP,useClass:kP}]}),t}();function MP(t,e){if(1&t){var n=i.EpF();i.ynx(0),i.TgZ(1,"label",9),i.TgZ(2,"span",10),i._uU(3," \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f "),i.TgZ(4,"input",11),i.NdJ("change",function(t){return i.CHM(n),i.oxw().open(t)}),i.qZA(),i.qZA(),i.qZA(),i.BQk()}}function TP(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){return i.CHM(n),i.oxw().open_electron()}),i._uU(1," \u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f "),i.qZA()}}function SP(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"button",6),i.NdJ("click",function(){return i.CHM(n),i.oxw().overWrite()}),i._uU(1," \u4e0a\u66f8\u304d\u4fdd\u5b58 "),i.qZA()}}function AP(t,e){1&t&&i._UZ(0,"div",26)}function EP(t,e){if(1&t&&(i.TgZ(0,"h1"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&t){var n=i.oxw();i.xp6(1),i.AsE("",i.lcZ(2,2,"menu.softName")," ver.",n.version,"")}}function PP(t,e){if(1&t&&(i.TgZ(0,"h1"),i._uU(1),i.qZA()),2&t){var n=i.oxw();i.xp6(1),i.Oqu(n.fileName)}}function IP(t,e){if(1&t){var n=i.EpF();i.ynx(0),i.TgZ(1,"a",27),i.NdJ("click",function(){var t=i.CHM(n).$implicit;return i.oxw().language.trans(t.key)}),i._uU(2),i.qZA(),i.BQk()}if(2&t){var r=e.$implicit;i.xp6(2),i.Oqu(r.value)}}function OP(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"div",28),i.TgZ(1,"div",19),i.TgZ(2,"a",29),i._UZ(3,"i",30),i._uU(4),i.qZA(),i.TgZ(5,"div",5),i.TgZ(6,"a",31),i.NdJ("click",function(){return i.CHM(n),i.oxw().auth.signOut()})("click",function(){return i.CHM(n),i.oxw().logOut()}),i._uU(7,"\u30ed\u30b0\u30a2\u30a6\u30c8"),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){var r=e.ngIf;i.xp6(4),i.Oqu(r.displayName)}}function RP(t,e){if(1&t){var n=i.EpF();i.TgZ(0,"a",32),i.NdJ("click",function(){return i.CHM(n),i.oxw().logIn()}),i._UZ(1,"i",33),i._uU(2," \u30ed\u30b0\u30a4\u30f3 "),i.qZA()}}var LP=function(){var t=function(){function t(e,n,i,r,a,o,s,l,u,c,h){_classCallCheck(this,t),this.modalService=e,this.app=n,this.save=i,this.members=r,this.points=a,this.helper=o,this.router=s,this.config=l,this.auth=u,this.language=c,this.electronService=h,this.fileName="",this.pickup_file_name="",this.version="1.1.0"}return _createClass(t,[{key:"ngOnInit",value:function(){this.renew()}},{key:"renew",value:function(){var t=this;this.router.navigate(["/blank-page"]),this.app.deactiveButtons(),this.fileName="",this.pickup_file_name="",setTimeout(function(){t.save.clear(),t.app.memberChange(!1)},10)}},{key:"open_electron",value:function(){var t=this.electronService.ipcRenderer.sendSync("open");if(!0===t.status){var e=this.modalService.open(KE);this.fileName=t.path,this.router.navigate(["/blank-page"]),this.app.deactiveButtons(),this.save.readInputData(t.text),this.open_done(e)}else alert("\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f\u3053\u3068\u306b\u5931\u6557\u3057\u307e\u3057\u305f, status:"+t.status)}},{key:"open",value:function(t){var e=this,n=t.target.files[0],i=this.modalService.open(KE);this.fileName=n.name,t.target.value="",this.router.navigate(["/blank-page"]),this.app.deactiveButtons(),this.helper.getExt(this.fileName),this.fileToText(n).then(function(t){e.save.readInputData(t),e.open_done(i)}).catch(function(t){e.open_done(i,t)})}},{key:"open_done",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===e?(this.pickup_file_name=this.save.getPickupFilename(),this.app.memberChange(),this.app.designPointChange()):console.log(e),t.close()}},{key:"overWrite",value:function(){if(""!==this.fileName){var t=this.save.getInputText();this.fileName=this.electronService.ipcRenderer.sendSync("overWrite",this.fileName,t)}else this.fileSave()}},{key:"pickup",value:function(t){var e=this,n=t.target.files[0],i=this.modalService.open(KE);t.target.value="",this.router.navigate(["/blank-page"]),this.app.deactiveButtons(),this.fileToText(n).then(function(t){e.save.readPickUpData(t,n.name),e.pickup_file_name=e.save.getPickupFilename(),i.close()}).catch(function(t){i.close(),console.log(t)})}},{key:"fileToText",value:function(t){var e=new FileReader;return e.readAsText(t),new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}},{key:"fileSave",value:function(){this.config.saveActiveComponentData();var t=this.save.getInputText();if(0===this.fileName.length&&(this.fileName="WebSteel.wsj"),"wsj"!==this.helper.getExt(this.fileName)&&(this.fileName+=".wsj"),this.electronService.isElectronApp)this.fileName=this.electronService.ipcRenderer.sendSync("saveFile",this.fileName,t);else{var e=new window.Blob([t],{type:"text/plain"});tP.saveAs(e,this.fileName)}}},{key:"logIn",value:function(){this.modalService.open($E).result.then(function(t){})}},{key:"logOut",value:function(){this.auth.signOut()}},{key:"goToLink",value:function(){window.open("https://liberating-rodent-f3f.notion.site/697a045460394d03a8dc859f15bf97ea","_blank")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Y36(zw),i.Y36(mh),i.Y36(oh),i.Y36(Xc),i.Y36($c),i.Y36(Qc),i.Y36(kc),i.Y36(vh),i.Y36(Sb),i.Y36(xP),i.Y36(wP))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-menu"]],decls:40,vars:14,consts:[["id","disTitle",1,"title-and-menu"],[1,"icon-area"],["ngbDropdown","",1,"dropdownmenu"],["id","dropdownBasic1","ngbDropdownToggle","","onfocus","this.blur();",1,"icon","file"],[1,"far","fa-file"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click"],[4,"ngIf"],["ngbDropdownItem","",3,"click",4,"ngIf"],[2,"width","100%","margin","0px"],["ngbDropdownItem",""],["type","file","accept","application/text",2,"display","none",3,"change"],[3,"click"],[1,"far","fa-question-circle"],["class","title",4,"ngIf","ngIfThen","ngIfElse"],["init",""],["file",""],[1,"rightArea"],[1,"language-area"],["ngbDropdown",""],["id","language1","ngbDropdownToggle","",1,"menu-btn","lang"],["ngbDropdownMenu","","aria-labelledby","language1"],[4,"ngFor","ngForOf"],[1,"login-area"],["class","userInfo",4,"ngIf","ngIfElse"],["showLogin",""],[1,"title"],["ngbDropdownItem","",1,"menu-btn",2,"color","#333",3,"click"],[1,"userInfo"],["id","dropdownBasic1","ngbDropdownToggle","","onfocus","this.blur();",1,"menu-btn"],[1,"far","fa-user-circle"],[1,"menu-btn","logOut",3,"click"],[1,"menu-btn",3,"click"],[1,"fas","fa-sign-in-alt"]],template:function(t,e){if(1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"div",1),i.TgZ(2,"ul"),i.TgZ(3,"li"),i.TgZ(4,"div",2),i.TgZ(5,"a",3),i._UZ(6,"i",4),i.qZA(),i.TgZ(7,"div",5),i.TgZ(8,"button",6),i.NdJ("click",function(){return e.renew()}),i._uU(9,"\u65b0\u898f\u4f5c\u6210"),i.qZA(),i.YNc(10,MP,5,0,"ng-container",7),i.YNc(11,TP,2,0,"button",8),i.TgZ(12,"button",6),i.NdJ("click",function(){return e.fileSave()}),i._uU(13,"\u30d5\u30a1\u30a4\u30eb\u3092\u4fdd\u5b58"),i.qZA(),i.YNc(14,SP,2,0,"button",8),i.TgZ(15,"label",9),i.TgZ(16,"span",10),i._uU(17," \u30d4\u30c3\u30af\u30a2\u30c3\u30d7\u30d5\u30a1\u30a4\u30eb\u3092\u958b\u304f "),i.TgZ(18,"input",11),i.NdJ("change",function(t){return e.pickup(t)}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(19,"li"),i.TgZ(20,"a",12),i.NdJ("click",function(){return e.goToLink()}),i._UZ(21,"i",13),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(22,AP,1,0,"div",14),i.YNc(23,EP,3,4,"ng-template",null,15,i.W1O),i.YNc(25,PP,2,1,"ng-template",null,16,i.W1O),i.TgZ(27,"div",17),i.TgZ(28,"div",18),i.TgZ(29,"div",19),i.TgZ(30,"a",20),i._uU(31),i.qZA(),i.TgZ(32,"div",21),i.YNc(33,IP,3,1,"ng-container",22),i.ALo(34,"keyvalue"),i.qZA(),i.qZA(),i.qZA(),i.TgZ(35,"div",23),i.YNc(36,OP,8,1,"div",24),i.ALo(37,"async"),i.qZA(),i.YNc(38,RP,3,0,"ng-template",null,25,i.W1O),i.qZA(),i.qZA()),2&t){var n=i.MAs(24),r=i.MAs(26),a=i.MAs(39);i.xp6(10),i.Q6J("ngIf",!e.electronService.isElectronApp),i.xp6(1),i.Q6J("ngIf",e.electronService.isElectronApp),i.xp6(3),i.Q6J("ngIf",e.electronService.isElectronApp),i.xp6(8),i.Q6J("ngIf",""===e.fileName)("ngIfThen",n)("ngIfElse",r),i.xp6(9),i.Oqu(e.language.languageIndex[e.language.browserLang]),i.xp6(2),i.Q6J("ngForOf",i.lcZ(34,10,e.language.languageIndex)),i.xp6(3),i.Q6J("ngIf",i.lcZ(37,12,e.auth.user))("ngIfElse",a)}},directives:[Ew,Aw,Tw,Mw,O,P],pipes:[U,F,yP],styles:['.welcome-message[_ngcontent-%COMP%]{display:flex}.margin[_ngcontent-%COMP%]{margin:0 5}.dropdownmenu[_ngcontent-%COMP%]{z-index:1050}.title-and-menu[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;font-weight:lighter}@media screen and (max-width: 767px){.title-and-menu[_ngcontent-%COMP%]{display:block;text-align:center}}.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]{display:flex;font-size:20px}.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;display:inline-block;margin-right:8px}.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer}@media screen and (max-width: 767px){.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]{justify-content:center}}.title-and-menu[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#fff}.title-and-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:8px;font-size:24px}.title-and-menu[_ngcontent-%COMP%]   .login-area[_ngcontent-%COMP%]{font-size:16px}.rightArea[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.rightArea[_ngcontent-%COMP%]   .language-area[_ngcontent-%COMP%]{margin-right:16px}i.fas[_ngcontent-%COMP%]{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:lighter}@media screen and (max-width: 767px){h1[_ngcontent-%COMP%]{margin:4px 0}}.login-item[_ngcontent-%COMP%]{color:#fff}.icon-area[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover + .fukidashi[_ngcontent-%COMP%]{display:block}.icon-area[_ngcontent-%COMP%]   a.file[_ngcontent-%COMP%]:checked + .fukidashi[_ngcontent-%COMP%]{display:none}.userInfo[_ngcontent-%COMP%]{display:flex;align-items:center}.menu-btn[_ngcontent-%COMP%]{display:block;width:100%;color:#fff;text-decoration:none}.menu-btn[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.7}.logOut[_ngcontent-%COMP%]{padding:4px;text-align:center;color:#333}@media screen and (max-width: 767px){.userInfo[_ngcontent-%COMP%]{display:block}}.md-radio.md-radio-inline[_ngcontent-%COMP%]{display:inline-block}.md-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]{display:none}.md-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:before{border-color:#337ab7;-webkit-animation:ripple .2s linear forwards;animation:ripple .2s linear forwards}.md-radio[_ngcontent-%COMP%]   input[type=radio][_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:after{transform:scale(1)}.md-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:inline-block;min-height:16px;position:relative;padding:0 26px;margin-bottom:0;cursor:pointer;vertical-align:bottom}.md-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before, .md-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{position:absolute;content:"";border-radius:50%;transition:all .3s ease;transition-property:transform,border-color}.md-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:before{left:0;top:0;width:16px;height:16px;border:2px solid white}.md-radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:after{top:4px;left:4px;width:8px;height:8px;transform:scale(0);background:#337ab7}@media screen and (max-width: 1024px){.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:24px;margin-right:12px}.title-and-menu[_ngcontent-%COMP%]   .icon-area[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-child(3){display:none;margin:0}}']}),t}(),DP=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/assets/i18n/",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".json";_classCallCheck(this,t),this.http=e,this.prefix=n,this.suffix=i}return _createClass(t,[{key:"getTranslation",value:function(t){return this.http.get("".concat(this.prefix).concat(t).concat(this.suffix))}}]),t}(),NP=function(t){return new DP(t,"./assets/i18n/",".json")},ZP=function(){var t=_createClass(function t(){_classCallCheck(this,t)});return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t,bootstrap:[mh]}),t.\u0275inj=i.cJS({providers:[mb,vh,Jc,Xc,$c,Kc,th,nh,ih,rh,ah,oh,Mk,uk,tk,ok,vT,NE,wP],imports:[[xt,z,sn,ln,Jn,QE,Pr,gs,Kw,dk,bb.hO.initializeApp(nk),Qc,bP.forRoot({loader:{provide:eP,useFactory:NP,deps:[Zn]},defaultLanguage:"ja"}),CP]]}),t}();i.B6R(mh,[LP,Tc,Ac,Ec],[]),(0,i.G48)(),yt().bootstrapModule(ZP).catch(function(t){return console.error(t)})},4762:function(t,e,n){"use strict";n.d(e,{ZT:function(){return r},pi:function(){return a},mG:function(){return o},Jh:function(){return s},XA:function(){return l},CR:function(){return u},ev:function(){return c}});var i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var a=function(){return(a=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function o(t,e,n,i){return new(n||(n=Promise))(function(r,a){function o(t){try{l(i.next(t))}catch(e){a(e)}}function s(t){try{l(i.throw(t))}catch(e){a(e)}}function l(t){t.done?r(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(o,s)}l((i=i.apply(t,e||[])).next())})}function s(t,e){var n,i,r,a,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&a[0]?i.return:a[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,a[1])).done)return r;switch(i=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,i=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(r=(r=o.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){o.label=a[1];break}if(6===a[0]&&o.label<r[1]){o.label=r[1],r=a;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(a);break}r[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(s){a=[6,s],i=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}function l(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,a=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(i=a.next()).done;)o.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return o}function c(t,e,n){if(n||2===arguments.length)for(var i,r=0,a=e.length;r<a;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}},2012:function(t){"use strict";t.exports="/*! jQuery UI - v1.12.1 - 2017-03-19\n* http://jqueryui.com\n* Includes: draggable.css, core.css, resizable.css, selectable.css, sortable.css, accordion.css, autocomplete.css, menu.css, button.css, controlgroup.css, checkboxradio.css, datepicker.css, dialog.css, progressbar.css, selectmenu.css, slider.css, spinner.css, tabs.css, tooltip.css, theme.css\n* To view and modify this theme, visit http://jqueryui.com/themeroller/?scope=&folderName=base&cornerRadiusShadow=8px&offsetLeftShadow=0px&offsetTopShadow=0px&thicknessShadow=5px&opacityShadow=30&bgImgOpacityShadow=0&bgTextureShadow=flat&bgColorShadow=666666&opacityOverlay=30&bgImgOpacityOverlay=0&bgTextureOverlay=flat&bgColorOverlay=aaaaaa&iconColorError=cc0000&fcError=5f3f3f&borderColorError=f1a899&bgTextureError=flat&bgColorError=fddfdf&iconColorHighlight=777620&fcHighlight=777620&borderColorHighlight=dad55e&bgTextureHighlight=flat&bgColorHighlight=fffa90&iconColorActive=ffffff&fcActive=ffffff&borderColorActive=003eff&bgTextureActive=flat&bgColorActive=007fff&iconColorHover=555555&fcHover=2b2b2b&borderColorHover=cccccc&bgTextureHover=flat&bgColorHover=ededed&iconColorDefault=777777&fcDefault=454545&borderColorDefault=c5c5c5&bgTextureDefault=flat&bgColorDefault=f6f6f6&iconColorContent=444444&fcContent=333333&borderColorContent=dddddd&bgTextureContent=flat&bgColorContent=ffffff&iconColorHeader=444444&fcHeader=333333&borderColorHeader=dddddd&bgTextureHeader=flat&bgColorHeader=e9e9e9&cornerRadius=3px&fwDefault=normal&fsDefault=1em&ffDefault=Arial%2CHelvetica%2Csans-serif\n* Copyright jQuery Foundation and other contributors; Licensed MIT */\n\n.ui-draggable-handle {\n\ttouch-action: none;\n}\n\n/* Layout helpers\n----------------------------------*/\n\n.ui-helper-hidden {\n\tdisplay: none;\n}\n\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: \"\";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n\n.ui-front {\n\tz-index: 100;\n}\n\n/* Interaction Cues\n----------------------------------*/\n\n.ui-state-disabled {\n\tcursor: default !important;\n\tpointer-events: none;\n}\n\n/* Icons\n----------------------------------*/\n\n.ui-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmargin-top: -.25em;\n\tposition: relative;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n\n.ui-widget-icon-block {\n\tleft: 50%;\n\tmargin-left: -8px;\n\tdisplay: block;\n}\n\n/* Misc visuals\n----------------------------------*/\n\n/* Overlays */\n\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ui-resizable {\n\tposition: relative;\n}\n\n.ui-resizable-handle {\n\tposition: absolute;\n\tfont-size: 0.1px;\n\tdisplay: block;\n\ttouch-action: none;\n}\n\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n\tdisplay: none;\n}\n\n.ui-resizable-n {\n\tcursor: n-resize;\n\theight: 7px;\n\twidth: 100%;\n\ttop: -5px;\n\tleft: 0;\n}\n\n.ui-resizable-s {\n\tcursor: s-resize;\n\theight: 7px;\n\twidth: 100%;\n\tbottom: -5px;\n\tleft: 0;\n}\n\n.ui-resizable-e {\n\tcursor: e-resize;\n\twidth: 7px;\n\tright: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n\n.ui-resizable-w {\n\tcursor: w-resize;\n\twidth: 7px;\n\tleft: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n\n.ui-resizable-se {\n\tcursor: se-resize;\n\twidth: 12px;\n\theight: 12px;\n\tright: 1px;\n\tbottom: 1px;\n}\n\n.ui-resizable-sw {\n\tcursor: sw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\tbottom: -5px;\n}\n\n.ui-resizable-nw {\n\tcursor: nw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\ttop: -5px;\n}\n\n.ui-resizable-ne {\n\tcursor: ne-resize;\n\twidth: 9px;\n\theight: 9px;\n\tright: -5px;\n\ttop: -5px;\n}\n\n.ui-selectable {\n\ttouch-action: none;\n}\n\n.ui-selectable-helper {\n\tposition: absolute;\n\tz-index: 100;\n\tborder: 1px dotted black;\n}\n\n.ui-sortable-handle {\n\ttouch-action: none;\n}\n\n.ui-accordion .ui-accordion-header {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\tmargin: 2px 0 0 0;\n\tpadding: .5em .5em .5em .7em;\n\tfont-size: 100%;\n}\n\n.ui-accordion .ui-accordion-content {\n\tpadding: 1em 2.2em;\n\tborder-top: 0;\n\toverflow: auto;\n}\n\n.ui-autocomplete {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcursor: default;\n}\n\n.ui-menu {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tdisplay: block;\n\toutline: 0;\n}\n\n.ui-menu .ui-menu {\n\tposition: absolute;\n}\n\n.ui-menu .ui-menu-item {\n\tmargin: 0;\n\tcursor: pointer;\n\t/* support: IE10, see #8844 */\n\tlist-style-image: url(\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\");\n}\n\n.ui-menu .ui-menu-item-wrapper {\n\tposition: relative;\n\tpadding: 3px 1em 3px .4em;\n}\n\n.ui-menu .ui-menu-divider {\n\tmargin: 5px 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tborder-width: 1px 0 0 0;\n}\n\n.ui-menu .ui-state-focus,\n.ui-menu .ui-state-active {\n\tmargin: -1px;\n}\n\n/* icon support */\n\n.ui-menu-icons {\n\tposition: relative;\n}\n\n.ui-menu-icons .ui-menu-item-wrapper {\n\tpadding-left: 2em;\n}\n\n/* left-aligned */\n\n.ui-menu .ui-icon {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: .2em;\n\tmargin: auto 0;\n}\n\n/* right-aligned */\n\n.ui-menu .ui-menu-icon {\n\tleft: auto;\n\tright: 0;\n}\n\n.ui-button {\n\tpadding: .4em 1em;\n\tdisplay: inline-block;\n\tposition: relative;\n\tline-height: normal;\n\tmargin-right: .1em;\n\tcursor: pointer;\n\tvertical-align: middle;\n\ttext-align: center;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\tuser-select: none;\n\n\t/* Support: IE <= 11 */\n\toverflow: visible;\n}\n\n.ui-button,\n.ui-button:link,\n.ui-button:visited,\n.ui-button:hover,\n.ui-button:active {\n\ttext-decoration: none;\n}\n\n/* to make room for the icon, a width needs to be set here */\n\n.ui-button-icon-only {\n\twidth: 2em;\n\tbox-sizing: border-box;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n}\n\n/* no icon support for input elements */\n\ninput.ui-button.ui-button-icon-only {\n\ttext-indent: 0;\n}\n\n/* button icon element(s) */\n\n.ui-button-icon-only .ui-icon {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tmargin-top: -8px;\n\tmargin-left: -8px;\n}\n\n.ui-button.ui-icon-notext .ui-icon {\n\tpadding: 0;\n\twidth: 2.1em;\n\theight: 2.1em;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n\n}\n\ninput.ui-button.ui-icon-notext .ui-icon {\n\twidth: auto;\n\theight: auto;\n\ttext-indent: 0;\n\twhite-space: normal;\n\tpadding: .4em 1em;\n}\n\n/* workarounds */\n\n/* Support: Firefox 5 - 40 */\n\ninput.ui-button::-moz-focus-inner,\nbutton.ui-button::-moz-focus-inner {\n\tborder: 0;\n\tpadding: 0;\n}\n\n.ui-controlgroup {\n\tvertical-align: middle;\n\tdisplay: inline-block;\n}\n\n.ui-controlgroup > .ui-controlgroup-item {\n\tfloat: left;\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n\n.ui-controlgroup > .ui-controlgroup-item:focus,\n.ui-controlgroup > .ui-controlgroup-item.ui-visual-focus {\n\tz-index: 9999;\n}\n\n.ui-controlgroup-vertical > .ui-controlgroup-item {\n\tdisplay: block;\n\tfloat: none;\n\twidth: 100%;\n\tmargin-top: 0;\n\tmargin-bottom: 0;\n\ttext-align: left;\n}\n\n.ui-controlgroup-vertical .ui-controlgroup-item {\n\tbox-sizing: border-box;\n}\n\n.ui-controlgroup .ui-controlgroup-label {\n\tpadding: .4em 1em;\n}\n\n.ui-controlgroup .ui-controlgroup-label span {\n\tfont-size: 80%;\n}\n\n.ui-controlgroup-horizontal .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-left: none;\n}\n\n.ui-controlgroup-vertical .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-top: none;\n}\n\n.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content {\n\tborder-right: none;\n}\n\n.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content {\n\tborder-bottom: none;\n}\n\n/* Spinner specific style fixes */\n\n.ui-controlgroup-vertical .ui-spinner-input {\n\n\t/* Support: IE8 only, Android < 4.4 only */\n\twidth: 75%;\n\twidth: calc( 100% - 2.4em );\n}\n\n.ui-controlgroup-vertical .ui-spinner .ui-spinner-up {\n\tborder-top-style: solid;\n}\n\n.ui-checkboxradio-label .ui-icon-background {\n\tbox-shadow: inset 1px 1px 1px #ccc;\n\tborder-radius: .12em;\n\tborder: none;\n}\n\n.ui-checkboxradio-radio-label .ui-icon-background {\n\twidth: 16px;\n\theight: 16px;\n\tborder-radius: 1em;\n\toverflow: visible;\n\tborder: none;\n}\n\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon {\n\tbackground-image: none;\n\twidth: 8px;\n\theight: 8px;\n\tborder-width: 4px;\n\tborder-style: solid;\n}\n\n.ui-checkboxradio-disabled {\n\tpointer-events: none;\n}\n\n.ui-datepicker {\n\twidth: 17em;\n\tpadding: .2em .2em 0;\n\tdisplay: none;\n}\n\n.ui-datepicker .ui-datepicker-header {\n\tposition: relative;\n\tpadding: .2em 0;\n}\n\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next {\n\tposition: absolute;\n\ttop: 2px;\n\twidth: 1.8em;\n\theight: 1.8em;\n}\n\n.ui-datepicker .ui-datepicker-prev-hover,\n.ui-datepicker .ui-datepicker-next-hover {\n\ttop: 1px;\n}\n\n.ui-datepicker .ui-datepicker-prev {\n\tleft: 2px;\n}\n\n.ui-datepicker .ui-datepicker-next {\n\tright: 2px;\n}\n\n.ui-datepicker .ui-datepicker-prev-hover {\n\tleft: 1px;\n}\n\n.ui-datepicker .ui-datepicker-next-hover {\n\tright: 1px;\n}\n\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 50%;\n\tmargin-left: -8px;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n\n.ui-datepicker .ui-datepicker-title {\n\tmargin: 0 2.3em;\n\tline-height: 1.8em;\n\ttext-align: center;\n}\n\n.ui-datepicker .ui-datepicker-title select {\n\tfont-size: 1em;\n\tmargin: 1px 0;\n}\n\n.ui-datepicker select.ui-datepicker-month,\n.ui-datepicker select.ui-datepicker-year {\n\twidth: 45%;\n}\n\n.ui-datepicker table {\n\twidth: 100%;\n\tfont-size: .9em;\n\tborder-collapse: collapse;\n\tmargin: 0 0 .4em;\n}\n\n.ui-datepicker th {\n\tpadding: .7em .3em;\n\ttext-align: center;\n\tfont-weight: bold;\n\tborder: 0;\n}\n\n.ui-datepicker td {\n\tborder: 0;\n\tpadding: 1px;\n}\n\n.ui-datepicker td span,\n.ui-datepicker td a {\n\tdisplay: block;\n\tpadding: .2em;\n\ttext-align: right;\n\ttext-decoration: none;\n}\n\n.ui-datepicker .ui-datepicker-buttonpane {\n\tbackground-image: none;\n\tmargin: .7em 0 0 0;\n\tpadding: 0 .2em;\n\tborder-left: 0;\n\tborder-right: 0;\n\tborder-bottom: 0;\n}\n\n.ui-datepicker .ui-datepicker-buttonpane button {\n\tfloat: right;\n\tmargin: .5em .2em .4em;\n\tcursor: pointer;\n\tpadding: .2em .6em .3em .6em;\n\twidth: auto;\n\toverflow: visible;\n}\n\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\n\tfloat: left;\n}\n\n/* with multiple calendars */\n\n.ui-datepicker.ui-datepicker-multi {\n\twidth: auto;\n}\n\n.ui-datepicker-multi .ui-datepicker-group {\n\tfloat: left;\n}\n\n.ui-datepicker-multi .ui-datepicker-group table {\n\twidth: 95%;\n\tmargin: 0 auto .4em;\n}\n\n.ui-datepicker-multi-2 .ui-datepicker-group {\n\twidth: 50%;\n}\n\n.ui-datepicker-multi-3 .ui-datepicker-group {\n\twidth: 33.3%;\n}\n\n.ui-datepicker-multi-4 .ui-datepicker-group {\n\twidth: 25%;\n}\n\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-left-width: 0;\n}\n\n.ui-datepicker-multi .ui-datepicker-buttonpane {\n\tclear: left;\n}\n\n.ui-datepicker-row-break {\n\tclear: both;\n\twidth: 100%;\n\tfont-size: 0;\n}\n\n/* RTL support */\n\n.ui-datepicker-rtl {\n\tdirection: rtl;\n}\n\n.ui-datepicker-rtl .ui-datepicker-prev {\n\tright: 2px;\n\tleft: auto;\n}\n\n.ui-datepicker-rtl .ui-datepicker-next {\n\tleft: 2px;\n\tright: auto;\n}\n\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\n\tright: 1px;\n\tleft: auto;\n}\n\n.ui-datepicker-rtl .ui-datepicker-next:hover {\n\tleft: 1px;\n\tright: auto;\n}\n\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\n\tclear: right;\n}\n\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\n\tfloat: left;\n}\n\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,\n.ui-datepicker-rtl .ui-datepicker-group {\n\tfloat: right;\n}\n\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-right-width: 0;\n\tborder-left-width: 1px;\n}\n\n/* Icons */\n\n.ui-datepicker .ui-icon {\n\tdisplay: block;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n\tleft: .5em;\n\ttop: .3em;\n}\n\n.ui-dialog {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding: .2em;\n\toutline: 0;\n}\n\n.ui-dialog .ui-dialog-titlebar {\n\tpadding: .4em 1em;\n\tposition: relative;\n}\n\n.ui-dialog .ui-dialog-title {\n\tfloat: left;\n\tmargin: .1em 0;\n\twhite-space: nowrap;\n\twidth: 90%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.ui-dialog .ui-dialog-titlebar-close {\n\tposition: absolute;\n\tright: .3em;\n\ttop: 50%;\n\twidth: 20px;\n\tmargin: -10px 0 0 0;\n\tpadding: 1px;\n\theight: 20px;\n}\n\n.ui-dialog .ui-dialog-content {\n\tposition: relative;\n\tborder: 0;\n\tpadding: .5em 1em;\n\tbackground: none;\n\toverflow: auto;\n}\n\n.ui-dialog .ui-dialog-buttonpane {\n\ttext-align: left;\n\tborder-width: 1px 0 0 0;\n\tbackground-image: none;\n\tmargin-top: .5em;\n\tpadding: .3em 1em .5em .4em;\n}\n\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\n\tfloat: right;\n}\n\n.ui-dialog .ui-dialog-buttonpane button {\n\tmargin: .5em .4em .5em 0;\n\tcursor: pointer;\n}\n\n.ui-dialog .ui-resizable-n {\n\theight: 2px;\n\ttop: 0;\n}\n\n.ui-dialog .ui-resizable-e {\n\twidth: 2px;\n\tright: 0;\n}\n\n.ui-dialog .ui-resizable-s {\n\theight: 2px;\n\tbottom: 0;\n}\n\n.ui-dialog .ui-resizable-w {\n\twidth: 2px;\n\tleft: 0;\n}\n\n.ui-dialog .ui-resizable-se,\n.ui-dialog .ui-resizable-sw,\n.ui-dialog .ui-resizable-ne,\n.ui-dialog .ui-resizable-nw {\n\twidth: 7px;\n\theight: 7px;\n}\n\n.ui-dialog .ui-resizable-se {\n\tright: 0;\n\tbottom: 0;\n}\n\n.ui-dialog .ui-resizable-sw {\n\tleft: 0;\n\tbottom: 0;\n}\n\n.ui-dialog .ui-resizable-ne {\n\tright: 0;\n\ttop: 0;\n}\n\n.ui-dialog .ui-resizable-nw {\n\tleft: 0;\n\ttop: 0;\n}\n\n.ui-draggable .ui-dialog-titlebar {\n\tcursor: move;\n}\n\n.ui-progressbar {\n\theight: 2em;\n\ttext-align: left;\n\toverflow: hidden;\n}\n\n.ui-progressbar .ui-progressbar-value {\n\tmargin: -1px;\n\theight: 100%;\n}\n\n.ui-progressbar .ui-progressbar-overlay {\n\tbackground: url(\"data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==\");\n\theight: 100%;\n\tfilter: alpha(opacity=25); /* support: IE8 */\n\topacity: 0.25;\n}\n\n.ui-progressbar-indeterminate .ui-progressbar-value {\n\tbackground-image: none;\n}\n\n.ui-selectmenu-menu {\n\tpadding: 0;\n\tmargin: 0;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n}\n\n.ui-selectmenu-menu .ui-menu {\n\toverflow: auto;\n\toverflow-x: hidden;\n\tpadding-bottom: 1px;\n}\n\n.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup {\n\tfont-size: 1em;\n\tfont-weight: bold;\n\tline-height: 1.5;\n\tpadding: 2px 0.4em;\n\tmargin: 0.5em 0 0 0;\n\theight: auto;\n\tborder: 0;\n}\n\n.ui-selectmenu-open {\n\tdisplay: block;\n}\n\n.ui-selectmenu-text {\n\tdisplay: block;\n\tmargin-right: 20px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n\n.ui-selectmenu-button.ui-button {\n\ttext-align: left;\n\twhite-space: nowrap;\n\twidth: 14em;\n}\n\n.ui-selectmenu-icon.ui-icon {\n\tfloat: right;\n\tmargin-top: 0;\n}\n\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\ttouch-action: none;\n}\n\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n\n/* support: IE8 - See #6727 */\n\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n\n.ui-slider-horizontal {\n\theight: .8em;\n}\n\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n\n.ui-spinner {\n\tposition: relative;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tpadding: 0;\n\tvertical-align: middle;\n}\n\n.ui-spinner-input {\n\tborder: none;\n\tbackground: none;\n\tcolor: inherit;\n\tpadding: .222em 0;\n\tmargin: .2em 0;\n\tvertical-align: middle;\n\tmargin-left: .4em;\n\tmargin-right: 2em;\n}\n\n.ui-spinner-button {\n\twidth: 1.6em;\n\theight: 50%;\n\tfont-size: .5em;\n\tpadding: 0;\n\tmargin: 0;\n\ttext-align: center;\n\tposition: absolute;\n\tcursor: default;\n\tdisplay: block;\n\toverflow: hidden;\n\tright: 0;\n}\n\n/* more specificity required here to override default borders */\n\n.ui-spinner a.ui-spinner-button {\n\tborder-top-style: none;\n\tborder-bottom-style: none;\n\tborder-right-style: none;\n}\n\n.ui-spinner-up {\n\ttop: 0;\n}\n\n.ui-spinner-down {\n\tbottom: 0;\n}\n\n.ui-tabs {\n\tposition: relative;/* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as \"fixed\") */\n\tpadding: .2em;\n}\n\n.ui-tabs .ui-tabs-nav {\n\tmargin: 0;\n\tpadding: .2em .2em 0;\n}\n\n.ui-tabs .ui-tabs-nav li {\n\tlist-style: none;\n\tfloat: left;\n\tposition: relative;\n\ttop: 0;\n\tmargin: 1px .2em 0 0;\n\tborder-bottom-width: 0;\n\tpadding: 0;\n\twhite-space: nowrap;\n}\n\n.ui-tabs .ui-tabs-nav .ui-tabs-anchor {\n\tfloat: left;\n\tpadding: .5em 1em;\n\ttext-decoration: none;\n}\n\n.ui-tabs .ui-tabs-nav li.ui-tabs-active {\n\tmargin-bottom: -1px;\n\tpadding-bottom: 1px;\n}\n\n.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor {\n\tcursor: text;\n}\n\n.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor {\n\tcursor: pointer;\n}\n\n.ui-tabs .ui-tabs-panel {\n\tdisplay: block;\n\tborder-width: 0;\n\tpadding: 1em 1.4em;\n\tbackground: none;\n}\n\n.ui-tooltip {\n\tpadding: 8px;\n\tposition: absolute;\n\tz-index: 9999;\n\tmax-width: 300px;\n}\n\nbody .ui-tooltip {\n\tborder-width: 2px;\n}\n\n/* Component containers\n----------------------------------*/\n\n.ui-widget {\n\tfont-family: Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n}\n\n.ui-widget .ui-widget {\n\tfont-size: 1em;\n}\n\n.ui-widget input,\n.ui-widget select,\n.ui-widget textarea,\n.ui-widget button {\n\tfont-family: Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n}\n\n.ui-widget.ui-widget-content {\n\tborder: 1px solid #c5c5c5;\n}\n\n.ui-widget-content {\n\tborder: 1px solid #dddddd;\n\tbackground: #ffffff;\n\tcolor: #333333;\n}\n\n.ui-widget-content a {\n\tcolor: #333333;\n}\n\n.ui-widget-header {\n\tborder: 1px solid #dddddd;\n\tbackground: #e9e9e9;\n\tcolor: #333333;\n\tfont-weight: bold;\n}\n\n.ui-widget-header a {\n\tcolor: #333333;\n}\n\n/* Interaction states\n----------------------------------*/\n\n.ui-state-default,\n.ui-widget-content .ui-state-default,\n.ui-widget-header .ui-state-default,\n.ui-button,\n\n/* We use html here because we need a greater specificity to make sure disabled\nworks properly when clicked or hovered */\nhtml .ui-button.ui-state-disabled:hover,\nhtml .ui-button.ui-state-disabled:active {\n\tborder: 1px solid #c5c5c5;\n\tbackground: #f6f6f6;\n\tfont-weight: normal;\n\tcolor: #454545;\n}\n\n.ui-state-default a,\n.ui-state-default a:link,\n.ui-state-default a:visited,\na.ui-button,\na:link.ui-button,\na:visited.ui-button,\n.ui-button {\n\tcolor: #454545;\n\ttext-decoration: none;\n}\n\n.ui-state-hover,\n.ui-widget-content .ui-state-hover,\n.ui-widget-header .ui-state-hover,\n.ui-state-focus,\n.ui-widget-content .ui-state-focus,\n.ui-widget-header .ui-state-focus,\n.ui-button:hover,\n.ui-button:focus {\n\tborder: 1px solid #cccccc;\n\tbackground: #ededed;\n\tfont-weight: normal;\n\tcolor: #2b2b2b;\n}\n\n.ui-state-hover a,\n.ui-state-hover a:hover,\n.ui-state-hover a:link,\n.ui-state-hover a:visited,\n.ui-state-focus a,\n.ui-state-focus a:hover,\n.ui-state-focus a:link,\n.ui-state-focus a:visited,\na.ui-button:hover,\na.ui-button:focus {\n\tcolor: #2b2b2b;\n\ttext-decoration: none;\n}\n\n.ui-visual-focus {\n\tbox-shadow: 0 0 3px 1px rgb(94, 158, 214);\n}\n\n.ui-state-active,\n.ui-widget-content .ui-state-active,\n.ui-widget-header .ui-state-active,\na.ui-button:active,\n.ui-button:active,\n.ui-button.ui-state-active:hover {\n\tborder: 1px solid #003eff;\n\tbackground: #007fff;\n\tfont-weight: normal;\n\tcolor: #ffffff;\n}\n\n.ui-icon-background,\n.ui-state-active .ui-icon-background {\n\tborder: #003eff;\n\tbackground-color: #ffffff;\n}\n\n.ui-state-active a,\n.ui-state-active a:link,\n.ui-state-active a:visited {\n\tcolor: #ffffff;\n\ttext-decoration: none;\n}\n\n/* Interaction Cues\n----------------------------------*/\n\n.ui-state-highlight,\n.ui-widget-content .ui-state-highlight,\n.ui-widget-header .ui-state-highlight {\n\tborder: 1px solid #dad55e;\n\tbackground: #fffa90;\n\tcolor: #777620;\n}\n\n.ui-state-checked {\n\tborder: 1px solid #dad55e;\n\tbackground: #fffa90;\n}\n\n.ui-state-highlight a,\n.ui-widget-content .ui-state-highlight a,\n.ui-widget-header .ui-state-highlight a {\n\tcolor: #777620;\n}\n\n.ui-state-error,\n.ui-widget-content .ui-state-error,\n.ui-widget-header .ui-state-error {\n\tborder: 1px solid #f1a899;\n\tbackground: #fddfdf;\n\tcolor: #5f3f3f;\n}\n\n.ui-state-error a,\n.ui-widget-content .ui-state-error a,\n.ui-widget-header .ui-state-error a {\n\tcolor: #5f3f3f;\n}\n\n.ui-state-error-text,\n.ui-widget-content .ui-state-error-text,\n.ui-widget-header .ui-state-error-text {\n\tcolor: #5f3f3f;\n}\n\n.ui-priority-primary,\n.ui-widget-content .ui-priority-primary,\n.ui-widget-header .ui-priority-primary {\n\tfont-weight: bold;\n}\n\n.ui-priority-secondary,\n.ui-widget-content .ui-priority-secondary,\n.ui-widget-header .ui-priority-secondary {\n\topacity: .7;\n\tfilter:Alpha(Opacity=70); /* support: IE8 */\n\tfont-weight: normal;\n}\n\n.ui-state-disabled,\n.ui-widget-content .ui-state-disabled,\n.ui-widget-header .ui-state-disabled {\n\topacity: .35;\n\tfilter:Alpha(Opacity=35); /* support: IE8 */\n\tbackground-image: none;\n}\n\n.ui-state-disabled .ui-icon {\n\tfilter:Alpha(Opacity=35); /* support: IE8 - See #6059 */\n}\n\n/* Icons\n----------------------------------*/\n\n/* states and images */\n\n.ui-icon {\n\twidth: 16px;\n\theight: 16px;\n}\n\n.ui-icon,\n.ui-widget-content .ui-icon {\n\tbackground-image: url('ui-icons_444444_256x240.3580b1faf02c1cd7994c.png');\n}\n\n.ui-widget-header .ui-icon {\n\tbackground-image: url('ui-icons_444444_256x240.3580b1faf02c1cd7994c.png');\n}\n\n.ui-state-hover .ui-icon,\n.ui-state-focus .ui-icon,\n.ui-button:hover .ui-icon,\n.ui-button:focus .ui-icon {\n\tbackground-image: url('ui-icons_555555_256x240.c58c5719d8be44d69fc2.png');\n}\n\n.ui-state-active .ui-icon,\n.ui-button:active .ui-icon {\n\tbackground-image: url('ui-icons_ffffff_256x240.df59c902592bb5f10f8b.png');\n}\n\n.ui-state-highlight .ui-icon,\n.ui-button .ui-state-highlight.ui-icon {\n\tbackground-image: url('ui-icons_777620_256x240.e73f5131bb90fcc736a6.png');\n}\n\n.ui-state-error .ui-icon,\n.ui-state-error-text .ui-icon {\n\tbackground-image: url('ui-icons_cc0000_256x240.bb549ea947a7a69e5c0c.png');\n}\n\n.ui-button .ui-icon {\n\tbackground-image: url('ui-icons_777777_256x240.f0ad30c87d846b34a0a6.png');\n}\n\n/* positioning */\n\n.ui-icon-blank { background-position: 16px 16px; }\n\n.ui-icon-caret-1-n { background-position: 0 0; }\n\n.ui-icon-caret-1-ne { background-position: -16px 0; }\n\n.ui-icon-caret-1-e { background-position: -32px 0; }\n\n.ui-icon-caret-1-se { background-position: -48px 0; }\n\n.ui-icon-caret-1-s { background-position: -65px 0; }\n\n.ui-icon-caret-1-sw { background-position: -80px 0; }\n\n.ui-icon-caret-1-w { background-position: -96px 0; }\n\n.ui-icon-caret-1-nw { background-position: -112px 0; }\n\n.ui-icon-caret-2-n-s { background-position: -128px 0; }\n\n.ui-icon-caret-2-e-w { background-position: -144px 0; }\n\n.ui-icon-triangle-1-n { background-position: 0 -16px; }\n\n.ui-icon-triangle-1-ne { background-position: -16px -16px; }\n\n.ui-icon-triangle-1-e { background-position: -32px -16px; }\n\n.ui-icon-triangle-1-se { background-position: -48px -16px; }\n\n.ui-icon-triangle-1-s { background-position: -65px -16px; }\n\n.ui-icon-triangle-1-sw { background-position: -80px -16px; }\n\n.ui-icon-triangle-1-w { background-position: -96px -16px; }\n\n.ui-icon-triangle-1-nw { background-position: -112px -16px; }\n\n.ui-icon-triangle-2-n-s { background-position: -128px -16px; }\n\n.ui-icon-triangle-2-e-w { background-position: -144px -16px; }\n\n.ui-icon-arrow-1-n { background-position: 0 -32px; }\n\n.ui-icon-arrow-1-ne { background-position: -16px -32px; }\n\n.ui-icon-arrow-1-e { background-position: -32px -32px; }\n\n.ui-icon-arrow-1-se { background-position: -48px -32px; }\n\n.ui-icon-arrow-1-s { background-position: -65px -32px; }\n\n.ui-icon-arrow-1-sw { background-position: -80px -32px; }\n\n.ui-icon-arrow-1-w { background-position: -96px -32px; }\n\n.ui-icon-arrow-1-nw { background-position: -112px -32px; }\n\n.ui-icon-arrow-2-n-s { background-position: -128px -32px; }\n\n.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }\n\n.ui-icon-arrow-2-e-w { background-position: -160px -32px; }\n\n.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }\n\n.ui-icon-arrowstop-1-n { background-position: -192px -32px; }\n\n.ui-icon-arrowstop-1-e { background-position: -208px -32px; }\n\n.ui-icon-arrowstop-1-s { background-position: -224px -32px; }\n\n.ui-icon-arrowstop-1-w { background-position: -240px -32px; }\n\n.ui-icon-arrowthick-1-n { background-position: 1px -48px; }\n\n.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }\n\n.ui-icon-arrowthick-1-e { background-position: -32px -48px; }\n\n.ui-icon-arrowthick-1-se { background-position: -48px -48px; }\n\n.ui-icon-arrowthick-1-s { background-position: -64px -48px; }\n\n.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }\n\n.ui-icon-arrowthick-1-w { background-position: -96px -48px; }\n\n.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }\n\n.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }\n\n.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }\n\n.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }\n\n.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }\n\n.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }\n\n.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }\n\n.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }\n\n.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }\n\n.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }\n\n.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }\n\n.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }\n\n.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }\n\n.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }\n\n.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }\n\n.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }\n\n.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }\n\n.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }\n\n.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }\n\n.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }\n\n.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }\n\n.ui-icon-arrow-4 { background-position: 0 -80px; }\n\n.ui-icon-arrow-4-diag { background-position: -16px -80px; }\n\n.ui-icon-extlink { background-position: -32px -80px; }\n\n.ui-icon-newwin { background-position: -48px -80px; }\n\n.ui-icon-refresh { background-position: -64px -80px; }\n\n.ui-icon-shuffle { background-position: -80px -80px; }\n\n.ui-icon-transfer-e-w { background-position: -96px -80px; }\n\n.ui-icon-transferthick-e-w { background-position: -112px -80px; }\n\n.ui-icon-folder-collapsed { background-position: 0 -96px; }\n\n.ui-icon-folder-open { background-position: -16px -96px; }\n\n.ui-icon-document { background-position: -32px -96px; }\n\n.ui-icon-document-b { background-position: -48px -96px; }\n\n.ui-icon-note { background-position: -64px -96px; }\n\n.ui-icon-mail-closed { background-position: -80px -96px; }\n\n.ui-icon-mail-open { background-position: -96px -96px; }\n\n.ui-icon-suitcase { background-position: -112px -96px; }\n\n.ui-icon-comment { background-position: -128px -96px; }\n\n.ui-icon-person { background-position: -144px -96px; }\n\n.ui-icon-print { background-position: -160px -96px; }\n\n.ui-icon-trash { background-position: -176px -96px; }\n\n.ui-icon-locked { background-position: -192px -96px; }\n\n.ui-icon-unlocked { background-position: -208px -96px; }\n\n.ui-icon-bookmark { background-position: -224px -96px; }\n\n.ui-icon-tag { background-position: -240px -96px; }\n\n.ui-icon-home { background-position: 0 -112px; }\n\n.ui-icon-flag { background-position: -16px -112px; }\n\n.ui-icon-calendar { background-position: -32px -112px; }\n\n.ui-icon-cart { background-position: -48px -112px; }\n\n.ui-icon-pencil { background-position: -64px -112px; }\n\n.ui-icon-clock { background-position: -80px -112px; }\n\n.ui-icon-disk { background-position: -96px -112px; }\n\n.ui-icon-calculator { background-position: -112px -112px; }\n\n.ui-icon-zoomin { background-position: -128px -112px; }\n\n.ui-icon-zoomout { background-position: -144px -112px; }\n\n.ui-icon-search { background-position: -160px -112px; }\n\n.ui-icon-wrench { background-position: -176px -112px; }\n\n.ui-icon-gear { background-position: -192px -112px; }\n\n.ui-icon-heart { background-position: -208px -112px; }\n\n.ui-icon-star { background-position: -224px -112px; }\n\n.ui-icon-link { background-position: -240px -112px; }\n\n.ui-icon-cancel { background-position: 0 -128px; }\n\n.ui-icon-plus { background-position: -16px -128px; }\n\n.ui-icon-plusthick { background-position: -32px -128px; }\n\n.ui-icon-minus { background-position: -48px -128px; }\n\n.ui-icon-minusthick { background-position: -64px -128px; }\n\n.ui-icon-close { background-position: -80px -128px; }\n\n.ui-icon-closethick { background-position: -96px -128px; }\n\n.ui-icon-key { background-position: -112px -128px; }\n\n.ui-icon-lightbulb { background-position: -128px -128px; }\n\n.ui-icon-scissors { background-position: -144px -128px; }\n\n.ui-icon-clipboard { background-position: -160px -128px; }\n\n.ui-icon-copy { background-position: -176px -128px; }\n\n.ui-icon-contact { background-position: -192px -128px; }\n\n.ui-icon-image { background-position: -208px -128px; }\n\n.ui-icon-video { background-position: -224px -128px; }\n\n.ui-icon-script { background-position: -240px -128px; }\n\n.ui-icon-alert { background-position: 0 -144px; }\n\n.ui-icon-info { background-position: -16px -144px; }\n\n.ui-icon-notice { background-position: -32px -144px; }\n\n.ui-icon-help { background-position: -48px -144px; }\n\n.ui-icon-check { background-position: -64px -144px; }\n\n.ui-icon-bullet { background-position: -80px -144px; }\n\n.ui-icon-radio-on { background-position: -96px -144px; }\n\n.ui-icon-radio-off { background-position: -112px -144px; }\n\n.ui-icon-pin-w { background-position: -128px -144px; }\n\n.ui-icon-pin-s { background-position: -144px -144px; }\n\n.ui-icon-play { background-position: 0 -160px; }\n\n.ui-icon-pause { background-position: -16px -160px; }\n\n.ui-icon-seek-next { background-position: -32px -160px; }\n\n.ui-icon-seek-prev { background-position: -48px -160px; }\n\n.ui-icon-seek-end { background-position: -64px -160px; }\n\n.ui-icon-seek-start { background-position: -80px -160px; }\n\n/* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */\n\n.ui-icon-seek-first { background-position: -80px -160px; }\n\n.ui-icon-stop { background-position: -96px -160px; }\n\n.ui-icon-eject { background-position: -112px -160px; }\n\n.ui-icon-volume-off { background-position: -128px -160px; }\n\n.ui-icon-volume-on { background-position: -144px -160px; }\n\n.ui-icon-power { background-position: 0 -176px; }\n\n.ui-icon-signal-diag { background-position: -16px -176px; }\n\n.ui-icon-signal { background-position: -32px -176px; }\n\n.ui-icon-battery-0 { background-position: -48px -176px; }\n\n.ui-icon-battery-1 { background-position: -64px -176px; }\n\n.ui-icon-battery-2 { background-position: -80px -176px; }\n\n.ui-icon-battery-3 { background-position: -96px -176px; }\n\n.ui-icon-circle-plus { background-position: 0 -192px; }\n\n.ui-icon-circle-minus { background-position: -16px -192px; }\n\n.ui-icon-circle-close { background-position: -32px -192px; }\n\n.ui-icon-circle-triangle-e { background-position: -48px -192px; }\n\n.ui-icon-circle-triangle-s { background-position: -64px -192px; }\n\n.ui-icon-circle-triangle-w { background-position: -80px -192px; }\n\n.ui-icon-circle-triangle-n { background-position: -96px -192px; }\n\n.ui-icon-circle-arrow-e { background-position: -112px -192px; }\n\n.ui-icon-circle-arrow-s { background-position: -128px -192px; }\n\n.ui-icon-circle-arrow-w { background-position: -144px -192px; }\n\n.ui-icon-circle-arrow-n { background-position: -160px -192px; }\n\n.ui-icon-circle-zoomin { background-position: -176px -192px; }\n\n.ui-icon-circle-zoomout { background-position: -192px -192px; }\n\n.ui-icon-circle-check { background-position: -208px -192px; }\n\n.ui-icon-circlesmall-plus { background-position: 0 -208px; }\n\n.ui-icon-circlesmall-minus { background-position: -16px -208px; }\n\n.ui-icon-circlesmall-close { background-position: -32px -208px; }\n\n.ui-icon-squaresmall-plus { background-position: -48px -208px; }\n\n.ui-icon-squaresmall-minus { background-position: -64px -208px; }\n\n.ui-icon-squaresmall-close { background-position: -80px -208px; }\n\n.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }\n\n.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }\n\n.ui-icon-grip-solid-vertical { background-position: -32px -224px; }\n\n.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }\n\n.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }\n\n.ui-icon-grip-diagonal-se { background-position: -80px -224px; }\n\n/* Misc visuals\n----------------------------------*/\n\n/* Corner radius */\n\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-left,\n.ui-corner-tl {\n\tborder-top-left-radius: 3px;\n}\n\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-right,\n.ui-corner-tr {\n\tborder-top-right-radius: 3px;\n}\n\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-left,\n.ui-corner-bl {\n\tborder-bottom-left-radius: 3px;\n}\n\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-right,\n.ui-corner-br {\n\tborder-bottom-right-radius: 3px;\n}\n\n/* Overlays */\n\n.ui-widget-overlay {\n\tbackground: #aaaaaa;\n\topacity: .3;\n\tfilter: Alpha(Opacity=30); /* support: IE8 */\n}\n\n.ui-widget-shadow {\n\tbox-shadow: 0px 0px 5px #666666;\n}\n"},4176:function(t){"use strict";t.exports='/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n */\n.ui-draggable-handle {\n\ttouch-action: none;\n}\n/* Layout helpers\n----------------------------------*/\n.ui-helper-hidden {\n\tdisplay: none;\n}\n.ui-helper-hidden-accessible {\n\tborder: 0;\n\tclip: rect(0 0 0 0);\n\theight: 1px;\n\tmargin: -1px;\n\toverflow: hidden;\n\tpadding: 0;\n\tposition: absolute;\n\twidth: 1px;\n}\n.ui-helper-reset {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\toutline: 0;\n\tline-height: 1.3;\n\ttext-decoration: none;\n\tfont-size: 100%;\n\tlist-style: none;\n}\n.ui-helper-clearfix:before,\n.ui-helper-clearfix:after {\n\tcontent: "";\n\tdisplay: table;\n\tborder-collapse: collapse;\n}\n.ui-helper-clearfix:after {\n\tclear: both;\n}\n.ui-helper-zfix {\n\twidth: 100%;\n\theight: 100%;\n\ttop: 0;\n\tleft: 0;\n\tposition: absolute;\n\topacity: 0;\n\tfilter:Alpha(Opacity=0); /* support: IE8 */\n}\n.ui-front {\n\tz-index: 100;\n}\n/* Interaction Cues\n----------------------------------*/\n.ui-state-disabled {\n\tcursor: default !important;\n\tpointer-events: none;\n}\n/* Icons\n----------------------------------*/\n.ui-icon {\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmargin-top: -.25em;\n\tposition: relative;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n}\n.ui-widget-icon-block {\n\tleft: 50%;\n\tmargin-left: -8px;\n\tdisplay: block;\n}\n/* Misc visuals\n----------------------------------*/\n/* Overlays */\n.ui-widget-overlay {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\theight: 100%;\n}\n.ui-resizable {\n\tposition: relative;\n}\n.ui-resizable-handle {\n\tposition: absolute;\n\tfont-size: 0.1px;\n\tdisplay: block;\n\ttouch-action: none;\n}\n.ui-resizable-disabled .ui-resizable-handle,\n.ui-resizable-autohide .ui-resizable-handle {\n\tdisplay: none;\n}\n.ui-resizable-n {\n\tcursor: n-resize;\n\theight: 7px;\n\twidth: 100%;\n\ttop: -5px;\n\tleft: 0;\n}\n.ui-resizable-s {\n\tcursor: s-resize;\n\theight: 7px;\n\twidth: 100%;\n\tbottom: -5px;\n\tleft: 0;\n}\n.ui-resizable-e {\n\tcursor: e-resize;\n\twidth: 7px;\n\tright: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-w {\n\tcursor: w-resize;\n\twidth: 7px;\n\tleft: -5px;\n\ttop: 0;\n\theight: 100%;\n}\n.ui-resizable-se {\n\tcursor: se-resize;\n\twidth: 12px;\n\theight: 12px;\n\tright: 1px;\n\tbottom: 1px;\n}\n.ui-resizable-sw {\n\tcursor: sw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\tbottom: -5px;\n}\n.ui-resizable-nw {\n\tcursor: nw-resize;\n\twidth: 9px;\n\theight: 9px;\n\tleft: -5px;\n\ttop: -5px;\n}\n.ui-resizable-ne {\n\tcursor: ne-resize;\n\twidth: 9px;\n\theight: 9px;\n\tright: -5px;\n\ttop: -5px;\n}\n.ui-selectable {\n\ttouch-action: none;\n}\n.ui-selectable-helper {\n\tposition: absolute;\n\tz-index: 100;\n\tborder: 1px dotted black;\n}\n.ui-sortable-handle {\n\ttouch-action: none;\n}\n.ui-accordion .ui-accordion-header {\n\tdisplay: block;\n\tcursor: pointer;\n\tposition: relative;\n\tmargin: 2px 0 0 0;\n\tpadding: .5em .5em .5em .7em;\n\tfont-size: 100%;\n}\n.ui-accordion .ui-accordion-content {\n\tpadding: 1em 2.2em;\n\tborder-top: 0;\n\toverflow: auto;\n}\n.ui-autocomplete {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tcursor: default;\n}\n.ui-menu {\n\tlist-style: none;\n\tpadding: 0;\n\tmargin: 0;\n\tdisplay: block;\n\toutline: 0;\n}\n.ui-menu .ui-menu {\n\tposition: absolute;\n}\n.ui-menu .ui-menu-item {\n\tmargin: 0;\n\tcursor: pointer;\n\t/* support: IE10, see #8844 */\n\tlist-style-image: url("data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");\n}\n.ui-menu .ui-menu-item-wrapper {\n\tposition: relative;\n\tpadding: 3px 1em 3px .4em;\n}\n.ui-menu .ui-menu-divider {\n\tmargin: 5px 0;\n\theight: 0;\n\tfont-size: 0;\n\tline-height: 0;\n\tborder-width: 1px 0 0 0;\n}\n.ui-menu .ui-state-focus,\n.ui-menu .ui-state-active {\n\tmargin: -1px;\n}\n/* icon support */\n.ui-menu-icons {\n\tposition: relative;\n}\n.ui-menu-icons .ui-menu-item-wrapper {\n\tpadding-left: 2em;\n}\n/* left-aligned */\n.ui-menu .ui-icon {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: .2em;\n\tmargin: auto 0;\n}\n/* right-aligned */\n.ui-menu .ui-menu-icon {\n\tleft: auto;\n\tright: 0;\n}\n.ui-button {\n\tpadding: .4em 1em;\n\tdisplay: inline-block;\n\tposition: relative;\n\tline-height: normal;\n\tmargin-right: .1em;\n\tcursor: pointer;\n\tvertical-align: middle;\n\ttext-align: center;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\tuser-select: none;\n\n\t/* Support: IE <= 11 */\n\toverflow: visible;\n}\n.ui-button,\n.ui-button:link,\n.ui-button:visited,\n.ui-button:hover,\n.ui-button:active {\n\ttext-decoration: none;\n}\n/* to make room for the icon, a width needs to be set here */\n.ui-button-icon-only {\n\twidth: 2em;\n\tbox-sizing: border-box;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n}\n/* no icon support for input elements */\ninput.ui-button.ui-button-icon-only {\n\ttext-indent: 0;\n}\n/* button icon element(s) */\n.ui-button-icon-only .ui-icon {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\tmargin-top: -8px;\n\tmargin-left: -8px;\n}\n.ui-button.ui-icon-notext .ui-icon {\n\tpadding: 0;\n\twidth: 2.1em;\n\theight: 2.1em;\n\ttext-indent: -9999px;\n\twhite-space: nowrap;\n\n}\ninput.ui-button.ui-icon-notext .ui-icon {\n\twidth: auto;\n\theight: auto;\n\ttext-indent: 0;\n\twhite-space: normal;\n\tpadding: .4em 1em;\n}\n/* workarounds */\n/* Support: Firefox 5 - 40 */\ninput.ui-button::-moz-focus-inner,\nbutton.ui-button::-moz-focus-inner {\n\tborder: 0;\n\tpadding: 0;\n}\n.ui-controlgroup {\n\tvertical-align: middle;\n\tdisplay: inline-block;\n}\n.ui-controlgroup > .ui-controlgroup-item {\n\tfloat: left;\n\tmargin-left: 0;\n\tmargin-right: 0;\n}\n.ui-controlgroup > .ui-controlgroup-item:focus,\n.ui-controlgroup > .ui-controlgroup-item.ui-visual-focus {\n\tz-index: 9999;\n}\n.ui-controlgroup-vertical > .ui-controlgroup-item {\n\tdisplay: block;\n\tfloat: none;\n\twidth: 100%;\n\tmargin-top: 0;\n\tmargin-bottom: 0;\n\ttext-align: left;\n}\n.ui-controlgroup-vertical .ui-controlgroup-item {\n\tbox-sizing: border-box;\n}\n.ui-controlgroup .ui-controlgroup-label {\n\tpadding: .4em 1em;\n}\n.ui-controlgroup .ui-controlgroup-label span {\n\tfont-size: 80%;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-left: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label + .ui-controlgroup-item {\n\tborder-top: none;\n}\n.ui-controlgroup-horizontal .ui-controlgroup-label.ui-widget-content {\n\tborder-right: none;\n}\n.ui-controlgroup-vertical .ui-controlgroup-label.ui-widget-content {\n\tborder-bottom: none;\n}\n/* Spinner specific style fixes */\n.ui-controlgroup-vertical .ui-spinner-input {\n\n\t/* Support: IE8 only, Android < 4.4 only */\n\twidth: 75%;\n\twidth: calc( 100% - 2.4em );\n}\n.ui-controlgroup-vertical .ui-spinner .ui-spinner-up {\n\tborder-top-style: solid;\n}\n.ui-checkboxradio-label .ui-icon-background {\n\tbox-shadow: inset 1px 1px 1px #ccc;\n\tborder-radius: .12em;\n\tborder: none;\n}\n.ui-checkboxradio-radio-label .ui-icon-background {\n\twidth: 16px;\n\theight: 16px;\n\tborder-radius: 1em;\n\toverflow: visible;\n\tborder: none;\n}\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked .ui-icon,\n.ui-checkboxradio-radio-label.ui-checkboxradio-checked:hover .ui-icon {\n\tbackground-image: none;\n\twidth: 8px;\n\theight: 8px;\n\tborder-width: 4px;\n\tborder-style: solid;\n}\n.ui-checkboxradio-disabled {\n\tpointer-events: none;\n}\n.ui-datepicker {\n\twidth: 17em;\n\tpadding: .2em .2em 0;\n\tdisplay: none;\n}\n.ui-datepicker .ui-datepicker-header {\n\tposition: relative;\n\tpadding: .2em 0;\n}\n.ui-datepicker .ui-datepicker-prev,\n.ui-datepicker .ui-datepicker-next {\n\tposition: absolute;\n\ttop: 2px;\n\twidth: 1.8em;\n\theight: 1.8em;\n}\n.ui-datepicker .ui-datepicker-prev-hover,\n.ui-datepicker .ui-datepicker-next-hover {\n\ttop: 1px;\n}\n.ui-datepicker .ui-datepicker-prev {\n\tleft: 2px;\n}\n.ui-datepicker .ui-datepicker-next {\n\tright: 2px;\n}\n.ui-datepicker .ui-datepicker-prev-hover {\n\tleft: 1px;\n}\n.ui-datepicker .ui-datepicker-next-hover {\n\tright: 1px;\n}\n.ui-datepicker .ui-datepicker-prev span,\n.ui-datepicker .ui-datepicker-next span {\n\tdisplay: block;\n\tposition: absolute;\n\tleft: 50%;\n\tmargin-left: -8px;\n\ttop: 50%;\n\tmargin-top: -8px;\n}\n.ui-datepicker .ui-datepicker-title {\n\tmargin: 0 2.3em;\n\tline-height: 1.8em;\n\ttext-align: center;\n}\n.ui-datepicker .ui-datepicker-title select {\n\tfont-size: 1em;\n\tmargin: 1px 0;\n}\n.ui-datepicker select.ui-datepicker-month,\n.ui-datepicker select.ui-datepicker-year {\n\twidth: 45%;\n}\n.ui-datepicker table {\n\twidth: 100%;\n\tfont-size: .9em;\n\tborder-collapse: collapse;\n\tmargin: 0 0 .4em;\n}\n.ui-datepicker th {\n\tpadding: .7em .3em;\n\ttext-align: center;\n\tfont-weight: bold;\n\tborder: 0;\n}\n.ui-datepicker td {\n\tborder: 0;\n\tpadding: 1px;\n}\n.ui-datepicker td span,\n.ui-datepicker td a {\n\tdisplay: block;\n\tpadding: .2em;\n\ttext-align: right;\n\ttext-decoration: none;\n}\n.ui-datepicker .ui-datepicker-buttonpane {\n\tbackground-image: none;\n\tmargin: .7em 0 0 0;\n\tpadding: 0 .2em;\n\tborder-left: 0;\n\tborder-right: 0;\n\tborder-bottom: 0;\n}\n.ui-datepicker .ui-datepicker-buttonpane button {\n\tfloat: right;\n\tmargin: .5em .2em .4em;\n\tcursor: pointer;\n\tpadding: .2em .6em .3em .6em;\n\twidth: auto;\n\toverflow: visible;\n}\n.ui-datepicker .ui-datepicker-buttonpane button.ui-datepicker-current {\n\tfloat: left;\n}\n/* with multiple calendars */\n.ui-datepicker.ui-datepicker-multi {\n\twidth: auto;\n}\n.ui-datepicker-multi .ui-datepicker-group {\n\tfloat: left;\n}\n.ui-datepicker-multi .ui-datepicker-group table {\n\twidth: 95%;\n\tmargin: 0 auto .4em;\n}\n.ui-datepicker-multi-2 .ui-datepicker-group {\n\twidth: 50%;\n}\n.ui-datepicker-multi-3 .ui-datepicker-group {\n\twidth: 33.3%;\n}\n.ui-datepicker-multi-4 .ui-datepicker-group {\n\twidth: 25%;\n}\n.ui-datepicker-multi .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-multi .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-left-width: 0;\n}\n.ui-datepicker-multi .ui-datepicker-buttonpane {\n\tclear: left;\n}\n.ui-datepicker-row-break {\n\tclear: both;\n\twidth: 100%;\n\tfont-size: 0;\n}\n/* RTL support */\n.ui-datepicker-rtl {\n\tdirection: rtl;\n}\n.ui-datepicker-rtl .ui-datepicker-prev {\n\tright: 2px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next {\n\tleft: 2px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-prev:hover {\n\tright: 1px;\n\tleft: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-next:hover {\n\tleft: 1px;\n\tright: auto;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane {\n\tclear: right;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button {\n\tfloat: left;\n}\n.ui-datepicker-rtl .ui-datepicker-buttonpane button.ui-datepicker-current,\n.ui-datepicker-rtl .ui-datepicker-group {\n\tfloat: right;\n}\n.ui-datepicker-rtl .ui-datepicker-group-last .ui-datepicker-header,\n.ui-datepicker-rtl .ui-datepicker-group-middle .ui-datepicker-header {\n\tborder-right-width: 0;\n\tborder-left-width: 1px;\n}\n/* Icons */\n.ui-datepicker .ui-icon {\n\tdisplay: block;\n\ttext-indent: -99999px;\n\toverflow: hidden;\n\tbackground-repeat: no-repeat;\n\tleft: .5em;\n\ttop: .3em;\n}\n.ui-dialog {\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tpadding: .2em;\n\toutline: 0;\n}\n.ui-dialog .ui-dialog-titlebar {\n\tpadding: .4em 1em;\n\tposition: relative;\n}\n.ui-dialog .ui-dialog-title {\n\tfloat: left;\n\tmargin: .1em 0;\n\twhite-space: nowrap;\n\twidth: 90%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-dialog .ui-dialog-titlebar-close {\n\tposition: absolute;\n\tright: .3em;\n\ttop: 50%;\n\twidth: 20px;\n\tmargin: -10px 0 0 0;\n\tpadding: 1px;\n\theight: 20px;\n}\n.ui-dialog .ui-dialog-content {\n\tposition: relative;\n\tborder: 0;\n\tpadding: .5em 1em;\n\tbackground: none;\n\toverflow: auto;\n}\n.ui-dialog .ui-dialog-buttonpane {\n\ttext-align: left;\n\tborder-width: 1px 0 0 0;\n\tbackground-image: none;\n\tmargin-top: .5em;\n\tpadding: .3em 1em .5em .4em;\n}\n.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset {\n\tfloat: right;\n}\n.ui-dialog .ui-dialog-buttonpane button {\n\tmargin: .5em .4em .5em 0;\n\tcursor: pointer;\n}\n.ui-dialog .ui-resizable-n {\n\theight: 2px;\n\ttop: 0;\n}\n.ui-dialog .ui-resizable-e {\n\twidth: 2px;\n\tright: 0;\n}\n.ui-dialog .ui-resizable-s {\n\theight: 2px;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-w {\n\twidth: 2px;\n\tleft: 0;\n}\n.ui-dialog .ui-resizable-se,\n.ui-dialog .ui-resizable-sw,\n.ui-dialog .ui-resizable-ne,\n.ui-dialog .ui-resizable-nw {\n\twidth: 7px;\n\theight: 7px;\n}\n.ui-dialog .ui-resizable-se {\n\tright: 0;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-sw {\n\tleft: 0;\n\tbottom: 0;\n}\n.ui-dialog .ui-resizable-ne {\n\tright: 0;\n\ttop: 0;\n}\n.ui-dialog .ui-resizable-nw {\n\tleft: 0;\n\ttop: 0;\n}\n.ui-draggable .ui-dialog-titlebar {\n\tcursor: move;\n}\n.ui-progressbar {\n\theight: 2em;\n\ttext-align: left;\n\toverflow: hidden;\n}\n.ui-progressbar .ui-progressbar-value {\n\tmargin: -1px;\n\theight: 100%;\n}\n.ui-progressbar .ui-progressbar-overlay {\n\tbackground: url("data:image/gif;base64,R0lGODlhKAAoAIABAAAAAP///yH/C05FVFNDQVBFMi4wAwEAAAAh+QQJAQABACwAAAAAKAAoAAACkYwNqXrdC52DS06a7MFZI+4FHBCKoDeWKXqymPqGqxvJrXZbMx7Ttc+w9XgU2FB3lOyQRWET2IFGiU9m1frDVpxZZc6bfHwv4c1YXP6k1Vdy292Fb6UkuvFtXpvWSzA+HycXJHUXiGYIiMg2R6W459gnWGfHNdjIqDWVqemH2ekpObkpOlppWUqZiqr6edqqWQAAIfkECQEAAQAsAAAAACgAKAAAApSMgZnGfaqcg1E2uuzDmmHUBR8Qil95hiPKqWn3aqtLsS18y7G1SzNeowWBENtQd+T1JktP05nzPTdJZlR6vUxNWWjV+vUWhWNkWFwxl9VpZRedYcflIOLafaa28XdsH/ynlcc1uPVDZxQIR0K25+cICCmoqCe5mGhZOfeYSUh5yJcJyrkZWWpaR8doJ2o4NYq62lAAACH5BAkBAAEALAAAAAAoACgAAAKVDI4Yy22ZnINRNqosw0Bv7i1gyHUkFj7oSaWlu3ovC8GxNso5fluz3qLVhBVeT/Lz7ZTHyxL5dDalQWPVOsQWtRnuwXaFTj9jVVh8pma9JjZ4zYSj5ZOyma7uuolffh+IR5aW97cHuBUXKGKXlKjn+DiHWMcYJah4N0lYCMlJOXipGRr5qdgoSTrqWSq6WFl2ypoaUAAAIfkECQEAAQAsAAAAACgAKAAAApaEb6HLgd/iO7FNWtcFWe+ufODGjRfoiJ2akShbueb0wtI50zm02pbvwfWEMWBQ1zKGlLIhskiEPm9R6vRXxV4ZzWT2yHOGpWMyorblKlNp8HmHEb/lCXjcW7bmtXP8Xt229OVWR1fod2eWqNfHuMjXCPkIGNileOiImVmCOEmoSfn3yXlJWmoHGhqp6ilYuWYpmTqKUgAAIfkECQEAAQAsAAAAACgAKAAAApiEH6kb58biQ3FNWtMFWW3eNVcojuFGfqnZqSebuS06w5V80/X02pKe8zFwP6EFWOT1lDFk8rGERh1TTNOocQ61Hm4Xm2VexUHpzjymViHrFbiELsefVrn6XKfnt2Q9G/+Xdie499XHd2g4h7ioOGhXGJboGAnXSBnoBwKYyfioubZJ2Hn0RuRZaflZOil56Zp6iioKSXpUAAAh+QQJAQABACwAAAAAKAAoAAACkoQRqRvnxuI7kU1a1UU5bd5tnSeOZXhmn5lWK3qNTWvRdQxP8qvaC+/yaYQzXO7BMvaUEmJRd3TsiMAgswmNYrSgZdYrTX6tSHGZO73ezuAw2uxuQ+BbeZfMxsexY35+/Qe4J1inV0g4x3WHuMhIl2jXOKT2Q+VU5fgoSUI52VfZyfkJGkha6jmY+aaYdirq+lQAACH5BAkBAAEALAAAAAAoACgAAAKWBIKpYe0L3YNKToqswUlvznigd4wiR4KhZrKt9Upqip61i9E3vMvxRdHlbEFiEXfk9YARYxOZZD6VQ2pUunBmtRXo1Lf8hMVVcNl8JafV38aM2/Fu5V16Bn63r6xt97j09+MXSFi4BniGFae3hzbH9+hYBzkpuUh5aZmHuanZOZgIuvbGiNeomCnaxxap2upaCZsq+1kAACH5BAkBAAEALAAAAAAoACgAAAKXjI8By5zf4kOxTVrXNVlv1X0d8IGZGKLnNpYtm8Lr9cqVeuOSvfOW79D9aDHizNhDJidFZhNydEahOaDH6nomtJjp1tutKoNWkvA6JqfRVLHU/QUfau9l2x7G54d1fl995xcIGAdXqMfBNadoYrhH+Mg2KBlpVpbluCiXmMnZ2Sh4GBqJ+ckIOqqJ6LmKSllZmsoq6wpQAAAh+QQJAQABACwAAAAAKAAoAAAClYx/oLvoxuJDkU1a1YUZbJ59nSd2ZXhWqbRa2/gF8Gu2DY3iqs7yrq+xBYEkYvFSM8aSSObE+ZgRl1BHFZNr7pRCavZ5BW2142hY3AN/zWtsmf12p9XxxFl2lpLn1rseztfXZjdIWIf2s5dItwjYKBgo9yg5pHgzJXTEeGlZuenpyPmpGQoKOWkYmSpaSnqKileI2FAAACH5BAkBAAEALAAAAAAoACgAAAKVjB+gu+jG4kORTVrVhRlsnn2dJ3ZleFaptFrb+CXmO9OozeL5VfP99HvAWhpiUdcwkpBH3825AwYdU8xTqlLGhtCosArKMpvfa1mMRae9VvWZfeB2XfPkeLmm18lUcBj+p5dnN8jXZ3YIGEhYuOUn45aoCDkp16hl5IjYJvjWKcnoGQpqyPlpOhr3aElaqrq56Bq7VAAAOw==");\n\theight: 100%;\n\tfilter: alpha(opacity=25); /* support: IE8 */\n\topacity: 0.25;\n}\n.ui-progressbar-indeterminate .ui-progressbar-value {\n\tbackground-image: none;\n}\n.ui-selectmenu-menu {\n\tpadding: 0;\n\tmargin: 0;\n\tposition: absolute;\n\ttop: 0;\n\tleft: 0;\n\tdisplay: none;\n}\n.ui-selectmenu-menu .ui-menu {\n\toverflow: auto;\n\toverflow-x: hidden;\n\tpadding-bottom: 1px;\n}\n.ui-selectmenu-menu .ui-menu .ui-selectmenu-optgroup {\n\tfont-size: 1em;\n\tfont-weight: bold;\n\tline-height: 1.5;\n\tpadding: 2px 0.4em;\n\tmargin: 0.5em 0 0 0;\n\theight: auto;\n\tborder: 0;\n}\n.ui-selectmenu-open {\n\tdisplay: block;\n}\n.ui-selectmenu-text {\n\tdisplay: block;\n\tmargin-right: 20px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n}\n.ui-selectmenu-button.ui-button {\n\ttext-align: left;\n\twhite-space: nowrap;\n\twidth: 14em;\n}\n.ui-selectmenu-icon.ui-icon {\n\tfloat: right;\n\tmargin-top: 0;\n}\n.ui-slider {\n\tposition: relative;\n\ttext-align: left;\n}\n.ui-slider .ui-slider-handle {\n\tposition: absolute;\n\tz-index: 2;\n\twidth: 1.2em;\n\theight: 1.2em;\n\tcursor: default;\n\ttouch-action: none;\n}\n.ui-slider .ui-slider-range {\n\tposition: absolute;\n\tz-index: 1;\n\tfont-size: .7em;\n\tdisplay: block;\n\tborder: 0;\n\tbackground-position: 0 0;\n}\n/* support: IE8 - See #6727 */\n.ui-slider.ui-state-disabled .ui-slider-handle,\n.ui-slider.ui-state-disabled .ui-slider-range {\n\tfilter: inherit;\n}\n.ui-slider-horizontal {\n\theight: .8em;\n}\n.ui-slider-horizontal .ui-slider-handle {\n\ttop: -.3em;\n\tmargin-left: -.6em;\n}\n.ui-slider-horizontal .ui-slider-range {\n\ttop: 0;\n\theight: 100%;\n}\n.ui-slider-horizontal .ui-slider-range-min {\n\tleft: 0;\n}\n.ui-slider-horizontal .ui-slider-range-max {\n\tright: 0;\n}\n.ui-slider-vertical {\n\twidth: .8em;\n\theight: 100px;\n}\n.ui-slider-vertical .ui-slider-handle {\n\tleft: -.3em;\n\tmargin-left: 0;\n\tmargin-bottom: -.6em;\n}\n.ui-slider-vertical .ui-slider-range {\n\tleft: 0;\n\twidth: 100%;\n}\n.ui-slider-vertical .ui-slider-range-min {\n\tbottom: 0;\n}\n.ui-slider-vertical .ui-slider-range-max {\n\ttop: 0;\n}\n.ui-spinner {\n\tposition: relative;\n\tdisplay: inline-block;\n\toverflow: hidden;\n\tpadding: 0;\n\tvertical-align: middle;\n}\n.ui-spinner-input {\n\tborder: none;\n\tbackground: none;\n\tcolor: inherit;\n\tpadding: .222em 0;\n\tmargin: .2em 0;\n\tvertical-align: middle;\n\tmargin-left: .4em;\n\tmargin-right: 2em;\n}\n.ui-spinner-button {\n\twidth: 1.6em;\n\theight: 50%;\n\tfont-size: .5em;\n\tpadding: 0;\n\tmargin: 0;\n\ttext-align: center;\n\tposition: absolute;\n\tcursor: default;\n\tdisplay: block;\n\toverflow: hidden;\n\tright: 0;\n}\n/* more specificity required here to override default borders */\n.ui-spinner a.ui-spinner-button {\n\tborder-top-style: none;\n\tborder-bottom-style: none;\n\tborder-right-style: none;\n}\n.ui-spinner-up {\n\ttop: 0;\n}\n.ui-spinner-down {\n\tbottom: 0;\n}\n.ui-tabs {\n\tposition: relative;/* position: relative prevents IE scroll bug (element with position: relative inside container with overflow: auto appear as "fixed") */\n\tpadding: .2em;\n}\n.ui-tabs .ui-tabs-nav {\n\tmargin: 0;\n\tpadding: .2em .2em 0;\n}\n.ui-tabs .ui-tabs-nav li {\n\tlist-style: none;\n\tfloat: left;\n\tposition: relative;\n\ttop: 0;\n\tmargin: 1px .2em 0 0;\n\tborder-bottom-width: 0;\n\tpadding: 0;\n\twhite-space: nowrap;\n}\n.ui-tabs .ui-tabs-nav .ui-tabs-anchor {\n\tfloat: left;\n\tpadding: .5em 1em;\n\ttext-decoration: none;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active {\n\tmargin-bottom: -1px;\n\tpadding-bottom: 1px;\n}\n.ui-tabs .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-state-disabled .ui-tabs-anchor,\n.ui-tabs .ui-tabs-nav li.ui-tabs-loading .ui-tabs-anchor {\n\tcursor: text;\n}\n.ui-tabs-collapsible .ui-tabs-nav li.ui-tabs-active .ui-tabs-anchor {\n\tcursor: pointer;\n}\n.ui-tabs .ui-tabs-panel {\n\tdisplay: block;\n\tborder-width: 0;\n\tpadding: 1em 1.4em;\n\tbackground: none;\n}\n.ui-tooltip {\n\tpadding: 8px;\n\tposition: absolute;\n\tz-index: 9999;\n\tmax-width: 300px;\n}\nbody .ui-tooltip {\n\tborder-width: 2px;\n}\n'},771:function(t){"use strict";t.exports="/*!\n * jQuery UI CSS Framework 1.12.1\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/theming/\n *\n * To view and modify this theme, visit http://jqueryui.com/themeroller/?scope=&folderName=base&cornerRadiusShadow=8px&offsetLeftShadow=0px&offsetTopShadow=0px&thicknessShadow=5px&opacityShadow=30&bgImgOpacityShadow=0&bgTextureShadow=flat&bgColorShadow=666666&opacityOverlay=30&bgImgOpacityOverlay=0&bgTextureOverlay=flat&bgColorOverlay=aaaaaa&iconColorError=cc0000&fcError=5f3f3f&borderColorError=f1a899&bgTextureError=flat&bgColorError=fddfdf&iconColorHighlight=777620&fcHighlight=777620&borderColorHighlight=dad55e&bgTextureHighlight=flat&bgColorHighlight=fffa90&iconColorActive=ffffff&fcActive=ffffff&borderColorActive=003eff&bgTextureActive=flat&bgColorActive=007fff&iconColorHover=555555&fcHover=2b2b2b&borderColorHover=cccccc&bgTextureHover=flat&bgColorHover=ededed&iconColorDefault=777777&fcDefault=454545&borderColorDefault=c5c5c5&bgTextureDefault=flat&bgColorDefault=f6f6f6&iconColorContent=444444&fcContent=333333&borderColorContent=dddddd&bgTextureContent=flat&bgColorContent=ffffff&iconColorHeader=444444&fcHeader=333333&borderColorHeader=dddddd&bgTextureHeader=flat&bgColorHeader=e9e9e9&cornerRadius=3px&fwDefault=normal&fsDefault=1em&ffDefault=Arial%2CHelvetica%2Csans-serif\n */\n\n\n/* Component containers\n----------------------------------*/\n\n\n.ui-widget {\n\tfont-family: Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n}\n\n\n.ui-widget .ui-widget {\n\tfont-size: 1em;\n}\n\n\n.ui-widget input,\n.ui-widget select,\n.ui-widget textarea,\n.ui-widget button {\n\tfont-family: Arial,Helvetica,sans-serif;\n\tfont-size: 1em;\n}\n\n\n.ui-widget.ui-widget-content {\n\tborder: 1px solid #c5c5c5;\n}\n\n\n.ui-widget-content {\n\tborder: 1px solid #dddddd;\n\tbackground: #ffffff;\n\tcolor: #333333;\n}\n\n\n.ui-widget-content a {\n\tcolor: #333333;\n}\n\n\n.ui-widget-header {\n\tborder: 1px solid #dddddd;\n\tbackground: #e9e9e9;\n\tcolor: #333333;\n\tfont-weight: bold;\n}\n\n\n.ui-widget-header a {\n\tcolor: #333333;\n}\n\n\n/* Interaction states\n----------------------------------*/\n\n\n.ui-state-default,\n.ui-widget-content .ui-state-default,\n.ui-widget-header .ui-state-default,\n.ui-button,\n\n/* We use html here because we need a greater specificity to make sure disabled\nworks properly when clicked or hovered */\nhtml .ui-button.ui-state-disabled:hover,\nhtml .ui-button.ui-state-disabled:active {\n\tborder: 1px solid #c5c5c5;\n\tbackground: #f6f6f6;\n\tfont-weight: normal;\n\tcolor: #454545;\n}\n\n\n.ui-state-default a,\n.ui-state-default a:link,\n.ui-state-default a:visited,\na.ui-button,\na:link.ui-button,\na:visited.ui-button,\n.ui-button {\n\tcolor: #454545;\n\ttext-decoration: none;\n}\n\n\n.ui-state-hover,\n.ui-widget-content .ui-state-hover,\n.ui-widget-header .ui-state-hover,\n.ui-state-focus,\n.ui-widget-content .ui-state-focus,\n.ui-widget-header .ui-state-focus,\n.ui-button:hover,\n.ui-button:focus {\n\tborder: 1px solid #cccccc;\n\tbackground: #ededed;\n\tfont-weight: normal;\n\tcolor: #2b2b2b;\n}\n\n\n.ui-state-hover a,\n.ui-state-hover a:hover,\n.ui-state-hover a:link,\n.ui-state-hover a:visited,\n.ui-state-focus a,\n.ui-state-focus a:hover,\n.ui-state-focus a:link,\n.ui-state-focus a:visited,\na.ui-button:hover,\na.ui-button:focus {\n\tcolor: #2b2b2b;\n\ttext-decoration: none;\n}\n\n\n.ui-visual-focus {\n\tbox-shadow: 0 0 3px 1px rgb(94, 158, 214);\n}\n\n\n.ui-state-active,\n.ui-widget-content .ui-state-active,\n.ui-widget-header .ui-state-active,\na.ui-button:active,\n.ui-button:active,\n.ui-button.ui-state-active:hover {\n\tborder: 1px solid #003eff;\n\tbackground: #007fff;\n\tfont-weight: normal;\n\tcolor: #ffffff;\n}\n\n\n.ui-icon-background,\n.ui-state-active .ui-icon-background {\n\tborder: #003eff;\n\tbackground-color: #ffffff;\n}\n\n\n.ui-state-active a,\n.ui-state-active a:link,\n.ui-state-active a:visited {\n\tcolor: #ffffff;\n\ttext-decoration: none;\n}\n\n\n/* Interaction Cues\n----------------------------------*/\n\n\n.ui-state-highlight,\n.ui-widget-content .ui-state-highlight,\n.ui-widget-header .ui-state-highlight {\n\tborder: 1px solid #dad55e;\n\tbackground: #fffa90;\n\tcolor: #777620;\n}\n\n\n.ui-state-checked {\n\tborder: 1px solid #dad55e;\n\tbackground: #fffa90;\n}\n\n\n.ui-state-highlight a,\n.ui-widget-content .ui-state-highlight a,\n.ui-widget-header .ui-state-highlight a {\n\tcolor: #777620;\n}\n\n\n.ui-state-error,\n.ui-widget-content .ui-state-error,\n.ui-widget-header .ui-state-error {\n\tborder: 1px solid #f1a899;\n\tbackground: #fddfdf;\n\tcolor: #5f3f3f;\n}\n\n\n.ui-state-error a,\n.ui-widget-content .ui-state-error a,\n.ui-widget-header .ui-state-error a {\n\tcolor: #5f3f3f;\n}\n\n\n.ui-state-error-text,\n.ui-widget-content .ui-state-error-text,\n.ui-widget-header .ui-state-error-text {\n\tcolor: #5f3f3f;\n}\n\n\n.ui-priority-primary,\n.ui-widget-content .ui-priority-primary,\n.ui-widget-header .ui-priority-primary {\n\tfont-weight: bold;\n}\n\n\n.ui-priority-secondary,\n.ui-widget-content .ui-priority-secondary,\n.ui-widget-header .ui-priority-secondary {\n\topacity: .7;\n\tfilter:Alpha(Opacity=70); /* support: IE8 */\n\tfont-weight: normal;\n}\n\n\n.ui-state-disabled,\n.ui-widget-content .ui-state-disabled,\n.ui-widget-header .ui-state-disabled {\n\topacity: .35;\n\tfilter:Alpha(Opacity=35); /* support: IE8 */\n\tbackground-image: none;\n}\n\n\n.ui-state-disabled .ui-icon {\n\tfilter:Alpha(Opacity=35); /* support: IE8 - See #6059 */\n}\n\n\n/* Icons\n----------------------------------*/\n\n\n/* states and images */\n\n\n.ui-icon {\n\twidth: 16px;\n\theight: 16px;\n}\n\n\n.ui-icon,\n.ui-widget-content .ui-icon {\n\tbackground-image: url('ui-icons_444444_256x240.3580b1faf02c1cd7994c.png');\n}\n\n\n.ui-widget-header .ui-icon {\n\tbackground-image: url('ui-icons_444444_256x240.3580b1faf02c1cd7994c.png');\n}\n\n\n.ui-state-hover .ui-icon,\n.ui-state-focus .ui-icon,\n.ui-button:hover .ui-icon,\n.ui-button:focus .ui-icon {\n\tbackground-image: url('ui-icons_555555_256x240.c58c5719d8be44d69fc2.png');\n}\n\n\n.ui-state-active .ui-icon,\n.ui-button:active .ui-icon {\n\tbackground-image: url('ui-icons_ffffff_256x240.df59c902592bb5f10f8b.png');\n}\n\n\n.ui-state-highlight .ui-icon,\n.ui-button .ui-state-highlight.ui-icon {\n\tbackground-image: url('ui-icons_777620_256x240.e73f5131bb90fcc736a6.png');\n}\n\n\n.ui-state-error .ui-icon,\n.ui-state-error-text .ui-icon {\n\tbackground-image: url('ui-icons_cc0000_256x240.bb549ea947a7a69e5c0c.png');\n}\n\n\n.ui-button .ui-icon {\n\tbackground-image: url('ui-icons_777777_256x240.f0ad30c87d846b34a0a6.png');\n}\n\n\n/* positioning */\n\n\n.ui-icon-blank { background-position: 16px 16px; }\n\n\n.ui-icon-caret-1-n { background-position: 0 0; }\n\n\n.ui-icon-caret-1-ne { background-position: -16px 0; }\n\n\n.ui-icon-caret-1-e { background-position: -32px 0; }\n\n\n.ui-icon-caret-1-se { background-position: -48px 0; }\n\n\n.ui-icon-caret-1-s { background-position: -65px 0; }\n\n\n.ui-icon-caret-1-sw { background-position: -80px 0; }\n\n\n.ui-icon-caret-1-w { background-position: -96px 0; }\n\n\n.ui-icon-caret-1-nw { background-position: -112px 0; }\n\n\n.ui-icon-caret-2-n-s { background-position: -128px 0; }\n\n\n.ui-icon-caret-2-e-w { background-position: -144px 0; }\n\n\n.ui-icon-triangle-1-n { background-position: 0 -16px; }\n\n\n.ui-icon-triangle-1-ne { background-position: -16px -16px; }\n\n\n.ui-icon-triangle-1-e { background-position: -32px -16px; }\n\n\n.ui-icon-triangle-1-se { background-position: -48px -16px; }\n\n\n.ui-icon-triangle-1-s { background-position: -65px -16px; }\n\n\n.ui-icon-triangle-1-sw { background-position: -80px -16px; }\n\n\n.ui-icon-triangle-1-w { background-position: -96px -16px; }\n\n\n.ui-icon-triangle-1-nw { background-position: -112px -16px; }\n\n\n.ui-icon-triangle-2-n-s { background-position: -128px -16px; }\n\n\n.ui-icon-triangle-2-e-w { background-position: -144px -16px; }\n\n\n.ui-icon-arrow-1-n { background-position: 0 -32px; }\n\n\n.ui-icon-arrow-1-ne { background-position: -16px -32px; }\n\n\n.ui-icon-arrow-1-e { background-position: -32px -32px; }\n\n\n.ui-icon-arrow-1-se { background-position: -48px -32px; }\n\n\n.ui-icon-arrow-1-s { background-position: -65px -32px; }\n\n\n.ui-icon-arrow-1-sw { background-position: -80px -32px; }\n\n\n.ui-icon-arrow-1-w { background-position: -96px -32px; }\n\n\n.ui-icon-arrow-1-nw { background-position: -112px -32px; }\n\n\n.ui-icon-arrow-2-n-s { background-position: -128px -32px; }\n\n\n.ui-icon-arrow-2-ne-sw { background-position: -144px -32px; }\n\n\n.ui-icon-arrow-2-e-w { background-position: -160px -32px; }\n\n\n.ui-icon-arrow-2-se-nw { background-position: -176px -32px; }\n\n\n.ui-icon-arrowstop-1-n { background-position: -192px -32px; }\n\n\n.ui-icon-arrowstop-1-e { background-position: -208px -32px; }\n\n\n.ui-icon-arrowstop-1-s { background-position: -224px -32px; }\n\n\n.ui-icon-arrowstop-1-w { background-position: -240px -32px; }\n\n\n.ui-icon-arrowthick-1-n { background-position: 1px -48px; }\n\n\n.ui-icon-arrowthick-1-ne { background-position: -16px -48px; }\n\n\n.ui-icon-arrowthick-1-e { background-position: -32px -48px; }\n\n\n.ui-icon-arrowthick-1-se { background-position: -48px -48px; }\n\n\n.ui-icon-arrowthick-1-s { background-position: -64px -48px; }\n\n\n.ui-icon-arrowthick-1-sw { background-position: -80px -48px; }\n\n\n.ui-icon-arrowthick-1-w { background-position: -96px -48px; }\n\n\n.ui-icon-arrowthick-1-nw { background-position: -112px -48px; }\n\n\n.ui-icon-arrowthick-2-n-s { background-position: -128px -48px; }\n\n\n.ui-icon-arrowthick-2-ne-sw { background-position: -144px -48px; }\n\n\n.ui-icon-arrowthick-2-e-w { background-position: -160px -48px; }\n\n\n.ui-icon-arrowthick-2-se-nw { background-position: -176px -48px; }\n\n\n.ui-icon-arrowthickstop-1-n { background-position: -192px -48px; }\n\n\n.ui-icon-arrowthickstop-1-e { background-position: -208px -48px; }\n\n\n.ui-icon-arrowthickstop-1-s { background-position: -224px -48px; }\n\n\n.ui-icon-arrowthickstop-1-w { background-position: -240px -48px; }\n\n\n.ui-icon-arrowreturnthick-1-w { background-position: 0 -64px; }\n\n\n.ui-icon-arrowreturnthick-1-n { background-position: -16px -64px; }\n\n\n.ui-icon-arrowreturnthick-1-e { background-position: -32px -64px; }\n\n\n.ui-icon-arrowreturnthick-1-s { background-position: -48px -64px; }\n\n\n.ui-icon-arrowreturn-1-w { background-position: -64px -64px; }\n\n\n.ui-icon-arrowreturn-1-n { background-position: -80px -64px; }\n\n\n.ui-icon-arrowreturn-1-e { background-position: -96px -64px; }\n\n\n.ui-icon-arrowreturn-1-s { background-position: -112px -64px; }\n\n\n.ui-icon-arrowrefresh-1-w { background-position: -128px -64px; }\n\n\n.ui-icon-arrowrefresh-1-n { background-position: -144px -64px; }\n\n\n.ui-icon-arrowrefresh-1-e { background-position: -160px -64px; }\n\n\n.ui-icon-arrowrefresh-1-s { background-position: -176px -64px; }\n\n\n.ui-icon-arrow-4 { background-position: 0 -80px; }\n\n\n.ui-icon-arrow-4-diag { background-position: -16px -80px; }\n\n\n.ui-icon-extlink { background-position: -32px -80px; }\n\n\n.ui-icon-newwin { background-position: -48px -80px; }\n\n\n.ui-icon-refresh { background-position: -64px -80px; }\n\n\n.ui-icon-shuffle { background-position: -80px -80px; }\n\n\n.ui-icon-transfer-e-w { background-position: -96px -80px; }\n\n\n.ui-icon-transferthick-e-w { background-position: -112px -80px; }\n\n\n.ui-icon-folder-collapsed { background-position: 0 -96px; }\n\n\n.ui-icon-folder-open { background-position: -16px -96px; }\n\n\n.ui-icon-document { background-position: -32px -96px; }\n\n\n.ui-icon-document-b { background-position: -48px -96px; }\n\n\n.ui-icon-note { background-position: -64px -96px; }\n\n\n.ui-icon-mail-closed { background-position: -80px -96px; }\n\n\n.ui-icon-mail-open { background-position: -96px -96px; }\n\n\n.ui-icon-suitcase { background-position: -112px -96px; }\n\n\n.ui-icon-comment { background-position: -128px -96px; }\n\n\n.ui-icon-person { background-position: -144px -96px; }\n\n\n.ui-icon-print { background-position: -160px -96px; }\n\n\n.ui-icon-trash { background-position: -176px -96px; }\n\n\n.ui-icon-locked { background-position: -192px -96px; }\n\n\n.ui-icon-unlocked { background-position: -208px -96px; }\n\n\n.ui-icon-bookmark { background-position: -224px -96px; }\n\n\n.ui-icon-tag { background-position: -240px -96px; }\n\n\n.ui-icon-home { background-position: 0 -112px; }\n\n\n.ui-icon-flag { background-position: -16px -112px; }\n\n\n.ui-icon-calendar { background-position: -32px -112px; }\n\n\n.ui-icon-cart { background-position: -48px -112px; }\n\n\n.ui-icon-pencil { background-position: -64px -112px; }\n\n\n.ui-icon-clock { background-position: -80px -112px; }\n\n\n.ui-icon-disk { background-position: -96px -112px; }\n\n\n.ui-icon-calculator { background-position: -112px -112px; }\n\n\n.ui-icon-zoomin { background-position: -128px -112px; }\n\n\n.ui-icon-zoomout { background-position: -144px -112px; }\n\n\n.ui-icon-search { background-position: -160px -112px; }\n\n\n.ui-icon-wrench { background-position: -176px -112px; }\n\n\n.ui-icon-gear { background-position: -192px -112px; }\n\n\n.ui-icon-heart { background-position: -208px -112px; }\n\n\n.ui-icon-star { background-position: -224px -112px; }\n\n\n.ui-icon-link { background-position: -240px -112px; }\n\n\n.ui-icon-cancel { background-position: 0 -128px; }\n\n\n.ui-icon-plus { background-position: -16px -128px; }\n\n\n.ui-icon-plusthick { background-position: -32px -128px; }\n\n\n.ui-icon-minus { background-position: -48px -128px; }\n\n\n.ui-icon-minusthick { background-position: -64px -128px; }\n\n\n.ui-icon-close { background-position: -80px -128px; }\n\n\n.ui-icon-closethick { background-position: -96px -128px; }\n\n\n.ui-icon-key { background-position: -112px -128px; }\n\n\n.ui-icon-lightbulb { background-position: -128px -128px; }\n\n\n.ui-icon-scissors { background-position: -144px -128px; }\n\n\n.ui-icon-clipboard { background-position: -160px -128px; }\n\n\n.ui-icon-copy { background-position: -176px -128px; }\n\n\n.ui-icon-contact { background-position: -192px -128px; }\n\n\n.ui-icon-image { background-position: -208px -128px; }\n\n\n.ui-icon-video { background-position: -224px -128px; }\n\n\n.ui-icon-script { background-position: -240px -128px; }\n\n\n.ui-icon-alert { background-position: 0 -144px; }\n\n\n.ui-icon-info { background-position: -16px -144px; }\n\n\n.ui-icon-notice { background-position: -32px -144px; }\n\n\n.ui-icon-help { background-position: -48px -144px; }\n\n\n.ui-icon-check { background-position: -64px -144px; }\n\n\n.ui-icon-bullet { background-position: -80px -144px; }\n\n\n.ui-icon-radio-on { background-position: -96px -144px; }\n\n\n.ui-icon-radio-off { background-position: -112px -144px; }\n\n\n.ui-icon-pin-w { background-position: -128px -144px; }\n\n\n.ui-icon-pin-s { background-position: -144px -144px; }\n\n\n.ui-icon-play { background-position: 0 -160px; }\n\n\n.ui-icon-pause { background-position: -16px -160px; }\n\n\n.ui-icon-seek-next { background-position: -32px -160px; }\n\n\n.ui-icon-seek-prev { background-position: -48px -160px; }\n\n\n.ui-icon-seek-end { background-position: -64px -160px; }\n\n\n.ui-icon-seek-start { background-position: -80px -160px; }\n\n\n/* ui-icon-seek-first is deprecated, use ui-icon-seek-start instead */\n\n\n.ui-icon-seek-first { background-position: -80px -160px; }\n\n\n.ui-icon-stop { background-position: -96px -160px; }\n\n\n.ui-icon-eject { background-position: -112px -160px; }\n\n\n.ui-icon-volume-off { background-position: -128px -160px; }\n\n\n.ui-icon-volume-on { background-position: -144px -160px; }\n\n\n.ui-icon-power { background-position: 0 -176px; }\n\n\n.ui-icon-signal-diag { background-position: -16px -176px; }\n\n\n.ui-icon-signal { background-position: -32px -176px; }\n\n\n.ui-icon-battery-0 { background-position: -48px -176px; }\n\n\n.ui-icon-battery-1 { background-position: -64px -176px; }\n\n\n.ui-icon-battery-2 { background-position: -80px -176px; }\n\n\n.ui-icon-battery-3 { background-position: -96px -176px; }\n\n\n.ui-icon-circle-plus { background-position: 0 -192px; }\n\n\n.ui-icon-circle-minus { background-position: -16px -192px; }\n\n\n.ui-icon-circle-close { background-position: -32px -192px; }\n\n\n.ui-icon-circle-triangle-e { background-position: -48px -192px; }\n\n\n.ui-icon-circle-triangle-s { background-position: -64px -192px; }\n\n\n.ui-icon-circle-triangle-w { background-position: -80px -192px; }\n\n\n.ui-icon-circle-triangle-n { background-position: -96px -192px; }\n\n\n.ui-icon-circle-arrow-e { background-position: -112px -192px; }\n\n\n.ui-icon-circle-arrow-s { background-position: -128px -192px; }\n\n\n.ui-icon-circle-arrow-w { background-position: -144px -192px; }\n\n\n.ui-icon-circle-arrow-n { background-position: -160px -192px; }\n\n\n.ui-icon-circle-zoomin { background-position: -176px -192px; }\n\n\n.ui-icon-circle-zoomout { background-position: -192px -192px; }\n\n\n.ui-icon-circle-check { background-position: -208px -192px; }\n\n\n.ui-icon-circlesmall-plus { background-position: 0 -208px; }\n\n\n.ui-icon-circlesmall-minus { background-position: -16px -208px; }\n\n\n.ui-icon-circlesmall-close { background-position: -32px -208px; }\n\n\n.ui-icon-squaresmall-plus { background-position: -48px -208px; }\n\n\n.ui-icon-squaresmall-minus { background-position: -64px -208px; }\n\n\n.ui-icon-squaresmall-close { background-position: -80px -208px; }\n\n\n.ui-icon-grip-dotted-vertical { background-position: 0 -224px; }\n\n\n.ui-icon-grip-dotted-horizontal { background-position: -16px -224px; }\n\n\n.ui-icon-grip-solid-vertical { background-position: -32px -224px; }\n\n\n.ui-icon-grip-solid-horizontal { background-position: -48px -224px; }\n\n\n.ui-icon-gripsmall-diagonal-se { background-position: -64px -224px; }\n\n\n.ui-icon-grip-diagonal-se { background-position: -80px -224px; }\n\n\n/* Misc visuals\n----------------------------------*/\n\n\n/* Corner radius */\n\n\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-left,\n.ui-corner-tl {\n\tborder-top-left-radius: 3px;\n}\n\n\n.ui-corner-all,\n.ui-corner-top,\n.ui-corner-right,\n.ui-corner-tr {\n\tborder-top-right-radius: 3px;\n}\n\n\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-left,\n.ui-corner-bl {\n\tborder-bottom-left-radius: 3px;\n}\n\n\n.ui-corner-all,\n.ui-corner-bottom,\n.ui-corner-right,\n.ui-corner-br {\n\tborder-bottom-right-radius: 3px;\n}\n\n\n/* Overlays */\n\n\n.ui-widget-overlay {\n\tbackground: #aaaaaa;\n\topacity: .3;\n\tfilter: Alpha(Opacity=30); /* support: IE8 */\n}\n\n\n.ui-widget-shadow {\n\tbox-shadow: 0px 0px 5px #666666;\n}\n"},8239:function(t,e,n){"use strict";function i(t,e,n,i,r,a,o){try{var s=t[a](o),l=s.value}catch(u){return void n(u)}s.done?e(l):Promise.resolve(l).then(i,r)}function r(t){return function(){var e=this,n=arguments;return new Promise(function(r,a){var o=t.apply(e,n);function s(t){i(o,r,a,s,l,"next",t)}function l(t){i(o,r,a,s,l,"throw",t)}s(void 0)})}}n.d(e,{Z:function(){return r}})}},function(t){t(t.s=2858)}])})();